"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@kinde";
exports.ids = ["vendor-chunks/@kinde"];
exports.modules = {

/***/ "(rsc)/./node_modules/@kinde/jwt-decoder/dist/jwt-decoder.js":
/*!*************************************************************!*\
  !*** ./node_modules/@kinde/jwt-decoder/dist/jwt-decoder.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TokenPart: () => (/* binding */ s),\n/* harmony export */   jwtDecoder: () => (/* binding */ c)\n/* harmony export */ });\nvar s = /* @__PURE__ */ ((e) => (e[e.header = 0] = \"header\", e[e.body = 1] = \"body\", e))(s || {});\nfunction c(e, t) {\n  if (!e)\n    return null;\n  const r = e.split(\".\");\n  if (r.length !== 3)\n    return null;\n  const n = r[\n    t ?? 1\n    /* body */\n  ].replace(/-/g, \"+\").replace(/_/g, \"/\"), o = decodeURIComponent(\n    atob(n).split(\"\").map((l) => \"%\" + (\"00\" + l.charCodeAt(0).toString(16)).slice(-2)).join(\"\")\n  );\n  return JSON.parse(o);\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGtpbmRlL2p3dC1kZWNvZGVyL2Rpc3Qvand0LWRlY29kZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxnR0FBZ0c7QUFDaEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVzdW1lLWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvQGtpbmRlL2p3dC1kZWNvZGVyL2Rpc3Qvand0LWRlY29kZXIuanM/NTQ1OCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcyA9IC8qIEBfX1BVUkVfXyAqLyAoKGUpID0+IChlW2UuaGVhZGVyID0gMF0gPSBcImhlYWRlclwiLCBlW2UuYm9keSA9IDFdID0gXCJib2R5XCIsIGUpKShzIHx8IHt9KTtcbmZ1bmN0aW9uIGMoZSwgdCkge1xuICBpZiAoIWUpXG4gICAgcmV0dXJuIG51bGw7XG4gIGNvbnN0IHIgPSBlLnNwbGl0KFwiLlwiKTtcbiAgaWYgKHIubGVuZ3RoICE9PSAzKVxuICAgIHJldHVybiBudWxsO1xuICBjb25zdCBuID0gcltcbiAgICB0ID8/IDFcbiAgICAvKiBib2R5ICovXG4gIF0ucmVwbGFjZSgvLS9nLCBcIitcIikucmVwbGFjZSgvXy9nLCBcIi9cIiksIG8gPSBkZWNvZGVVUklDb21wb25lbnQoXG4gICAgYXRvYihuKS5zcGxpdChcIlwiKS5tYXAoKGwpID0+IFwiJVwiICsgKFwiMDBcIiArIGwuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikpLnNsaWNlKC0yKSkuam9pbihcIlwiKVxuICApO1xuICByZXR1cm4gSlNPTi5wYXJzZShvKTtcbn1cbmV4cG9ydCB7XG4gIHMgYXMgVG9rZW5QYXJ0LFxuICBjIGFzIGp3dERlY29kZXJcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@kinde/jwt-decoder/dist/jwt-decoder.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@kinde/jwt-validator/dist/jsrsasign-B2gZIJhY.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@kinde/jwt-validator/dist/jsrsasign-B2gZIJhY.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   j: () => (/* binding */ An)\n/* harmony export */ });\nvar Ue = {};\nUe.userAgent = !1;\nvar Ve = {};\n/*! CryptoJS v3.1.2 core-fix.js\n * code.google.com/p/crypto-js\n * (c) 2009-2013 by Jeff Mott. All rights reserved.\n * code.google.com/p/crypto-js/wiki/License\n * THIS IS FIX of 'core.js' to fix Hmac issue.\n * https://code.google.com/p/crypto-js/issues/detail?id=84\n * https://crypto-js.googlecode.com/svn-history/r667/branches/3.x/src/core.js\n */\nvar K = K || function(e, t) {\n  var r = {}, i = r.lib = {}, s = i.Base = /* @__PURE__ */ function() {\n    function o() {\n    }\n    return { extend: function(l) {\n      o.prototype = this;\n      var f = new o();\n      return l && f.mixIn(l), f.hasOwnProperty(\"init\") || (f.init = function() {\n        f.$super.init.apply(this, arguments);\n      }), f.init.prototype = f, f.$super = this, f;\n    }, create: function() {\n      var l = this.extend();\n      return l.init.apply(l, arguments), l;\n    }, init: function() {\n    }, mixIn: function(l) {\n      for (var f in l)\n        l.hasOwnProperty(f) && (this[f] = l[f]);\n      l.hasOwnProperty(\"toString\") && (this.toString = l.toString);\n    }, clone: function() {\n      return this.init.prototype.extend(this);\n    } };\n  }(), n = i.WordArray = s.extend({ init: function(o, l) {\n    o = this.words = o || [], l != t ? this.sigBytes = l : this.sigBytes = o.length * 4;\n  }, toString: function(o) {\n    return (o || u).stringify(this);\n  }, concat: function(o) {\n    var l = this.words, f = o.words, d = this.sigBytes, g = o.sigBytes;\n    if (this.clamp(), d % 4)\n      for (var S = 0; S < g; S++) {\n        var b = f[S >>> 2] >>> 24 - S % 4 * 8 & 255;\n        l[d + S >>> 2] |= b << 24 - (d + S) % 4 * 8;\n      }\n    else\n      for (var S = 0; S < g; S += 4)\n        l[d + S >>> 2] = f[S >>> 2];\n    return this.sigBytes += g, this;\n  }, clamp: function() {\n    var o = this.words, l = this.sigBytes;\n    o[l >>> 2] &= 4294967295 << 32 - l % 4 * 8, o.length = e.ceil(l / 4);\n  }, clone: function() {\n    var o = s.clone.call(this);\n    return o.words = this.words.slice(0), o;\n  }, random: function(o) {\n    for (var l = [], f = 0; f < o; f += 4)\n      l.push(e.random() * 4294967296 | 0);\n    return new n.init(l, o);\n  } }), h = r.enc = {}, u = h.Hex = { stringify: function(o) {\n    for (var l = o.words, f = o.sigBytes, d = [], g = 0; g < f; g++) {\n      var S = l[g >>> 2] >>> 24 - g % 4 * 8 & 255;\n      d.push((S >>> 4).toString(16)), d.push((S & 15).toString(16));\n    }\n    return d.join(\"\");\n  }, parse: function(o) {\n    for (var l = o.length, f = [], d = 0; d < l; d += 2)\n      f[d >>> 3] |= parseInt(o.substr(d, 2), 16) << 24 - d % 8 * 4;\n    return new n.init(f, l / 2);\n  } }, p = h.Latin1 = { stringify: function(o) {\n    for (var l = o.words, f = o.sigBytes, d = [], g = 0; g < f; g++) {\n      var S = l[g >>> 2] >>> 24 - g % 4 * 8 & 255;\n      d.push(String.fromCharCode(S));\n    }\n    return d.join(\"\");\n  }, parse: function(o) {\n    for (var l = o.length, f = [], d = 0; d < l; d++)\n      f[d >>> 2] |= (o.charCodeAt(d) & 255) << 24 - d % 4 * 8;\n    return new n.init(f, l);\n  } }, c = h.Utf8 = { stringify: function(o) {\n    try {\n      return decodeURIComponent(escape(p.stringify(o)));\n    } catch {\n      throw new Error(\"Malformed UTF-8 data\");\n    }\n  }, parse: function(o) {\n    return p.parse(unescape(encodeURIComponent(o)));\n  } }, y = i.BufferedBlockAlgorithm = s.extend({ reset: function() {\n    this._data = new n.init(), this._nDataBytes = 0;\n  }, _append: function(o) {\n    typeof o == \"string\" && (o = c.parse(o)), this._data.concat(o), this._nDataBytes += o.sigBytes;\n  }, _process: function(o) {\n    var l = this._data, f = l.words, d = l.sigBytes, g = this.blockSize, S = g * 4, b = d / S;\n    o ? b = e.ceil(b) : b = e.max((b | 0) - this._minBufferSize, 0);\n    var D = b * g, A = e.min(D * 4, d);\n    if (D) {\n      for (var I = 0; I < D; I += g)\n        this._doProcessBlock(f, I);\n      var m = f.splice(0, D);\n      l.sigBytes -= A;\n    }\n    return new n.init(m, A);\n  }, clone: function() {\n    var o = s.clone.call(this);\n    return o._data = this._data.clone(), o;\n  }, _minBufferSize: 0 });\n  i.Hasher = y.extend({ cfg: s.extend(), init: function(o) {\n    this.cfg = this.cfg.extend(o), this.reset();\n  }, reset: function() {\n    y.reset.call(this), this._doReset();\n  }, update: function(o) {\n    return this._append(o), this._process(), this;\n  }, finalize: function(o) {\n    o && this._append(o);\n    var l = this._doFinalize();\n    return l;\n  }, blockSize: 512 / 32, _createHelper: function(o) {\n    return function(l, f) {\n      return new o.init(f).finalize(l);\n    };\n  }, _createHmacHelper: function(o) {\n    return function(l, f) {\n      return new v.HMAC.init(o, f).finalize(l);\n    };\n  } });\n  var v = r.algo = {};\n  return r;\n}(Math);\n(function(e) {\n  var s = K, t = s.lib, r = t.Base, i = t.WordArray, s = s.x64 = {};\n  s.Word = r.extend({ init: function(n, h) {\n    this.high = n, this.low = h;\n  } }), s.WordArray = r.extend({ init: function(n, h) {\n    n = this.words = n || [], this.sigBytes = h != e ? h : 8 * n.length;\n  }, toX32: function() {\n    for (var n = this.words, h = n.length, u = [], p = 0; p < h; p++) {\n      var c = n[p];\n      u.push(c.high), u.push(c.low);\n    }\n    return i.create(u, this.sigBytes);\n  }, clone: function() {\n    for (var n = r.clone.call(this), h = n.words = this.words.slice(0), u = h.length, p = 0; p < u; p++) h[p] = h[p].clone();\n    return n;\n  } });\n})();\nK.lib.Cipher || function(e) {\n  var l = K, t = l.lib, r = t.Base, i = t.WordArray, s = t.BufferedBlockAlgorithm, n = l.enc.Base64, h = l.algo.EvpKDF, u = t.Cipher = s.extend({ cfg: r.extend(), createEncryptor: function(d, g) {\n    return this.create(this._ENC_XFORM_MODE, d, g);\n  }, createDecryptor: function(d, g) {\n    return this.create(this._DEC_XFORM_MODE, d, g);\n  }, init: function(d, g, S) {\n    this.cfg = this.cfg.extend(S), this._xformMode = d, this._key = g, this.reset();\n  }, reset: function() {\n    s.reset.call(this), this._doReset();\n  }, process: function(d) {\n    return this._append(d), this._process();\n  }, finalize: function(d) {\n    return d && this._append(d), this._doFinalize();\n  }, keySize: 4, ivSize: 4, _ENC_XFORM_MODE: 1, _DEC_XFORM_MODE: 2, _createHelper: function(d) {\n    return { encrypt: function(g, S, b) {\n      return (typeof S == \"string\" ? f : o).encrypt(d, g, S, b);\n    }, decrypt: function(g, S, b) {\n      return (typeof S == \"string\" ? f : o).decrypt(d, g, S, b);\n    } };\n  } });\n  t.StreamCipher = u.extend({ _doFinalize: function() {\n    return this._process(!0);\n  }, blockSize: 1 });\n  var v = l.mode = {}, p = function(d, g, S) {\n    var b = this._iv;\n    b ? this._iv = e : b = this._prevBlock;\n    for (var D = 0; D < S; D++) d[g + D] ^= b[D];\n  }, c = (t.BlockCipherMode = r.extend({ createEncryptor: function(d, g) {\n    return this.Encryptor.create(d, g);\n  }, createDecryptor: function(d, g) {\n    return this.Decryptor.create(d, g);\n  }, init: function(d, g) {\n    this._cipher = d, this._iv = g;\n  } })).extend();\n  c.Encryptor = c.extend({ processBlock: function(d, g) {\n    var S = this._cipher, b = S.blockSize;\n    p.call(this, d, g, b), S.encryptBlock(d, g), this._prevBlock = d.slice(g, g + b);\n  } }), c.Decryptor = c.extend({ processBlock: function(d, g) {\n    var S = this._cipher, b = S.blockSize, D = d.slice(g, g + b);\n    S.decryptBlock(\n      d,\n      g\n    ), p.call(this, d, g, b), this._prevBlock = D;\n  } }), v = v.CBC = c, c = (l.pad = {}).Pkcs7 = { pad: function(d, g) {\n    for (var S = 4 * g, S = S - d.sigBytes % S, b = S << 24 | S << 16 | S << 8 | S, D = [], A = 0; A < S; A += 4) D.push(b);\n    S = i.create(D, S), d.concat(S);\n  }, unpad: function(d) {\n    d.sigBytes -= d.words[d.sigBytes - 1 >>> 2] & 255;\n  } }, t.BlockCipher = u.extend({ cfg: u.cfg.extend({ mode: v, padding: c }), reset: function() {\n    u.reset.call(this);\n    var g = this.cfg, d = g.iv, g = g.mode;\n    if (this._xformMode == this._ENC_XFORM_MODE) var S = g.createEncryptor;\n    else S = g.createDecryptor, this._minBufferSize = 1;\n    this._mode = S.call(g, this, d && d.words);\n  }, _doProcessBlock: function(d, g) {\n    this._mode.processBlock(d, g);\n  }, _doFinalize: function() {\n    var d = this.cfg.padding;\n    if (this._xformMode == this._ENC_XFORM_MODE) {\n      d.pad(this._data, this.blockSize);\n      var g = this._process(!0);\n    } else g = this._process(!0), d.unpad(g);\n    return g;\n  }, blockSize: 4 });\n  var y = t.CipherParams = r.extend({ init: function(d) {\n    this.mixIn(d);\n  }, toString: function(d) {\n    return (d || this.formatter).stringify(this);\n  } }), v = (l.format = {}).OpenSSL = { stringify: function(d) {\n    var g = d.ciphertext;\n    return d = d.salt, (d ? i.create([1398893684, 1701076831]).concat(d).concat(g) : g).toString(n);\n  }, parse: function(d) {\n    d = n.parse(d);\n    var g = d.words;\n    if (g[0] == 1398893684 && g[1] == 1701076831) {\n      var S = i.create(g.slice(2, 4));\n      g.splice(0, 4), d.sigBytes -= 16;\n    }\n    return y.create({ ciphertext: d, salt: S });\n  } }, o = t.SerializableCipher = r.extend({ cfg: r.extend({ format: v }), encrypt: function(d, g, S, b) {\n    b = this.cfg.extend(b);\n    var D = d.createEncryptor(S, b);\n    return g = D.finalize(g), D = D.cfg, y.create({\n      ciphertext: g,\n      key: S,\n      iv: D.iv,\n      algorithm: d,\n      mode: D.mode,\n      padding: D.padding,\n      blockSize: d.blockSize,\n      formatter: b.format\n    });\n  }, decrypt: function(d, g, S, b) {\n    return b = this.cfg.extend(b), g = this._parse(g, b.format), d.createDecryptor(S, b).finalize(g.ciphertext);\n  }, _parse: function(d, g) {\n    return typeof d == \"string\" ? g.parse(d, this) : d;\n  } }), l = (l.kdf = {}).OpenSSL = { execute: function(d, g, S, b) {\n    return b || (b = i.random(8)), d = h.create({ keySize: g + S }).compute(d, b), S = i.create(d.words.slice(g), 4 * S), d.sigBytes = 4 * g, y.create({ key: d, iv: S, salt: b });\n  } }, f = t.PasswordBasedCipher = o.extend({ cfg: o.cfg.extend({ kdf: l }), encrypt: function(d, g, S, b) {\n    return b = this.cfg.extend(b), S = b.kdf.execute(S, d.keySize, d.ivSize), b.iv = S.iv, d = o.encrypt.call(this, d, g, S.key, b), d.mixIn(S), d;\n  }, decrypt: function(d, g, S, b) {\n    return b = this.cfg.extend(b), g = this._parse(g, b.format), S = b.kdf.execute(S, d.keySize, d.ivSize, g.salt), b.iv = S.iv, o.decrypt.call(this, d, g, S.key, b);\n  } });\n}();\n(function() {\n  for (var e = K, t = e.lib.BlockCipher, m = e.algo, r = [], i = [], s = [], n = [], h = [], u = [], p = [], c = [], y = [], v = [], o = [], l = 0; 256 > l; l++) o[l] = 128 > l ? l << 1 : l << 1 ^ 283;\n  for (var f = 0, d = 0, l = 0; 256 > l; l++) {\n    var g = d ^ d << 1 ^ d << 2 ^ d << 3 ^ d << 4, g = g >>> 8 ^ g & 255 ^ 99;\n    r[f] = g, i[g] = f;\n    var S = o[f], b = o[S], D = o[b], A = 257 * o[g] ^ 16843008 * g;\n    s[f] = A << 24 | A >>> 8, n[f] = A << 16 | A >>> 16, h[f] = A << 8 | A >>> 24, u[f] = A, A = 16843009 * D ^ 65537 * b ^ 257 * S ^ 16843008 * f, p[g] = A << 24 | A >>> 8, c[g] = A << 16 | A >>> 16, y[g] = A << 8 | A >>> 24, v[g] = A, f ? (f = S ^ o[o[o[D ^ S]]], d ^= o[o[d]]) : f = d = 1;\n  }\n  var I = [\n    0,\n    1,\n    2,\n    4,\n    8,\n    16,\n    32,\n    64,\n    128,\n    27,\n    54\n  ], m = m.AES = t.extend({ _doReset: function() {\n    for (var x = this._key, E = x.words, w = x.sigBytes / 4, x = 4 * ((this._nRounds = w + 6) + 1), F = this._keySchedule = [], P = 0; P < x; P++) if (P < w) F[P] = E[P];\n    else {\n      var T = F[P - 1];\n      P % w ? 6 < w && P % w == 4 && (T = r[T >>> 24] << 24 | r[T >>> 16 & 255] << 16 | r[T >>> 8 & 255] << 8 | r[T & 255]) : (T = T << 8 | T >>> 24, T = r[T >>> 24] << 24 | r[T >>> 16 & 255] << 16 | r[T >>> 8 & 255] << 8 | r[T & 255], T ^= I[P / w | 0] << 24), F[P] = F[P - w] ^ T;\n    }\n    for (E = this._invKeySchedule = [], w = 0; w < x; w++) P = x - w, T = w % 4 ? F[P] : F[P - 4], E[w] = 4 > w || 4 >= P ? T : p[r[T >>> 24]] ^ c[r[T >>> 16 & 255]] ^ y[r[T >>> 8 & 255]] ^ v[r[T & 255]];\n  }, encryptBlock: function(E, w) {\n    this._doCryptBlock(E, w, this._keySchedule, s, n, h, u, r);\n  }, decryptBlock: function(E, w) {\n    var x = E[w + 1];\n    E[w + 1] = E[w + 3], E[w + 3] = x, this._doCryptBlock(E, w, this._invKeySchedule, p, c, y, v, i), x = E[w + 1], E[w + 1] = E[w + 3], E[w + 3] = x;\n  }, _doCryptBlock: function(E, w, x, F, P, T, H, C) {\n    for (var B = this._nRounds, ne = E[w] ^ x[0], he = E[w + 1] ^ x[1], se = E[w + 2] ^ x[2], re = E[w + 3] ^ x[3], O = 4, j = 1; j < B; j++) var fe = F[ne >>> 24] ^ P[he >>> 16 & 255] ^ T[se >>> 8 & 255] ^ H[re & 255] ^ x[O++], Z = F[he >>> 24] ^ P[se >>> 16 & 255] ^ T[re >>> 8 & 255] ^ H[ne & 255] ^ x[O++], X = F[se >>> 24] ^ P[re >>> 16 & 255] ^ T[ne >>> 8 & 255] ^ H[he & 255] ^ x[O++], re = F[re >>> 24] ^ P[ne >>> 16 & 255] ^ T[he >>> 8 & 255] ^ H[se & 255] ^ x[O++], ne = fe, he = Z, se = X;\n    fe = (C[ne >>> 24] << 24 | C[he >>> 16 & 255] << 16 | C[se >>> 8 & 255] << 8 | C[re & 255]) ^ x[O++], Z = (C[he >>> 24] << 24 | C[se >>> 16 & 255] << 16 | C[re >>> 8 & 255] << 8 | C[ne & 255]) ^ x[O++], X = (C[se >>> 24] << 24 | C[re >>> 16 & 255] << 16 | C[ne >>> 8 & 255] << 8 | C[he & 255]) ^ x[O++], re = (C[re >>> 24] << 24 | C[ne >>> 16 & 255] << 16 | C[he >>> 8 & 255] << 8 | C[se & 255]) ^ x[O++], E[w] = fe, E[w + 1] = Z, E[w + 2] = X, E[w + 3] = re;\n  }, keySize: 8 });\n  e.AES = t._createHelper(m);\n})();\n(function() {\n  function e(o, l) {\n    var f = (this._lBlock >>> o ^ this._rBlock) & l;\n    this._rBlock ^= f, this._lBlock ^= f << o;\n  }\n  function t(o, l) {\n    var f = (this._rBlock >>> o ^ this._lBlock) & l;\n    this._lBlock ^= f, this._rBlock ^= f << o;\n  }\n  var r = K, s = r.lib, i = s.WordArray, s = s.BlockCipher, n = r.algo, h = [57, 49, 41, 33, 25, 17, 9, 1, 58, 50, 42, 34, 26, 18, 10, 2, 59, 51, 43, 35, 27, 19, 11, 3, 60, 52, 44, 36, 63, 55, 47, 39, 31, 23, 15, 7, 62, 54, 46, 38, 30, 22, 14, 6, 61, 53, 45, 37, 29, 21, 13, 5, 28, 20, 12, 4], u = [\n    14,\n    17,\n    11,\n    24,\n    1,\n    5,\n    3,\n    28,\n    15,\n    6,\n    21,\n    10,\n    23,\n    19,\n    12,\n    4,\n    26,\n    8,\n    16,\n    7,\n    27,\n    20,\n    13,\n    2,\n    41,\n    52,\n    31,\n    37,\n    47,\n    55,\n    30,\n    40,\n    51,\n    45,\n    33,\n    48,\n    44,\n    49,\n    39,\n    56,\n    34,\n    53,\n    46,\n    42,\n    50,\n    36,\n    29,\n    32\n  ], p = [1, 2, 4, 6, 8, 10, 12, 14, 15, 17, 19, 21, 23, 25, 27, 28], c = [{\n    0: 8421888,\n    268435456: 32768,\n    536870912: 8421378,\n    805306368: 2,\n    1073741824: 512,\n    1342177280: 8421890,\n    1610612736: 8389122,\n    1879048192: 8388608,\n    2147483648: 514,\n    2415919104: 8389120,\n    2684354560: 33280,\n    2952790016: 8421376,\n    3221225472: 32770,\n    3489660928: 8388610,\n    3758096384: 0,\n    4026531840: 33282,\n    134217728: 0,\n    402653184: 8421890,\n    671088640: 33282,\n    939524096: 32768,\n    1207959552: 8421888,\n    1476395008: 512,\n    1744830464: 8421378,\n    2013265920: 2,\n    2281701376: 8389120,\n    2550136832: 33280,\n    2818572288: 8421376,\n    3087007744: 8389122,\n    3355443200: 8388610,\n    3623878656: 32770,\n    3892314112: 514,\n    4160749568: 8388608,\n    1: 32768,\n    268435457: 2,\n    536870913: 8421888,\n    805306369: 8388608,\n    1073741825: 8421378,\n    1342177281: 33280,\n    1610612737: 512,\n    1879048193: 8389122,\n    2147483649: 8421890,\n    2415919105: 8421376,\n    2684354561: 8388610,\n    2952790017: 33282,\n    3221225473: 514,\n    3489660929: 8389120,\n    3758096385: 32770,\n    4026531841: 0,\n    134217729: 8421890,\n    402653185: 8421376,\n    671088641: 8388608,\n    939524097: 512,\n    1207959553: 32768,\n    1476395009: 8388610,\n    1744830465: 2,\n    2013265921: 33282,\n    2281701377: 32770,\n    2550136833: 8389122,\n    2818572289: 514,\n    3087007745: 8421888,\n    3355443201: 8389120,\n    3623878657: 0,\n    3892314113: 33280,\n    4160749569: 8421378\n  }, {\n    0: 1074282512,\n    16777216: 16384,\n    33554432: 524288,\n    50331648: 1074266128,\n    67108864: 1073741840,\n    83886080: 1074282496,\n    100663296: 1073758208,\n    117440512: 16,\n    134217728: 540672,\n    150994944: 1073758224,\n    167772160: 1073741824,\n    184549376: 540688,\n    201326592: 524304,\n    218103808: 0,\n    234881024: 16400,\n    251658240: 1074266112,\n    8388608: 1073758208,\n    25165824: 540688,\n    41943040: 16,\n    58720256: 1073758224,\n    75497472: 1074282512,\n    92274688: 1073741824,\n    109051904: 524288,\n    125829120: 1074266128,\n    142606336: 524304,\n    159383552: 0,\n    176160768: 16384,\n    192937984: 1074266112,\n    209715200: 1073741840,\n    226492416: 540672,\n    243269632: 1074282496,\n    260046848: 16400,\n    268435456: 0,\n    285212672: 1074266128,\n    301989888: 1073758224,\n    318767104: 1074282496,\n    335544320: 1074266112,\n    352321536: 16,\n    369098752: 540688,\n    385875968: 16384,\n    402653184: 16400,\n    419430400: 524288,\n    436207616: 524304,\n    452984832: 1073741840,\n    469762048: 540672,\n    486539264: 1073758208,\n    503316480: 1073741824,\n    520093696: 1074282512,\n    276824064: 540688,\n    293601280: 524288,\n    310378496: 1074266112,\n    327155712: 16384,\n    343932928: 1073758208,\n    360710144: 1074282512,\n    377487360: 16,\n    394264576: 1073741824,\n    411041792: 1074282496,\n    427819008: 1073741840,\n    444596224: 1073758224,\n    461373440: 524304,\n    478150656: 0,\n    494927872: 16400,\n    511705088: 1074266128,\n    528482304: 540672\n  }, {\n    0: 260,\n    1048576: 0,\n    2097152: 67109120,\n    3145728: 65796,\n    4194304: 65540,\n    5242880: 67108868,\n    6291456: 67174660,\n    7340032: 67174400,\n    8388608: 67108864,\n    9437184: 67174656,\n    10485760: 65792,\n    11534336: 67174404,\n    12582912: 67109124,\n    13631488: 65536,\n    14680064: 4,\n    15728640: 256,\n    524288: 67174656,\n    1572864: 67174404,\n    2621440: 0,\n    3670016: 67109120,\n    4718592: 67108868,\n    5767168: 65536,\n    6815744: 65540,\n    7864320: 260,\n    8912896: 4,\n    9961472: 256,\n    11010048: 67174400,\n    12058624: 65796,\n    13107200: 65792,\n    14155776: 67109124,\n    15204352: 67174660,\n    16252928: 67108864,\n    16777216: 67174656,\n    17825792: 65540,\n    18874368: 65536,\n    19922944: 67109120,\n    20971520: 256,\n    22020096: 67174660,\n    23068672: 67108868,\n    24117248: 0,\n    25165824: 67109124,\n    26214400: 67108864,\n    27262976: 4,\n    28311552: 65792,\n    29360128: 67174400,\n    30408704: 260,\n    31457280: 65796,\n    32505856: 67174404,\n    17301504: 67108864,\n    18350080: 260,\n    19398656: 67174656,\n    20447232: 0,\n    21495808: 65540,\n    22544384: 67109120,\n    23592960: 256,\n    24641536: 67174404,\n    25690112: 65536,\n    26738688: 67174660,\n    27787264: 65796,\n    28835840: 67108868,\n    29884416: 67109124,\n    30932992: 67174400,\n    31981568: 4,\n    33030144: 65792\n  }, {\n    0: 2151682048,\n    65536: 2147487808,\n    131072: 4198464,\n    196608: 2151677952,\n    262144: 0,\n    327680: 4198400,\n    393216: 2147483712,\n    458752: 4194368,\n    524288: 2147483648,\n    589824: 4194304,\n    655360: 64,\n    720896: 2147487744,\n    786432: 2151678016,\n    851968: 4160,\n    917504: 4096,\n    983040: 2151682112,\n    32768: 2147487808,\n    98304: 64,\n    163840: 2151678016,\n    229376: 2147487744,\n    294912: 4198400,\n    360448: 2151682112,\n    425984: 0,\n    491520: 2151677952,\n    557056: 4096,\n    622592: 2151682048,\n    688128: 4194304,\n    753664: 4160,\n    819200: 2147483648,\n    884736: 4194368,\n    950272: 4198464,\n    1015808: 2147483712,\n    1048576: 4194368,\n    1114112: 4198400,\n    1179648: 2147483712,\n    1245184: 0,\n    1310720: 4160,\n    1376256: 2151678016,\n    1441792: 2151682048,\n    1507328: 2147487808,\n    1572864: 2151682112,\n    1638400: 2147483648,\n    1703936: 2151677952,\n    1769472: 4198464,\n    1835008: 2147487744,\n    1900544: 4194304,\n    1966080: 64,\n    2031616: 4096,\n    1081344: 2151677952,\n    1146880: 2151682112,\n    1212416: 0,\n    1277952: 4198400,\n    1343488: 4194368,\n    1409024: 2147483648,\n    1474560: 2147487808,\n    1540096: 64,\n    1605632: 2147483712,\n    1671168: 4096,\n    1736704: 2147487744,\n    1802240: 2151678016,\n    1867776: 4160,\n    1933312: 2151682048,\n    1998848: 4194304,\n    2064384: 4198464\n  }, {\n    0: 128,\n    4096: 17039360,\n    8192: 262144,\n    12288: 536870912,\n    16384: 537133184,\n    20480: 16777344,\n    24576: 553648256,\n    28672: 262272,\n    32768: 16777216,\n    36864: 537133056,\n    40960: 536871040,\n    45056: 553910400,\n    49152: 553910272,\n    53248: 0,\n    57344: 17039488,\n    61440: 553648128,\n    2048: 17039488,\n    6144: 553648256,\n    10240: 128,\n    14336: 17039360,\n    18432: 262144,\n    22528: 537133184,\n    26624: 553910272,\n    30720: 536870912,\n    34816: 537133056,\n    38912: 0,\n    43008: 553910400,\n    47104: 16777344,\n    51200: 536871040,\n    55296: 553648128,\n    59392: 16777216,\n    63488: 262272,\n    65536: 262144,\n    69632: 128,\n    73728: 536870912,\n    77824: 553648256,\n    81920: 16777344,\n    86016: 553910272,\n    90112: 537133184,\n    94208: 16777216,\n    98304: 553910400,\n    102400: 553648128,\n    106496: 17039360,\n    110592: 537133056,\n    114688: 262272,\n    118784: 536871040,\n    122880: 0,\n    126976: 17039488,\n    67584: 553648256,\n    71680: 16777216,\n    75776: 17039360,\n    79872: 537133184,\n    83968: 536870912,\n    88064: 17039488,\n    92160: 128,\n    96256: 553910272,\n    100352: 262272,\n    104448: 553910400,\n    108544: 0,\n    112640: 553648128,\n    116736: 16777344,\n    120832: 262144,\n    124928: 537133056,\n    129024: 536871040\n  }, {\n    0: 268435464,\n    256: 8192,\n    512: 270532608,\n    768: 270540808,\n    1024: 268443648,\n    1280: 2097152,\n    1536: 2097160,\n    1792: 268435456,\n    2048: 0,\n    2304: 268443656,\n    2560: 2105344,\n    2816: 8,\n    3072: 270532616,\n    3328: 2105352,\n    3584: 8200,\n    3840: 270540800,\n    128: 270532608,\n    384: 270540808,\n    640: 8,\n    896: 2097152,\n    1152: 2105352,\n    1408: 268435464,\n    1664: 268443648,\n    1920: 8200,\n    2176: 2097160,\n    2432: 8192,\n    2688: 268443656,\n    2944: 270532616,\n    3200: 0,\n    3456: 270540800,\n    3712: 2105344,\n    3968: 268435456,\n    4096: 268443648,\n    4352: 270532616,\n    4608: 270540808,\n    4864: 8200,\n    5120: 2097152,\n    5376: 268435456,\n    5632: 268435464,\n    5888: 2105344,\n    6144: 2105352,\n    6400: 0,\n    6656: 8,\n    6912: 270532608,\n    7168: 8192,\n    7424: 268443656,\n    7680: 270540800,\n    7936: 2097160,\n    4224: 8,\n    4480: 2105344,\n    4736: 2097152,\n    4992: 268435464,\n    5248: 268443648,\n    5504: 8200,\n    5760: 270540808,\n    6016: 270532608,\n    6272: 270540800,\n    6528: 270532616,\n    6784: 8192,\n    7040: 2105352,\n    7296: 2097160,\n    7552: 0,\n    7808: 268435456,\n    8064: 268443656\n  }, {\n    0: 1048576,\n    16: 33555457,\n    32: 1024,\n    48: 1049601,\n    64: 34604033,\n    80: 0,\n    96: 1,\n    112: 34603009,\n    128: 33555456,\n    144: 1048577,\n    160: 33554433,\n    176: 34604032,\n    192: 34603008,\n    208: 1025,\n    224: 1049600,\n    240: 33554432,\n    8: 34603009,\n    24: 0,\n    40: 33555457,\n    56: 34604032,\n    72: 1048576,\n    88: 33554433,\n    104: 33554432,\n    120: 1025,\n    136: 1049601,\n    152: 33555456,\n    168: 34603008,\n    184: 1048577,\n    200: 1024,\n    216: 34604033,\n    232: 1,\n    248: 1049600,\n    256: 33554432,\n    272: 1048576,\n    288: 33555457,\n    304: 34603009,\n    320: 1048577,\n    336: 33555456,\n    352: 34604032,\n    368: 1049601,\n    384: 1025,\n    400: 34604033,\n    416: 1049600,\n    432: 1,\n    448: 0,\n    464: 34603008,\n    480: 33554433,\n    496: 1024,\n    264: 1049600,\n    280: 33555457,\n    296: 34603009,\n    312: 1,\n    328: 33554432,\n    344: 1048576,\n    360: 1025,\n    376: 34604032,\n    392: 33554433,\n    408: 34603008,\n    424: 0,\n    440: 34604033,\n    456: 1049601,\n    472: 1024,\n    488: 33555456,\n    504: 1048577\n  }, {\n    0: 134219808,\n    1: 131072,\n    2: 134217728,\n    3: 32,\n    4: 131104,\n    5: 134350880,\n    6: 134350848,\n    7: 2048,\n    8: 134348800,\n    9: 134219776,\n    10: 133120,\n    11: 134348832,\n    12: 2080,\n    13: 0,\n    14: 134217760,\n    15: 133152,\n    2147483648: 2048,\n    2147483649: 134350880,\n    2147483650: 134219808,\n    2147483651: 134217728,\n    2147483652: 134348800,\n    2147483653: 133120,\n    2147483654: 133152,\n    2147483655: 32,\n    2147483656: 134217760,\n    2147483657: 2080,\n    2147483658: 131104,\n    2147483659: 134350848,\n    2147483660: 0,\n    2147483661: 134348832,\n    2147483662: 134219776,\n    2147483663: 131072,\n    16: 133152,\n    17: 134350848,\n    18: 32,\n    19: 2048,\n    20: 134219776,\n    21: 134217760,\n    22: 134348832,\n    23: 131072,\n    24: 0,\n    25: 131104,\n    26: 134348800,\n    27: 134219808,\n    28: 134350880,\n    29: 133120,\n    30: 2080,\n    31: 134217728,\n    2147483664: 131072,\n    2147483665: 2048,\n    2147483666: 134348832,\n    2147483667: 133152,\n    2147483668: 32,\n    2147483669: 134348800,\n    2147483670: 134217728,\n    2147483671: 134219808,\n    2147483672: 134350880,\n    2147483673: 134217760,\n    2147483674: 134219776,\n    2147483675: 0,\n    2147483676: 133120,\n    2147483677: 2080,\n    2147483678: 131104,\n    2147483679: 134350848\n  }], y = [4160749569, 528482304, 33030144, 2064384, 129024, 8064, 504, 2147483679], v = n.DES = s.extend({ _doReset: function() {\n    for (var o = this._key.words, l = [], f = 0; 56 > f; f++) {\n      var d = h[f] - 1;\n      l[f] = o[d >>> 5] >>> 31 - d % 32 & 1;\n    }\n    for (o = this._subKeys = [], d = 0; 16 > d; d++) {\n      for (var g = o[d] = [], S = p[d], f = 0; 24 > f; f++) g[f / 6 | 0] |= l[(u[f] - 1 + S) % 28] << 31 - f % 6, g[4 + (f / 6 | 0)] |= l[28 + (u[f + 24] - 1 + S) % 28] << 31 - f % 6;\n      for (g[0] = g[0] << 1 | g[0] >>> 31, f = 1; 7 > f; f++) g[f] >>>= 4 * (f - 1) + 3;\n      g[7] = g[7] << 5 | g[7] >>> 27;\n    }\n    for (l = this._invSubKeys = [], f = 0; 16 > f; f++) l[f] = o[15 - f];\n  }, encryptBlock: function(o, l) {\n    this._doCryptBlock(o, l, this._subKeys);\n  }, decryptBlock: function(o, l) {\n    this._doCryptBlock(o, l, this._invSubKeys);\n  }, _doCryptBlock: function(o, l, f) {\n    this._lBlock = o[l], this._rBlock = o[l + 1], e.call(this, 4, 252645135), e.call(this, 16, 65535), t.call(this, 2, 858993459), t.call(this, 8, 16711935), e.call(this, 1, 1431655765);\n    for (var d = 0; 16 > d; d++) {\n      for (var g = f[d], S = this._lBlock, b = this._rBlock, D = 0, A = 0; 8 > A; A++) D |= c[A][((b ^ g[A]) & y[A]) >>> 0];\n      this._lBlock = b, this._rBlock = S ^ D;\n    }\n    f = this._lBlock, this._lBlock = this._rBlock, this._rBlock = f, e.call(this, 1, 1431655765), t.call(this, 8, 16711935), t.call(this, 2, 858993459), e.call(this, 16, 65535), e.call(this, 4, 252645135), o[l] = this._lBlock, o[l + 1] = this._rBlock;\n  }, keySize: 2, ivSize: 2, blockSize: 2 });\n  r.DES = s._createHelper(v), n = n.TripleDES = s.extend({ _doReset: function() {\n    var o = this._key.words;\n    this._des1 = v.createEncryptor(i.create(o.slice(0, 2))), this._des2 = v.createEncryptor(i.create(o.slice(2, 4))), this._des3 = v.createEncryptor(i.create(o.slice(4, 6)));\n  }, encryptBlock: function(o, l) {\n    this._des1.encryptBlock(o, l), this._des2.decryptBlock(o, l), this._des3.encryptBlock(o, l);\n  }, decryptBlock: function(o, l) {\n    this._des3.decryptBlock(o, l), this._des2.encryptBlock(o, l), this._des1.decryptBlock(o, l);\n  }, keySize: 6, ivSize: 2, blockSize: 2 }), r.TripleDES = s._createHelper(n);\n})();\n(function() {\n  var e = K, t = e.lib.WordArray;\n  e.enc.Base64 = { stringify: function(r) {\n    var i = r.words, s = r.sigBytes, n = this._map;\n    r.clamp(), r = [];\n    for (var h = 0; h < s; h += 3) for (var u = (i[h >>> 2] >>> 24 - 8 * (h % 4) & 255) << 16 | (i[h + 1 >>> 2] >>> 24 - 8 * ((h + 1) % 4) & 255) << 8 | i[h + 2 >>> 2] >>> 24 - 8 * ((h + 2) % 4) & 255, p = 0; 4 > p && h + 0.75 * p < s; p++) r.push(n.charAt(u >>> 6 * (3 - p) & 63));\n    if (i = n.charAt(64)) for (; r.length % 4; ) r.push(i);\n    return r.join(\"\");\n  }, parse: function(r) {\n    var i = r.length, s = this._map, n = s.charAt(64);\n    n && (n = r.indexOf(n), n != -1 && (i = n));\n    for (var n = [], h = 0, u = 0; u < i; u++) if (u % 4) {\n      var p = s.indexOf(r.charAt(u - 1)) << 2 * (u % 4), c = s.indexOf(r.charAt(u)) >>> 6 - 2 * (u % 4);\n      n[h >>> 2] |= (p | c) << 24 - 8 * (h % 4), h++;\n    }\n    return t.create(n, h);\n  }, _map: \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\" };\n})();\n(function(e) {\n  function t(v, o, l, f, d, g, S) {\n    return v = v + (o & l | ~o & f) + d + S, (v << g | v >>> 32 - g) + o;\n  }\n  function r(v, o, l, f, d, g, S) {\n    return v = v + (o & f | l & ~f) + d + S, (v << g | v >>> 32 - g) + o;\n  }\n  function i(v, o, l, f, d, g, S) {\n    return v = v + (o ^ l ^ f) + d + S, (v << g | v >>> 32 - g) + o;\n  }\n  function s(v, o, l, f, d, g, S) {\n    return v = v + (l ^ (o | ~f)) + d + S, (v << g | v >>> 32 - g) + o;\n  }\n  for (var n = K, p = n.lib, h = p.WordArray, u = p.Hasher, p = n.algo, c = [], y = 0; 64 > y; y++) c[y] = 4294967296 * e.abs(e.sin(y + 1)) | 0;\n  p = p.MD5 = u.extend({\n    _doReset: function() {\n      this._hash = new h.init([1732584193, 4023233417, 2562383102, 271733878]);\n    },\n    _doProcessBlock: function(v, o) {\n      for (var l = 0; 16 > l; l++) {\n        var f = o + l, d = v[f];\n        v[f] = (d << 8 | d >>> 24) & 16711935 | (d << 24 | d >>> 8) & 4278255360;\n      }\n      var l = this._hash.words, f = v[o + 0], d = v[o + 1], g = v[o + 2], S = v[o + 3], b = v[o + 4], D = v[o + 5], A = v[o + 6], I = v[o + 7], m = v[o + 8], E = v[o + 9], w = v[o + 10], x = v[o + 11], F = v[o + 12], P = v[o + 13], T = v[o + 14], H = v[o + 15], C = l[0], j = l[1], O = l[2], B = l[3], C = t(C, j, O, B, f, 7, c[0]), B = t(B, C, j, O, d, 12, c[1]), O = t(O, B, C, j, g, 17, c[2]), j = t(j, O, B, C, S, 22, c[3]), C = t(C, j, O, B, b, 7, c[4]), B = t(B, C, j, O, D, 12, c[5]), O = t(O, B, C, j, A, 17, c[6]), j = t(j, O, B, C, I, 22, c[7]), C = t(C, j, O, B, m, 7, c[8]), B = t(B, C, j, O, E, 12, c[9]), O = t(O, B, C, j, w, 17, c[10]), j = t(j, O, B, C, x, 22, c[11]), C = t(C, j, O, B, F, 7, c[12]), B = t(B, C, j, O, P, 12, c[13]), O = t(O, B, C, j, T, 17, c[14]), j = t(j, O, B, C, H, 22, c[15]), C = r(C, j, O, B, d, 5, c[16]), B = r(B, C, j, O, A, 9, c[17]), O = r(O, B, C, j, x, 14, c[18]), j = r(j, O, B, C, f, 20, c[19]), C = r(C, j, O, B, D, 5, c[20]), B = r(B, C, j, O, w, 9, c[21]), O = r(O, B, C, j, H, 14, c[22]), j = r(j, O, B, C, b, 20, c[23]), C = r(C, j, O, B, E, 5, c[24]), B = r(B, C, j, O, T, 9, c[25]), O = r(O, B, C, j, S, 14, c[26]), j = r(j, O, B, C, m, 20, c[27]), C = r(C, j, O, B, P, 5, c[28]), B = r(\n        B,\n        C,\n        j,\n        O,\n        g,\n        9,\n        c[29]\n      ), O = r(O, B, C, j, I, 14, c[30]), j = r(j, O, B, C, F, 20, c[31]), C = i(C, j, O, B, D, 4, c[32]), B = i(B, C, j, O, m, 11, c[33]), O = i(O, B, C, j, x, 16, c[34]), j = i(j, O, B, C, T, 23, c[35]), C = i(C, j, O, B, d, 4, c[36]), B = i(B, C, j, O, b, 11, c[37]), O = i(O, B, C, j, I, 16, c[38]), j = i(j, O, B, C, w, 23, c[39]), C = i(C, j, O, B, P, 4, c[40]), B = i(B, C, j, O, f, 11, c[41]), O = i(O, B, C, j, S, 16, c[42]), j = i(j, O, B, C, A, 23, c[43]), C = i(C, j, O, B, E, 4, c[44]), B = i(B, C, j, O, F, 11, c[45]), O = i(O, B, C, j, H, 16, c[46]), j = i(j, O, B, C, g, 23, c[47]), C = s(C, j, O, B, f, 6, c[48]), B = s(B, C, j, O, I, 10, c[49]), O = s(\n        O,\n        B,\n        C,\n        j,\n        T,\n        15,\n        c[50]\n      ), j = s(j, O, B, C, D, 21, c[51]), C = s(C, j, O, B, F, 6, c[52]), B = s(B, C, j, O, S, 10, c[53]), O = s(O, B, C, j, w, 15, c[54]), j = s(j, O, B, C, d, 21, c[55]), C = s(C, j, O, B, m, 6, c[56]), B = s(B, C, j, O, H, 10, c[57]), O = s(O, B, C, j, A, 15, c[58]), j = s(j, O, B, C, P, 21, c[59]), C = s(C, j, O, B, b, 6, c[60]), B = s(B, C, j, O, x, 10, c[61]), O = s(O, B, C, j, g, 15, c[62]), j = s(j, O, B, C, E, 21, c[63]);\n      l[0] = l[0] + C | 0, l[1] = l[1] + j | 0, l[2] = l[2] + O | 0, l[3] = l[3] + B | 0;\n    },\n    _doFinalize: function() {\n      var v = this._data, o = v.words, l = 8 * this._nDataBytes, f = 8 * v.sigBytes;\n      o[f >>> 5] |= 128 << 24 - f % 32;\n      var d = e.floor(l / 4294967296);\n      for (o[(f + 64 >>> 9 << 4) + 15] = (d << 8 | d >>> 24) & 16711935 | (d << 24 | d >>> 8) & 4278255360, o[(f + 64 >>> 9 << 4) + 14] = (l << 8 | l >>> 24) & 16711935 | (l << 24 | l >>> 8) & 4278255360, v.sigBytes = 4 * (o.length + 1), this._process(), v = this._hash, o = v.words, l = 0; 4 > l; l++) f = o[l], o[l] = (f << 8 | f >>> 24) & 16711935 | (f << 24 | f >>> 8) & 4278255360;\n      return v;\n    },\n    clone: function() {\n      var v = u.clone.call(this);\n      return v._hash = this._hash.clone(), v;\n    }\n  }), n.MD5 = u._createHelper(p), n.HmacMD5 = u._createHmacHelper(p);\n})(Math);\n(function() {\n  var e = K, s = e.lib, t = s.WordArray, r = s.Hasher, i = [], s = e.algo.SHA1 = r.extend({ _doReset: function() {\n    this._hash = new t.init([1732584193, 4023233417, 2562383102, 271733878, 3285377520]);\n  }, _doProcessBlock: function(n, h) {\n    for (var u = this._hash.words, p = u[0], c = u[1], y = u[2], v = u[3], o = u[4], l = 0; 80 > l; l++) {\n      if (16 > l) i[l] = n[h + l] | 0;\n      else {\n        var f = i[l - 3] ^ i[l - 8] ^ i[l - 14] ^ i[l - 16];\n        i[l] = f << 1 | f >>> 31;\n      }\n      f = (p << 5 | p >>> 27) + o + i[l], f = 20 > l ? f + ((c & y | ~c & v) + 1518500249) : 40 > l ? f + ((c ^ y ^ v) + 1859775393) : 60 > l ? f + ((c & y | c & v | y & v) - 1894007588) : f + ((c ^ y ^ v) - 899497514), o = v, v = y, y = c << 30 | c >>> 2, c = p, p = f;\n    }\n    u[0] = u[0] + p | 0, u[1] = u[1] + c | 0, u[2] = u[2] + y | 0, u[3] = u[3] + v | 0, u[4] = u[4] + o | 0;\n  }, _doFinalize: function() {\n    var n = this._data, h = n.words, u = 8 * this._nDataBytes, p = 8 * n.sigBytes;\n    return h[p >>> 5] |= 128 << 24 - p % 32, h[(p + 64 >>> 9 << 4) + 14] = Math.floor(u / 4294967296), h[(p + 64 >>> 9 << 4) + 15] = u, n.sigBytes = 4 * h.length, this._process(), this._hash;\n  }, clone: function() {\n    var n = r.clone.call(this);\n    return n._hash = this._hash.clone(), n;\n  } });\n  e.SHA1 = r._createHelper(s), e.HmacSHA1 = r._createHmacHelper(s);\n})();\n(function(e) {\n  for (var t = K, l = t.lib, r = l.WordArray, i = l.Hasher, l = t.algo, s = [], n = [], h = function(d) {\n    return 4294967296 * (d - (d | 0)) | 0;\n  }, u = 2, p = 0; 64 > p; ) {\n    var c;\n    e: {\n      c = u;\n      for (var y = e.sqrt(c), v = 2; v <= y; v++) if (!(c % v)) {\n        c = !1;\n        break e;\n      }\n      c = !0;\n    }\n    c && (8 > p && (s[p] = h(e.pow(u, 0.5))), n[p] = h(e.pow(u, 1 / 3)), p++), u++;\n  }\n  var o = [], l = l.SHA256 = i.extend({ _doReset: function() {\n    this._hash = new r.init(s.slice(0));\n  }, _doProcessBlock: function(f, d) {\n    for (var g = this._hash.words, S = g[0], b = g[1], D = g[2], A = g[3], I = g[4], m = g[5], E = g[6], w = g[7], x = 0; 64 > x; x++) {\n      if (16 > x) o[x] = f[d + x] | 0;\n      else {\n        var F = o[x - 15], P = o[x - 2];\n        o[x] = ((F << 25 | F >>> 7) ^ (F << 14 | F >>> 18) ^ F >>> 3) + o[x - 7] + ((P << 15 | P >>> 17) ^ (P << 13 | P >>> 19) ^ P >>> 10) + o[x - 16];\n      }\n      F = w + ((I << 26 | I >>> 6) ^ (I << 21 | I >>> 11) ^ (I << 7 | I >>> 25)) + (I & m ^ ~I & E) + n[x] + o[x], P = ((S << 30 | S >>> 2) ^ (S << 19 | S >>> 13) ^ (S << 10 | S >>> 22)) + (S & b ^ S & D ^ b & D), w = E, E = m, m = I, I = A + F | 0, A = D, D = b, b = S, S = F + P | 0;\n    }\n    g[0] = g[0] + S | 0, g[1] = g[1] + b | 0, g[2] = g[2] + D | 0, g[3] = g[3] + A | 0, g[4] = g[4] + I | 0, g[5] = g[5] + m | 0, g[6] = g[6] + E | 0, g[7] = g[7] + w | 0;\n  }, _doFinalize: function() {\n    var f = this._data, d = f.words, g = 8 * this._nDataBytes, S = 8 * f.sigBytes;\n    return d[S >>> 5] |= 128 << 24 - S % 32, d[(S + 64 >>> 9 << 4) + 14] = e.floor(g / 4294967296), d[(S + 64 >>> 9 << 4) + 15] = g, f.sigBytes = 4 * d.length, this._process(), this._hash;\n  }, clone: function() {\n    var f = i.clone.call(this);\n    return f._hash = this._hash.clone(), f;\n  } });\n  t.SHA256 = i._createHelper(l), t.HmacSHA256 = i._createHmacHelper(l);\n})(Math);\n(function() {\n  var e = K, t = e.lib.WordArray, i = e.algo, r = i.SHA256, i = i.SHA224 = r.extend({ _doReset: function() {\n    this._hash = new t.init([3238371032, 914150663, 812702999, 4144912697, 4290775857, 1750603025, 1694076839, 3204075428]);\n  }, _doFinalize: function() {\n    var s = r._doFinalize.call(this);\n    return s.sigBytes -= 4, s;\n  } });\n  e.SHA224 = r._createHelper(i), e.HmacSHA224 = r._createHmacHelper(i);\n})();\n(function() {\n  function e() {\n    return i.create.apply(i, arguments);\n  }\n  for (var t = K, r = t.lib.Hasher, n = t.x64, i = n.Word, s = n.WordArray, n = t.algo, h = [\n    e(1116352408, 3609767458),\n    e(1899447441, 602891725),\n    e(3049323471, 3964484399),\n    e(3921009573, 2173295548),\n    e(961987163, 4081628472),\n    e(1508970993, 3053834265),\n    e(2453635748, 2937671579),\n    e(2870763221, 3664609560),\n    e(3624381080, 2734883394),\n    e(310598401, 1164996542),\n    e(607225278, 1323610764),\n    e(1426881987, 3590304994),\n    e(1925078388, 4068182383),\n    e(2162078206, 991336113),\n    e(2614888103, 633803317),\n    e(3248222580, 3479774868),\n    e(3835390401, 2666613458),\n    e(4022224774, 944711139),\n    e(264347078, 2341262773),\n    e(604807628, 2007800933),\n    e(770255983, 1495990901),\n    e(1249150122, 1856431235),\n    e(1555081692, 3175218132),\n    e(1996064986, 2198950837),\n    e(2554220882, 3999719339),\n    e(2821834349, 766784016),\n    e(2952996808, 2566594879),\n    e(3210313671, 3203337956),\n    e(3336571891, 1034457026),\n    e(3584528711, 2466948901),\n    e(113926993, 3758326383),\n    e(338241895, 168717936),\n    e(666307205, 1188179964),\n    e(773529912, 1546045734),\n    e(1294757372, 1522805485),\n    e(\n      1396182291,\n      2643833823\n    ),\n    e(1695183700, 2343527390),\n    e(1986661051, 1014477480),\n    e(2177026350, 1206759142),\n    e(2456956037, 344077627),\n    e(2730485921, 1290863460),\n    e(2820302411, 3158454273),\n    e(3259730800, 3505952657),\n    e(3345764771, 106217008),\n    e(3516065817, 3606008344),\n    e(3600352804, 1432725776),\n    e(4094571909, 1467031594),\n    e(275423344, 851169720),\n    e(430227734, 3100823752),\n    e(506948616, 1363258195),\n    e(659060556, 3750685593),\n    e(883997877, 3785050280),\n    e(958139571, 3318307427),\n    e(1322822218, 3812723403),\n    e(1537002063, 2003034995),\n    e(1747873779, 3602036899),\n    e(1955562222, 1575990012),\n    e(2024104815, 1125592928),\n    e(2227730452, 2716904306),\n    e(2361852424, 442776044),\n    e(2428436474, 593698344),\n    e(2756734187, 3733110249),\n    e(3204031479, 2999351573),\n    e(3329325298, 3815920427),\n    e(3391569614, 3928383900),\n    e(3515267271, 566280711),\n    e(3940187606, 3454069534),\n    e(4118630271, 4000239992),\n    e(116418474, 1914138554),\n    e(174292421, 2731055270),\n    e(289380356, 3203993006),\n    e(460393269, 320620315),\n    e(685471733, 587496836),\n    e(852142971, 1086792851),\n    e(1017036298, 365543100),\n    e(1126000580, 2618297676),\n    e(\n      1288033470,\n      3409855158\n    ),\n    e(1501505948, 4234509866),\n    e(1607167915, 987167468),\n    e(1816402316, 1246189591)\n  ], u = [], p = 0; 80 > p; p++) u[p] = e();\n  n = n.SHA512 = r.extend({ _doReset: function() {\n    this._hash = new s.init([new i.init(1779033703, 4089235720), new i.init(3144134277, 2227873595), new i.init(1013904242, 4271175723), new i.init(2773480762, 1595750129), new i.init(1359893119, 2917565137), new i.init(2600822924, 725511199), new i.init(528734635, 4215389547), new i.init(1541459225, 327033209)]);\n  }, _doProcessBlock: function(c, y) {\n    for (var b = this._hash.words, v = b[0], o = b[1], l = b[2], f = b[3], d = b[4], g = b[5], S = b[6], b = b[7], D = v.high, A = v.low, I = o.high, m = o.low, E = l.high, w = l.low, x = f.high, F = f.low, P = d.high, T = d.low, H = g.high, C = g.low, B = S.high, O = S.low, j = b.high, fe = b.low, Z = D, X = A, re = I, ne = m, he = E, se = w, ke = x, ce = F, M = P, G = T, Q = H, ee = C, pe = B, te = O, Me = j, Ne = fe, xe = 0; 80 > xe; xe++) {\n      var Ce = u[xe];\n      if (16 > xe) var ye = Ce.high = c[y + 2 * xe] | 0, U = Ce.low = c[y + 2 * xe + 1] | 0;\n      else {\n        var ye = u[xe - 15], U = ye.high, Fe = ye.low, ye = (U >>> 1 | Fe << 31) ^ (U >>> 8 | Fe << 24) ^ U >>> 7, Fe = (Fe >>> 1 | U << 31) ^ (Fe >>> 8 | U << 24) ^ (Fe >>> 7 | U << 25), He = u[xe - 2], U = He.high, $ = He.low, He = (U >>> 19 | $ << 13) ^ (U << 3 | $ >>> 29) ^ U >>> 6, $ = ($ >>> 19 | U << 13) ^ ($ << 3 | U >>> 29) ^ ($ >>> 6 | U << 26), U = u[xe - 7], Qe = U.high, Ie = u[xe - 16], be = Ie.high, Ie = Ie.low, U = Fe + U.low, ye = ye + Qe + (U >>> 0 < Fe >>> 0 ? 1 : 0), U = U + $, ye = ye + He + (U >>> 0 < $ >>> 0 ? 1 : 0), U = U + Ie, ye = ye + be + (U >>> 0 < Ie >>> 0 ? 1 : 0);\n        Ce.high = ye, Ce.low = U;\n      }\n      var Qe = M & Q ^ ~M & pe, Ie = G & ee ^ ~G & te, Ce = Z & re ^ Z & he ^ re & he, Kt = X & ne ^ X & se ^ ne & se, Fe = (Z >>> 28 | X << 4) ^ (Z << 30 | X >>> 2) ^ (Z << 25 | X >>> 7), He = (X >>> 28 | Z << 4) ^ (X << 30 | Z >>> 2) ^ (X << 25 | Z >>> 7), $ = h[xe], Lt = $.high, ct = $.low, $ = Ne + ((G >>> 14 | M << 18) ^ (G >>> 18 | M << 14) ^ (G << 23 | M >>> 9)), be = Me + ((M >>> 14 | G << 18) ^ (M >>> 18 | G << 14) ^ (M << 23 | G >>> 9)) + ($ >>> 0 < Ne >>> 0 ? 1 : 0), $ = $ + Ie, be = be + Qe + ($ >>> 0 < Ie >>> 0 ? 1 : 0), $ = $ + ct, be = be + Lt + ($ >>> 0 < ct >>> 0 ? 1 : 0), $ = $ + U, be = be + ye + ($ >>> 0 < U >>> 0 ? 1 : 0), U = He + Kt, Ce = Fe + Ce + (U >>> 0 < He >>> 0 ? 1 : 0), Me = pe, Ne = te, pe = Q, te = ee, Q = M, ee = G, G = ce + $ | 0, M = ke + be + (G >>> 0 < ce >>> 0 ? 1 : 0) | 0, ke = he, ce = se, he = re, se = ne, re = Z, ne = X, X = $ + U | 0, Z = be + Ce + (X >>> 0 < $ >>> 0 ? 1 : 0) | 0;\n    }\n    A = v.low = A + X, v.high = D + Z + (A >>> 0 < X >>> 0 ? 1 : 0), m = o.low = m + ne, o.high = I + re + (m >>> 0 < ne >>> 0 ? 1 : 0), w = l.low = w + se, l.high = E + he + (w >>> 0 < se >>> 0 ? 1 : 0), F = f.low = F + ce, f.high = x + ke + (F >>> 0 < ce >>> 0 ? 1 : 0), T = d.low = T + G, d.high = P + M + (T >>> 0 < G >>> 0 ? 1 : 0), C = g.low = C + ee, g.high = H + Q + (C >>> 0 < ee >>> 0 ? 1 : 0), O = S.low = O + te, S.high = B + pe + (O >>> 0 < te >>> 0 ? 1 : 0), fe = b.low = fe + Ne, b.high = j + Me + (fe >>> 0 < Ne >>> 0 ? 1 : 0);\n  }, _doFinalize: function() {\n    var c = this._data, y = c.words, v = 8 * this._nDataBytes, o = 8 * c.sigBytes;\n    return y[o >>> 5] |= 128 << 24 - o % 32, y[(o + 128 >>> 10 << 5) + 30] = Math.floor(v / 4294967296), y[(o + 128 >>> 10 << 5) + 31] = v, c.sigBytes = 4 * y.length, this._process(), this._hash.toX32();\n  }, clone: function() {\n    var c = r.clone.call(this);\n    return c._hash = this._hash.clone(), c;\n  }, blockSize: 32 }), t.SHA512 = r._createHelper(n), t.HmacSHA512 = r._createHmacHelper(n);\n})();\n(function() {\n  var e = K, s = e.x64, t = s.Word, r = s.WordArray, s = e.algo, i = s.SHA512, s = s.SHA384 = i.extend({ _doReset: function() {\n    this._hash = new r.init([new t.init(3418070365, 3238371032), new t.init(1654270250, 914150663), new t.init(2438529370, 812702999), new t.init(355462360, 4144912697), new t.init(1731405415, 4290775857), new t.init(2394180231, 1750603025), new t.init(3675008525, 1694076839), new t.init(1203062813, 3204075428)]);\n  }, _doFinalize: function() {\n    var n = i._doFinalize.call(this);\n    return n.sigBytes -= 16, n;\n  } });\n  e.SHA384 = i._createHelper(s), e.HmacSHA384 = i._createHmacHelper(s);\n})();\n(function() {\n  var e = K, c = e.lib, t = c.WordArray, r = c.Hasher, c = e.algo, i = t.create([0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 7, 4, 13, 1, 10, 6, 15, 3, 12, 0, 9, 5, 2, 14, 11, 8, 3, 10, 14, 4, 9, 15, 8, 1, 2, 7, 0, 6, 13, 11, 5, 12, 1, 9, 11, 10, 0, 8, 12, 4, 13, 3, 7, 15, 14, 5, 6, 2, 4, 0, 5, 9, 7, 12, 2, 10, 14, 1, 3, 8, 11, 6, 15, 13]), s = t.create([5, 14, 7, 0, 9, 2, 11, 4, 13, 6, 15, 8, 1, 10, 3, 12, 6, 11, 3, 7, 0, 13, 5, 10, 14, 15, 8, 12, 4, 9, 1, 2, 15, 5, 1, 3, 7, 14, 6, 9, 11, 8, 12, 2, 10, 0, 4, 13, 8, 6, 4, 1, 3, 11, 15, 0, 5, 12, 2, 13, 9, 7, 10, 14, 12, 15, 10, 4, 1, 5, 8, 7, 6, 2, 13, 14, 0, 3, 9, 11]), n = t.create([\n    11,\n    14,\n    15,\n    12,\n    5,\n    8,\n    7,\n    9,\n    11,\n    13,\n    14,\n    15,\n    6,\n    7,\n    9,\n    8,\n    7,\n    6,\n    8,\n    13,\n    11,\n    9,\n    7,\n    15,\n    7,\n    12,\n    15,\n    9,\n    11,\n    7,\n    13,\n    12,\n    11,\n    13,\n    6,\n    7,\n    14,\n    9,\n    13,\n    15,\n    14,\n    8,\n    13,\n    6,\n    5,\n    12,\n    7,\n    5,\n    11,\n    12,\n    14,\n    15,\n    14,\n    15,\n    9,\n    8,\n    9,\n    14,\n    5,\n    6,\n    8,\n    6,\n    5,\n    12,\n    9,\n    15,\n    5,\n    11,\n    6,\n    8,\n    13,\n    12,\n    5,\n    12,\n    13,\n    14,\n    11,\n    8,\n    5,\n    6\n  ]), h = t.create([8, 9, 9, 11, 13, 15, 15, 5, 7, 7, 8, 11, 14, 14, 12, 6, 9, 13, 15, 7, 12, 8, 9, 11, 7, 7, 12, 7, 6, 15, 13, 11, 9, 7, 15, 11, 8, 6, 6, 14, 12, 13, 5, 14, 13, 13, 7, 5, 15, 5, 8, 11, 14, 14, 6, 14, 6, 9, 12, 9, 12, 5, 15, 8, 8, 5, 12, 9, 12, 5, 14, 6, 8, 13, 6, 5, 15, 13, 11, 11]), u = t.create([0, 1518500249, 1859775393, 2400959708, 2840853838]), p = t.create([\n    1352829926,\n    1548603684,\n    1836072691,\n    2053994217,\n    0\n  ]), c = c.RIPEMD160 = r.extend({ _doReset: function() {\n    this._hash = t.create([1732584193, 4023233417, 2562383102, 271733878, 3285377520]);\n  }, _doProcessBlock: function(y, v) {\n    for (var o = 0; 16 > o; o++) {\n      var l = v + o, f = y[l];\n      y[l] = (f << 8 | f >>> 24) & 16711935 | (f << 24 | f >>> 8) & 4278255360;\n    }\n    var l = this._hash.words, f = u.words, d = p.words, g = i.words, S = s.words, b = n.words, D = h.words, A, I, m, E, w, x, F, P, T, H;\n    x = A = l[0], F = I = l[1], P = m = l[2], T = E = l[3], H = w = l[4];\n    for (var C, o = 0; 80 > o; o += 1) C = A + y[v + g[o]] | 0, C = 16 > o ? C + ((I ^ m ^ E) + f[0]) : 32 > o ? C + ((I & m | ~I & E) + f[1]) : 48 > o ? C + (((I | ~m) ^ E) + f[2]) : 64 > o ? C + ((I & E | m & ~E) + f[3]) : C + ((I ^ (m | ~E)) + f[4]), C |= 0, C = C << b[o] | C >>> 32 - b[o], C = C + w | 0, A = w, w = E, E = m << 10 | m >>> 22, m = I, I = C, C = x + y[v + S[o]] | 0, C = 16 > o ? C + ((F ^ (P | ~T)) + d[0]) : 32 > o ? C + ((F & T | P & ~T) + d[1]) : 48 > o ? C + (((F | ~P) ^ T) + d[2]) : 64 > o ? C + ((F & P | ~F & T) + d[3]) : C + ((F ^ P ^ T) + d[4]), C |= 0, C = C << D[o] | C >>> 32 - D[o], C = C + H | 0, x = H, H = T, T = P << 10 | P >>> 22, P = F, F = C;\n    C = l[1] + m + T | 0, l[1] = l[2] + E + H | 0, l[2] = l[3] + w + x | 0, l[3] = l[4] + A + F | 0, l[4] = l[0] + I + P | 0, l[0] = C;\n  }, _doFinalize: function() {\n    var y = this._data, v = y.words, o = 8 * this._nDataBytes, l = 8 * y.sigBytes;\n    for (v[l >>> 5] |= 128 << 24 - l % 32, v[(l + 64 >>> 9 << 4) + 14] = (o << 8 | o >>> 24) & 16711935 | (o << 24 | o >>> 8) & 4278255360, y.sigBytes = 4 * (v.length + 1), this._process(), y = this._hash, v = y.words, o = 0; 5 > o; o++) l = v[o], v[o] = (l << 8 | l >>> 24) & 16711935 | (l << 24 | l >>> 8) & 4278255360;\n    return y;\n  }, clone: function() {\n    var y = r.clone.call(this);\n    return y._hash = this._hash.clone(), y;\n  } });\n  e.RIPEMD160 = r._createHelper(c), e.HmacRIPEMD160 = r._createHmacHelper(c);\n})();\n(function() {\n  var e = K, t = e.enc.Utf8;\n  e.algo.HMAC = e.lib.Base.extend({ init: function(r, i) {\n    r = this._hasher = new r.init(), typeof i == \"string\" && (i = t.parse(i));\n    var s = r.blockSize, n = 4 * s;\n    i.sigBytes > n && (i = r.finalize(i)), i.clamp();\n    for (var h = this._oKey = i.clone(), u = this._iKey = i.clone(), p = h.words, c = u.words, y = 0; y < s; y++) p[y] ^= 1549556828, c[y] ^= 909522486;\n    h.sigBytes = u.sigBytes = n, this.reset();\n  }, reset: function() {\n    var r = this._hasher;\n    r.reset(), r.update(this._iKey);\n  }, update: function(r) {\n    return this._hasher.update(r), this;\n  }, finalize: function(r) {\n    var i = this._hasher;\n    return r = i.finalize(r), i.reset(), i.finalize(this._oKey.clone().concat(r));\n  } });\n})();\n(function() {\n  var e = K, i = e.lib, t = i.Base, r = i.WordArray, i = e.algo, s = i.HMAC, n = i.PBKDF2 = t.extend({ cfg: t.extend({ keySize: 4, hasher: i.SHA1, iterations: 1 }), init: function(h) {\n    this.cfg = this.cfg.extend(h);\n  }, compute: function(h, u) {\n    for (var f = this.cfg, p = s.create(f.hasher, h), c = r.create(), y = r.create([1]), v = c.words, o = y.words, l = f.keySize, f = f.iterations; v.length < l; ) {\n      var d = p.update(u).finalize(y);\n      p.reset();\n      for (var g = d.words, S = g.length, b = d, D = 1; D < f; D++) {\n        b = p.finalize(b), p.reset();\n        for (var A = b.words, I = 0; I < S; I++) g[I] ^= A[I];\n      }\n      c.concat(d), o[0]++;\n    }\n    return c.sigBytes = 4 * l, c;\n  } });\n  e.PBKDF2 = function(h, u, p) {\n    return n.create(p).compute(h, u);\n  };\n})();\n/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/\n */\nvar Ke = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\", Et = \"=\";\nfunction _e(e) {\n  var t, r, i = \"\";\n  for (t = 0; t + 3 <= e.length; t += 3)\n    r = parseInt(e.substring(t, t + 3), 16), i += Ke.charAt(r >> 6) + Ke.charAt(r & 63);\n  for (t + 1 == e.length ? (r = parseInt(e.substring(t, t + 1), 16), i += Ke.charAt(r << 2)) : t + 2 == e.length && (r = parseInt(e.substring(t, t + 2), 16), i += Ke.charAt(r >> 2) + Ke.charAt((r & 3) << 4)); (i.length & 3) > 0; )\n    i += Et;\n  return i;\n}\nfunction it(e) {\n  var t = \"\", r, i = 0, s, n;\n  for (r = 0; r < e.length && e.charAt(r) != Et; ++r)\n    n = Ke.indexOf(e.charAt(r)), !(n < 0) && (i == 0 ? (t += De(n >> 2), s = n & 3, i = 1) : i == 1 ? (t += De(s << 2 | n >> 4), s = n & 15, i = 2) : i == 2 ? (t += De(s), t += De(n >> 2), s = n & 3, i = 3) : (t += De(s << 2 | n >> 4), t += De(n & 15), i = 0));\n  return i == 1 && (t += De(s << 2)), t;\n}\n/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/\n*/\nvar Te;\nfunction R(e, t, r) {\n  e != null && (typeof e == \"number\" ? this.fromNumber(e, t, r) : t == null && typeof e != \"string\" ? this.fromString(e, 256) : this.fromString(e, t));\n}\nfunction _() {\n  return new R(null);\n}\nfunction qt(e, t, r, i, s, n) {\n  for (; --n >= 0; ) {\n    var h = t * this[e++] + r[i] + s;\n    s = Math.floor(h / 67108864), r[i++] = h & 67108863;\n  }\n  return s;\n}\nfunction kt(e, t, r, i, s, n) {\n  for (var h = t & 32767, u = t >> 15; --n >= 0; ) {\n    var p = this[e] & 32767, c = this[e++] >> 15, y = u * p + c * h;\n    p = h * p + ((y & 32767) << 15) + r[i] + (s & 1073741823), s = (p >>> 30) + (y >>> 15) + u * c + (s >>> 30), r[i++] = p & 1073741823;\n  }\n  return s;\n}\nfunction Mt(e, t, r, i, s, n) {\n  for (var h = t & 16383, u = t >> 14; --n >= 0; ) {\n    var p = this[e] & 16383, c = this[e++] >> 14, y = u * p + c * h;\n    p = h * p + ((y & 16383) << 14) + r[i] + s, s = (p >> 28) + (y >> 14) + u * c, r[i++] = p & 268435455;\n  }\n  return s;\n}\nUe.appName == \"Microsoft Internet Explorer\" ? (R.prototype.am = kt, Te = 30) : Ue.appName != \"Netscape\" ? (R.prototype.am = qt, Te = 26) : (R.prototype.am = Mt, Te = 28);\nR.prototype.DB = Te;\nR.prototype.DM = (1 << Te) - 1;\nR.prototype.DV = 1 << Te;\nvar nt = 52;\nR.prototype.FV = Math.pow(2, nt);\nR.prototype.F1 = nt - Te;\nR.prototype.F2 = 2 * Te - nt;\nvar _t = \"0123456789abcdefghijklmnopqrstuvwxyz\", $e = new Array(), Le, me;\nLe = 48;\nfor (me = 0; me <= 9; ++me)\n  $e[Le++] = me;\nLe = 97;\nfor (me = 10; me < 36; ++me)\n  $e[Le++] = me;\nLe = 65;\nfor (me = 10; me < 36; ++me)\n  $e[Le++] = me;\nfunction De(e) {\n  return _t.charAt(e);\n}\nfunction wt(e, t) {\n  var r = $e[e.charCodeAt(t)];\n  return r ?? -1;\n}\nfunction Ut(e) {\n  for (var t = this.t - 1; t >= 0; --t)\n    e[t] = this[t];\n  e.t = this.t, e.s = this.s;\n}\nfunction zt(e) {\n  this.t = 1, this.s = e < 0 ? -1 : 0, e > 0 ? this[0] = e : e < -1 ? this[0] = e + this.DV : this.t = 0;\n}\nfunction Re(e) {\n  var t = _();\n  return t.fromInt(e), t;\n}\nfunction Gt(e, t) {\n  var r;\n  if (t == 16)\n    r = 4;\n  else if (t == 8)\n    r = 3;\n  else if (t == 256)\n    r = 8;\n  else if (t == 2)\n    r = 1;\n  else if (t == 32)\n    r = 5;\n  else if (t == 4)\n    r = 2;\n  else {\n    this.fromRadix(e, t);\n    return;\n  }\n  this.t = 0, this.s = 0;\n  for (var i = e.length, s = !1, n = 0; --i >= 0; ) {\n    var h = r == 8 ? e[i] & 255 : wt(e, i);\n    if (h < 0) {\n      e.charAt(i) == \"-\" && (s = !0);\n      continue;\n    }\n    s = !1, n == 0 ? this[this.t++] = h : n + r > this.DB ? (this[this.t - 1] |= (h & (1 << this.DB - n) - 1) << n, this[this.t++] = h >> this.DB - n) : this[this.t - 1] |= h << n, n += r, n >= this.DB && (n -= this.DB);\n  }\n  r == 8 && e[0] & 128 && (this.s = -1, n > 0 && (this[this.t - 1] |= (1 << this.DB - n) - 1 << n)), this.clamp(), s && R.ZERO.subTo(this, this);\n}\nfunction Wt() {\n  for (var e = this.s & this.DM; this.t > 0 && this[this.t - 1] == e; )\n    --this.t;\n}\nfunction Xt(e) {\n  if (this.s < 0)\n    return \"-\" + this.negate().toString(e);\n  var t;\n  if (e == 16)\n    t = 4;\n  else if (e == 8)\n    t = 3;\n  else if (e == 2)\n    t = 1;\n  else if (e == 32)\n    t = 5;\n  else if (e == 4)\n    t = 2;\n  else\n    return this.toRadix(e);\n  var r = (1 << t) - 1, i, s = !1, n = \"\", h = this.t, u = this.DB - h * this.DB % t;\n  if (h-- > 0)\n    for (u < this.DB && (i = this[h] >> u) > 0 && (s = !0, n = De(i)); h >= 0; )\n      u < t ? (i = (this[h] & (1 << u) - 1) << t - u, i |= this[--h] >> (u += this.DB - t)) : (i = this[h] >> (u -= t) & r, u <= 0 && (u += this.DB, --h)), i > 0 && (s = !0), s && (n += De(i));\n  return s ? n : \"0\";\n}\nfunction Jt() {\n  var e = _();\n  return R.ZERO.subTo(this, e), e;\n}\nfunction $t() {\n  return this.s < 0 ? this.negate() : this;\n}\nfunction Yt(e) {\n  var t = this.s - e.s;\n  if (t != 0)\n    return t;\n  var r = this.t;\n  if (t = r - e.t, t != 0)\n    return this.s < 0 ? -t : t;\n  for (; --r >= 0; )\n    if ((t = this[r] - e[r]) != 0)\n      return t;\n  return 0;\n}\nfunction Ye(e) {\n  var t = 1, r;\n  return (r = e >>> 16) != 0 && (e = r, t += 16), (r = e >> 8) != 0 && (e = r, t += 8), (r = e >> 4) != 0 && (e = r, t += 4), (r = e >> 2) != 0 && (e = r, t += 2), (r = e >> 1) != 0 && (e = r, t += 1), t;\n}\nfunction Zt() {\n  return this.t <= 0 ? 0 : this.DB * (this.t - 1) + Ye(this[this.t - 1] ^ this.s & this.DM);\n}\nfunction Qt(e, t) {\n  var r;\n  for (r = this.t - 1; r >= 0; --r)\n    t[r + e] = this[r];\n  for (r = e - 1; r >= 0; --r)\n    t[r] = 0;\n  t.t = this.t + e, t.s = this.s;\n}\nfunction er(e, t) {\n  for (var r = e; r < this.t; ++r)\n    t[r - e] = this[r];\n  t.t = Math.max(this.t - e, 0), t.s = this.s;\n}\nfunction tr(e, t) {\n  var r = e % this.DB, i = this.DB - r, s = (1 << i) - 1, n = Math.floor(e / this.DB), h = this.s << r & this.DM, u;\n  for (u = this.t - 1; u >= 0; --u)\n    t[u + n + 1] = this[u] >> i | h, h = (this[u] & s) << r;\n  for (u = n - 1; u >= 0; --u)\n    t[u] = 0;\n  t[n] = h, t.t = this.t + n + 1, t.s = this.s, t.clamp();\n}\nfunction rr(e, t) {\n  t.s = this.s;\n  var r = Math.floor(e / this.DB);\n  if (r >= this.t) {\n    t.t = 0;\n    return;\n  }\n  var i = e % this.DB, s = this.DB - i, n = (1 << i) - 1;\n  t[0] = this[r] >> i;\n  for (var h = r + 1; h < this.t; ++h)\n    t[h - r - 1] |= (this[h] & n) << s, t[h - r] = this[h] >> i;\n  i > 0 && (t[this.t - r - 1] |= (this.s & n) << s), t.t = this.t - r, t.clamp();\n}\nfunction ir(e, t) {\n  for (var r = 0, i = 0, s = Math.min(e.t, this.t); r < s; )\n    i += this[r] - e[r], t[r++] = i & this.DM, i >>= this.DB;\n  if (e.t < this.t) {\n    for (i -= e.s; r < this.t; )\n      i += this[r], t[r++] = i & this.DM, i >>= this.DB;\n    i += this.s;\n  } else {\n    for (i += this.s; r < e.t; )\n      i -= e[r], t[r++] = i & this.DM, i >>= this.DB;\n    i -= e.s;\n  }\n  t.s = i < 0 ? -1 : 0, i < -1 ? t[r++] = this.DV + i : i > 0 && (t[r++] = i), t.t = r, t.clamp();\n}\nfunction nr(e, t) {\n  var r = this.abs(), i = e.abs(), s = r.t;\n  for (t.t = s + i.t; --s >= 0; )\n    t[s] = 0;\n  for (s = 0; s < i.t; ++s)\n    t[s + r.t] = r.am(0, i[s], t, s, 0, r.t);\n  t.s = 0, t.clamp(), this.s != e.s && R.ZERO.subTo(t, t);\n}\nfunction sr(e) {\n  for (var t = this.abs(), r = e.t = 2 * t.t; --r >= 0; )\n    e[r] = 0;\n  for (r = 0; r < t.t - 1; ++r) {\n    var i = t.am(r, t[r], e, 2 * r, 0, 1);\n    (e[r + t.t] += t.am(r + 1, 2 * t[r], e, 2 * r + 1, i, t.t - r - 1)) >= t.DV && (e[r + t.t] -= t.DV, e[r + t.t + 1] = 1);\n  }\n  e.t > 0 && (e[e.t - 1] += t.am(r, t[r], e, 2 * r, 0, 1)), e.s = 0, e.clamp();\n}\nfunction ar(e, t, r) {\n  var i = e.abs();\n  if (!(i.t <= 0)) {\n    var s = this.abs();\n    if (s.t < i.t) {\n      t != null && t.fromInt(0), r != null && this.copyTo(r);\n      return;\n    }\n    r == null && (r = _());\n    var n = _(), h = this.s, u = e.s, p = this.DB - Ye(i[i.t - 1]);\n    p > 0 ? (i.lShiftTo(p, n), s.lShiftTo(p, r)) : (i.copyTo(n), s.copyTo(r));\n    var c = n.t, y = n[c - 1];\n    if (y != 0) {\n      var v = y * (1 << this.F1) + (c > 1 ? n[c - 2] >> this.F2 : 0), o = this.FV / v, l = (1 << this.F1) / v, f = 1 << this.F2, d = r.t, g = d - c, S = t ?? _();\n      for (n.dlShiftTo(g, S), r.compareTo(S) >= 0 && (r[r.t++] = 1, r.subTo(S, r)), R.ONE.dlShiftTo(c, S), S.subTo(n, n); n.t < c; )\n        n[n.t++] = 0;\n      for (; --g >= 0; ) {\n        var b = r[--d] == y ? this.DM : Math.floor(r[d] * o + (r[d - 1] + f) * l);\n        if ((r[d] += n.am(0, b, r, g, 0, c)) < b)\n          for (n.dlShiftTo(g, S), r.subTo(S, r); r[d] < --b; )\n            r.subTo(S, r);\n      }\n      t != null && (r.drShiftTo(c, t), h != u && R.ZERO.subTo(t, t)), r.t = c, r.clamp(), p > 0 && r.rShiftTo(p, r), h < 0 && R.ZERO.subTo(r, r);\n    }\n  }\n}\nfunction or(e) {\n  var t = _();\n  return this.abs().divRemTo(e, null, t), this.s < 0 && t.compareTo(R.ZERO) > 0 && e.subTo(t, t), t;\n}\nfunction Oe(e) {\n  this.m = e;\n}\nfunction ur(e) {\n  return e.s < 0 || e.compareTo(this.m) >= 0 ? e.mod(this.m) : e;\n}\nfunction hr(e) {\n  return e;\n}\nfunction fr(e) {\n  e.divRemTo(this.m, null, e);\n}\nfunction cr(e, t, r) {\n  e.multiplyTo(t, r), this.reduce(r);\n}\nfunction lr(e, t) {\n  e.squareTo(t), this.reduce(t);\n}\nOe.prototype.convert = ur;\nOe.prototype.revert = hr;\nOe.prototype.reduce = fr;\nOe.prototype.mulTo = cr;\nOe.prototype.sqrTo = lr;\nfunction dr() {\n  if (this.t < 1)\n    return 0;\n  var e = this[0];\n  if (!(e & 1))\n    return 0;\n  var t = e & 3;\n  return t = t * (2 - (e & 15) * t) & 15, t = t * (2 - (e & 255) * t) & 255, t = t * (2 - ((e & 65535) * t & 65535)) & 65535, t = t * (2 - e * t % this.DV) % this.DV, t > 0 ? this.DV - t : -t;\n}\nfunction je(e) {\n  this.m = e, this.mp = e.invDigit(), this.mpl = this.mp & 32767, this.mph = this.mp >> 15, this.um = (1 << e.DB - 15) - 1, this.mt2 = 2 * e.t;\n}\nfunction pr(e) {\n  var t = _();\n  return e.abs().dlShiftTo(this.m.t, t), t.divRemTo(this.m, null, t), e.s < 0 && t.compareTo(R.ZERO) > 0 && this.m.subTo(t, t), t;\n}\nfunction vr(e) {\n  var t = _();\n  return e.copyTo(t), this.reduce(t), t;\n}\nfunction gr(e) {\n  for (; e.t <= this.mt2; )\n    e[e.t++] = 0;\n  for (var t = 0; t < this.m.t; ++t) {\n    var r = e[t] & 32767, i = r * this.mpl + ((r * this.mph + (e[t] >> 15) * this.mpl & this.um) << 15) & e.DM;\n    for (r = t + this.m.t, e[r] += this.m.am(0, i, e, t, 0, this.m.t); e[r] >= e.DV; )\n      e[r] -= e.DV, e[++r]++;\n  }\n  e.clamp(), e.drShiftTo(this.m.t, e), e.compareTo(this.m) >= 0 && e.subTo(this.m, e);\n}\nfunction yr(e, t) {\n  e.squareTo(t), this.reduce(t);\n}\nfunction mr(e, t, r) {\n  e.multiplyTo(t, r), this.reduce(r);\n}\nje.prototype.convert = pr;\nje.prototype.revert = vr;\nje.prototype.reduce = gr;\nje.prototype.mulTo = mr;\nje.prototype.sqrTo = yr;\nfunction xr() {\n  return (this.t > 0 ? this[0] & 1 : this.s) == 0;\n}\nfunction Sr(e, t) {\n  if (e > 4294967295 || e < 1)\n    return R.ONE;\n  var r = _(), i = _(), s = t.convert(this), n = Ye(e) - 1;\n  for (s.copyTo(r); --n >= 0; )\n    if (t.sqrTo(r, i), (e & 1 << n) > 0)\n      t.mulTo(i, s, r);\n    else {\n      var h = r;\n      r = i, i = h;\n    }\n  return t.revert(r);\n}\nfunction Er(e, t) {\n  var r;\n  return e < 256 || t.isEven() ? r = new Oe(t) : r = new je(t), this.exp(e, r);\n}\nR.prototype.copyTo = Ut;\nR.prototype.fromInt = zt;\nR.prototype.fromString = Gt;\nR.prototype.clamp = Wt;\nR.prototype.dlShiftTo = Qt;\nR.prototype.drShiftTo = er;\nR.prototype.lShiftTo = tr;\nR.prototype.rShiftTo = rr;\nR.prototype.subTo = ir;\nR.prototype.multiplyTo = nr;\nR.prototype.squareTo = sr;\nR.prototype.divRemTo = ar;\nR.prototype.invDigit = dr;\nR.prototype.isEven = xr;\nR.prototype.exp = Sr;\nR.prototype.toString = Xt;\nR.prototype.negate = Jt;\nR.prototype.abs = $t;\nR.prototype.compareTo = Yt;\nR.prototype.bitLength = Zt;\nR.prototype.mod = or;\nR.prototype.modPowInt = Er;\nR.ZERO = Re(0);\nR.ONE = Re(1);\n/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/\n */\nfunction wr() {\n  var e = _();\n  return this.copyTo(e), e;\n}\nfunction Fr() {\n  if (this.s < 0) {\n    if (this.t == 1)\n      return this[0] - this.DV;\n    if (this.t == 0)\n      return -1;\n  } else {\n    if (this.t == 1)\n      return this[0];\n    if (this.t == 0)\n      return 0;\n  }\n  return (this[1] & (1 << 32 - this.DB) - 1) << this.DB | this[0];\n}\nfunction br() {\n  return this.t == 0 ? this.s : this[0] << 24 >> 24;\n}\nfunction Ar() {\n  return this.t == 0 ? this.s : this[0] << 16 >> 16;\n}\nfunction Dr(e) {\n  return Math.floor(Math.LN2 * this.DB / Math.log(e));\n}\nfunction Pr() {\n  return this.s < 0 ? -1 : this.t <= 0 || this.t == 1 && this[0] <= 0 ? 0 : 1;\n}\nfunction Ir(e) {\n  if (e == null && (e = 10), this.signum() == 0 || e < 2 || e > 36)\n    return \"0\";\n  var t = this.chunkSize(e), r = Math.pow(e, t), i = Re(r), s = _(), n = _(), h = \"\";\n  for (this.divRemTo(i, s, n); s.signum() > 0; )\n    h = (r + n.intValue()).toString(e).substr(1) + h, s.divRemTo(i, s, n);\n  return n.intValue().toString(e) + h;\n}\nfunction Cr(e, t) {\n  this.fromInt(0), t == null && (t = 10);\n  for (var r = this.chunkSize(t), i = Math.pow(t, r), s = !1, n = 0, h = 0, u = 0; u < e.length; ++u) {\n    var p = wt(e, u);\n    if (p < 0) {\n      e.charAt(u) == \"-\" && this.signum() == 0 && (s = !0);\n      continue;\n    }\n    h = t * h + p, ++n >= r && (this.dMultiply(i), this.dAddOffset(h, 0), n = 0, h = 0);\n  }\n  n > 0 && (this.dMultiply(Math.pow(t, n)), this.dAddOffset(h, 0)), s && R.ZERO.subTo(this, this);\n}\nfunction Rr(e, t, r) {\n  if (typeof t == \"number\")\n    if (e < 2)\n      this.fromInt(1);\n    else\n      for (this.fromNumber(e, r), this.testBit(e - 1) || this.bitwiseTo(R.ONE.shiftLeft(e - 1), st, this), this.isEven() && this.dAddOffset(1, 0); !this.isProbablePrime(t); )\n        this.dAddOffset(2, 0), this.bitLength() > e && this.subTo(R.ONE.shiftLeft(e - 1), this);\n  else {\n    var i = new Array(), s = e & 7;\n    i.length = (e >> 3) + 1, t.nextBytes(i), s > 0 ? i[0] &= (1 << s) - 1 : i[0] = 0, this.fromString(i, 256);\n  }\n}\nfunction Tr() {\n  var e = this.t, t = new Array();\n  t[0] = this.s;\n  var r = this.DB - e * this.DB % 8, i, s = 0;\n  if (e-- > 0)\n    for (r < this.DB && (i = this[e] >> r) != (this.s & this.DM) >> r && (t[s++] = i | this.s << this.DB - r); e >= 0; )\n      r < 8 ? (i = (this[e] & (1 << r) - 1) << 8 - r, i |= this[--e] >> (r += this.DB - 8)) : (i = this[e] >> (r -= 8) & 255, r <= 0 && (r += this.DB, --e)), i & 128 && (i |= -256), s == 0 && (this.s & 128) != (i & 128) && ++s, (s > 0 || i != this.s) && (t[s++] = i);\n  return t;\n}\nfunction Br(e) {\n  return this.compareTo(e) == 0;\n}\nfunction Nr(e) {\n  return this.compareTo(e) < 0 ? this : e;\n}\nfunction Hr(e) {\n  return this.compareTo(e) > 0 ? this : e;\n}\nfunction Or(e, t, r) {\n  var i, s, n = Math.min(e.t, this.t);\n  for (i = 0; i < n; ++i)\n    r[i] = t(this[i], e[i]);\n  if (e.t < this.t) {\n    for (s = e.s & this.DM, i = n; i < this.t; ++i)\n      r[i] = t(this[i], s);\n    r.t = this.t;\n  } else {\n    for (s = this.s & this.DM, i = n; i < e.t; ++i)\n      r[i] = t(s, e[i]);\n    r.t = e.t;\n  }\n  r.s = t(this.s, e.s), r.clamp();\n}\nfunction jr(e, t) {\n  return e & t;\n}\nfunction Vr(e) {\n  var t = _();\n  return this.bitwiseTo(e, jr, t), t;\n}\nfunction st(e, t) {\n  return e | t;\n}\nfunction Kr(e) {\n  var t = _();\n  return this.bitwiseTo(e, st, t), t;\n}\nfunction Ft(e, t) {\n  return e ^ t;\n}\nfunction Lr(e) {\n  var t = _();\n  return this.bitwiseTo(e, Ft, t), t;\n}\nfunction bt(e, t) {\n  return e & ~t;\n}\nfunction qr(e) {\n  var t = _();\n  return this.bitwiseTo(e, bt, t), t;\n}\nfunction kr() {\n  for (var e = _(), t = 0; t < this.t; ++t)\n    e[t] = this.DM & ~this[t];\n  return e.t = this.t, e.s = ~this.s, e;\n}\nfunction Mr(e) {\n  var t = _();\n  return e < 0 ? this.rShiftTo(-e, t) : this.lShiftTo(e, t), t;\n}\nfunction _r(e) {\n  var t = _();\n  return e < 0 ? this.lShiftTo(-e, t) : this.rShiftTo(e, t), t;\n}\nfunction Ur(e) {\n  if (e == 0)\n    return -1;\n  var t = 0;\n  return e & 65535 || (e >>= 16, t += 16), e & 255 || (e >>= 8, t += 8), e & 15 || (e >>= 4, t += 4), e & 3 || (e >>= 2, t += 2), e & 1 || ++t, t;\n}\nfunction zr() {\n  for (var e = 0; e < this.t; ++e)\n    if (this[e] != 0)\n      return e * this.DB + Ur(this[e]);\n  return this.s < 0 ? this.t * this.DB : -1;\n}\nfunction Gr(e) {\n  for (var t = 0; e != 0; )\n    e &= e - 1, ++t;\n  return t;\n}\nfunction Wr() {\n  for (var e = 0, t = this.s & this.DM, r = 0; r < this.t; ++r)\n    e += Gr(this[r] ^ t);\n  return e;\n}\nfunction Xr(e) {\n  var t = Math.floor(e / this.DB);\n  return t >= this.t ? this.s != 0 : (this[t] & 1 << e % this.DB) != 0;\n}\nfunction Jr(e, t) {\n  var r = R.ONE.shiftLeft(e);\n  return this.bitwiseTo(r, t, r), r;\n}\nfunction $r(e) {\n  return this.changeBit(e, st);\n}\nfunction Yr(e) {\n  return this.changeBit(e, bt);\n}\nfunction Zr(e) {\n  return this.changeBit(e, Ft);\n}\nfunction Qr(e, t) {\n  for (var r = 0, i = 0, s = Math.min(e.t, this.t); r < s; )\n    i += this[r] + e[r], t[r++] = i & this.DM, i >>= this.DB;\n  if (e.t < this.t) {\n    for (i += e.s; r < this.t; )\n      i += this[r], t[r++] = i & this.DM, i >>= this.DB;\n    i += this.s;\n  } else {\n    for (i += this.s; r < e.t; )\n      i += e[r], t[r++] = i & this.DM, i >>= this.DB;\n    i += e.s;\n  }\n  t.s = i < 0 ? -1 : 0, i > 0 ? t[r++] = i : i < -1 && (t[r++] = this.DV + i), t.t = r, t.clamp();\n}\nfunction ei(e) {\n  var t = _();\n  return this.addTo(e, t), t;\n}\nfunction ti(e) {\n  var t = _();\n  return this.subTo(e, t), t;\n}\nfunction ri(e) {\n  var t = _();\n  return this.multiplyTo(e, t), t;\n}\nfunction ii() {\n  var e = _();\n  return this.squareTo(e), e;\n}\nfunction ni(e) {\n  var t = _();\n  return this.divRemTo(e, t, null), t;\n}\nfunction si(e) {\n  var t = _();\n  return this.divRemTo(e, null, t), t;\n}\nfunction ai(e) {\n  var t = _(), r = _();\n  return this.divRemTo(e, t, r), new Array(t, r);\n}\nfunction oi(e) {\n  this[this.t] = this.am(0, e - 1, this, 0, 0, this.t), ++this.t, this.clamp();\n}\nfunction ui(e, t) {\n  if (e != 0) {\n    for (; this.t <= t; )\n      this[this.t++] = 0;\n    for (this[t] += e; this[t] >= this.DV; )\n      this[t] -= this.DV, ++t >= this.t && (this[this.t++] = 0), ++this[t];\n  }\n}\nfunction ze() {\n}\nfunction At(e) {\n  return e;\n}\nfunction hi(e, t, r) {\n  e.multiplyTo(t, r);\n}\nfunction fi(e, t) {\n  e.squareTo(t);\n}\nze.prototype.convert = At;\nze.prototype.revert = At;\nze.prototype.mulTo = hi;\nze.prototype.sqrTo = fi;\nfunction ci(e) {\n  return this.exp(e, new ze());\n}\nfunction li(e, t, r) {\n  var i = Math.min(this.t + e.t, t);\n  for (r.s = 0, r.t = i; i > 0; )\n    r[--i] = 0;\n  var s;\n  for (s = r.t - this.t; i < s; ++i)\n    r[i + this.t] = this.am(0, e[i], r, i, 0, this.t);\n  for (s = Math.min(e.t, t); i < s; ++i)\n    this.am(0, e[i], r, i, 0, t - i);\n  r.clamp();\n}\nfunction di(e, t, r) {\n  --t;\n  var i = r.t = this.t + e.t - t;\n  for (r.s = 0; --i >= 0; )\n    r[i] = 0;\n  for (i = Math.max(t - this.t, 0); i < e.t; ++i)\n    r[this.t + i - t] = this.am(t - i, e[i], r, 0, 0, this.t + i - t);\n  r.clamp(), r.drShiftTo(1, r);\n}\nfunction qe(e) {\n  this.r2 = _(), this.q3 = _(), R.ONE.dlShiftTo(2 * e.t, this.r2), this.mu = this.r2.divide(e), this.m = e;\n}\nfunction pi(e) {\n  if (e.s < 0 || e.t > 2 * this.m.t)\n    return e.mod(this.m);\n  if (e.compareTo(this.m) < 0)\n    return e;\n  var t = _();\n  return e.copyTo(t), this.reduce(t), t;\n}\nfunction vi(e) {\n  return e;\n}\nfunction gi(e) {\n  for (e.drShiftTo(this.m.t - 1, this.r2), e.t > this.m.t + 1 && (e.t = this.m.t + 1, e.clamp()), this.mu.multiplyUpperTo(this.r2, this.m.t + 1, this.q3), this.m.multiplyLowerTo(this.q3, this.m.t + 1, this.r2); e.compareTo(this.r2) < 0; )\n    e.dAddOffset(1, this.m.t + 1);\n  for (e.subTo(this.r2, e); e.compareTo(this.m) >= 0; )\n    e.subTo(this.m, e);\n}\nfunction yi(e, t) {\n  e.squareTo(t), this.reduce(t);\n}\nfunction mi(e, t, r) {\n  e.multiplyTo(t, r), this.reduce(r);\n}\nqe.prototype.convert = pi;\nqe.prototype.revert = vi;\nqe.prototype.reduce = gi;\nqe.prototype.mulTo = mi;\nqe.prototype.sqrTo = yi;\nfunction xi(e, t) {\n  var r = e.bitLength(), i, s = Re(1), n;\n  if (r <= 0)\n    return s;\n  r < 18 ? i = 1 : r < 48 ? i = 3 : r < 144 ? i = 4 : r < 768 ? i = 5 : i = 6, r < 8 ? n = new Oe(t) : t.isEven() ? n = new qe(t) : n = new je(t);\n  var h = new Array(), u = 3, p = i - 1, c = (1 << i) - 1;\n  if (h[1] = n.convert(this), i > 1) {\n    var y = _();\n    for (n.sqrTo(h[1], y); u <= c; )\n      h[u] = _(), n.mulTo(y, h[u - 2], h[u]), u += 2;\n  }\n  var v = e.t - 1, o, l = !0, f = _(), d;\n  for (r = Ye(e[v]) - 1; v >= 0; ) {\n    for (r >= p ? o = e[v] >> r - p & c : (o = (e[v] & (1 << r + 1) - 1) << p - r, v > 0 && (o |= e[v - 1] >> this.DB + r - p)), u = i; !(o & 1); )\n      o >>= 1, --u;\n    if ((r -= u) < 0 && (r += this.DB, --v), l)\n      h[o].copyTo(s), l = !1;\n    else {\n      for (; u > 1; )\n        n.sqrTo(s, f), n.sqrTo(f, s), u -= 2;\n      u > 0 ? n.sqrTo(s, f) : (d = s, s = f, f = d), n.mulTo(f, h[o], s);\n    }\n    for (; v >= 0 && !(e[v] & 1 << r); )\n      n.sqrTo(s, f), d = s, s = f, f = d, --r < 0 && (r = this.DB - 1, --v);\n  }\n  return n.revert(s);\n}\nfunction Si(e) {\n  var t = this.s < 0 ? this.negate() : this.clone(), r = e.s < 0 ? e.negate() : e.clone();\n  if (t.compareTo(r) < 0) {\n    var i = t;\n    t = r, r = i;\n  }\n  var s = t.getLowestSetBit(), n = r.getLowestSetBit();\n  if (n < 0)\n    return t;\n  for (s < n && (n = s), n > 0 && (t.rShiftTo(n, t), r.rShiftTo(n, r)); t.signum() > 0; )\n    (s = t.getLowestSetBit()) > 0 && t.rShiftTo(s, t), (s = r.getLowestSetBit()) > 0 && r.rShiftTo(s, r), t.compareTo(r) >= 0 ? (t.subTo(r, t), t.rShiftTo(1, t)) : (r.subTo(t, r), r.rShiftTo(1, r));\n  return n > 0 && r.lShiftTo(n, r), r;\n}\nfunction Ei(e) {\n  if (e <= 0)\n    return 0;\n  var t = this.DV % e, r = this.s < 0 ? e - 1 : 0;\n  if (this.t > 0)\n    if (t == 0)\n      r = this[0] % e;\n    else\n      for (var i = this.t - 1; i >= 0; --i)\n        r = (t * r + this[i]) % e;\n  return r;\n}\nfunction wi(e) {\n  var t = e.isEven();\n  if (this.isEven() && t || e.signum() == 0)\n    return R.ZERO;\n  for (var r = e.clone(), i = this.clone(), s = Re(1), n = Re(0), h = Re(0), u = Re(1); r.signum() != 0; ) {\n    for (; r.isEven(); )\n      r.rShiftTo(1, r), t ? ((!s.isEven() || !n.isEven()) && (s.addTo(this, s), n.subTo(e, n)), s.rShiftTo(1, s)) : n.isEven() || n.subTo(e, n), n.rShiftTo(1, n);\n    for (; i.isEven(); )\n      i.rShiftTo(1, i), t ? ((!h.isEven() || !u.isEven()) && (h.addTo(this, h), u.subTo(e, u)), h.rShiftTo(1, h)) : u.isEven() || u.subTo(e, u), u.rShiftTo(1, u);\n    r.compareTo(i) >= 0 ? (r.subTo(i, r), t && s.subTo(h, s), n.subTo(u, n)) : (i.subTo(r, i), t && h.subTo(s, h), u.subTo(n, u));\n  }\n  if (i.compareTo(R.ONE) != 0)\n    return R.ZERO;\n  if (u.compareTo(e) >= 0)\n    return u.subtract(e);\n  if (u.signum() < 0)\n    u.addTo(e, u);\n  else\n    return u;\n  return u.signum() < 0 ? u.add(e) : u;\n}\nvar le = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97, 101, 103, 107, 109, 113, 127, 131, 137, 139, 149, 151, 157, 163, 167, 173, 179, 181, 191, 193, 197, 199, 211, 223, 227, 229, 233, 239, 241, 251, 257, 263, 269, 271, 277, 281, 283, 293, 307, 311, 313, 317, 331, 337, 347, 349, 353, 359, 367, 373, 379, 383, 389, 397, 401, 409, 419, 421, 431, 433, 439, 443, 449, 457, 461, 463, 467, 479, 487, 491, 499, 503, 509, 521, 523, 541, 547, 557, 563, 569, 571, 577, 587, 593, 599, 601, 607, 613, 617, 619, 631, 641, 643, 647, 653, 659, 661, 673, 677, 683, 691, 701, 709, 719, 727, 733, 739, 743, 751, 757, 761, 769, 773, 787, 797, 809, 811, 821, 823, 827, 829, 839, 853, 857, 859, 863, 877, 881, 883, 887, 907, 911, 919, 929, 937, 941, 947, 953, 967, 971, 977, 983, 991, 997], Fi = (1 << 26) / le[le.length - 1];\nfunction bi(e) {\n  var t, r = this.abs();\n  if (r.t == 1 && r[0] <= le[le.length - 1]) {\n    for (t = 0; t < le.length; ++t)\n      if (r[0] == le[t])\n        return !0;\n    return !1;\n  }\n  if (r.isEven())\n    return !1;\n  for (t = 1; t < le.length; ) {\n    for (var i = le[t], s = t + 1; s < le.length && i < Fi; )\n      i *= le[s++];\n    for (i = r.modInt(i); t < s; )\n      if (i % le[t++] == 0)\n        return !1;\n  }\n  return r.millerRabin(e);\n}\nfunction Ai(e) {\n  var t = this.subtract(R.ONE), r = t.getLowestSetBit();\n  if (r <= 0)\n    return !1;\n  var i = t.shiftRight(r);\n  e = e + 1 >> 1, e > le.length && (e = le.length);\n  for (var s = _(), n = 0; n < e; ++n) {\n    s.fromInt(le[Math.floor(Math.random() * le.length)]);\n    var h = s.modPow(i, this);\n    if (h.compareTo(R.ONE) != 0 && h.compareTo(t) != 0) {\n      for (var u = 1; u++ < r && h.compareTo(t) != 0; )\n        if (h = h.modPowInt(2, this), h.compareTo(R.ONE) == 0)\n          return !1;\n      if (h.compareTo(t) != 0)\n        return !1;\n    }\n  }\n  return !0;\n}\nR.prototype.chunkSize = Dr;\nR.prototype.toRadix = Ir;\nR.prototype.fromRadix = Cr;\nR.prototype.fromNumber = Rr;\nR.prototype.bitwiseTo = Or;\nR.prototype.changeBit = Jr;\nR.prototype.addTo = Qr;\nR.prototype.dMultiply = oi;\nR.prototype.dAddOffset = ui;\nR.prototype.multiplyLowerTo = li;\nR.prototype.multiplyUpperTo = di;\nR.prototype.modInt = Ei;\nR.prototype.millerRabin = Ai;\nR.prototype.clone = wr;\nR.prototype.intValue = Fr;\nR.prototype.byteValue = br;\nR.prototype.shortValue = Ar;\nR.prototype.signum = Pr;\nR.prototype.toByteArray = Tr;\nR.prototype.equals = Br;\nR.prototype.min = Nr;\nR.prototype.max = Hr;\nR.prototype.and = Vr;\nR.prototype.or = Kr;\nR.prototype.xor = Lr;\nR.prototype.andNot = qr;\nR.prototype.not = kr;\nR.prototype.shiftLeft = Mr;\nR.prototype.shiftRight = _r;\nR.prototype.getLowestSetBit = zr;\nR.prototype.bitCount = Wr;\nR.prototype.testBit = Xr;\nR.prototype.setBit = $r;\nR.prototype.clearBit = Yr;\nR.prototype.flipBit = Zr;\nR.prototype.add = ei;\nR.prototype.subtract = ti;\nR.prototype.multiply = ri;\nR.prototype.divide = ni;\nR.prototype.remainder = si;\nR.prototype.divideAndRemainder = ai;\nR.prototype.modPow = xi;\nR.prototype.modInverse = wi;\nR.prototype.pow = ci;\nR.prototype.gcd = Si;\nR.prototype.isProbablePrime = bi;\nR.prototype.square = ii;\n/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/\n */\nfunction at() {\n  this.i = 0, this.j = 0, this.S = new Array();\n}\nfunction Di(e) {\n  var t, r, i;\n  for (t = 0; t < 256; ++t)\n    this.S[t] = t;\n  for (r = 0, t = 0; t < 256; ++t)\n    r = r + this.S[t] + e[t % e.length] & 255, i = this.S[t], this.S[t] = this.S[r], this.S[r] = i;\n  this.i = 0, this.j = 0;\n}\nfunction Pi() {\n  var e;\n  return this.i = this.i + 1 & 255, this.j = this.j + this.S[this.i] & 255, e = this.S[this.i], this.S[this.i] = this.S[this.j], this.S[this.j] = e, this.S[e + this.S[this.i] & 255];\n}\nat.prototype.init = Di;\nat.prototype.next = Pi;\nfunction Ii() {\n  return new at();\n}\nvar et = 256;\n/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/\n */\nvar We, ge, oe;\nfunction Ci(e) {\n  ge[oe++] ^= e & 255, ge[oe++] ^= e >> 8 & 255, ge[oe++] ^= e >> 16 & 255, ge[oe++] ^= e >> 24 & 255, oe >= et && (oe -= et);\n}\nfunction Dt() {\n  Ci((/* @__PURE__ */ new Date()).getTime());\n}\nif (ge == null) {\n  ge = new Array(), oe = 0;\n  var Se;\n  if (Ve !== void 0 && (Ve.crypto !== void 0 || Ve.msCrypto !== void 0)) {\n    var lt = Ve.crypto || Ve.msCrypto;\n    if (lt.getRandomValues) {\n      var dt = new Uint8Array(32);\n      for (lt.getRandomValues(dt), Se = 0; Se < 32; ++Se)\n        ge[oe++] = dt[Se];\n    } else if (Ue.appName == \"Netscape\" && Ue.appVersion < \"5\") {\n      var pt = Ve.crypto.random(32);\n      for (Se = 0; Se < pt.length; ++Se)\n        ge[oe++] = pt.charCodeAt(Se) & 255;\n    }\n  }\n  for (; oe < et; )\n    Se = Math.floor(65536 * Math.random()), ge[oe++] = Se >>> 8, ge[oe++] = Se & 255;\n  oe = 0, Dt();\n}\nfunction Ri() {\n  if (We == null) {\n    for (Dt(), We = Ii(), We.init(ge), oe = 0; oe < ge.length; ++oe)\n      ge[oe] = 0;\n    oe = 0;\n  }\n  return We.next();\n}\nfunction Ti(e) {\n  var t;\n  for (t = 0; t < e.length; ++t)\n    e[t] = Ri();\n}\nfunction Ge() {\n}\nGe.prototype.nextBytes = Ti;\n/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/\n */\nfunction ve(e, t) {\n  return new R(e, t);\n}\nfunction q() {\n  this.n = null, this.e = 0, this.d = null, this.p = null, this.q = null, this.dmp1 = null, this.dmq1 = null, this.coeff = null;\n}\nfunction Bi(e, t) {\n  if (this.isPublic = !0, this.isPrivate = !1, typeof e != \"string\")\n    this.n = e, this.e = t;\n  else if (e != null && t != null && e.length > 0 && t.length > 0)\n    this.n = ve(e, 16), this.e = parseInt(t, 16);\n  else\n    throw \"Invalid RSA public key\";\n}\nfunction Ni(e) {\n  return e.modPowInt(this.e, this.n);\n}\nq.prototype.doPublic = Ni;\nq.prototype.setPublic = Bi;\nq.prototype.type = \"RSA\";\nfunction Hi(e, t, r) {\n  if (this.isPrivate = !0, typeof e != \"string\")\n    this.n = e, this.e = t, this.d = r;\n  else if (e != null && t != null && e.length > 0 && t.length > 0)\n    this.n = ve(e, 16), this.e = parseInt(t, 16), this.d = ve(r, 16);\n  else\n    throw \"Invalid RSA private key\";\n}\nfunction Oi(e, t, r, i, s, n, h, u) {\n  if (this.isPrivate = !0, this.isPublic = !1, e == null)\n    throw \"RSASetPrivateEx N == null\";\n  if (t == null)\n    throw \"RSASetPrivateEx E == null\";\n  if (e.length == 0)\n    throw \"RSASetPrivateEx N.length == 0\";\n  if (t.length == 0)\n    throw \"RSASetPrivateEx E.length == 0\";\n  if (e != null && t != null && e.length > 0 && t.length > 0)\n    this.n = ve(e, 16), this.e = parseInt(t, 16), this.d = ve(r, 16), this.p = ve(i, 16), this.q = ve(s, 16), this.dmp1 = ve(n, 16), this.dmq1 = ve(h, 16), this.coeff = ve(u, 16);\n  else\n    throw \"Invalid RSA private key in RSASetPrivateEx\";\n}\nfunction ji(e, t) {\n  var r = new Ge(), i = e >> 1;\n  this.e = parseInt(t, 16);\n  for (var s = new R(t, 16), n = e / 2 - 100, h = R.ONE.shiftLeft(n); ; ) {\n    for (; this.p = new R(e - i, 1, r), !(this.p.subtract(R.ONE).gcd(s).compareTo(R.ONE) == 0 && this.p.isProbablePrime(10)); )\n      ;\n    for (; this.q = new R(i, 1, r), !(this.q.subtract(R.ONE).gcd(s).compareTo(R.ONE) == 0 && this.q.isProbablePrime(10)); )\n      ;\n    if (this.p.compareTo(this.q) <= 0) {\n      var u = this.p;\n      this.p = this.q, this.q = u;\n    }\n    var p = this.q.subtract(this.p).abs();\n    if (!(p.bitLength() < n || p.compareTo(h) <= 0)) {\n      var c = this.p.subtract(R.ONE), y = this.q.subtract(R.ONE), v = c.multiply(y);\n      if (v.gcd(s).compareTo(R.ONE) == 0 && (this.n = this.p.multiply(this.q), this.n.bitLength() == e)) {\n        this.d = s.modInverse(v), this.dmp1 = this.d.mod(c), this.dmq1 = this.d.mod(y), this.coeff = this.q.modInverse(this.p);\n        break;\n      }\n    }\n  }\n  this.isPrivate = !0;\n}\nfunction Vi(e) {\n  if (this.p == null || this.q == null)\n    return e.modPow(this.d, this.n);\n  for (var t = e.mod(this.p).modPow(this.dmp1, this.p), r = e.mod(this.q).modPow(this.dmq1, this.q); t.compareTo(r) < 0; )\n    t = t.add(this.p);\n  return t.subtract(r).multiply(this.coeff).mod(this.p).multiply(this.q).add(r);\n}\nq.prototype.doPrivate = Vi;\nq.prototype.setPrivate = Hi;\nq.prototype.setPrivateEx = Oi;\nq.prototype.generate = ji;\n/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/\n */\nfunction ue(e, t) {\n  this.x = t, this.q = e;\n}\nfunction Ki(e) {\n  return e == this ? !0 : this.q.equals(e.q) && this.x.equals(e.x);\n}\nfunction Li() {\n  return this.x;\n}\nfunction qi() {\n  return new ue(this.q, this.x.negate().mod(this.q));\n}\nfunction ki(e) {\n  return new ue(this.q, this.x.add(e.toBigInteger()).mod(this.q));\n}\nfunction Mi(e) {\n  return new ue(this.q, this.x.subtract(e.toBigInteger()).mod(this.q));\n}\nfunction _i(e) {\n  return new ue(this.q, this.x.multiply(e.toBigInteger()).mod(this.q));\n}\nfunction Ui() {\n  return new ue(this.q, this.x.square().mod(this.q));\n}\nfunction zi(e) {\n  return new ue(this.q, this.x.multiply(e.toBigInteger().modInverse(this.q)).mod(this.q));\n}\nue.prototype.equals = Ki;\nue.prototype.toBigInteger = Li;\nue.prototype.negate = qi;\nue.prototype.add = ki;\nue.prototype.subtract = Mi;\nue.prototype.multiply = _i;\nue.prototype.square = Ui;\nue.prototype.divide = zi;\nue.prototype.sqrt = function() {\n  return new ue(this.q, this.x.sqrt().mod(this.q));\n};\nfunction z(e, t, r, i) {\n  this.curve = e, this.x = t, this.y = r, i == null ? this.z = R.ONE : this.z = i, this.zinv = null;\n}\nfunction Gi() {\n  return this.zinv == null && (this.zinv = this.z.modInverse(this.curve.q)), this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q));\n}\nfunction Wi() {\n  return this.zinv == null && (this.zinv = this.z.modInverse(this.curve.q)), this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q));\n}\nfunction Xi(e) {\n  if (e == this)\n    return !0;\n  if (this.isInfinity())\n    return e.isInfinity();\n  if (e.isInfinity())\n    return this.isInfinity();\n  var t, r;\n  return t = e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q), t.equals(R.ZERO) ? (r = e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q), r.equals(R.ZERO)) : !1;\n}\nfunction Ji() {\n  return this.x == null && this.y == null ? !0 : this.z.equals(R.ZERO) && !this.y.toBigInteger().equals(R.ZERO);\n}\nfunction $i() {\n  return new z(this.curve, this.x, this.y.negate(), this.z);\n}\nfunction Yi(e) {\n  if (this.isInfinity())\n    return e;\n  if (e.isInfinity())\n    return this;\n  var t = e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q), r = e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q);\n  if (R.ZERO.equals(r))\n    return R.ZERO.equals(t) ? this.twice() : this.curve.getInfinity();\n  var i = new R(\"3\"), s = this.x.toBigInteger(), n = this.y.toBigInteger();\n  e.x.toBigInteger(), e.y.toBigInteger();\n  var h = r.square(), u = h.multiply(r), p = s.multiply(h), c = t.square().multiply(this.z), y = c.subtract(p.shiftLeft(1)).multiply(e.z).subtract(u).multiply(r).mod(this.curve.q), v = p.multiply(i).multiply(t).subtract(n.multiply(u)).subtract(c.multiply(t)).multiply(e.z).add(t.multiply(u)).mod(this.curve.q), o = u.multiply(this.z).multiply(e.z).mod(this.curve.q);\n  return new z(this.curve, this.curve.fromBigInteger(y), this.curve.fromBigInteger(v), o);\n}\nfunction Zi() {\n  if (this.isInfinity())\n    return this;\n  if (this.y.toBigInteger().signum() == 0)\n    return this.curve.getInfinity();\n  var e = new R(\"3\"), t = this.x.toBigInteger(), r = this.y.toBigInteger(), i = r.multiply(this.z), s = i.multiply(r).mod(this.curve.q), n = this.curve.a.toBigInteger(), h = t.square().multiply(e);\n  R.ZERO.equals(n) || (h = h.add(this.z.square().multiply(n))), h = h.mod(this.curve.q);\n  var u = h.square().subtract(t.shiftLeft(3).multiply(s)).shiftLeft(1).multiply(i).mod(this.curve.q), p = h.multiply(e).multiply(t).subtract(s.shiftLeft(1)).shiftLeft(2).multiply(s).subtract(h.square().multiply(h)).mod(this.curve.q), c = i.square().multiply(i).shiftLeft(3).mod(this.curve.q);\n  return new z(this.curve, this.curve.fromBigInteger(u), this.curve.fromBigInteger(p), c);\n}\nfunction Qi(e) {\n  if (this.isInfinity())\n    return this;\n  if (e.signum() == 0)\n    return this.curve.getInfinity();\n  var t = e, r = t.multiply(new R(\"3\")), i = this.negate(), s = this, n = this.curve.q.subtract(e), h = n.multiply(new R(\"3\")), u = new z(this.curve, this.x, this.y), p = u.negate(), c;\n  for (c = r.bitLength() - 2; c > 0; --c) {\n    s = s.twice();\n    var y = r.testBit(c), v = t.testBit(c);\n    y != v && (s = s.add(y ? this : i));\n  }\n  for (c = h.bitLength() - 2; c > 0; --c) {\n    u = u.twice();\n    var o = h.testBit(c), l = n.testBit(c);\n    o != l && (u = u.add(o ? u : p));\n  }\n  return s;\n}\nfunction en(e, t, r) {\n  var i;\n  e.bitLength() > r.bitLength() ? i = e.bitLength() - 1 : i = r.bitLength() - 1;\n  for (var s = this.curve.getInfinity(), n = this.add(t); i >= 0; )\n    s = s.twice(), e.testBit(i) ? r.testBit(i) ? s = s.add(n) : s = s.add(this) : r.testBit(i) && (s = s.add(t)), --i;\n  return s;\n}\nz.prototype.getX = Gi;\nz.prototype.getY = Wi;\nz.prototype.equals = Xi;\nz.prototype.isInfinity = Ji;\nz.prototype.negate = $i;\nz.prototype.add = Yi;\nz.prototype.twice = Zi;\nz.prototype.multiply = Qi;\nz.prototype.multiplyTwo = en;\nfunction Be(e, t, r) {\n  this.q = e, this.a = this.fromBigInteger(t), this.b = this.fromBigInteger(r), this.infinity = new z(this, null, null);\n}\nfunction tn() {\n  return this.q;\n}\nfunction rn() {\n  return this.a;\n}\nfunction nn() {\n  return this.b;\n}\nfunction sn(e) {\n  return e == this ? !0 : this.q.equals(e.q) && this.a.equals(e.a) && this.b.equals(e.b);\n}\nfunction an() {\n  return this.infinity;\n}\nfunction on(e) {\n  return new ue(this.q, e);\n}\nfunction un(e) {\n  switch (parseInt(e.substr(0, 2), 16)) {\n    case 0:\n      return this.infinity;\n    case 2:\n    case 3:\n      var t = e.substr(0, 2);\n      e.substr(2);\n      var r = this.fromBigInteger(new R(p, 16)), i = this.getA(), s = this.getB(), n = r.square().add(i).multiply(r).add(s), h = n.sqrt();\n      return t == \"03\" && (h = h.negate()), new z(this, r, h);\n    case 4:\n    case 6:\n    case 7:\n      var u = (e.length - 2) / 2, p = e.substr(2, u), c = e.substr(u + 2, u);\n      return new z(this, this.fromBigInteger(new R(p, 16)), this.fromBigInteger(new R(c, 16)));\n    default:\n      return null;\n  }\n}\nBe.prototype.getQ = tn;\nBe.prototype.getA = rn;\nBe.prototype.getB = nn;\nBe.prototype.equals = sn;\nBe.prototype.getInfinity = an;\nBe.prototype.fromBigInteger = on;\nBe.prototype.decodePointHex = un;\n/*! (c) Stefan Thomas | https://github.com/bitcoinjs/bitcoinjs-lib\n */\nue.prototype.getByteLength = function() {\n  return Math.floor((this.toBigInteger().bitLength() + 7) / 8);\n};\nz.prototype.getEncoded = function(e) {\n  var t = function(n, h) {\n    var u = n.toByteArrayUnsigned();\n    if (h < u.length)\n      u = u.slice(u.length - h);\n    else\n      for (; h > u.length; )\n        u.unshift(0);\n    return u;\n  }, r = this.getX().toBigInteger(), i = this.getY().toBigInteger(), s = t(r, 32);\n  return e ? i.isEven() ? s.unshift(2) : s.unshift(3) : (s.unshift(4), s = s.concat(t(i, 32))), s;\n};\nz.decodeFrom = function(e, t) {\n  t[0];\n  var r = t.length - 1, i = t.slice(1, 1 + r / 2), s = t.slice(1 + r / 2, 1 + r);\n  i.unshift(0), s.unshift(0);\n  var n = new R(i), h = new R(s);\n  return new z(e, e.fromBigInteger(n), e.fromBigInteger(h));\n};\nz.decodeFromHex = function(e, t) {\n  t.substr(0, 2);\n  var r = t.length - 2, i = t.substr(2, r / 2), s = t.substr(2 + r / 2, r / 2), n = new R(i, 16), h = new R(s, 16);\n  return new z(e, e.fromBigInteger(n), e.fromBigInteger(h));\n};\nz.prototype.add2D = function(e) {\n  if (this.isInfinity())\n    return e;\n  if (e.isInfinity())\n    return this;\n  if (this.x.equals(e.x))\n    return this.y.equals(e.y) ? this.twice() : this.curve.getInfinity();\n  var t = e.x.subtract(this.x), r = e.y.subtract(this.y), i = r.divide(t), s = i.square().subtract(this.x).subtract(e.x), n = i.multiply(this.x.subtract(s)).subtract(this.y);\n  return new z(this.curve, s, n);\n};\nz.prototype.twice2D = function() {\n  if (this.isInfinity())\n    return this;\n  if (this.y.toBigInteger().signum() == 0)\n    return this.curve.getInfinity();\n  var e = this.curve.fromBigInteger(R.valueOf(2)), t = this.curve.fromBigInteger(R.valueOf(3)), r = this.x.square().multiply(t).add(this.curve.a).divide(this.y.multiply(e)), i = r.square().subtract(this.x.multiply(e)), s = r.multiply(this.x.subtract(i)).subtract(this.y);\n  return new z(this.curve, i, s);\n};\nz.prototype.multiply2D = function(e) {\n  if (this.isInfinity())\n    return this;\n  if (e.signum() == 0)\n    return this.curve.getInfinity();\n  var t = e, r = t.multiply(new R(\"3\")), i = this.negate(), s = this, n;\n  for (n = r.bitLength() - 2; n > 0; --n) {\n    s = s.twice();\n    var h = r.testBit(n), u = t.testBit(n);\n    h != u && (s = s.add2D(h ? this : i));\n  }\n  return s;\n};\nz.prototype.isOnCurve = function() {\n  var e = this.getX().toBigInteger(), t = this.getY().toBigInteger(), r = this.curve.getA().toBigInteger(), i = this.curve.getB().toBigInteger(), s = this.curve.getQ(), n = t.multiply(t).mod(s), h = e.multiply(e).multiply(e).add(r.multiply(e)).add(i).mod(s);\n  return n.equals(h);\n};\nz.prototype.toString = function() {\n  return \"(\" + this.getX().toBigInteger().toString() + \",\" + this.getY().toBigInteger().toString() + \")\";\n};\nz.prototype.validate = function() {\n  var e = this.curve.getQ();\n  if (this.isInfinity())\n    throw new Error(\"Point is at infinity.\");\n  var t = this.getX().toBigInteger(), r = this.getY().toBigInteger();\n  if (t.compareTo(R.ONE) < 0 || t.compareTo(e.subtract(R.ONE)) > 0)\n    throw new Error(\"x coordinate out of bounds\");\n  if (r.compareTo(R.ONE) < 0 || r.compareTo(e.subtract(R.ONE)) > 0)\n    throw new Error(\"y coordinate out of bounds\");\n  if (!this.isOnCurve())\n    throw new Error(\"Point is not on the curve.\");\n  if (this.multiply(e).isInfinity())\n    throw new Error(\"Point is not a scalar multiple of G.\");\n  return !0;\n};\n/*! Mike Samuel (c) 2009 | code.google.com/p/json-sans-eval\n */\nvar Pt = function() {\n  var e = \"(?:-?\\\\b(?:0|[1-9][0-9]*)(?:\\\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\\\b)\", t = '(?:[^\\\\0-\\\\x08\\\\x0a-\\\\x1f\"\\\\\\\\]|\\\\\\\\(?:[\"/\\\\\\\\bfnrt]|u[0-9A-Fa-f]{4}))', r = '(?:\"' + t + '*\")', i = new RegExp(\"(?:false|true|null|[\\\\{\\\\}\\\\[\\\\]]|\" + e + \"|\" + r + \")\", \"g\"), s = new RegExp(\"\\\\\\\\(?:([^u])|u(.{4}))\", \"g\"), n = { '\"': '\"', \"/\": \"/\", \"\\\\\": \"\\\\\", b: \"\\b\", f: \"\\f\", n: `\n`, r: \"\\r\", t: \"\t\" };\n  function h(y, v, o) {\n    return v ? n[v] : String.fromCharCode(parseInt(o, 16));\n  }\n  var u = new String(\"\"), p = \"\\\\\", c = Object.hasOwnProperty;\n  return function(y, v) {\n    var o = y.match(i), l, f = o[0], d = !1;\n    f === \"{\" ? l = {} : f === \"[\" ? l = [] : (l = [], d = !0);\n    for (var g, S = [l], b = 1 - d, D = o.length; b < D; ++b) {\n      f = o[b];\n      var A;\n      switch (f.charCodeAt(0)) {\n        default:\n          A = S[0], A[g || A.length] = +f, g = void 0;\n          break;\n        case 34:\n          if (f = f.substring(1, f.length - 1), f.indexOf(p) !== -1 && (f = f.replace(s, h)), A = S[0], !g)\n            if (A instanceof Array)\n              g = A.length;\n            else {\n              g = f || u;\n              break;\n            }\n          A[g] = f, g = void 0;\n          break;\n        case 91:\n          A = S[0], S.unshift(A[g || A.length] = []), g = void 0;\n          break;\n        case 93:\n          S.shift();\n          break;\n        case 102:\n          A = S[0], A[g || A.length] = !1, g = void 0;\n          break;\n        case 110:\n          A = S[0], A[g || A.length] = null, g = void 0;\n          break;\n        case 116:\n          A = S[0], A[g || A.length] = !0, g = void 0;\n          break;\n        case 123:\n          A = S[0], S.unshift(A[g || A.length] = {}), g = void 0;\n          break;\n        case 125:\n          S.shift();\n          break;\n      }\n    }\n    if (d) {\n      if (S.length !== 1)\n        throw new Error();\n      l = l[0];\n    } else if (S.length)\n      throw new Error();\n    if (v) {\n      var I = function(m, E) {\n        var w = m[E];\n        if (w && typeof w == \"object\") {\n          var x = null;\n          for (var F in w)\n            if (c.call(w, F) && w !== m) {\n              var P = I(w, F);\n              P !== void 0 ? w[F] = P : (x || (x = []), x.push(F));\n            }\n          if (x)\n            for (var T = x.length; --T >= 0; )\n              delete w[x[T]];\n        }\n        return v.call(m, E, w);\n      };\n      l = I({ \"\": l }, \"\");\n    }\n    return l;\n  };\n}();\n(typeof a > \"u\" || !a) && (a = {});\n(typeof a.asn1 > \"u\" || !a.asn1) && (a.asn1 = {});\na.asn1.ASN1Util = new function() {\n  this.integerToByteHex = function(e) {\n    var t = e.toString(16);\n    return t.length % 2 == 1 && (t = \"0\" + t), t;\n  }, this.bigIntToMinTwosComplementsHex = function(e) {\n    return Ze(e);\n  }, this.getPEMStringFromHex = function(e, t) {\n    return de(e, t);\n  }, this.newObject = function(e) {\n    var t = a, r = t.asn1, i = r.ASN1Object, s = r.DERBoolean, n = r.DERInteger, h = r.DERBitString, u = r.DEROctetString, p = r.DERNull, c = r.DERObjectIdentifier, y = r.DEREnumerated, v = r.DERUTF8String, o = r.DERNumericString, l = r.DERPrintableString, f = r.DERTeletexString, d = r.DERIA5String, g = r.DERUTCTime, S = r.DERGeneralizedTime, b = r.DERVisibleString, D = r.DERBMPString, A = r.DERSequence, I = r.DERSet, m = r.DERTaggedObject, E = r.ASN1Util.newObject;\n    if (e instanceof r.ASN1Object)\n      return e;\n    var w = Object.keys(e);\n    if (w.length != 1)\n      throw new Error(\"key of param shall be only one.\");\n    var x = w[0];\n    if (\":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:\".indexOf(\":\" + x + \":\") == -1)\n      throw new Error(\"undefined key: \" + x);\n    if (x == \"bool\")\n      return new s(e[x]);\n    if (x == \"int\")\n      return new n(e[x]);\n    if (x == \"bitstr\")\n      return new h(e[x]);\n    if (x == \"octstr\")\n      return new u(e[x]);\n    if (x == \"null\")\n      return new p(e[x]);\n    if (x == \"oid\")\n      return new c(e[x]);\n    if (x == \"enum\")\n      return new y(e[x]);\n    if (x == \"utf8str\")\n      return new v(e[x]);\n    if (x == \"numstr\")\n      return new o(e[x]);\n    if (x == \"prnstr\")\n      return new l(e[x]);\n    if (x == \"telstr\")\n      return new f(e[x]);\n    if (x == \"ia5str\")\n      return new d(e[x]);\n    if (x == \"utctime\")\n      return new g(e[x]);\n    if (x == \"gentime\")\n      return new S(e[x]);\n    if (x == \"visstr\")\n      return new b(e[x]);\n    if (x == \"bmpstr\")\n      return new D(e[x]);\n    if (x == \"asn1\")\n      return new i(e[x]);\n    if (x == \"seq\") {\n      for (var F = e[x], P = [], T = 0; T < F.length; T++) {\n        var H = E(F[T]);\n        P.push(H);\n      }\n      return new A({ array: P });\n    }\n    if (x == \"set\") {\n      for (var F = e[x], P = [], T = 0; T < F.length; T++) {\n        var H = E(F[T]);\n        P.push(H);\n      }\n      return new I({ array: P });\n    }\n    if (x == \"tag\") {\n      var C = e[x];\n      if (Object.prototype.toString.call(C) === \"[object Array]\" && C.length == 3) {\n        var B = E(C[2]);\n        return new m({ tag: C[0], explicit: C[1], obj: B });\n      } else\n        return new m(C);\n    }\n  }, this.jsonToASN1HEX = function(e) {\n    var t = this.newObject(e);\n    return t.tohex();\n  };\n}();\na.asn1.ASN1Util.oidHexToInt = function(e) {\n  for (var s = \"\", t = parseInt(e.substr(0, 2), 16), r = Math.floor(t / 40), i = t % 40, s = r + \".\" + i, n = \"\", h = 2; h < e.length; h += 2) {\n    var u = parseInt(e.substr(h, 2), 16), p = (\"00000000\" + u.toString(2)).slice(-8);\n    if (n = n + p.substr(1, 7), p.substr(0, 1) == \"0\") {\n      var c = new R(n, 2);\n      s = s + \".\" + c.toString(10), n = \"\";\n    }\n  }\n  return s;\n};\na.asn1.ASN1Util.oidIntToHex = function(e) {\n  var t = function(u) {\n    var p = u.toString(16);\n    return p.length == 1 && (p = \"0\" + p), p;\n  }, r = function(u) {\n    var p = \"\", c = new R(u, 10), y = c.toString(2), v = 7 - y.length % 7;\n    v == 7 && (v = 0);\n    for (var o = \"\", l = 0; l < v; l++)\n      o += \"0\";\n    y = o + y;\n    for (var l = 0; l < y.length - 1; l += 7) {\n      var f = y.substr(l, 7);\n      l != y.length - 7 && (f = \"1\" + f), p += t(parseInt(f, 2));\n    }\n    return p;\n  };\n  if (!e.match(/^[0-9.]+$/))\n    throw \"malformed oid string: \" + e;\n  var i = \"\", s = e.split(\".\"), n = parseInt(s[0]) * 40 + parseInt(s[1]);\n  i += t(n), s.splice(0, 2);\n  for (var h = 0; h < s.length; h++)\n    i += r(s[h]);\n  return i;\n};\na.asn1.ASN1Object = function(e) {\n  var t = \"\";\n  this.params = null, this.getLengthHexFromValue = function() {\n    if (typeof this.hV > \"u\" || this.hV == null)\n      throw new Error(\"this.hV is null or undefined\");\n    if (this.hV.length % 2 == 1)\n      throw new Error(\"value hex must be even length: n=\" + t.length + \",v=\" + this.hV);\n    var r = this.hV.length / 2, i = r.toString(16);\n    if (i.length % 2 == 1 && (i = \"0\" + i), r < 128)\n      return i;\n    var s = i.length / 2;\n    if (s > 15)\n      throw new Error(\"ASN.1 length too long to represent by 8x: n = \" + r.toString(16));\n    var n = 128 + s;\n    return n.toString(16) + i;\n  }, this.tohex = function() {\n    return (this.hTLV == null || this.isModified) && (this.hV = this.getFreshValueHex(), this.hL = this.getLengthHexFromValue(), this.hTLV = this.hT + this.hL + this.hV, this.isModified = !1), this.hTLV;\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, this.getValueHex = function() {\n    return this.tohex(), this.hV;\n  }, this.getFreshValueHex = function() {\n    return \"\";\n  }, this.setByParam = function(r) {\n    this.params = r;\n  }, e != null && e.tlv != null && (this.hTLV = e.tlv, this.isModified = !1);\n};\na.asn1.DERAbstractString = function(e) {\n  a.asn1.DERAbstractString.superclass.constructor.call(this), this.getString = function() {\n    return this.s;\n  }, this.setString = function(t) {\n    this.hTLV = null, this.isModified = !0, this.s = t, this.hV = ht(this.s).toLowerCase();\n  }, this.setStringHex = function(t) {\n    this.hTLV = null, this.isModified = !0, this.s = null, this.hV = t;\n  }, this.getFreshValueHex = function() {\n    return this.hV;\n  }, typeof e < \"u\" && (typeof e == \"string\" ? this.setString(e) : typeof e.str < \"u\" ? this.setString(e.str) : typeof e.hex < \"u\" && this.setStringHex(e.hex));\n};\nN(a.asn1.DERAbstractString, a.asn1.ASN1Object);\na.asn1.DERAbstractTime = function(e) {\n  a.asn1.DERAbstractTime.superclass.constructor.call(this), this.localDateToUTC = function(t) {\n    var r = t.getTime() + t.getTimezoneOffset() * 6e4, i = new Date(r);\n    return i;\n  }, this.formatDate = function(t, r, i) {\n    var s = this.zeroPadding, n = this.localDateToUTC(t), h = String(n.getFullYear());\n    r == \"utc\" && (h = h.substr(2, 2));\n    var u = s(String(n.getMonth() + 1), 2), p = s(String(n.getDate()), 2), c = s(String(n.getHours()), 2), y = s(String(n.getMinutes()), 2), v = s(String(n.getSeconds()), 2), o = h + u + p + c + y + v;\n    if (i === !0) {\n      var l = n.getMilliseconds();\n      if (l != 0) {\n        var f = s(String(l), 3);\n        f = f.replace(/[0]+$/, \"\"), o = o + \".\" + f;\n      }\n    }\n    return o + \"Z\";\n  }, this.zeroPadding = function(t, r) {\n    return t.length >= r ? t : new Array(r - t.length + 1).join(\"0\") + t;\n  }, this.setByParam = function(t) {\n    this.hV = null, this.hTLV = null, this.params = t;\n  }, this.getString = function() {\n  }, this.setString = function(t) {\n    this.hTLV = null, this.isModified = !0, this.params == null && (this.params = {}), this.params.str = t;\n  }, this.setByDate = function(t) {\n    this.hTLV = null, this.isModified = !0, this.params == null && (this.params = {}), this.params.date = t;\n  }, this.setByDateValue = function(t, r, i, s, n, h) {\n    var u = new Date(Date.UTC(t, r - 1, i, s, n, h, 0));\n    this.setByDate(u);\n  }, this.getFreshValueHex = function() {\n    return this.hV;\n  };\n};\nN(a.asn1.DERAbstractTime, a.asn1.ASN1Object);\na.asn1.DERAbstractStructured = function(e) {\n  a.asn1.DERAbstractString.superclass.constructor.call(this), this.setByASN1ObjectArray = function(t) {\n    this.hTLV = null, this.isModified = !0, this.asn1Array = t;\n  }, this.appendASN1Object = function(t) {\n    this.hTLV = null, this.isModified = !0, this.asn1Array.push(t);\n  }, this.asn1Array = new Array(), typeof e < \"u\" && typeof e.array < \"u\" && (this.asn1Array = e.array);\n};\nN(a.asn1.DERAbstractStructured, a.asn1.ASN1Object);\na.asn1.DERBoolean = function(e) {\n  a.asn1.DERBoolean.superclass.constructor.call(this), this.hT = \"01\", e == !1 ? this.hTLV = \"010100\" : this.hTLV = \"0101ff\";\n};\nN(a.asn1.DERBoolean, a.asn1.ASN1Object);\na.asn1.DERInteger = function(e) {\n  a.asn1.DERInteger.superclass.constructor.call(this), this.hT = \"02\", this.params = null;\n  var t = Ze;\n  this.setByBigInteger = function(r) {\n    this.isModified = !0, this.params = { bigint: r };\n  }, this.setByInteger = function(r) {\n    this.isModified = !0, this.params = r;\n  }, this.setValueHex = function(r) {\n    this.isModified = !0, this.params = { hex: r };\n  }, this.getFreshValueHex = function() {\n    var r = this.params, i = null;\n    if (r == null)\n      throw new Error(\"value not set\");\n    if (typeof r == \"object\" && r.hex != null)\n      return this.hV = r.hex, this.hV;\n    if (typeof r == \"number\")\n      i = new R(String(r), 10);\n    else if (r.int != null)\n      i = new R(String(r.int), 10);\n    else if (r.bigint != null)\n      i = r.bigint;\n    else\n      throw new Error(\"wrong parameter\");\n    return this.hV = t(i), this.hV;\n  }, e != null && (this.params = e);\n};\nN(a.asn1.DERInteger, a.asn1.ASN1Object);\na.asn1.DERBitString = function(e) {\n  if (e !== void 0 && typeof e.obj < \"u\") {\n    var t = a.asn1.ASN1Util.newObject(e.obj);\n    e.hex = \"00\" + t.tohex();\n  }\n  a.asn1.DERBitString.superclass.constructor.call(this), this.hT = \"03\", this.setHexValueIncludingUnusedBits = function(r) {\n    this.hTLV = null, this.isModified = !0, this.hV = r;\n  }, this.setUnusedBitsAndHexValue = function(r, i) {\n    if (r < 0 || 7 < r)\n      throw \"unused bits shall be from 0 to 7: u = \" + r;\n    var s = \"0\" + r;\n    this.hTLV = null, this.isModified = !0, this.hV = s + i;\n  }, this.setByBinaryString = function(r) {\n    r = r.replace(/0+$/, \"\");\n    var i = 8 - r.length % 8;\n    i == 8 && (i = 0), r += \"0000000\".substr(0, i);\n    for (var s = \"\", n = 0; n < r.length - 1; n += 8) {\n      var h = r.substr(n, 8), u = parseInt(h, 2).toString(16);\n      u.length == 1 && (u = \"0\" + u), s += u;\n    }\n    this.hTLV = null, this.isModified = !0, this.hV = \"0\" + i + s;\n  }, this.setByBooleanArray = function(r) {\n    for (var i = \"\", s = 0; s < r.length; s++)\n      r[s] == !0 ? i += \"1\" : i += \"0\";\n    this.setByBinaryString(i);\n  }, this.newFalseArray = function(r) {\n    for (var i = new Array(r), s = 0; s < r; s++)\n      i[s] = !1;\n    return i;\n  }, this.getFreshValueHex = function() {\n    return this.hV;\n  }, typeof e < \"u\" && (typeof e == \"string\" && e.toLowerCase().match(/^[0-9a-f]+$/) ? this.setHexValueIncludingUnusedBits(e) : typeof e.hex < \"u\" ? this.setHexValueIncludingUnusedBits(e.hex) : typeof e.bin < \"u\" ? this.setByBinaryString(e.bin) : typeof e.array < \"u\" && this.setByBooleanArray(e.array));\n};\nN(a.asn1.DERBitString, a.asn1.ASN1Object);\na.asn1.DEROctetString = function(e) {\n  if (e !== void 0 && typeof e.obj < \"u\") {\n    var t = a.asn1.ASN1Util.newObject(e.obj);\n    e.hex = t.tohex();\n  }\n  a.asn1.DEROctetString.superclass.constructor.call(this, e), this.hT = \"04\";\n};\nN(a.asn1.DEROctetString, a.asn1.DERAbstractString);\na.asn1.DERNull = function() {\n  a.asn1.DERNull.superclass.constructor.call(this), this.hT = \"05\", this.hTLV = \"0500\";\n};\nN(a.asn1.DERNull, a.asn1.ASN1Object);\na.asn1.DERObjectIdentifier = function(e) {\n  a.asn1.DERObjectIdentifier.superclass.constructor.call(this), this.hT = \"06\", this.setValueHex = function(t) {\n    this.hTLV = null, this.isModified = !0, this.s = null, this.hV = t;\n  }, this.setValueOidString = function(t) {\n    var r = mn(t);\n    if (r == null)\n      throw new Error(\"malformed oid string: \" + t);\n    this.hTLV = null, this.isModified = !0, this.s = null, this.hV = r;\n  }, this.setValueName = function(t) {\n    var r = a.asn1.x509.OID.name2oid(t);\n    if (r !== \"\")\n      this.setValueOidString(r);\n    else\n      throw new Error(\"DERObjectIdentifier oidName undefined: \" + t);\n  }, this.setValueNameOrOid = function(t) {\n    t.match(/^[0-2].[0-9.]+$/) ? this.setValueOidString(t) : this.setValueName(t);\n  }, this.getFreshValueHex = function() {\n    return this.hV;\n  }, this.setByParam = function(t) {\n    typeof t == \"string\" ? this.setValueNameOrOid(t) : t.oid !== void 0 ? this.setValueNameOrOid(t.oid) : t.name !== void 0 ? this.setValueNameOrOid(t.name) : t.hex !== void 0 && this.setValueHex(t.hex);\n  }, e !== void 0 && this.setByParam(e);\n};\nN(a.asn1.DERObjectIdentifier, a.asn1.ASN1Object);\na.asn1.DEREnumerated = function(e) {\n  a.asn1.DEREnumerated.superclass.constructor.call(this), this.hT = \"0a\", this.setByBigInteger = function(t) {\n    this.hTLV = null, this.isModified = !0, this.hV = Ze(t);\n  }, this.setByInteger = function(t) {\n    var r = new R(String(t), 10);\n    this.setByBigInteger(r);\n  }, this.setValueHex = function(t) {\n    this.hV = t;\n  }, this.getFreshValueHex = function() {\n    return this.hV;\n  }, typeof e < \"u\" && (typeof e.int < \"u\" ? this.setByInteger(e.int) : typeof e == \"number\" ? this.setByInteger(e) : typeof e.hex < \"u\" && this.setValueHex(e.hex));\n};\nN(a.asn1.DEREnumerated, a.asn1.ASN1Object);\na.asn1.DERUTF8String = function(e) {\n  a.asn1.DERUTF8String.superclass.constructor.call(this, e), this.hT = \"0c\";\n};\nN(a.asn1.DERUTF8String, a.asn1.DERAbstractString);\na.asn1.DERNumericString = function(e) {\n  a.asn1.DERNumericString.superclass.constructor.call(this, e), this.hT = \"12\";\n};\nN(a.asn1.DERNumericString, a.asn1.DERAbstractString);\na.asn1.DERPrintableString = function(e) {\n  a.asn1.DERPrintableString.superclass.constructor.call(this, e), this.hT = \"13\";\n};\nN(a.asn1.DERPrintableString, a.asn1.DERAbstractString);\na.asn1.DERTeletexString = function(e) {\n  a.asn1.DERTeletexString.superclass.constructor.call(this, e), this.hT = \"14\";\n};\nN(a.asn1.DERTeletexString, a.asn1.DERAbstractString);\na.asn1.DERIA5String = function(e) {\n  a.asn1.DERIA5String.superclass.constructor.call(this, e), this.hT = \"16\";\n};\nN(a.asn1.DERIA5String, a.asn1.DERAbstractString);\na.asn1.DERVisibleString = function(e) {\n  a.asn1.DERIA5String.superclass.constructor.call(this, e), this.hT = \"1a\";\n};\nN(a.asn1.DERVisibleString, a.asn1.DERAbstractString);\na.asn1.DERBMPString = function(e) {\n  a.asn1.DERBMPString.superclass.constructor.call(this, e), this.hT = \"1e\";\n};\nN(a.asn1.DERBMPString, a.asn1.DERAbstractString);\na.asn1.DERUTCTime = function(e) {\n  a.asn1.DERUTCTime.superclass.constructor.call(this, e), this.hT = \"17\", this.params = void 0, this.getFreshValueHex = function() {\n    var t = this.params;\n    if (this.params == null && (t = { date: /* @__PURE__ */ new Date() }), typeof t == \"string\")\n      if (t.match(/^[0-9]{12}Z$/) || t.match(/^[0-9]{12}\\.[0-9]+Z$/))\n        this.hV = Ee(t);\n      else\n        throw new Error(\"malformed string for UTCTime: \" + t);\n    else if (t.str != null)\n      this.hV = Ee(t.str);\n    else if (t.date == null && t.millis == !0) {\n      var r = /* @__PURE__ */ new Date();\n      this.hV = Ee(this.formatDate(r, \"utc\", !0));\n    } else if (t.date != null && t.date instanceof Date) {\n      var i = t.millis === !0;\n      this.hV = Ee(this.formatDate(t.date, \"utc\", i));\n    } else\n      t instanceof Date && (this.hV = Ee(this.formatDate(t, \"utc\")));\n    if (this.hV == null)\n      throw new Error(\"parameter not specified properly for UTCTime\");\n    return this.hV;\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.DERUTCTime, a.asn1.DERAbstractTime);\na.asn1.DERGeneralizedTime = function(e) {\n  a.asn1.DERGeneralizedTime.superclass.constructor.call(this, e), this.hT = \"18\", this.params = e, this.getFreshValueHex = function() {\n    var t = this.params;\n    if (this.params == null && (t = { date: /* @__PURE__ */ new Date() }), typeof t == \"string\")\n      if (t.match(/^[0-9]{14}Z$/) || t.match(/^[0-9]{14}\\.[0-9]+Z$/))\n        this.hV = Ee(t);\n      else\n        throw new Error(\"malformed string for GeneralizedTime: \" + t);\n    else if (t.str != null)\n      this.hV = Ee(t.str);\n    else if (t.date == null && t.millis == !0) {\n      var r = /* @__PURE__ */ new Date();\n      this.hV = Ee(this.formatDate(r, \"gen\", !0));\n    } else if (t.date != null && t.date instanceof Date) {\n      var i = t.millis === !0;\n      this.hV = Ee(this.formatDate(t.date, \"gen\", i));\n    } else\n      t instanceof Date && (this.hV = Ee(this.formatDate(t, \"gen\")));\n    if (this.hV == null)\n      throw new Error(\"parameter not specified properly for GeneralizedTime\");\n    return this.hV;\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.DERGeneralizedTime, a.asn1.DERAbstractTime);\na.asn1.DERSequence = function(e) {\n  a.asn1.DERSequence.superclass.constructor.call(this, e), this.hT = \"30\", this.getFreshValueHex = function() {\n    for (var t = \"\", r = 0; r < this.asn1Array.length; r++) {\n      var i = this.asn1Array[r];\n      t += i.tohex();\n    }\n    return this.hV = t, this.hV;\n  };\n};\nN(a.asn1.DERSequence, a.asn1.DERAbstractStructured);\na.asn1.DERSet = function(e) {\n  a.asn1.DERSet.superclass.constructor.call(this, e), this.hT = \"31\", this.sortFlag = !0, this.getFreshValueHex = function() {\n    for (var t = new Array(), r = 0; r < this.asn1Array.length; r++) {\n      var i = this.asn1Array[r];\n      t.push(i.tohex());\n    }\n    return this.sortFlag == !0 && t.sort(), this.hV = t.join(\"\"), this.hV;\n  }, typeof e < \"u\" && typeof e.sortflag < \"u\" && e.sortflag == !1 && (this.sortFlag = !1);\n};\nN(a.asn1.DERSet, a.asn1.DERAbstractStructured);\na.asn1.DERTaggedObject = function(e) {\n  a.asn1.DERTaggedObject.superclass.constructor.call(this);\n  var t = a.asn1, r = V, i = r.getV;\n  r.isASN1HEX;\n  var s = t.ASN1Util.newObject;\n  this.hT = \"a0\", this.hV = \"\", this.isExplicit = !0, this.asn1Object = null, this.params = { tag: \"a0\", explicit: !0 }, this.setASN1Object = function(n, h, u) {\n    this.params = { tag: h, explicit: n, obj: u };\n  }, this.getFreshValueHex = function() {\n    var n = this.params;\n    if (n.explicit == null && (n.explicit = !0), n.tage != null && (n.tag = n.tage, n.explicit = !0), n.tagi != null && (n.tag = n.tagi, n.explicit = !1), n.str != null)\n      this.hV = ht(n.str);\n    else if (n.hex != null)\n      this.hV = n.hex;\n    else if (n.obj != null) {\n      var h;\n      n.obj instanceof t.ASN1Object ? h = n.obj.tohex() : typeof n.obj == \"object\" && (h = s(n.obj).tohex()), n.explicit ? this.hV = h : this.hV = i(h, 0);\n    } else\n      throw new Error(\"str, hex nor obj not specified\");\n    return n.tag == null && (n.tag = \"a0\"), this.hT = n.tag, this.hTLV = null, this.isModified = !0, this.hV;\n  }, this.setByParam = function(n) {\n    this.params = n;\n  }, e !== void 0 && this.setByParam(e);\n};\nN(a.asn1.DERTaggedObject, a.asn1.ASN1Object);\nvar V = new function() {\n}();\nV.getLblen = function(e, t) {\n  if (e.substr(t + 2, 1) != \"8\")\n    return 1;\n  var r = parseInt(e.substr(t + 3, 1));\n  return r == 0 ? -1 : 0 < r && r < 10 ? r + 1 : -2;\n};\nV.getL = function(e, t) {\n  var r = V.getLblen(e, t);\n  return r < 1 ? \"\" : e.substr(t + 2, r * 2);\n};\nV.getVblen = function(e, t) {\n  var r, i;\n  return r = V.getL(e, t), r == \"\" ? -1 : (r.substr(0, 1) === \"8\" ? i = new R(r.substr(2), 16) : i = new R(r, 16), i.intValue());\n};\nV.getVidx = function(e, t) {\n  var r = V.getLblen(e, t);\n  return r < 0 ? r : t + (r + 1) * 2;\n};\nV.getV = function(e, t) {\n  var r = V.getVidx(e, t), i = V.getVblen(e, t);\n  return e.substr(r, i * 2);\n};\nV.getTLV = function(e, t) {\n  return e.substr(t, 2) + V.getL(e, t) + V.getV(e, t);\n};\nV.getTLVblen = function(e, t) {\n  return 2 + V.getLblen(e, t) * 2 + V.getVblen(e, t) * 2;\n};\nV.getNextSiblingIdx = function(e, t) {\n  var r = V.getVidx(e, t), i = V.getVblen(e, t);\n  return r + i * 2;\n};\nV.getChildIdx = function(e, t) {\n  var r = V, i = [], s, n, h;\n  s = r.getVidx(e, t), n = r.getVblen(e, t) * 2, e.substr(t, 2) == \"03\" && (s += 2, n -= 2), h = 0;\n  for (var u = s; h <= n; ) {\n    var p = r.getTLVblen(e, u);\n    if (h += p, h <= n && i.push(u), u += p, h >= n)\n      break;\n  }\n  return i;\n};\nV.getNthChildIdx = function(e, t, r) {\n  var i = V.getChildIdx(e, t);\n  return i[r];\n};\nV.getIdxbyList = function(e, t, r, i) {\n  var s = V, n, h;\n  return r.length == 0 ? i !== void 0 && e.substr(t, 2) !== i ? -1 : t : (n = r.shift(), h = s.getChildIdx(e, t), n >= h.length ? -1 : s.getIdxbyList(e, h[n], r, i));\n};\nV.getIdxbyListEx = function(e, t, r, i) {\n  var s = V, n, h;\n  if (r.length == 0)\n    return i !== void 0 && e.substr(t, 2) !== i ? -1 : t;\n  n = r.shift(), h = s.getChildIdx(e, t);\n  for (var u = 0, p = 0; p < h.length; p++) {\n    var c = e.substr(h[p], 2);\n    if (typeof n == \"number\" && !s.isContextTag(c) && u == n || typeof n == \"string\" && s.isContextTag(c, n))\n      return s.getIdxbyListEx(e, h[p], r, i);\n    s.isContextTag(c) || u++;\n  }\n  return -1;\n};\nV.getTLVbyList = function(e, t, r, i) {\n  var s = V, n = s.getIdxbyList(e, t, r, i);\n  return n == -1 || n >= e.length ? null : s.getTLV(e, n);\n};\nV.getTLVbyListEx = function(e, t, r, i) {\n  var s = V, n = s.getIdxbyListEx(e, t, r, i);\n  return n == -1 ? null : s.getTLV(e, n);\n};\nV.getVbyList = function(e, t, r, i, s) {\n  var n = V, h, u;\n  return h = n.getIdxbyList(e, t, r, i), h == -1 || h >= e.length ? null : (u = n.getV(e, h), s === !0 && (u = u.substr(2)), u);\n};\nV.getVbyListEx = function(e, t, r, i, s) {\n  var n = V, h, u;\n  return h = n.getIdxbyListEx(e, t, r, i), h == -1 ? null : (u = n.getV(e, h), e.substr(h, 2) == \"03\" && s !== !1 && (u = u.substr(2)), u);\n};\nV.getInt = function(e, t, r) {\n  r == null && (r = -1);\n  try {\n    var i = e.substr(t, 2);\n    if (i != \"02\" && i != \"03\")\n      return r;\n    var s = V.getV(e, t);\n    return i == \"02\" ? parseInt(s, 16) : Sn(s);\n  } catch {\n    return r;\n  }\n};\nV.getOID = function(e, t, r) {\n  r == null && (r = null);\n  try {\n    if (e.substr(t, 2) != \"06\")\n      return r;\n    var i = V.getV(e, t);\n    return ft(i);\n  } catch {\n    return r;\n  }\n};\nV.getOIDName = function(e, t, r) {\n  r == null && (r = null);\n  try {\n    var i = V.getOID(e, t, r);\n    if (i == r)\n      return r;\n    var s = a.asn1.x509.OID.oid2name(i);\n    return s == \"\" ? i : s;\n  } catch {\n    return r;\n  }\n};\nV.getString = function(e, t, r) {\n  r == null && (r = null);\n  try {\n    var i = V.getV(e, t);\n    return Ae(i);\n  } catch {\n    return r;\n  }\n};\nV.hextooidstr = function(e) {\n  var t = function(v, o) {\n    return v.length >= o ? v : new Array(o - v.length + 1).join(\"0\") + v;\n  }, r = [], i = e.substr(0, 2), s = parseInt(i, 16);\n  r[0] = new String(Math.floor(s / 40)), r[1] = new String(s % 40);\n  for (var n = e.substr(2), h = [], u = 0; u < n.length / 2; u++)\n    h.push(parseInt(n.substr(u * 2, 2), 16));\n  for (var p = [], c = \"\", u = 0; u < h.length; u++)\n    h[u] & 128 ? c = c + t((h[u] & 127).toString(2), 7) : (c = c + t((h[u] & 127).toString(2), 7), p.push(new String(parseInt(c, 2))), c = \"\");\n  var y = r.join(\".\");\n  return p.length > 0 && (y = y + \".\" + p.join(\".\")), y;\n};\nV.dump = function(e, t, r, i) {\n  var s = V, n = s.getV, h = s.dump, u = s.getChildIdx, p = e;\n  e instanceof a.asn1.ASN1Object && (p = e.tohex());\n  var c = function(E, w) {\n    if (E.length <= w * 2)\n      return E;\n    var x = E.substr(0, w) + \"..(total \" + E.length / 2 + \"bytes)..\" + E.substr(E.length - w, w);\n    return x;\n  };\n  t === void 0 && (t = { ommit_long_octet: 32 }), r === void 0 && (r = 0), i === void 0 && (i = \"\");\n  var y = t.ommit_long_octet, I = p.substr(r, 2);\n  if (I == \"01\") {\n    var v = n(p, r);\n    return v == \"00\" ? i + `BOOLEAN FALSE\n` : i + `BOOLEAN TRUE\n`;\n  }\n  if (I == \"02\") {\n    var v = n(p, r);\n    return i + \"INTEGER \" + c(v, y) + `\n`;\n  }\n  if (I == \"03\") {\n    var v = n(p, r);\n    if (s.isASN1HEX(v.substr(2))) {\n      var o = i + `BITSTRING, encapsulates\n`;\n      return o = o + h(v.substr(2), t, 0, i + \"  \"), o;\n    } else\n      return i + \"BITSTRING \" + c(v, y) + `\n`;\n  }\n  if (I == \"04\") {\n    var v = n(p, r);\n    if (s.isASN1HEX(v)) {\n      var o = i + `OCTETSTRING, encapsulates\n`;\n      return o = o + h(v, t, 0, i + \"  \"), o;\n    } else\n      return i + \"OCTETSTRING \" + c(v, y) + `\n`;\n  }\n  if (I == \"05\")\n    return i + `NULL\n`;\n  if (I == \"06\") {\n    var l = n(p, r), f = a.asn1.ASN1Util.oidHexToInt(l), d = a.asn1.x509.OID.oid2name(f), g = f.replace(/\\./g, \" \");\n    return d != \"\" ? i + \"ObjectIdentifier \" + d + \" (\" + g + `)\n` : i + \"ObjectIdentifier (\" + g + `)\n`;\n  }\n  if (I == \"0a\")\n    return i + \"ENUMERATED \" + parseInt(n(p, r)) + `\n`;\n  if (I == \"0c\")\n    return i + \"UTF8String '\" + W(n(p, r)) + `'\n`;\n  if (I == \"13\")\n    return i + \"PrintableString '\" + W(n(p, r)) + `'\n`;\n  if (I == \"14\")\n    return i + \"TeletexString '\" + W(n(p, r)) + `'\n`;\n  if (I == \"16\")\n    return i + \"IA5String '\" + W(n(p, r)) + `'\n`;\n  if (I == \"17\")\n    return i + \"UTCTime \" + W(n(p, r)) + `\n`;\n  if (I == \"18\")\n    return i + \"GeneralizedTime \" + W(n(p, r)) + `\n`;\n  if (I == \"1a\")\n    return i + \"VisualString '\" + W(n(p, r)) + `'\n`;\n  if (I == \"1e\")\n    return i + \"BMPString '\" + Tt(n(p, r)) + `'\n`;\n  if (I == \"30\") {\n    if (p.substr(r, 4) == \"3000\")\n      return i + `SEQUENCE {}\n`;\n    var o = i + `SEQUENCE\n`, S = u(p, r), b = t;\n    if ((S.length == 2 || S.length == 3) && p.substr(S[0], 2) == \"06\" && p.substr(S[S.length - 1], 2) == \"04\") {\n      var d = s.oidname(n(p, S[0])), D = JSON.parse(JSON.stringify(t));\n      D.x509ExtName = d, b = D;\n    }\n    for (var A = 0; A < S.length; A++)\n      o = o + h(p, b, S[A], i + \"  \");\n    return o;\n  }\n  if (I == \"31\") {\n    for (var o = i + `SET\n`, S = u(p, r), A = 0; A < S.length; A++)\n      o = o + h(p, t, S[A], i + \"  \");\n    return o;\n  }\n  var I = parseInt(I, 16);\n  if (I & 128) {\n    var m = I & 31;\n    if (I & 32) {\n      for (var o = i + \"[\" + m + `]\n`, S = u(p, r), A = 0; A < S.length; A++)\n        o = o + h(p, t, S[A], i + \"  \");\n      return o;\n    } else {\n      var v = n(p, r);\n      if (V.isASN1HEX(v)) {\n        var o = i + \"[\" + m + `]\n`;\n        return o = o + h(v, t, 0, i + \"  \"), o;\n      } else\n        (v.substr(0, 8) == \"68747470\" || t.x509ExtName === \"subjectAltName\" && m == 2) && (v = W(v));\n      var o = i + \"[\" + m + \"] \" + v + `\n`;\n      return o;\n    }\n  }\n  return i + \"UNKNOWN(\" + I + \") \" + n(p, r) + `\n`;\n};\nV.parse = function(e) {\n  var t = V, r = t.parse, i = t.isASN1HEX, s = t.getV, n = t.getTLV, h = t.getChildIdx, u = a.asn1, p = u.ASN1Util.oidHexToInt, c = u.x509.OID.oid2name, y = W, v = Tt, o = fn, l = { \"0c\": \"utf8str\", 12: \"numstr\", 13: \"prnstr\", 14: \"telstr\", 16: \"ia5str\", 17: \"utctime\", 18: \"gentime\", \"1a\": \"visstr\", \"1e\": \"bmpstr\", 30: \"seq\", 31: \"set\" }, f = function(x) {\n    for (var F = [], P = h(x, 0), T = 0; T < P.length; T++) {\n      var H = P[T], C = n(x, H), B = r(C);\n      F.push(B);\n    }\n    return F;\n  }, d = e.substr(0, 2), g = {}, S = s(e, 0);\n  if (d == \"01\")\n    return e == \"0101ff\" ? { bool: !0 } : { bool: !1 };\n  if (d == \"02\")\n    return { int: { hex: S } };\n  if (d == \"03\")\n    try {\n      if (S.substr(0, 2) != \"00\")\n        throw \"not encap\";\n      var b = S.substr(2);\n      if (!i(b))\n        throw \"not encap\";\n      return { bitstr: { obj: r(b) } };\n    } catch {\n      var D = null;\n      return S.length <= 10 && (D = En(S)), D == null ? { bitstr: { hex: S } } : { bitstr: { bin: D } };\n    }\n  else if (d == \"04\")\n    try {\n      if (!i(S))\n        throw \"not encap\";\n      return { octstr: { obj: r(S) } };\n    } catch {\n      return { octstr: { hex: S } };\n    }\n  else {\n    if (d == \"05\")\n      return { null: \"\" };\n    if (d == \"06\") {\n      var A = p(S), I = c(A);\n      return I == \"\" ? { oid: A } : { oid: I };\n    } else {\n      if (d == \"0a\")\n        return S.length > 4 ? { enum: { hex: S } } : { enum: parseInt(S, 16) };\n      if (d == \"30\" || d == \"31\")\n        return g[l[d]] = f(e), g;\n      if (d == \"14\") {\n        var m = o(S);\n        return g[l[d]] = { str: m }, g;\n      } else if (d == \"1e\") {\n        var m = v(S);\n        return g[l[d]] = { str: m }, g;\n      } else if (\":0c:12:13:16:17:18:1a:\".indexOf(d) != -1) {\n        var m = y(S);\n        return g[l[d]] = { str: m }, g;\n      } else if (d.match(/^8[0-9]$/)) {\n        var m = y(S);\n        return m == null | m == \"\" ? { tag: { tag: d, explicit: !1, hex: S } } : m.match(/[\\x00-\\x1F\\x7F-\\x9F]/) != null || m.match(/[\\u0000-\\u001F\\u0080–\\u009F]/) != null ? { tag: { tag: d, explicit: !1, hex: S } } : { tag: { tag: d, explicit: !1, str: m } };\n      } else if (d.match(/^a[0-9]$/))\n        try {\n          if (!i(S))\n            throw new Error(\"not encap\");\n          return { tag: { tag: d, explicit: !0, obj: r(S) } };\n        } catch {\n          return { tag: { tag: d, explicit: !0, hex: S } };\n        }\n      else {\n        var E = new a.asn1.ASN1Object();\n        E.hV = S;\n        var w = E.getLengthHexFromValue();\n        return { asn1: { tlv: d + w + S } };\n      }\n    }\n  }\n};\nV.isContextTag = function(e, t) {\n  e = e.toLowerCase();\n  var r, i;\n  try {\n    r = parseInt(e, 16);\n  } catch {\n    return -1;\n  }\n  if (t === void 0)\n    return (r & 192) == 128;\n  try {\n    var s = t.match(/^\\[[0-9]+\\]$/);\n    return s == null || (i = parseInt(t.substr(1, t.length - 1), 10), i > 31) ? !1 : (r & 192) == 128 && (r & 31) == i;\n  } catch {\n    return !1;\n  }\n};\nV.isASN1HEX = function(e) {\n  var t = V;\n  if (e.length % 2 == 1)\n    return !1;\n  var r = t.getVblen(e, 0), i = e.substr(0, 2), s = t.getL(e, 0), n = e.length - i.length - s.length;\n  return n == r * 2;\n};\nV.checkStrictDER = function(e, t, r, i, s) {\n  var n = V;\n  if (r === void 0) {\n    if (typeof e != \"string\")\n      throw new Error(\"not hex string\");\n    if (e = e.toLowerCase(), !a.lang.String.isHex(e))\n      throw new Error(\"not hex string\");\n    r = e.length, i = e.length / 2, i < 128 ? s = 1 : s = Math.ceil(i.toString(16)) + 1;\n  }\n  var h = n.getL(e, t);\n  if (h.length > s * 2)\n    throw new Error(\"L of TLV too long: idx=\" + t);\n  var u = n.getVblen(e, t);\n  if (u > i)\n    throw new Error(\"value of L too long than hex: idx=\" + t);\n  var p = n.getTLV(e, t), c = p.length - 2 - n.getL(e, t).length;\n  if (c !== u * 2)\n    throw new Error(\"V string length and L's value not the same:\" + c + \"/\" + u * 2);\n  if (t === 0 && e.length != p.length)\n    throw new Error(\"total length and TLV length unmatch:\" + e.length + \"!=\" + p.length);\n  var y = e.substr(t, 2);\n  if (y === \"02\") {\n    var v = n.getVidx(e, t);\n    if (e.substr(v, 2) == \"00\" && e.charCodeAt(v + 2) < 56)\n      throw new Error(\"not least zeros for DER INTEGER\");\n  }\n  if (parseInt(y, 16) & 32) {\n    for (var o = n.getVblen(e, t), l = 0, f = n.getChildIdx(e, t), d = 0; d < f.length; d++) {\n      var g = n.getTLV(e, f[d]);\n      l += g.length, n.checkStrictDER(e, f[d], r, i, s);\n    }\n    if (o * 2 != l)\n      throw new Error(\"sum of children's TLV length and L unmatch: \" + o * 2 + \"!=\" + l);\n  }\n};\nV.oidname = function(e) {\n  var t = a.asn1;\n  a.lang.String.isHex(e) && (e = t.ASN1Util.oidHexToInt(e));\n  var r = t.x509.OID.oid2name(e);\n  return r === \"\" && (r = e), r;\n};\n(typeof a > \"u\" || !a) && (a = {});\n(typeof a.asn1 > \"u\" || !a.asn1) && (a.asn1 = {});\n(typeof a.asn1.x509 > \"u\" || !a.asn1.x509) && (a.asn1.x509 = {});\na.asn1.x509.Certificate = function(e) {\n  a.asn1.x509.Certificate.superclass.constructor.call(this);\n  var t = a, r = t.asn1, i = r.DERBitString, s = r.DERSequence, n = r.x509, h = n.TBSCertificate, u = n.AlgorithmIdentifier;\n  this.params = void 0, this.setByParam = function(p) {\n    this.params = p;\n  }, this.sign = function() {\n    var p = this.params, c = p.sigalg;\n    p.sigalg.name != null && (c = p.sigalg.name);\n    var y = p.tbsobj.tohex(), v = new a.crypto.Signature({ alg: c });\n    v.init(p.cakey), v.updateHex(y), p.sighex = v.sign();\n  }, this.getPEM = function() {\n    return de(this.tohex(), \"CERTIFICATE\");\n  }, this.tohex = function() {\n    var p = this.params;\n    if ((p.tbsobj == null || p.tbsobj == null) && (p.tbsobj = new h(p)), p.sighex == null && p.cakey != null && this.sign(), p.sighex == null)\n      throw new Error(\"sighex or cakey parameter not defined\");\n    var c = [];\n    c.push(p.tbsobj), c.push(new u({ name: p.sigalg })), c.push(new i({ hex: \"00\" + p.sighex }));\n    var y = new s({ array: c });\n    return y.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && (this.params = e);\n};\nN(a.asn1.x509.Certificate, a.asn1.ASN1Object);\na.asn1.x509.TBSCertificate = function(e) {\n  a.asn1.x509.TBSCertificate.superclass.constructor.call(this);\n  var t = a, r = t.asn1, i = r.x509, s = r.DERTaggedObject, n = r.DERInteger, h = r.DERSequence, u = i.AlgorithmIdentifier, p = i.Time, c = i.X500Name, y = i.Extensions, v = i.SubjectPublicKeyInfo;\n  this.params = null, this.setByParam = function(o) {\n    this.params = o;\n  }, this.tohex = function() {\n    var o = [], l = this.params;\n    if (l.version != null || l.version != 1) {\n      var f = 2;\n      l.version != null && (f = l.version - 1);\n      var d = new s({ obj: new n({ int: f }) });\n      o.push(d);\n    }\n    o.push(new n(l.serial)), o.push(new u({ name: l.sigalg })), o.push(new c(l.issuer)), o.push(new h({ array: [new p(l.notbefore), new p(l.notafter)] })), o.push(new c(l.subject)), o.push(new v(k.getKey(l.sbjpubkey))), l.ext !== void 0 && l.ext.length > 0 && o.push(new s({ tag: \"a3\", obj: new y(l.ext) }));\n    var g = new a.asn1.DERSequence({ array: o });\n    return g.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0 && this.setByParam(e);\n};\nN(a.asn1.x509.TBSCertificate, a.asn1.ASN1Object);\na.asn1.x509.Extensions = function(e) {\n  a.asn1.x509.Extensions.superclass.constructor.call(this);\n  var t = a, r = t.asn1, i = r.DERSequence, s = r.x509;\n  this.aParam = [], this.setByParam = function(n) {\n    this.aParam = n;\n  }, this.tohex = function() {\n    for (var n = [], h = 0; h < this.aParam.length; h++) {\n      var u = this.aParam[h], p = u.extname, c = null;\n      if (u.extn != null)\n        c = new s.PrivateExtension(u);\n      else if (p == \"subjectKeyIdentifier\")\n        c = new s.SubjectKeyIdentifier(u);\n      else if (p == \"keyUsage\")\n        c = new s.KeyUsage(u);\n      else if (p == \"subjectAltName\")\n        c = new s.SubjectAltName(u);\n      else if (p == \"issuerAltName\")\n        c = new s.IssuerAltName(u);\n      else if (p == \"basicConstraints\")\n        c = new s.BasicConstraints(u);\n      else if (p == \"nameConstraints\")\n        c = new s.NameConstraints(u);\n      else if (p == \"cRLDistributionPoints\")\n        c = new s.CRLDistributionPoints(u);\n      else if (p == \"certificatePolicies\")\n        c = new s.CertificatePolicies(u);\n      else if (p == \"policyMappings\")\n        c = new s.PolicyMappings(u);\n      else if (p == \"policyConstraints\")\n        c = new s.PolicyConstraints(u);\n      else if (p == \"inhibitAnyPolicy\")\n        c = new s.InhibitAnyPolicy(u);\n      else if (p == \"authorityKeyIdentifier\")\n        c = new s.AuthorityKeyIdentifier(u);\n      else if (p == \"extKeyUsage\")\n        c = new s.ExtKeyUsage(u);\n      else if (p == \"authorityInfoAccess\")\n        c = new s.AuthorityInfoAccess(u);\n      else if (p == \"cRLNumber\")\n        c = new s.CRLNumber(u);\n      else if (p == \"cRLReason\")\n        c = new s.CRLReason(u);\n      else if (p == \"ocspNonce\")\n        c = new s.OCSPNonce(u);\n      else if (p == \"ocspNoCheck\")\n        c = new s.OCSPNoCheck(u);\n      else if (p == \"adobeTimeStamp\")\n        c = new s.AdobeTimeStamp(u);\n      else if (p == \"subjectDirectoryAttributes\")\n        c = new s.SubjectDirectoryAttributes(u);\n      else\n        throw new Error(\"extension not supported:\" + JSON.stringify(u));\n      c != null && n.push(c);\n    }\n    var y = new i({ array: n });\n    return y.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.x509.Extensions, a.asn1.ASN1Object);\na.asn1.x509.Extension = function(e) {\n  a.asn1.x509.Extension.superclass.constructor.call(this);\n  var t = a, r = t.asn1, i = r.DERObjectIdentifier, s = r.DEROctetString;\n  r.DERBitString;\n  var n = r.DERBoolean, h = r.DERSequence;\n  this.tohex = function() {\n    var u = new i({ oid: this.oid }), p = new s({ hex: this.getExtnValueHex() }), c = new Array();\n    c.push(u), this.critical && c.push(new n()), c.push(p);\n    var y = new h({ array: c });\n    return y.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, this.critical = !1, e !== void 0 && e.critical !== void 0 && (this.critical = e.critical);\n};\nN(a.asn1.x509.Extension, a.asn1.ASN1Object);\na.asn1.x509.KeyUsage = function(e) {\n  a.asn1.x509.KeyUsage.superclass.constructor.call(this, e);\n  var t = Error, r = { digitalSignature: 0, nonRepudiation: 1, keyEncipherment: 2, dataEncipherment: 3, keyAgreement: 4, keyCertSign: 5, cRLSign: 6, encipherOnly: 7, decipherOnly: 8 };\n  this.getExtnValueHex = function() {\n    var i = this.getBinValue();\n    return this.asn1ExtnValue = new a.asn1.DERBitString({ bin: i }), this.asn1ExtnValue.tohex();\n  }, this.getBinValue = function() {\n    var i = this.params;\n    if (typeof i != \"object\" || typeof i.names != \"object\" && typeof i.bin != \"string\")\n      throw new t(\"parameter not yet set\");\n    if (i.names != null)\n      return rt(i.names, r);\n    if (i.bin != null)\n      return i.bin;\n    throw new t(\"parameter not set properly\");\n  }, this.oid = \"2.5.29.15\", e !== void 0 && (this.params = e);\n};\nN(a.asn1.x509.KeyUsage, a.asn1.x509.Extension);\na.asn1.x509.BasicConstraints = function(e) {\n  a.asn1.x509.BasicConstraints.superclass.constructor.call(this, e);\n  var t = a.asn1, r = t.DERBoolean, i = t.DERInteger, s = t.DERSequence;\n  this.getExtnValueHex = function() {\n    var n = new Array();\n    this.cA && n.push(new r()), this.pathLen > -1 && n.push(new i({ int: this.pathLen }));\n    var h = new s({ array: n });\n    return this.asn1ExtnValue = h, this.asn1ExtnValue.tohex();\n  }, this.oid = \"2.5.29.19\", this.cA = !1, this.pathLen = -1, e !== void 0 && (e.cA !== void 0 && (this.cA = e.cA), e.pathLen !== void 0 && (this.pathLen = e.pathLen));\n};\nN(a.asn1.x509.BasicConstraints, a.asn1.x509.Extension);\na.asn1.x509.CRLDistributionPoints = function(e) {\n  a.asn1.x509.CRLDistributionPoints.superclass.constructor.call(this, e);\n  var t = a, r = t.asn1, i = r.x509;\n  this.getExtnValueHex = function() {\n    return this.asn1ExtnValue.tohex();\n  }, this.setByDPArray = function(s) {\n    for (var n = [], h = 0; h < s.length; h++)\n      if (s[h] instanceof a.asn1.ASN1Object)\n        n.push(s[h]);\n      else {\n        var u = new i.DistributionPoint(s[h]);\n        n.push(u);\n      }\n    this.asn1ExtnValue = new r.DERSequence({ array: n });\n  }, this.setByOneURI = function(s) {\n    var n = new i.DistributionPoint({ fulluri: s });\n    this.setByDPArray([n]);\n  }, this.oid = \"2.5.29.31\", e !== void 0 && (e.array !== void 0 ? this.setByDPArray(e.array) : e.uri !== void 0 && this.setByOneURI(e.uri));\n};\nN(a.asn1.x509.CRLDistributionPoints, a.asn1.x509.Extension);\na.asn1.x509.DistributionPoint = function(e) {\n  a.asn1.x509.DistributionPoint.superclass.constructor.call(this);\n  var t = a, r = t.asn1, i = r.x509.DistributionPointName;\n  this.tohex = function() {\n    var s = new r.DERSequence();\n    if (this.asn1DP != null) {\n      var n = new r.DERTaggedObject({ explicit: !0, tag: \"a0\", obj: this.asn1DP });\n      s.appendASN1Object(n);\n    }\n    return this.hTLV = s.tohex(), this.hTLV;\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0 && (e.dpobj !== void 0 ? this.asn1DP = e.dpobj : e.dpname !== void 0 ? this.asn1DP = new i(e.dpname) : e.fulluri !== void 0 && (this.asn1DP = new i({ full: [{ uri: e.fulluri }] })));\n};\nN(a.asn1.x509.DistributionPoint, a.asn1.ASN1Object);\na.asn1.x509.DistributionPointName = function(e) {\n  a.asn1.x509.DistributionPointName.superclass.constructor.call(this);\n  var t = a, r = t.asn1, i = r.DERTaggedObject;\n  if (this.tohex = function() {\n    if (this.type != \"full\")\n      throw new Error(\"currently type shall be 'full': \" + this.type);\n    return this.asn1Obj = new i({ explicit: !1, tag: this.tag, obj: this.asn1V }), this.hTLV = this.asn1Obj.tohex(), this.hTLV;\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0)\n    if (r.x509.GeneralNames.prototype.isPrototypeOf(e))\n      this.type = \"full\", this.tag = \"a0\", this.asn1V = e;\n    else if (e.full !== void 0)\n      this.type = \"full\", this.tag = \"a0\", this.asn1V = new r.x509.GeneralNames(e.full);\n    else\n      throw new Error(\"This class supports GeneralNames only as argument\");\n};\nN(a.asn1.x509.DistributionPointName, a.asn1.ASN1Object);\na.asn1.x509.CertificatePolicies = function(e) {\n  a.asn1.x509.CertificatePolicies.superclass.constructor.call(this, e);\n  var t = a, r = t.asn1, i = r.x509, s = r.DERSequence, n = i.PolicyInformation;\n  this.params = null, this.getExtnValueHex = function() {\n    for (var h = [], u = 0; u < this.params.array.length; u++)\n      h.push(new n(this.params.array[u]));\n    var p = new s({ array: h });\n    return this.asn1ExtnValue = p, this.asn1ExtnValue.tohex();\n  }, this.oid = \"2.5.29.32\", e !== void 0 && (this.params = e);\n};\nN(a.asn1.x509.CertificatePolicies, a.asn1.x509.Extension);\na.asn1.x509.PolicyInformation = function(e) {\n  a.asn1.x509.PolicyInformation.superclass.constructor.call(this, e);\n  var t = a.asn1, r = t.DERSequence, i = t.DERObjectIdentifier, s = t.x509.PolicyQualifierInfo;\n  this.params = null, this.tohex = function() {\n    if (this.params.policyoid === void 0 && this.params.array === void 0)\n      throw new Error(\"parameter oid and array missing\");\n    var n = [new i(this.params.policyoid)];\n    if (this.params.array !== void 0) {\n      for (var h = [], u = 0; u < this.params.array.length; u++)\n        h.push(new s(this.params.array[u]));\n      h.length > 0 && n.push(new r({ array: h }));\n    }\n    var p = new r({ array: n });\n    return p.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0 && (this.params = e);\n};\nN(a.asn1.x509.PolicyInformation, a.asn1.ASN1Object);\na.asn1.x509.PolicyQualifierInfo = function(e) {\n  a.asn1.x509.PolicyQualifierInfo.superclass.constructor.call(this, e);\n  var t = a.asn1, r = t.DERSequence, i = t.DERIA5String, s = t.DERObjectIdentifier, n = t.x509.UserNotice;\n  this.params = null, this.tohex = function() {\n    if (this.params.cps !== void 0) {\n      var h = new r({ array: [new s({ oid: \"1.3.6.1.5.5.7.2.1\" }), new i({ str: this.params.cps })] });\n      return h.tohex();\n    }\n    if (this.params.unotice != null) {\n      var h = new r({ array: [new s({ oid: \"1.3.6.1.5.5.7.2.2\" }), new n(this.params.unotice)] });\n      return h.tohex();\n    }\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0 && (this.params = e);\n};\nN(a.asn1.x509.PolicyQualifierInfo, a.asn1.ASN1Object);\na.asn1.x509.UserNotice = function(e) {\n  a.asn1.x509.UserNotice.superclass.constructor.call(this, e);\n  var t = a.asn1.DERSequence;\n  a.asn1.DERInteger;\n  var r = a.asn1.x509.DisplayText, i = a.asn1.x509.NoticeReference;\n  this.params = null, this.tohex = function() {\n    var s = [];\n    this.params.noticeref !== void 0 && s.push(new i(this.params.noticeref)), this.params.exptext !== void 0 && s.push(new r(this.params.exptext));\n    var n = new t({ array: s });\n    return n.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0 && (this.params = e);\n};\nN(a.asn1.x509.UserNotice, a.asn1.ASN1Object);\na.asn1.x509.NoticeReference = function(e) {\n  a.asn1.x509.NoticeReference.superclass.constructor.call(this, e);\n  var t = a.asn1.DERSequence, r = a.asn1.DERInteger, i = a.asn1.x509.DisplayText;\n  this.params = null, this.tohex = function() {\n    var s = [];\n    if (this.params.org !== void 0 && s.push(new i(this.params.org)), this.params.noticenum !== void 0) {\n      for (var n = [], h = this.params.noticenum, u = 0; u < h.length; u++)\n        n.push(new r(h[u]));\n      s.push(new t({ array: n }));\n    }\n    if (s.length == 0)\n      throw new Error(\"parameter is empty\");\n    var p = new t({ array: s });\n    return p.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0 && (this.params = e);\n};\nN(a.asn1.x509.NoticeReference, a.asn1.ASN1Object);\na.asn1.x509.DisplayText = function(e) {\n  a.asn1.x509.DisplayText.superclass.constructor.call(this, e), this.hT = \"0c\", e !== void 0 && (e.type === \"ia5\" ? this.hT = \"16\" : e.type === \"vis\" ? this.hT = \"1a\" : e.type === \"bmp\" && (this.hT = \"1e\"));\n};\nN(a.asn1.x509.DisplayText, a.asn1.DERAbstractString);\na.asn1.x509.PolicyMappings = function(e) {\n  a.asn1.x509.PolicyMappings.superclass.constructor.call(this, e);\n  var t = a, r = t.asn1;\n  r.x509;\n  var i = r.ASN1Util.newObject;\n  this.params = null, this.getExtnValueHex = function() {\n    for (var s = this.params, n = [], h = 0; h < s.array.length; h++) {\n      var u = s.array[h];\n      n.push({ seq: [{ oid: u[0] }, { oid: u[1] }] });\n    }\n    return this.asn1ExtnValue = i({ seq: n }), this.asn1ExtnValue.tohex();\n  }, this.oid = \"2.5.29.33\", e !== void 0 && (this.params = e);\n};\nN(a.asn1.x509.PolicyMappings, a.asn1.x509.Extension);\na.asn1.x509.PolicyConstraints = function(e) {\n  a.asn1.x509.PolicyConstraints.superclass.constructor.call(this, e);\n  var t = a, r = t.asn1;\n  r.x509;\n  var i = r.ASN1Util.newObject;\n  this.params = null, this.getExtnValueHex = function() {\n    var s = this.params, n = [];\n    return s.reqexp != null && n.push({ tag: { tagi: \"80\", obj: { int: s.reqexp } } }), s.inhibit != null && n.push({ tag: { tagi: \"81\", obj: { int: s.inhibit } } }), this.asn1ExtnValue = i({ seq: n }), this.asn1ExtnValue.tohex();\n  }, this.oid = \"2.5.29.36\", e !== void 0 && (this.params = e);\n};\nN(a.asn1.x509.PolicyConstraints, a.asn1.x509.Extension);\na.asn1.x509.InhibitAnyPolicy = function(e) {\n  a.asn1.x509.InhibitAnyPolicy.superclass.constructor.call(this, e);\n  var t = a, r = t.asn1;\n  r.x509;\n  var i = r.ASN1Util.newObject;\n  this.params = null, this.getExtnValueHex = function() {\n    return this.asn1ExtnValue = i({ int: this.params.skip }), this.asn1ExtnValue.tohex();\n  }, this.oid = \"2.5.29.54\", e !== void 0 && (this.params = e);\n};\nN(a.asn1.x509.InhibitAnyPolicy, a.asn1.x509.Extension);\na.asn1.x509.NameConstraints = function(e) {\n  a.asn1.x509.NameConstraints.superclass.constructor.call(this, e);\n  var t = a, r = t.asn1, i = r.x509, s = r.ASN1Util.newObject, n = i.GeneralSubtree;\n  this.params = null, this.getExtnValueHex = function() {\n    var h = this.params, u = [];\n    if (h.permit != null && h.permit.length != null) {\n      for (var p = [], c = 0; c < h.permit.length; c++)\n        p.push(new n(h.permit[c]));\n      u.push({ tag: { tagi: \"a0\", obj: { seq: p } } });\n    }\n    if (h.exclude != null && h.exclude.length != null) {\n      for (var y = [], c = 0; c < h.exclude.length; c++)\n        y.push(new n(h.exclude[c]));\n      u.push({ tag: { tagi: \"a1\", obj: { seq: y } } });\n    }\n    return this.asn1ExtnValue = s({ seq: u }), this.asn1ExtnValue.tohex();\n  }, this.oid = \"2.5.29.30\", e !== void 0 && (this.params = e);\n};\nN(a.asn1.x509.NameConstraints, a.asn1.x509.Extension);\na.asn1.x509.GeneralSubtree = function(e) {\n  a.asn1.x509.GeneralSubtree.superclass.constructor.call(this);\n  var t = a.asn1, r = t.x509, i = r.GeneralName, s = t.ASN1Util.newObject;\n  this.params = null, this.setByParam = function(n) {\n    this.params = n;\n  }, this.tohex = function() {\n    var n = this.params, h = [new i(n)];\n    n.min != null && h.push({ tag: { tagi: \"80\", obj: { int: n.min } } }), n.max != null && h.push({ tag: { tagi: \"81\", obj: { int: n.max } } });\n    var u = s({ seq: h });\n    return u.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0 && this.setByParam(e);\n};\nN(a.asn1.x509.GeneralSubtree, a.asn1.ASN1Object);\na.asn1.x509.ExtKeyUsage = function(e) {\n  a.asn1.x509.ExtKeyUsage.superclass.constructor.call(this, e);\n  var t = a, r = t.asn1;\n  this.setPurposeArray = function(i) {\n    this.asn1ExtnValue = new r.DERSequence();\n    for (var s = 0; s < i.length; s++) {\n      var n = new r.DERObjectIdentifier(i[s]);\n      this.asn1ExtnValue.appendASN1Object(n);\n    }\n  }, this.getExtnValueHex = function() {\n    return this.asn1ExtnValue.tohex();\n  }, this.oid = \"2.5.29.37\", e !== void 0 && e.array !== void 0 && this.setPurposeArray(e.array);\n};\nN(a.asn1.x509.ExtKeyUsage, a.asn1.x509.Extension);\na.asn1.x509.AuthorityKeyIdentifier = function(e) {\n  a.asn1.x509.AuthorityKeyIdentifier.superclass.constructor.call(this, e);\n  var t = a, r = t.asn1, i = r.DERTaggedObject, s = r.x509.GeneralNames;\n  t.crypto.Util.isKey, this.asn1KID = null, this.asn1CertIssuer = null, this.asn1CertSN = null, this.getExtnValueHex = function() {\n    var n = new Array();\n    this.asn1KID && n.push(new i({ explicit: !1, tag: \"80\", obj: this.asn1KID })), this.asn1CertIssuer && n.push(new i({ explicit: !1, tag: \"a1\", obj: new s([{ dn: this.asn1CertIssuer }]) })), this.asn1CertSN && n.push(new i({ explicit: !1, tag: \"82\", obj: this.asn1CertSN }));\n    var h = new r.DERSequence({ array: n });\n    return this.asn1ExtnValue = h, this.asn1ExtnValue.tohex();\n  }, this.setKIDByParam = function(n) {\n    if (n.str !== void 0 || n.hex !== void 0)\n      this.asn1KID = new a.asn1.DEROctetString(n);\n    else if (typeof n == \"object\" && a.crypto.Util.isKey(n) || typeof n == \"string\" && n.indexOf(\"BEGIN \") != -1) {\n      var h = n;\n      typeof n == \"string\" && (h = k.getKey(n));\n      var u = k.getKeyID(h);\n      this.asn1KID = new a.asn1.DEROctetString({ hex: u });\n    }\n  }, this.setCertIssuerByParam = function(n) {\n    n.str !== void 0 || n.ldapstr !== void 0 || n.hex !== void 0 || n.certsubject !== void 0 || n.certissuer !== void 0 ? this.asn1CertIssuer = new a.asn1.x509.X500Name(n) : typeof n == \"string\" && n.indexOf(\"BEGIN \") != -1 && n.indexOf(\"CERTIFICATE\") != -1 && (this.asn1CertIssuer = new a.asn1.x509.X500Name({ certissuer: n }));\n  }, this.setCertSNByParam = function(n) {\n    if (n.str !== void 0 || n.bigint !== void 0 || n.hex !== void 0)\n      this.asn1CertSN = new a.asn1.DERInteger(n);\n    else if (typeof n == \"string\" && n.indexOf(\"BEGIN \") != -1 && n.indexOf(\"CERTIFICATE\")) {\n      var h = new L();\n      h.readCertPEM(n);\n      var u = h.getSerialNumberHex();\n      this.asn1CertSN = new a.asn1.DERInteger({ hex: u });\n    }\n  }, this.oid = \"2.5.29.35\", e !== void 0 && (e.kid !== void 0 && this.setKIDByParam(e.kid), e.issuer !== void 0 && this.setCertIssuerByParam(e.issuer), e.sn !== void 0 && this.setCertSNByParam(e.sn), e.issuersn !== void 0 && typeof e.issuersn == \"string\" && e.issuersn.indexOf(\"BEGIN \") != -1 && e.issuersn.indexOf(\"CERTIFICATE\") && (this.setCertSNByParam(e.issuersn), this.setCertIssuerByParam(e.issuersn)));\n};\nN(a.asn1.x509.AuthorityKeyIdentifier, a.asn1.x509.Extension);\na.asn1.x509.SubjectKeyIdentifier = function(e) {\n  a.asn1.x509.SubjectKeyIdentifier.superclass.constructor.call(this, e);\n  var t = a, r = t.asn1, i = r.DEROctetString;\n  this.asn1KID = null, this.getExtnValueHex = function() {\n    return this.asn1ExtnValue = this.asn1KID, this.asn1ExtnValue.tohex();\n  }, this.setKIDByParam = function(s) {\n    if (s.str !== void 0 || s.hex !== void 0)\n      this.asn1KID = new i(s);\n    else if (typeof s == \"object\" && a.crypto.Util.isKey(s) || typeof s == \"string\" && s.indexOf(\"BEGIN\") != -1) {\n      var n = s;\n      typeof s == \"string\" && (n = k.getKey(s));\n      var h = k.getKeyID(n);\n      this.asn1KID = new a.asn1.DEROctetString({ hex: h });\n    }\n  }, this.oid = \"2.5.29.14\", e !== void 0 && e.kid !== void 0 && this.setKIDByParam(e.kid);\n};\nN(a.asn1.x509.SubjectKeyIdentifier, a.asn1.x509.Extension);\na.asn1.x509.AuthorityInfoAccess = function(e) {\n  a.asn1.x509.AuthorityInfoAccess.superclass.constructor.call(this, e), this.setAccessDescriptionArray = function(t) {\n    for (var r = new Array(), i = a, s = i.asn1, n = s.DERSequence, h = s.DERObjectIdentifier, u = s.x509.GeneralName, p = 0; p < t.length; p++) {\n      var c, y = t[p];\n      if (y.ocsp !== void 0)\n        c = new n({ array: [new h({ oid: \"1.3.6.1.5.5.7.48.1\" }), new u({ uri: y.ocsp })] });\n      else if (y.caissuer !== void 0)\n        c = new n({ array: [new h({ oid: \"1.3.6.1.5.5.7.48.2\" }), new u({ uri: y.caissuer })] });\n      else\n        throw new Error(\"unknown AccessMethod parameter: \" + JSON.stringify(y));\n      r.push(c);\n    }\n    this.asn1ExtnValue = new n({ array: r });\n  }, this.getExtnValueHex = function() {\n    return this.asn1ExtnValue.tohex();\n  }, this.oid = \"1.3.6.1.5.5.7.1.1\", e !== void 0 && e.array !== void 0 && this.setAccessDescriptionArray(e.array);\n};\nN(a.asn1.x509.AuthorityInfoAccess, a.asn1.x509.Extension);\na.asn1.x509.SubjectAltName = function(e) {\n  a.asn1.x509.SubjectAltName.superclass.constructor.call(this, e), this.setNameArray = function(t) {\n    this.asn1ExtnValue = new a.asn1.x509.GeneralNames(t);\n  }, this.getExtnValueHex = function() {\n    return this.asn1ExtnValue.tohex();\n  }, this.oid = \"2.5.29.17\", e !== void 0 && e.array !== void 0 && this.setNameArray(e.array);\n};\nN(a.asn1.x509.SubjectAltName, a.asn1.x509.Extension);\na.asn1.x509.IssuerAltName = function(e) {\n  a.asn1.x509.IssuerAltName.superclass.constructor.call(this, e), this.setNameArray = function(t) {\n    this.asn1ExtnValue = new a.asn1.x509.GeneralNames(t);\n  }, this.getExtnValueHex = function() {\n    return this.asn1ExtnValue.tohex();\n  }, this.oid = \"2.5.29.18\", e !== void 0 && e.array !== void 0 && this.setNameArray(e.array);\n};\nN(a.asn1.x509.IssuerAltName, a.asn1.x509.Extension);\na.asn1.x509.SubjectDirectoryAttributes = function(e) {\n  a.asn1.x509.SubjectDirectoryAttributes.superclass.constructor.call(this, e);\n  var t = a.asn1, r = t.DERSequence, i = t.ASN1Util.newObject, s = t.x509.OID.name2oid;\n  this.params = null, this.getExtnValueHex = function() {\n    for (var n = [], h = 0; h < this.params.array.length; h++) {\n      var u = this.params.array[h];\n      if (u.attr != null && u.array != null) {\n        var p = { seq: [{ oid: u.attr }, { set: u.array }] };\n        n.push(i(p));\n        continue;\n      }\n      var c = { seq: [{ oid: \"1.2.3.4\" }, { set: [{ utf8str: \"DE\" }] }] };\n      if (u.attr == \"dateOfBirth\")\n        c.seq[0].oid = s(u.attr), c.seq[1].set[0] = { gentime: u.str };\n      else if (u.attr == \"placeOfBirth\")\n        c.seq[0].oid = s(u.attr), c.seq[1].set[0] = { utf8str: u.str };\n      else if (u.attr == \"gender\")\n        c.seq[0].oid = s(u.attr), c.seq[1].set[0] = { prnstr: u.str };\n      else if (u.attr == \"countryOfCitizenship\")\n        c.seq[0].oid = s(u.attr), c.seq[1].set[0] = { prnstr: u.str };\n      else if (u.attr == \"countryOfResidence\")\n        c.seq[0].oid = s(u.attr), c.seq[1].set[0] = { prnstr: u.str };\n      else\n        throw new Error(\"unsupported attribute: \" + u.attr);\n      n.push(new i(c));\n    }\n    var y = new r({ array: n });\n    return this.asn1ExtnValue = y, this.asn1ExtnValue.tohex();\n  }, this.oid = \"2.5.29.9\", e !== void 0 && (this.params = e);\n};\nN(a.asn1.x509.SubjectDirectoryAttributes, a.asn1.x509.Extension);\na.asn1.x509.PrivateExtension = function(e) {\n  a.asn1.x509.PrivateExtension.superclass.constructor.call(this, e);\n  var t = a, r = t.lang.String.isHex, i = t.asn1, s = i.x509.OID.name2oid, n = i.ASN1Util.newObject;\n  this.params = null, this.setByParam = function(h) {\n    this.oid = s(h.extname), this.params = h;\n  }, this.getExtnValueHex = function() {\n    if (this.params.extname == null || this.params.extn == null)\n      throw new Error(\"extname or extnhex not specified\");\n    var h = this.params.extn;\n    if (typeof h == \"string\" && r(h))\n      return h;\n    if (typeof h == \"object\")\n      try {\n        return n(h).tohex();\n      } catch {\n      }\n    throw new Error(\"unsupported extn value\");\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.x509.PrivateExtension, a.asn1.x509.Extension);\na.asn1.x509.CRL = function(e) {\n  a.asn1.x509.CRL.superclass.constructor.call(this);\n  var t = a, r = t.asn1, i = r.DERSequence, s = r.DERBitString, n = r.x509, h = n.AlgorithmIdentifier, u = n.TBSCertList;\n  this.params = void 0, this.setByParam = function(p) {\n    this.params = p;\n  }, this.sign = function() {\n    var p = new u(this.params).tohex(), c = new a.crypto.Signature({ alg: this.params.sigalg });\n    c.init(this.params.cakey), c.updateHex(p);\n    var y = c.sign();\n    this.params.sighex = y;\n  }, this.getPEM = function() {\n    return de(this.tohex(), \"X509 CRL\");\n  }, this.tohex = function() {\n    var p = this.params;\n    if (p.tbsobj == null && (p.tbsobj = new u(p)), p.sighex == null && p.cakey != null && this.sign(), p.sighex == null)\n      throw new Error(\"sighex or cakey parameter not defined\");\n    var c = [];\n    c.push(p.tbsobj), c.push(new h({ name: p.sigalg })), c.push(new s({ hex: \"00\" + p.sighex }));\n    var y = new i({ array: c });\n    return y.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && (this.params = e);\n};\nN(a.asn1.x509.CRL, a.asn1.ASN1Object);\na.asn1.x509.TBSCertList = function(e) {\n  a.asn1.x509.TBSCertList.superclass.constructor.call(this);\n  var t = a, r = t.asn1, i = r.DERInteger, s = r.DERSequence, n = r.DERTaggedObject;\n  r.DERObjectIdentifier;\n  var h = r.x509, u = h.AlgorithmIdentifier, p = h.Time, c = h.Extensions, y = h.X500Name;\n  this.params = null, this.setByParam = function(v) {\n    this.params = v;\n  }, this.getRevCertSequence = function() {\n    for (var v = [], o = this.params.revcert, l = 0; l < o.length; l++) {\n      var f = [new i(o[l].sn), new p(o[l].date)];\n      o[l].ext != null && f.push(new c(o[l].ext)), v.push(new s({ array: f }));\n    }\n    return new s({ array: v });\n  }, this.tohex = function() {\n    var v = [], o = this.params;\n    if (o.version != null) {\n      var l = o.version - 1, f = new i({ int: l });\n      v.push(f);\n    }\n    if (v.push(new u({ name: o.sigalg })), v.push(new y(o.issuer)), v.push(new p(o.thisupdate)), o.nextupdate != null && v.push(new p(o.nextupdate)), o.revcert != null && v.push(this.getRevCertSequence()), o.ext != null) {\n      var d = new c(o.ext);\n      v.push(new n({ tag: \"a0\", explicit: !0, obj: d }));\n    }\n    var g = new s({ array: v });\n    return g.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0 && this.setByParam(e);\n};\nN(a.asn1.x509.TBSCertList, a.asn1.ASN1Object);\na.asn1.x509.CRLEntry = function(e) {\n  a.asn1.x509.CRLEntry.superclass.constructor.call(this);\n  var t = a, r = t.asn1;\n  this.setCertSerial = function(i) {\n    this.sn = new r.DERInteger(i);\n  }, this.setRevocationDate = function(i) {\n    this.time = new r.x509.Time(i);\n  }, this.tohex = function() {\n    var i = new r.DERSequence({ array: [this.sn, this.time] });\n    return this.TLV = i.tohex(), this.TLV;\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0 && (e.time !== void 0 && this.setRevocationDate(e.time), e.sn !== void 0 && this.setCertSerial(e.sn));\n};\nN(a.asn1.x509.CRLEntry, a.asn1.ASN1Object);\na.asn1.x509.CRLNumber = function(e) {\n  a.asn1.x509.CRLNumber.superclass.constructor.call(this, e), this.params = void 0, this.getExtnValueHex = function() {\n    return this.asn1ExtnValue = new a.asn1.DERInteger(this.params.num), this.asn1ExtnValue.tohex();\n  }, this.oid = \"2.5.29.20\", e != null && (this.params = e);\n};\nN(a.asn1.x509.CRLNumber, a.asn1.x509.Extension);\na.asn1.x509.CRLReason = function(e) {\n  a.asn1.x509.CRLReason.superclass.constructor.call(this, e), this.params = void 0, this.getExtnValueHex = function() {\n    return this.asn1ExtnValue = new a.asn1.DEREnumerated(this.params.code), this.asn1ExtnValue.tohex();\n  }, this.oid = \"2.5.29.21\", e != null && (this.params = e);\n};\nN(a.asn1.x509.CRLReason, a.asn1.x509.Extension);\na.asn1.x509.OCSPNonce = function(e) {\n  a.asn1.x509.OCSPNonce.superclass.constructor.call(this, e), this.params = void 0, this.getExtnValueHex = function() {\n    return this.asn1ExtnValue = new a.asn1.DEROctetString(this.params), this.asn1ExtnValue.tohex();\n  }, this.oid = \"1.3.6.1.5.5.7.48.1.2\", e != null && (this.params = e);\n};\nN(a.asn1.x509.OCSPNonce, a.asn1.x509.Extension);\na.asn1.x509.OCSPNoCheck = function(e) {\n  a.asn1.x509.OCSPNoCheck.superclass.constructor.call(this, e), this.params = void 0, this.getExtnValueHex = function() {\n    return this.asn1ExtnValue = new a.asn1.DERNull(), this.asn1ExtnValue.tohex();\n  }, this.oid = \"1.3.6.1.5.5.7.48.1.5\", e != null && (this.params = e);\n};\nN(a.asn1.x509.OCSPNoCheck, a.asn1.x509.Extension);\na.asn1.x509.AdobeTimeStamp = function(e) {\n  a.asn1.x509.AdobeTimeStamp.superclass.constructor.call(this, e);\n  var t = a, r = t.asn1, i = r.DERInteger, s = r.DERBoolean, n = r.DERSequence, h = r.x509.GeneralName;\n  this.params = null, this.getExtnValueHex = function() {\n    var u = this.params, p = [new i(1)];\n    return p.push(new h({ uri: u.uri })), u.reqauth != null && p.push(new s(u.reqauth)), this.asn1ExtnValue = new n({ array: p }), this.asn1ExtnValue.tohex();\n  }, this.oid = \"1.2.840.113583.1.1.9.1\", e !== void 0 && this.setByParam(e);\n};\nN(a.asn1.x509.AdobeTimeStamp, a.asn1.x509.Extension);\na.asn1.x509.X500Name = function(e) {\n  a.asn1.x509.X500Name.superclass.constructor.call(this), this.asn1Array = [], this.paramArray = [], this.sRule = \"utf8\";\n  var t = a, r = t.asn1, i = r.x509, s = i.RDN;\n  this.setByString = function(n, h) {\n    h !== void 0 && (this.sRule = h);\n    var u = n.split(\"/\");\n    u.shift();\n    for (var p = [], c = 0; c < u.length; c++)\n      if (u[c].match(/^[^=]+=.+$/))\n        p.push(u[c]);\n      else {\n        var y = p.length - 1;\n        p[y] = p[y] + \"/\" + u[c];\n      }\n    for (var c = 0; c < p.length; c++)\n      this.asn1Array.push(new s({ str: p[c], rule: this.sRule }));\n  }, this.setByLdapString = function(n, h) {\n    h !== void 0 && (this.sRule = h);\n    var u = i.X500Name.ldapToCompat(n);\n    this.setByString(u, h);\n  }, this.setByObject = function(n, h) {\n    h !== void 0 && (this.sRule = h);\n    for (var u in n)\n      if (n.hasOwnProperty(u)) {\n        var p = new s({ str: u + \"=\" + n[u], rule: this.sRule });\n        this.asn1Array ? this.asn1Array.push(p) : this.asn1Array = [p];\n      }\n  }, this.setByParam = function(n) {\n    if (n.rule !== void 0 && (this.sRule = n.rule), n.array !== void 0)\n      this.paramArray = n.array;\n    else if (n.str !== void 0)\n      this.setByString(n.str);\n    else if (n.ldapstr !== void 0)\n      this.setByLdapString(n.ldapstr);\n    else if (n.hex !== void 0)\n      this.hTLV = n.hex;\n    else if (n.certissuer !== void 0) {\n      var h = new L();\n      h.readCertPEM(n.certissuer), this.hTLV = h.getIssuerHex();\n    } else if (n.certsubject !== void 0) {\n      var h = new L();\n      h.readCertPEM(n.certsubject), this.hTLV = h.getSubjectHex();\n    } else\n      typeof n == \"object\" && n.certsubject === void 0 && n.certissuer === void 0 && this.setByObject(n);\n  }, this.tohex = function() {\n    if (typeof this.hTLV == \"string\")\n      return this.hTLV;\n    if (this.asn1Array.length == 0 && this.paramArray.length > 0)\n      for (var n = 0; n < this.paramArray.length; n++) {\n        var h = { array: this.paramArray[n] };\n        this.sRule != \"utf8\" && (h.rule = this.sRule);\n        var u = new s(h);\n        this.asn1Array.push(u);\n      }\n    var p = new r.DERSequence({ array: this.asn1Array });\n    return this.hTLV = p.tohex(), this.hTLV;\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0 && this.setByParam(e);\n};\nN(a.asn1.x509.X500Name, a.asn1.ASN1Object);\na.asn1.x509.X500Name.compatToLDAP = function(e) {\n  if (e.substr(0, 1) !== \"/\")\n    throw \"malformed input\";\n  e = e.substr(1);\n  var t = e.split(\"/\");\n  return t.reverse(), t = t.map(function(r) {\n    return r.replace(/,/, \"\\\\,\");\n  }), t.join(\",\");\n};\na.asn1.x509.X500Name.onelineToLDAP = function(e) {\n  return a.asn1.x509.X500Name.compatToLDAP(e);\n};\na.asn1.x509.X500Name.ldapToCompat = function(e) {\n  for (var t = e.split(\",\"), r = !1, i = [], s = 0; t.length > 0; s++) {\n    var n = t.shift();\n    if (r === !0) {\n      var h = i.pop(), u = (h + \",\" + n).replace(/\\\\,/g, \",\");\n      i.push(u), r = !1;\n    } else\n      i.push(n);\n    n.substr(-1, 1) === \"\\\\\" && (r = !0);\n  }\n  return i = i.map(function(p) {\n    return p.replace(\"/\", \"\\\\/\");\n  }), i.reverse(), \"/\" + i.join(\"/\");\n};\na.asn1.x509.X500Name.ldapToOneline = function(e) {\n  return a.asn1.x509.X500Name.ldapToCompat(e);\n};\na.asn1.x509.RDN = function(e) {\n  a.asn1.x509.RDN.superclass.constructor.call(this), this.asn1Array = [], this.paramArray = [], this.sRule = \"utf8\";\n  var t = a.asn1.x509.AttributeTypeAndValue;\n  this.setByParam = function(r) {\n    r.rule !== void 0 && (this.sRule = r.rule), r.str !== void 0 && this.addByMultiValuedString(r.str), r.array !== void 0 && (this.paramArray = r.array);\n  }, this.addByString = function(r) {\n    this.asn1Array.push(new a.asn1.x509.AttributeTypeAndValue({ str: r, rule: this.sRule }));\n  }, this.addByMultiValuedString = function(r) {\n    for (var i = a.asn1.x509.RDN.parseString(r), s = 0; s < i.length; s++)\n      this.addByString(i[s]);\n  }, this.tohex = function() {\n    if (this.asn1Array.length == 0 && this.paramArray.length > 0)\n      for (var r = 0; r < this.paramArray.length; r++) {\n        var i = this.paramArray[r];\n        i.rule !== void 0 && this.sRule != \"utf8\" && (i.rule = this.sRule);\n        var s = new t(i);\n        this.asn1Array.push(s);\n      }\n    var n = new a.asn1.DERSet({ array: this.asn1Array });\n    return this.TLV = n.tohex(), this.TLV;\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0 && this.setByParam(e);\n};\nN(a.asn1.x509.RDN, a.asn1.ASN1Object);\na.asn1.x509.RDN.parseString = function(e) {\n  for (var t = e.split(/\\+/), r = !1, i = [], s = 0; t.length > 0; s++) {\n    var n = t.shift();\n    if (r === !0) {\n      var h = i.pop(), u = (h + \"+\" + n).replace(/\\\\\\+/g, \"+\");\n      i.push(u), r = !1;\n    } else\n      i.push(n);\n    n.substr(-1, 1) === \"\\\\\" && (r = !0);\n  }\n  for (var p = !1, c = [], s = 0; i.length > 0; s++) {\n    var n = i.shift();\n    if (p === !0) {\n      var y = c.pop();\n      if (n.match(/\"$/)) {\n        var u = (y + \"+\" + n).replace(/^([^=]+)=\"(.*)\"$/, \"$1=$2\");\n        c.push(u), p = !1;\n      } else\n        c.push(y + \"+\" + n);\n    } else\n      c.push(n);\n    n.match(/^[^=]+=\"/) && (p = !0);\n  }\n  return c;\n};\na.asn1.x509.AttributeTypeAndValue = function(e) {\n  a.asn1.x509.AttributeTypeAndValue.superclass.constructor.call(this), this.sRule = \"utf8\", this.sType = null, this.sValue = null, this.dsType = null;\n  var t = a, r = t.asn1, i = r.DERSequence, s = r.DERUTF8String, n = r.DERPrintableString, h = r.DERTeletexString, u = r.DERIA5String, p = r.DERVisibleString, c = r.DERBMPString, y = t.lang.String.isMail, v = t.lang.String.isPrintable;\n  this.setByParam = function(o) {\n    if (o.rule !== void 0 && (this.sRule = o.rule), o.ds !== void 0 && (this.dsType = o.ds), o.value === void 0 && o.str !== void 0) {\n      var l = o.str, f = l.match(/^([^=]+)=(.+)$/);\n      if (f)\n        this.sType = f[1], this.sValue = f[2];\n      else\n        throw new Error(\"malformed attrTypeAndValueStr: \" + attrTypeAndValueStr);\n    } else\n      this.sType = o.type, this.sValue = o.value;\n  }, this.setByString = function(o, l) {\n    l !== void 0 && (this.sRule = l);\n    var f = o.match(/^([^=]+)=(.+)$/);\n    if (f)\n      this.setByAttrTypeAndValueStr(f[1], f[2]);\n    else\n      throw new Error(\"malformed attrTypeAndValueStr: \" + attrTypeAndValueStr);\n  }, this._getDsType = function() {\n    var o = this.sType, l = this.sValue, f = this.sRule;\n    return f === \"prn\" ? o == \"CN\" && y(l) ? \"ia5\" : v(l) ? \"prn\" : \"utf8\" : f === \"utf8\" ? o == \"CN\" && y(l) ? \"ia5\" : o == \"C\" ? \"prn\" : \"utf8\" : \"utf8\";\n  }, this.setByAttrTypeAndValueStr = function(o, l, f) {\n    f !== void 0 && (this.sRule = f), this.sType = o, this.sValue = l;\n  }, this.getValueObj = function(o, l) {\n    if (o == \"utf8\")\n      return new s({ str: l });\n    if (o == \"prn\")\n      return new n({ str: l });\n    if (o == \"tel\")\n      return new h({ str: l });\n    if (o == \"ia5\")\n      return new u({ str: l });\n    if (o == \"vis\")\n      return new p({ str: l });\n    if (o == \"bmp\")\n      return new c({ str: l });\n    throw new Error(\"unsupported directory string type: type=\" + o + \" value=\" + l);\n  }, this.tohex = function() {\n    this.dsType == null && (this.dsType = this._getDsType());\n    var o = a.asn1.x509.OID.atype2obj(this.sType), l = this.getValueObj(this.dsType, this.sValue), f = new i({ array: [o, l] });\n    return this.TLV = f.tohex(), this.TLV;\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0 && this.setByParam(e);\n};\nN(a.asn1.x509.AttributeTypeAndValue, a.asn1.ASN1Object);\na.asn1.x509.SubjectPublicKeyInfo = function(e) {\n  a.asn1.x509.SubjectPublicKeyInfo.superclass.constructor.call(this);\n  var t = a, r = t.asn1, i = r.DERInteger, s = r.DERBitString, n = r.DERObjectIdentifier, h = r.DERSequence, u = r.ASN1Util.newObject, p = r.x509, c = p.AlgorithmIdentifier, y = t.crypto;\n  y.ECDSA, y.DSA, this.getASN1Object = function() {\n    if (this.asn1AlgId == null || this.asn1SubjPKey == null)\n      throw \"algId and/or subjPubKey not set\";\n    var v = new h({ array: [this.asn1AlgId, this.asn1SubjPKey] });\n    return v;\n  }, this.tohex = function() {\n    var v = this.getASN1Object();\n    return this.hTLV = v.tohex(), this.hTLV;\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, this.setPubKey = function(v) {\n    try {\n      if (v instanceof q) {\n        var o = u({ seq: [{ int: { bigint: v.n } }, { int: { int: v.e } }] }), l = o.tohex();\n        this.asn1AlgId = new c({ name: \"rsaEncryption\" }), this.asn1SubjPKey = new s({ hex: \"00\" + l });\n      }\n    } catch {\n    }\n    try {\n      if (v instanceof a.crypto.ECDSA) {\n        var f = new n({ name: v.curveName });\n        this.asn1AlgId = new c({ name: \"ecPublicKey\", asn1params: f }), this.asn1SubjPKey = new s({ hex: \"00\" + v.pubKeyHex });\n      }\n    } catch {\n    }\n    try {\n      if (v instanceof a.crypto.DSA) {\n        var f = new u({ seq: [{ int: { bigint: v.p } }, { int: { bigint: v.q } }, { int: { bigint: v.g } }] });\n        this.asn1AlgId = new c({ name: \"dsa\", asn1params: f });\n        var d = new i({ bigint: v.y });\n        this.asn1SubjPKey = new s({ hex: \"00\" + d.tohex() });\n      }\n    } catch {\n    }\n  }, e !== void 0 && this.setPubKey(e);\n};\nN(a.asn1.x509.SubjectPublicKeyInfo, a.asn1.ASN1Object);\na.asn1.x509.Time = function(e) {\n  a.asn1.x509.Time.superclass.constructor.call(this);\n  var t = a, r = t.asn1, i = r.DERUTCTime, s = r.DERGeneralizedTime;\n  this.params = null, this.type = null, this.setTimeParams = function(n) {\n    this.timeParams = n;\n  }, this.setByParam = function(n) {\n    this.params = n;\n  }, this.getType = function(n) {\n    return n.match(/^[0-9]{12}Z$/) ? \"utc\" : n.match(/^[0-9]{14}Z$/) ? \"gen\" : n.match(/^[0-9]{12}\\.[0-9]+Z$/) ? \"utc\" : n.match(/^[0-9]{14}\\.[0-9]+Z$/) ? \"gen\" : null;\n  }, this.tohex = function() {\n    var n = this.params, h = null;\n    if (typeof n == \"string\" && (n = { str: n }), n != null && n.str && (n.type == null || n.type == null) && (n.type = this.getType(n.str)), n != null && n.str ? (n.type == \"utc\" && (h = new i(n.str)), n.type == \"gen\" && (h = new s(n.str))) : this.type == \"gen\" ? h = new s() : h = new i(), h == null)\n      throw new Error(\"wrong setting for Time\");\n    return this.TLV = h.tohex(), this.TLV;\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && this.setByParam(e);\n};\na.asn1.x509.Time_bak = function(e) {\n  a.asn1.x509.Time_bak.superclass.constructor.call(this);\n  var t = a, r = t.asn1, i = r.DERUTCTime, s = r.DERGeneralizedTime;\n  this.setTimeParams = function(n) {\n    this.timeParams = n;\n  }, this.tohex = function() {\n    var n = null;\n    return this.timeParams != null ? this.type == \"utc\" ? n = new i(this.timeParams) : n = new s(this.timeParams) : this.type == \"utc\" ? n = new i() : n = new s(), this.TLV = n.tohex(), this.TLV;\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, this.type = \"utc\", e !== void 0 && (e.type !== void 0 ? this.type = e.type : e.str !== void 0 && (e.str.match(/^[0-9]{12}Z$/) && (this.type = \"utc\"), e.str.match(/^[0-9]{14}Z$/) && (this.type = \"gen\")), this.timeParams = e);\n};\nN(a.asn1.x509.Time, a.asn1.ASN1Object);\na.asn1.x509.AlgorithmIdentifier = function(e) {\n  a.asn1.x509.AlgorithmIdentifier.superclass.constructor.call(this), this.nameAlg = null, this.asn1Alg = null, this.asn1Params = null, this.paramEmpty = !1;\n  var t = a, r = t.asn1, i = r.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV;\n  if (this.tohex = function() {\n    if (this.nameAlg === null && this.asn1Alg === null)\n      throw new Error(\"algorithm not specified\");\n    if (this.nameAlg !== null) {\n      var n = null;\n      for (var h in i)\n        h === this.nameAlg && (n = i[h]);\n      if (n !== null)\n        return this.hTLV = n, this.hTLV;\n    }\n    this.nameAlg !== null && this.asn1Alg === null && (this.asn1Alg = r.x509.OID.name2obj(this.nameAlg));\n    var u = [this.asn1Alg];\n    this.asn1Params !== null && u.push(this.asn1Params);\n    var p = new r.DERSequence({ array: u });\n    return this.hTLV = p.tohex(), this.hTLV;\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0 && (e.name !== void 0 && (this.nameAlg = e.name), e.asn1params !== void 0 && (this.asn1Params = e.asn1params), e.paramempty !== void 0 && (this.paramEmpty = e.paramempty)), this.asn1Params === null && this.paramEmpty === !1 && this.nameAlg !== null) {\n    this.nameAlg.name !== void 0 && (this.nameAlg = this.nameAlg.name);\n    var s = this.nameAlg.toLowerCase();\n    s.substr(-7, 7) !== \"withdsa\" && s.substr(-9, 9) !== \"withecdsa\" && (this.asn1Params = new r.DERNull());\n  }\n};\nN(a.asn1.x509.AlgorithmIdentifier, a.asn1.ASN1Object);\na.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV = { SHAwithRSAandMGF1: \"300d06092a864886f70d01010a3000\", SHA256withRSAandMGF1: \"303d06092a864886f70d01010a3030a00d300b0609608648016503040201a11a301806092a864886f70d010108300b0609608648016503040201a203020120\", SHA384withRSAandMGF1: \"303d06092a864886f70d01010a3030a00d300b0609608648016503040202a11a301806092a864886f70d010108300b0609608648016503040202a203020130\", SHA512withRSAandMGF1: \"303d06092a864886f70d01010a3030a00d300b0609608648016503040203a11a301806092a864886f70d010108300b0609608648016503040203a203020140\" };\na.asn1.x509.GeneralName = function(e) {\n  a.asn1.x509.GeneralName.superclass.constructor.call(this);\n  var t = a, r = t.asn1, i = r.x509, s = i.X500Name, n = i.OtherName, h = r.DERIA5String;\n  r.DERPrintableString;\n  var u = r.DEROctetString, p = r.DERTaggedObject, c = r.ASN1Object, y = Error;\n  this.params = null, this.setByParam = function(v) {\n    this.params = v;\n  }, this.tohex = function() {\n    var v = this.params, o, f, l, f = !1;\n    if (v.other !== void 0)\n      o = \"a0\", l = new n(v.other);\n    else if (v.rfc822 !== void 0)\n      o = \"81\", l = new h({ str: v.rfc822 });\n    else if (v.dns !== void 0)\n      o = \"82\", l = new h({ str: v.dns });\n    else if (v.dn !== void 0)\n      o = \"a4\", f = !0, typeof v.dn == \"string\" ? l = new s({ str: v.dn }) : v.dn instanceof a.asn1.x509.X500Name ? l = v.dn : l = new s(v.dn);\n    else if (v.ldapdn !== void 0)\n      o = \"a4\", f = !0, l = new s({ ldapstr: v.ldapdn });\n    else if (v.certissuer !== void 0 || v.certsubj !== void 0) {\n      o = \"a4\", f = !0;\n      var d, g, S = null;\n      if (v.certsubj !== void 0 ? (d = !1, g = v.certsubj) : (d = !0, g = v.certissuer), g.match(/^[0-9A-Fa-f]+$/), g.indexOf(\"-----BEGIN \") != -1 && (S = ie(g)), S == null)\n        throw new Error(\"certsubj/certissuer not cert\");\n      var b = new L();\n      b.hex = S;\n      var D;\n      d ? D = b.getIssuerHex() : D = b.getSubjectHex(), l = new c(), l.hTLV = D;\n    } else if (v.uri !== void 0)\n      o = \"86\", l = new h({ str: v.uri });\n    else if (v.ip !== void 0) {\n      o = \"87\";\n      var A, I = v.ip;\n      try {\n        if (I.match(/^[0-9a-f]+$/)) {\n          var m = I.length;\n          if (m == 8 || m == 16 || m == 32 || m == 64)\n            A = I;\n          else\n            throw \"err\";\n        } else\n          A = Rt(I);\n      } catch (w) {\n        throw new y(\"malformed IP address: \" + v.ip + \":\" + w.message);\n      }\n      l = new u({ hex: A });\n    } else\n      throw new y(\"improper params\");\n    var E = new p({ tag: o, explicit: f, obj: l });\n    return E.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0 && this.setByParam(e);\n};\nN(a.asn1.x509.GeneralName, a.asn1.ASN1Object);\na.asn1.x509.GeneralNames = function(e) {\n  a.asn1.x509.GeneralNames.superclass.constructor.call(this);\n  var t = a, r = t.asn1;\n  this.setByParamArray = function(i) {\n    for (var s = 0; s < i.length; s++) {\n      var n = new r.x509.GeneralName(i[s]);\n      this.asn1Array.push(n);\n    }\n  }, this.tohex = function() {\n    var i = new r.DERSequence({ array: this.asn1Array });\n    return i.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, this.asn1Array = new Array(), typeof e < \"u\" && this.setByParamArray(e);\n};\nN(a.asn1.x509.GeneralNames, a.asn1.ASN1Object);\na.asn1.x509.OtherName = function(e) {\n  a.asn1.x509.OtherName.superclass.constructor.call(this);\n  var t = a, r = t.asn1, i = r.DERObjectIdentifier, s = r.DERSequence, n = r.ASN1Util.newObject;\n  this.params = null, this.setByParam = function(h) {\n    this.params = h;\n  }, this.tohex = function() {\n    var h = this.params;\n    if (h.oid == null || h.value == null)\n      throw new Error(\"oid or value not specified\");\n    var u = new i({ oid: h.oid }), p = n({ tag: { tag: \"a0\", explicit: !0, obj: h.value } }), c = new s({ array: [u, p] });\n    return c.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0 && this.setByParam(e);\n};\nN(a.asn1.x509.OtherName, a.asn1.ASN1Object);\na.asn1.x509.OID = new function() {\n  var e = a.asn1.DERObjectIdentifier;\n  this.name2oidList = { \"aes128-CBC\": \"2.16.840.1.101.3.4.1.2\", \"aes256-CBC\": \"2.16.840.1.101.3.4.1.42\", sha1: \"1.3.14.3.2.26\", sha256: \"2.16.840.1.101.3.4.2.1\", sha384: \"2.16.840.1.101.3.4.2.2\", sha512: \"2.16.840.1.101.3.4.2.3\", sha224: \"2.16.840.1.101.3.4.2.4\", md5: \"1.2.840.113549.2.5\", md2: \"1.3.14.7.2.2.1\", ripemd160: \"1.3.36.3.2.1\", hmacWithSHA1: \"1.2.840.113549.2.7\", hmacWithSHA224: \"1.2.840.113549.2.8\", hmacWithSHA256: \"1.2.840.113549.2.9\", hmacWithSHA384: \"1.2.840.113549.2.10\", hmacWithSHA512: \"1.2.840.113549.2.11\", MD2withRSA: \"1.2.840.113549.1.1.2\", MD4withRSA: \"1.2.840.113549.1.1.3\", MD5withRSA: \"1.2.840.113549.1.1.4\", SHA1withRSA: \"1.2.840.113549.1.1.5\", \"pkcs1-MGF\": \"1.2.840.113549.1.1.8\", rsaPSS: \"1.2.840.113549.1.1.10\", SHA224withRSA: \"1.2.840.113549.1.1.14\", SHA256withRSA: \"1.2.840.113549.1.1.11\", SHA384withRSA: \"1.2.840.113549.1.1.12\", SHA512withRSA: \"1.2.840.113549.1.1.13\", SHA1withECDSA: \"1.2.840.10045.4.1\", SHA224withECDSA: \"1.2.840.10045.4.3.1\", SHA256withECDSA: \"1.2.840.10045.4.3.2\", SHA384withECDSA: \"1.2.840.10045.4.3.3\", SHA512withECDSA: \"1.2.840.10045.4.3.4\", dsa: \"1.2.840.10040.4.1\", SHA1withDSA: \"1.2.840.10040.4.3\", SHA224withDSA: \"2.16.840.1.101.3.4.3.1\", SHA256withDSA: \"2.16.840.1.101.3.4.3.2\", rsaEncryption: \"1.2.840.113549.1.1.1\", commonName: \"2.5.4.3\", countryName: \"2.5.4.6\", localityName: \"2.5.4.7\", stateOrProvinceName: \"2.5.4.8\", streetAddress: \"2.5.4.9\", organizationName: \"2.5.4.10\", organizationalUnitName: \"2.5.4.11\", domainComponent: \"0.9.2342.19200300.100.1.25\", userId: \"0.9.2342.19200300.100.1.1\", surname: \"2.5.4.4\", givenName: \"2.5.4.42\", title: \"2.5.4.12\", distinguishedName: \"2.5.4.49\", emailAddress: \"1.2.840.113549.1.9.1\", description: \"2.5.4.13\", businessCategory: \"2.5.4.15\", postalCode: \"2.5.4.17\", uniqueIdentifier: \"2.5.4.45\", organizationIdentifier: \"2.5.4.97\", jurisdictionOfIncorporationL: \"1.3.6.1.4.1.311.60.2.1.1\", jurisdictionOfIncorporationSP: \"1.3.6.1.4.1.311.60.2.1.2\", jurisdictionOfIncorporationC: \"1.3.6.1.4.1.311.60.2.1.3\", subjectDirectoryAttributes: \"2.5.29.9\", subjectKeyIdentifier: \"2.5.29.14\", keyUsage: \"2.5.29.15\", subjectAltName: \"2.5.29.17\", issuerAltName: \"2.5.29.18\", basicConstraints: \"2.5.29.19\", cRLNumber: \"2.5.29.20\", cRLReason: \"2.5.29.21\", nameConstraints: \"2.5.29.30\", cRLDistributionPoints: \"2.5.29.31\", certificatePolicies: \"2.5.29.32\", anyPolicy: \"2.5.29.32.0\", policyMappings: \"2.5.29.33\", authorityKeyIdentifier: \"2.5.29.35\", policyConstraints: \"2.5.29.36\", extKeyUsage: \"2.5.29.37\", inhibitAnyPolicy: \"2.5.29.54\", authorityInfoAccess: \"1.3.6.1.5.5.7.1.1\", ocsp: \"1.3.6.1.5.5.7.48.1\", ocspBasic: \"1.3.6.1.5.5.7.48.1.1\", ocspNonce: \"1.3.6.1.5.5.7.48.1.2\", ocspNoCheck: \"1.3.6.1.5.5.7.48.1.5\", caIssuers: \"1.3.6.1.5.5.7.48.2\", anyExtendedKeyUsage: \"2.5.29.37.0\", serverAuth: \"1.3.6.1.5.5.7.3.1\", clientAuth: \"1.3.6.1.5.5.7.3.2\", codeSigning: \"1.3.6.1.5.5.7.3.3\", emailProtection: \"1.3.6.1.5.5.7.3.4\", timeStamping: \"1.3.6.1.5.5.7.3.8\", ocspSigning: \"1.3.6.1.5.5.7.3.9\", smtpUTF8Mailbox: \"1.3.6.1.5.5.7.8.9\", dateOfBirth: \"1.3.6.1.5.5.7.9.1\", placeOfBirth: \"1.3.6.1.5.5.7.9.2\", gender: \"1.3.6.1.5.5.7.9.3\", countryOfCitizenship: \"1.3.6.1.5.5.7.9.4\", countryOfResidence: \"1.3.6.1.5.5.7.9.5\", ecPublicKey: \"1.2.840.10045.2.1\", \"P-256\": \"1.2.840.10045.3.1.7\", secp256r1: \"1.2.840.10045.3.1.7\", secp256k1: \"1.3.132.0.10\", secp384r1: \"1.3.132.0.34\", secp521r1: \"1.3.132.0.35\", pkcs5PBES2: \"1.2.840.113549.1.5.13\", pkcs5PBKDF2: \"1.2.840.113549.1.5.12\", \"des-EDE3-CBC\": \"1.2.840.113549.3.7\", data: \"1.2.840.113549.1.7.1\", \"signed-data\": \"1.2.840.113549.1.7.2\", \"enveloped-data\": \"1.2.840.113549.1.7.3\", \"digested-data\": \"1.2.840.113549.1.7.5\", \"encrypted-data\": \"1.2.840.113549.1.7.6\", \"authenticated-data\": \"1.2.840.113549.1.9.16.1.2\", tstinfo: \"1.2.840.113549.1.9.16.1.4\", signingCertificate: \"1.2.840.113549.1.9.16.2.12\", timeStampToken: \"1.2.840.113549.1.9.16.2.14\", signaturePolicyIdentifier: \"1.2.840.113549.1.9.16.2.15\", etsArchiveTimeStamp: \"1.2.840.113549.1.9.16.2.27\", signingCertificateV2: \"1.2.840.113549.1.9.16.2.47\", etsArchiveTimeStampV2: \"1.2.840.113549.1.9.16.2.48\", extensionRequest: \"1.2.840.113549.1.9.14\", contentType: \"1.2.840.113549.1.9.3\", messageDigest: \"1.2.840.113549.1.9.4\", signingTime: \"1.2.840.113549.1.9.5\", counterSignature: \"1.2.840.113549.1.9.6\", archiveTimeStampV3: \"0.4.0.1733.2.4\", pdfRevocationInfoArchival: \"1.2.840.113583.1.1.8\", adobeTimeStamp: \"1.2.840.113583.1.1.9.1\", smimeMailboxLegacy: \"2.23.140.1.5.1.1\", smimeMailboxMulti: \"2.23.140.1.5.1.2\", smimeMailboxStrict: \"2.23.140.1.5.1.3\", smimeOrganizationLegacy: \"2.23.140.1.5.2.1\", smimeOrganizationMulti: \"2.23.140.1.5.2.2\", smimeOrganizationStrict: \"2.23.140.1.5.2.3\", smimeSponsorLegacy: \"2.23.140.1.5.3.1\", smimeSponsorMulti: \"2.23.140.1.5.3.2\", smimeSponsorStrict: \"2.23.140.1.5.3.3\", smimeIndividualLegacy: \"2.23.140.1.5.4.1\", smimeIndividualMulti: \"2.23.140.1.5.4.2\", smimeIndividualStrict: \"2.23.140.1.5.4.3\" }, this.atype2oidList = { CN: \"2.5.4.3\", L: \"2.5.4.7\", ST: \"2.5.4.8\", O: \"2.5.4.10\", OU: \"2.5.4.11\", C: \"2.5.4.6\", STREET: \"2.5.4.9\", DC: \"0.9.2342.19200300.100.1.25\", UID: \"0.9.2342.19200300.100.1.1\", SN: \"2.5.4.4\", T: \"2.5.4.12\", GN: \"2.5.4.42\", DN: \"2.5.4.49\", E: \"1.2.840.113549.1.9.1\", description: \"2.5.4.13\", businessCategory: \"2.5.4.15\", postalCode: \"2.5.4.17\", serialNumber: \"2.5.4.5\", uniqueIdentifier: \"2.5.4.45\", organizationIdentifier: \"2.5.4.97\", jurisdictionOfIncorporationL: \"1.3.6.1.4.1.311.60.2.1.1\", jurisdictionOfIncorporationSP: \"1.3.6.1.4.1.311.60.2.1.2\", jurisdictionOfIncorporationC: \"1.3.6.1.4.1.311.60.2.1.3\" }, this.objCache = {}, this.name2obj = function(t) {\n    if (typeof this.objCache[t] < \"u\")\n      return this.objCache[t];\n    if (typeof this.name2oidList[t] > \"u\")\n      throw \"Name of ObjectIdentifier not defined: \" + t;\n    var r = this.name2oidList[t], i = new e({ oid: r });\n    return this.objCache[t] = i, i;\n  }, this.atype2obj = function(t) {\n    if (this.objCache[t] !== void 0)\n      return this.objCache[t];\n    var r;\n    if (t.match(/^\\d+\\.\\d+\\.[0-9.]+$/))\n      r = t;\n    else if (this.atype2oidList[t] !== void 0)\n      r = this.atype2oidList[t];\n    else if (this.name2oidList[t] !== void 0)\n      r = this.name2oidList[t];\n    else\n      throw new Error(\"AttributeType name undefined: \" + t);\n    var i = new e({ oid: r });\n    return this.objCache[t] = i, i;\n  }, this.registerOIDs = function(t) {\n    if (this.checkOIDs(t))\n      for (var r in t)\n        this.name2oidList[r] = t[r];\n  }, this.checkOIDs = function(t) {\n    try {\n      var r = Object.keys(t);\n      return r.length == 0 ? !1 : (r.map(function(i, s, n) {\n        var h = this[i];\n        if (!h.match(/^[0-2]\\.[0-9.]+$/))\n          throw new Error(\"value is not OID\");\n      }, t), !0);\n    } catch {\n      return !1;\n    }\n  };\n}();\na.asn1.x509.OID.oid2name = function(e) {\n  var t = a.asn1.x509.OID.name2oidList;\n  for (var r in t)\n    if (t[r] == e)\n      return r;\n  return \"\";\n};\na.asn1.x509.OID.oid2atype = function(e) {\n  var t = a.asn1.x509.OID.atype2oidList;\n  for (var r in t)\n    if (t[r] == e)\n      return r;\n  return e;\n};\na.asn1.x509.OID.name2oid = function(e) {\n  if (e.match(/^[0-9.]+$/))\n    return e;\n  var t = a.asn1.x509.OID.name2oidList;\n  return t[e] === void 0 ? \"\" : t[e];\n};\na.asn1.x509.X509Util = {};\na.asn1.x509.X509Util.newCertPEM = function(e) {\n  var t = a.asn1.x509;\n  t.TBSCertificate;\n  var r = t.Certificate, i = new r(e);\n  return i.getPEM();\n};\n(typeof a > \"u\" || !a) && (a = {});\n(typeof a.asn1 > \"u\" || !a.asn1) && (a.asn1 = {});\n(typeof a.asn1.cms > \"u\" || !a.asn1.cms) && (a.asn1.cms = {});\na.asn1.cms.Attribute = function(e) {\n  var t = Error, r = a, i = r.asn1, s = i.DERSequence, n = i.DERSet, h = i.DERObjectIdentifier;\n  this.params = null, this.typeOid = null, this.setByParam = function(u) {\n    this.params = u;\n  }, this.getValueArray = function() {\n    throw new t(\"not yet implemented abstract\");\n  }, this.tohex = function() {\n    var u = new h({ oid: this.typeOid }), p = new n({ array: this.getValueArray() }), c = new s({ array: [u, p] });\n    return c.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  };\n};\nN(a.asn1.cms.Attribute, a.asn1.ASN1Object);\na.asn1.cms.ContentType = function(e) {\n  var t = a, r = t.asn1;\n  r.cms.ContentType.superclass.constructor.call(this), this.typeOid = \"1.2.840.113549.1.9.3\", this.getValueArray = function() {\n    var i = new r.DERObjectIdentifier(this.params.type);\n    return [i];\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cms.ContentType, a.asn1.cms.Attribute);\na.asn1.cms.MessageDigest = function(e) {\n  var t = a, r = t.asn1, i = r.DEROctetString, s = r.cms;\n  s.MessageDigest.superclass.constructor.call(this), this.typeOid = \"1.2.840.113549.1.9.4\", this.getValueArray = function() {\n    var n = new i(this.params);\n    return [n];\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cms.MessageDigest, a.asn1.cms.Attribute);\na.asn1.cms.SigningTime = function(e) {\n  var t = a, r = t.asn1;\n  r.cms.SigningTime.superclass.constructor.call(this), this.typeOid = \"1.2.840.113549.1.9.5\", this.getValueArray = function() {\n    var i = new r.x509.Time(this.params);\n    return [i];\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cms.SigningTime, a.asn1.cms.Attribute);\na.asn1.cms.SigningCertificate = function(e) {\n  var t = Error, r = a, i = r.asn1, s = i.DERSequence, n = i.cms, h = n.ESSCertID;\n  r.crypto, n.SigningCertificate.superclass.constructor.call(this), this.typeOid = \"1.2.840.113549.1.9.16.2.12\", this.getValueArray = function() {\n    if (this.params == null || this.params == null || this.params.array == null)\n      throw new t(\"parameter 'array' not specified\");\n    for (var u = this.params.array, p = [], c = 0; c < u.length; c++) {\n      var y = u[c];\n      e.hasis == !1 && typeof y == \"string\" && (y.indexOf(\"-----BEGIN\") != -1 || V.isASN1HEX(y)) && (y = { cert: y }), y.hasis != !1 && e.hasis == !1 && (y.hasis = !1), p.push(new h(y));\n    }\n    var v = new s({ array: p }), o = new s({ array: [v] });\n    return [o];\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cms.SigningCertificate, a.asn1.cms.Attribute);\na.asn1.cms.ESSCertID = function(e) {\n  a.asn1.cms.ESSCertID.superclass.constructor.call(this);\n  var t = Error, r = a, i = r.asn1, s = i.DEROctetString, n = i.DERSequence, h = i.cms.IssuerSerial;\n  this.params = null, this.getCertHash = function(u, p) {\n    if (u.hash != null)\n      return u.hash;\n    if (typeof u == \"string\" && u.indexOf(\"-----BEGIN\") == -1 && !V.isASN1HEX(u))\n      return u;\n    var c;\n    if (typeof u == \"string\")\n      c = u;\n    else if (u.cert != null)\n      c = u.cert;\n    else\n      throw new t(\"hash nor cert unspecified\");\n    var y;\n    c.indexOf(\"-----BEGIN\") != -1 ? y = ie(c) : y = c, typeof u == \"string\" && (u.indexOf(\"-----BEGIN\") != -1 ? y = ie(u) : V.isASN1HEX(u) && (y = u));\n    var v;\n    if (u.alg != null)\n      v = u.alg;\n    else if (p != null)\n      v = p;\n    else\n      throw new t(\"hash alg unspecified\");\n    return r.crypto.Util.hashHex(y, v);\n  }, this.tohex = function() {\n    var u = this.params, p = this.getCertHash(u, \"sha1\"), c = [];\n    c.push(new s({ hex: p })), (typeof u == \"string\" && u.indexOf(\"-----BEGIN\") != -1 || u.cert != null && u.hasis != !1 || u.issuer != null && u.serial != null) && c.push(new h(u));\n    var y = new n({ array: c });\n    return y.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cms.ESSCertID, a.asn1.ASN1Object);\na.asn1.cms.SigningCertificateV2 = function(e) {\n  var t = Error, r = a, i = r.asn1, s = i.DERSequence;\n  i.x509;\n  var n = i.cms, h = n.ESSCertIDv2;\n  r.crypto, n.SigningCertificateV2.superclass.constructor.call(this), this.typeOid = \"1.2.840.113549.1.9.16.2.47\", this.getValueArray = function() {\n    if (this.params == null || this.params == null || this.params.array == null)\n      throw new t(\"parameter 'array' not specified\");\n    for (var u = this.params.array, p = [], c = 0; c < u.length; c++) {\n      var y = u[c];\n      (e.alg != null || e.hasis == !1) && typeof y == \"string\" && (y.indexOf(\"-----BEGIN\") != -1 || V.isASN1HEX(y)) && (y = { cert: y }), y.alg == null && e.alg != null && (y.alg = e.alg), y.hasis != !1 && e.hasis == !1 && (y.hasis = !1), p.push(new h(y));\n    }\n    var v = new s({ array: p }), o = new s({ array: [v] });\n    return [o];\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cms.SigningCertificateV2, a.asn1.cms.Attribute);\na.asn1.cms.ESSCertIDv2 = function(e) {\n  a.asn1.cms.ESSCertIDv2.superclass.constructor.call(this);\n  var t = a, r = t.asn1, i = r.DEROctetString, s = r.DERSequence, n = r.cms.IssuerSerial, h = r.x509.AlgorithmIdentifier;\n  this.params = null, this.tohex = function() {\n    var u = this.params, p = this.getCertHash(u, \"sha256\"), c = [];\n    u.alg != null && u.alg != \"sha256\" && c.push(new h({ name: u.alg })), c.push(new i({ hex: p })), (typeof u == \"string\" && u.indexOf(\"-----BEGIN\") != -1 || u.cert != null && u.hasis != !1 || u.issuer != null && u.serial != null) && c.push(new n(u));\n    var y = new s({ array: c });\n    return y.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cms.ESSCertIDv2, a.asn1.cms.ESSCertID);\na.asn1.cms.IssuerSerial = function(e) {\n  var t = Error, r = a, i = r.asn1, s = i.DERInteger, n = i.DERSequence, h = i.cms, u = i.x509, p = u.GeneralNames, c = L;\n  h.IssuerSerial.superclass.constructor.call(this), this.setByParam = function(y) {\n    this.params = y;\n  }, this.tohex = function() {\n    var y = this.params, v, o;\n    if (typeof y == \"string\" && y.indexOf(\"-----BEGIN\") != -1 || y.cert != null) {\n      var l;\n      y.cert != null ? l = y.cert : l = y;\n      var f = new c();\n      f.readCertPEM(l), v = f.getIssuer(), o = { hex: f.getSerialNumberHex() };\n    } else if (y.issuer != null && y.serial)\n      v = y.issuer, o = y.serial;\n    else\n      throw new t(\"cert or issuer and serial parameter not specified\");\n    var d = new p([{ dn: v }]), g = new s(o), S = new n({ array: [d, g] });\n    return S.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cms.IssuerSerial, a.asn1.ASN1Object);\na.asn1.cms.SignerIdentifier = function(e) {\n  var t = a, r = t.asn1;\n  r.DERInteger, r.DERSequence;\n  var i = r.cms, s = i.IssuerAndSerialNumber, n = i.SubjectKeyIdentifier, h = r.x509;\n  h.X500Name, i.SignerIdentifier.superclass.constructor.call(this), this.params = null, this.tohex = function() {\n    var u = this.params;\n    if (u.type == \"isssn\") {\n      var p = new s(u);\n      return p.tohex();\n    } else if (u.type == \"skid\") {\n      var c = new n(u);\n      return c.tohex();\n    } else\n      throw new Error(\"wrong property for isssn or skid\");\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cms.SignerIdentifier, a.asn1.ASN1Object);\na.asn1.cms.IssuerAndSerialNumber = function(e) {\n  var t = a, r = t.asn1, i = r.DERInteger, s = r.DERSequence, n = r.cms, h = r.x509, u = h.X500Name, p = L, c = Error;\n  n.IssuerAndSerialNumber.superclass.constructor.call(this), this.params = null, this.tohex = function() {\n    var y = this.params, v, o;\n    if (typeof y == \"string\" && y.indexOf(\"-----BEGIN\") != -1 || y.cert != null) {\n      var l;\n      y.cert != null ? l = y.cert : l = y;\n      var f = new p();\n      f.readCertPEM(l), v = f.getIssuer(), o = { hex: f.getSerialNumberHex() };\n    } else if (y.issuer != null && y.serial)\n      v = y.issuer, o = y.serial;\n    else\n      throw new c(\"cert or issuer and serial parameter not specified\");\n    var d = new u(v), g = new i(o), S = new s({ array: [d, g] });\n    return S.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, this.setByParam = function(y) {\n    this.params = y;\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cms.IssuerAndSerialNumber, a.asn1.ASN1Object);\na.asn1.cms.SubjectKeyIdentifier = function(e) {\n  var t = a, r = t.asn1;\n  r.DERInteger, r.DERSequence;\n  var i = r.ASN1Util.newObject, s = r.cms;\n  s.IssuerAndSerialName, s.SubjectKeyIdentifier;\n  var n = r.x509;\n  n.X500Name;\n  var h = L, u = Error;\n  s.SubjectKeyIdentifier.superclass.constructor.call(this), this.tohex = function() {\n    var p = this.params;\n    if (p.cert == null && p.skid == null)\n      throw new u(\"property cert nor skid undefined\");\n    var c;\n    if (p.cert != null) {\n      var y = new h(p.cert), v = y.getExtSubjectKeyIdentifier();\n      c = v.kid.hex;\n    } else\n      p.skid != null && (c = p.skid);\n    var o = i({ tag: { tage: \"a0\", obj: { octstr: { hex: c } } } });\n    return o.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cms.SubjectKeyIdentifier, a.asn1.ASN1Object);\na.asn1.cms.AttributeList = function(e) {\n  var t = Error, r = a, i = r.asn1, s = i.DERSet, n = i.cms;\n  n.AttributeList.superclass.constructor.call(this), this.params = null, this.hTLV = null, this.setByParam = function(h) {\n    this.params = h;\n  }, this.tohex = function() {\n    var h = this.params;\n    if (this.hTLV != null)\n      return this.hTLV;\n    var u = !0;\n    h.sortflag != null && (u = h.sortflag);\n    for (var p = h.array, c = [], y = 0; y < p.length; y++) {\n      var v = p[y], o = v.attr;\n      if (o == \"contentType\")\n        c.push(new n.ContentType(v));\n      else if (o == \"messageDigest\")\n        c.push(new n.MessageDigest(v));\n      else if (o == \"signingTime\")\n        c.push(new n.SigningTime(v));\n      else if (o == \"signingCertificate\")\n        c.push(new n.SigningCertificate(v));\n      else if (o == \"signingCertificateV2\")\n        c.push(new n.SigningCertificateV2(v));\n      else if (o == \"signaturePolicyIdentifier\")\n        c.push(new a.asn1.cades.SignaturePolicyIdentifier(v));\n      else if (o == \"signatureTimeStamp\" || o == \"timeStampToken\")\n        c.push(new a.asn1.cades.SignatureTimeStamp(v));\n      else\n        throw new t(\"unknown attr: \" + o);\n    }\n    var l = new s({ array: c, sortflag: u });\n    return this.hTLV = l.tohex(), this.hTLV;\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cms.AttributeList, a.asn1.ASN1Object);\na.asn1.cms.SignerInfo = function(e) {\n  var t = Error, r = a, i = r.asn1, s = i.DERInteger, n = i.DEROctetString, h = i.DERSequence, u = i.DERTaggedObject, p = i.cms, c = p.SignerIdentifier, y = p.AttributeList;\n  p.ContentType, p.EncapsulatedContentInfo, p.MessageDigest, p.SignedData;\n  var v = i.x509, o = v.AlgorithmIdentifier, l = r.crypto, f = k;\n  p.SignerInfo.superclass.constructor.call(this), this.params = null, this.sign = function() {\n    var d = this.params, g = d.sigalg, S = new y(d.sattrs).tohex(), b = f.getKey(d.signkey), D = new l.Signature({ alg: g });\n    D.init(b), D.updateHex(S);\n    var A = D.sign();\n    d.sighex = A;\n  }, this.tohex = function() {\n    var d = this.params, g = [];\n    if (g.push(new s({ int: d.version })), g.push(new c(d.id)), g.push(new o({ name: d.hashalg })), d.sattrs != null) {\n      var S = new y(d.sattrs);\n      try {\n        g.push(new u({ tag: \"a0\", explicit: !1, obj: S }));\n      } catch (D) {\n        throw new t(\"si sattr error: \" + D);\n      }\n    }\n    if (d.sigalgfield != null ? g.push(new o({ name: d.sigalgfield })) : g.push(new o({ name: d.sigalg })), d.sighex == null && d.signkey != null && this.sign(), g.push(new n({ hex: d.sighex })), d.uattrs != null) {\n      var S = new y(d.uattrs);\n      try {\n        g.push(new u({ tag: \"a1\", explicit: !1, obj: S }));\n      } catch (A) {\n        throw new t(\"si uattr error: \" + A);\n      }\n    }\n    var b = new h({ array: g });\n    return b.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cms.SignerInfo, a.asn1.ASN1Object);\na.asn1.cms.EncapsulatedContentInfo = function(e) {\n  var t = a, r = t.asn1, i = r.DERTaggedObject, s = r.DERSequence, n = r.DERObjectIdentifier, h = r.DEROctetString, u = r.cms;\n  u.EncapsulatedContentInfo.superclass.constructor.call(this), this.params = null, this.tohex = function() {\n    var p = this.params, c = [];\n    if (c.push(new n(p.type)), p.content != null && (p.content.hex != null || p.content.str != null) && p.isDetached != !0) {\n      var y = new h(p.content), v = new i({ tag: \"a0\", explicit: !0, obj: y });\n      c.push(v);\n    }\n    var o = new s({ array: c });\n    return o.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, this.setByParam = function(p) {\n    this.params = p;\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cms.EncapsulatedContentInfo, a.asn1.ASN1Object);\na.asn1.cms.ContentInfo = function(e) {\n  var t = a, r = t.asn1, i = r.DERTaggedObject, s = r.DERSequence, n = r.DERObjectIdentifier, h = r.x509;\n  h.OID.name2obj, a.asn1.cms.ContentInfo.superclass.constructor.call(this), this.params = null, this.tohex = function() {\n    var u = this.params, p = [];\n    p.push(new n(u.type));\n    var c = new i({ tag: \"a0\", explicit: !0, obj: u.obj });\n    p.push(c);\n    var y = new s({ array: p });\n    return y.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, this.setByParam = function(u) {\n    this.params = u;\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cms.ContentInfo, a.asn1.ASN1Object);\na.asn1.cms.SignedData = function(e) {\n  var t = a, r = t.asn1;\n  r.ASN1Object;\n  var i = r.DERInteger, s = r.DERSet, n = r.DERSequence;\n  r.DERTaggedObject;\n  var h = r.cms, u = h.EncapsulatedContentInfo, p = h.SignerInfo, c = h.ContentInfo, y = h.CertificateSet, v = h.RevocationInfoChoices, o = r.x509, l = o.AlgorithmIdentifier;\n  a.asn1.cms.SignedData.superclass.constructor.call(this), this.params = null, this.checkAndFixParam = function() {\n    var f = this.params;\n    this._setDigestAlgs(f), this._setContentTypeByEContent(f), this._setMessageDigestByEContent(f), this._setSignerInfoVersion(f), this._setSignedDataVersion(f);\n  }, this._setDigestAlgs = function(f) {\n    for (var d = {}, g = f.sinfos, S = 0; S < g.length; S++) {\n      var b = g[S];\n      d[b.hashalg] = 1;\n    }\n    f.hashalgs = Object.keys(d).sort();\n  }, this._setContentTypeByEContent = function(f) {\n    for (var d = f.econtent.type, g = f.sinfos, S = 0; S < g.length; S++) {\n      var b = g[S], D = this._getAttrParamByName(b, \"contentType\");\n      D.type = d;\n    }\n  }, this._setMessageDigestByEContent = function(f) {\n    var d = f.econtent;\n    f.econtent.type;\n    var g = d.content.hex;\n    g == null && d.type == \"data\" && d.content.str != null && (g = Pe(d.content.str));\n    for (var S = f.sinfos, b = 0; b < S.length; b++) {\n      var D = S[b], A = D.hashalg, I = this._getAttrParamByName(D, \"messageDigest\"), m = a.crypto.Util.hashHex(g, A);\n      I.hex = m;\n    }\n  }, this._getAttrParamByName = function(f, d) {\n    for (var g = f.sattrs.array, S = 0; S < g.length; S++)\n      if (g[S].attr == d)\n        return g[S];\n  }, this._setSignerInfoVersion = function(f) {\n    for (var d = f.sinfos, g = 0; g < d.length; g++) {\n      var S = d[g], b = 1;\n      S.id.type == \"skid\" && (b = 3), S.version = b;\n    }\n  }, this._setSignedDataVersion = function(f) {\n    var d = this._getSignedDataVersion(f);\n    f.version = d;\n  }, this._getSignedDataVersion = function(f) {\n    if (f.revinfos != null)\n      for (var d = f.revinfos, g = 0; g < d.length; g++) {\n        var S = d[g];\n        if (S.ocsp != null)\n          return 5;\n      }\n    for (var b = f.sinfos, g = 0; g < b.length; g++) {\n      var D = f.sinfos[g];\n      if (D.version == 3)\n        return 3;\n    }\n    return f.econtent.type != \"data\" ? 3 : 1;\n  }, this.tohex = function() {\n    var f = this.params;\n    this.getEncodedHexPrepare != null && this.getEncodedHexPrepare(), f.fixed != !0 && this.checkAndFixParam();\n    var d = [];\n    d.push(new i({ int: f.version }));\n    for (var g = [], S = 0; S < f.hashalgs.length; S++) {\n      var b = f.hashalgs[S];\n      g.push(new l({ name: b }));\n    }\n    d.push(new s({ array: g })), d.push(new u(f.econtent)), f.certs != null && d.push(new y(f.certs)), f.revinfos != null && d.push(new v(f.revinfos));\n    for (var D = [], S = 0; S < f.sinfos.length; S++) {\n      var A = f.sinfos[S];\n      D.push(new p(A));\n    }\n    d.push(new s({ array: D }));\n    var I = new n({ array: d });\n    return I.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, this.getContentInfo = function() {\n    var f = new c({ type: \"signed-data\", obj: this });\n    return f;\n  }, this.getContentInfoEncodedHex = function() {\n    return this.getContentInfo().tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cms.SignedData, a.asn1.ASN1Object);\na.asn1.cms.CertificateSet = function(e) {\n  a.asn1.cms.CertificateSet.superclass.constructor.call(this);\n  var t = Error, r = a.asn1, i = r.DERTaggedObject, s = r.DERSet, n = r.ASN1Object;\n  this.params = null, this.tohex = function() {\n    var h = this.params, u = [], p;\n    if (h instanceof Array)\n      p = h;\n    else if (h.array != null)\n      p = h.array;\n    else\n      throw new t(\"cert array not specified\");\n    for (var c = 0; c < p.length; c++) {\n      var y = p[c], v = ie(y), o = new n();\n      o.hTLV = v, u.push(o);\n    }\n    var l = { array: u };\n    h.sortflag == !1 && (l.sortflag = !1);\n    var f = new s(l), d = new i({ tag: \"a0\", explicit: !1, obj: f });\n    return d.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cms.CertificateSet, a.asn1.ASN1Object);\na.asn1.cms.RevocationInfoChoices = function(e) {\n  a.asn1.cms.RevocationInfoChoices.superclass.constructor.call(this), this.params = null, this.tohex = function() {\n    var t = this.params;\n    if (!t instanceof Array)\n      throw new Error(\"params is not array\");\n    for (var r = [], i = 0; i < t.length; i++)\n      r.push(new a.asn1.cms.RevocationInfoChoice(t[i]));\n    var s = a.asn1.ASN1Util.newObject({ tag: { tagi: \"a1\", obj: { set: r } } });\n    return s.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cms.RevocationInfoChoices, a.asn1.ASN1Object);\na.asn1.cms.RevocationInfoChoice = function(e) {\n  a.asn1.cms.RevocationInfoChoice.superclass.constructor.call(this), this.params = null, this.tohex = function() {\n    var t = this.params;\n    if (t.crl != null && typeof t.crl == \"string\") {\n      var r = t.crl;\n      return t.crl.indexOf(\"-----BEGIN\") != -1 && (r = ie(t.crl)), r;\n    } else if (t.ocsp != null) {\n      var i = a.asn1.ASN1Util.newObject({ tag: { tagi: \"a1\", obj: new a.asn1.cms.OtherRevocationFormat(t) } });\n      return i.tohex();\n    } else\n      throw new Error(\"property crl or ocsp undefined\");\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cms.RevocationInfoChoice, a.asn1.ASN1Object);\na.asn1.cms.OtherRevocationFormat = function(e) {\n  a.asn1.cms.OtherRevocationFormat.superclass.constructor.call(this);\n  var t = Error, r = a, i = r.asn1, s = i.ASN1Util.newObject, n = r.lang.String.isHex;\n  this.params = null, this.tohex = function() {\n    var h = this.params;\n    if (h.ocsp == null)\n      throw new t(\"property ocsp not specified\");\n    if (!n(h.ocsp) || !V.isASN1HEX(h.ocsp))\n      throw new t(\"ocsp value not ASN.1 hex string\");\n    var u = s({ seq: [{ oid: \"1.3.6.1.5.5.7.16.2\" }, { asn1: { tlv: h.ocsp } }] });\n    return u.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cms.OtherRevocationFormat, a.asn1.ASN1Object);\na.asn1.cms.CMSUtil = new function() {\n}();\na.asn1.cms.CMSUtil.newSignedData = function(e) {\n  return new a.asn1.cms.SignedData(e);\n};\na.asn1.cms.CMSUtil.verifySignedData = function(e) {\n  var t = a, r = t.asn1, i = r.cms;\n  i.SignerInfo, i.SignedData, i.SigningTime, i.SigningCertificate, i.SigningCertificateV2;\n  var s = r.cades;\n  s.SignaturePolicyIdentifier;\n  var n = t.lang.String.isHex, h = V, u = h.getVbyList, p = h.getTLVbyList, c = h.getIdxbyList, y = h.getChildIdx, v = h.getTLV, o = h.oidname, l = t.crypto.Util.hashHex;\n  e.cms === void 0 && n(e.cms);\n  var f = e.cms, d = function(w, x) {\n    for (var F, P = 3; P < 6; P++)\n      if (F = c(w, 0, [1, 0, P]), F !== void 0) {\n        var T = w.substr(F, 2);\n        T === \"a0\" && (x.certsIdx = F), T === \"a1\" && (x.revinfosIdx = F), T === \"31\" && (x.signerinfosIdx = F);\n      }\n  }, g = function(w, x) {\n    var F = x.signerinfosIdx;\n    if (F !== void 0) {\n      var P = y(w, F);\n      x.signerInfoIdxList = P;\n      for (var T = 0; T < P.length; T++) {\n        var H = P[T], C = { idx: H };\n        S(w, C), x.signerInfos.push(C);\n      }\n    }\n  }, S = function(w, x) {\n    var F = x.idx;\n    x.signerid_issuer1 = p(w, F, [1, 0], \"30\"), x.signerid_serial1 = u(w, F, [1, 1], \"02\"), x.hashalg = o(u(w, F, [2, 0], \"06\"));\n    var P = c(w, F, [3], \"a0\");\n    x.idxSignedAttrs = P, b(w, x, P);\n    var T = y(w, F), H = T.length;\n    if (H < 6)\n      throw \"malformed SignerInfo\";\n    x.sigalg = o(u(w, F, [H - 2, 0], \"06\")), x.sigval = u(w, F, [H - 1], \"04\");\n  }, b = function(w, x, F) {\n    var P = y(w, F);\n    x.signedAttrIdxList = P;\n    for (var T = 0; T < P.length; T++) {\n      var H = P[T], C = u(w, H, [0], \"06\"), B;\n      C === \"2a864886f70d010905\" ? (B = W(u(w, H, [1, 0])), x.saSigningTime = B) : C === \"2a864886f70d010904\" && (B = u(w, H, [1, 0], \"04\"), x.saMessageDigest = B);\n    }\n  }, D = function(w, x) {\n    if (u(w, 0, [0], \"06\") !== \"2a864886f70d010702\")\n      return x;\n    x.cmsType = \"signedData\", x.econtent = u(w, 0, [1, 0, 2, 1, 0]), d(w, x), x.signerInfos = [], g(w, x);\n  }, A = function(w, x) {\n    for (var F = x.parse.signerInfos, P = F.length, T = !0, H = 0; H < P; H++) {\n      var C = F[H];\n      m(w, x, C), C.isValid || (T = !1);\n    }\n    x.isValid = T;\n  }, I = function(w, x, F, P) {\n    var T = x.parse.certsIdx, H;\n    if (x.certs === void 0) {\n      H = [], x.certkeys = [];\n      for (var C = y(w, T), B = 0; B < C.length; B++) {\n        var O = v(w, C[B]), j = new L();\n        j.readCertHex(O), H[B] = j, x.certkeys[B] = j.getPublicKey();\n      }\n      x.certs = H;\n    } else\n      H = x.certs;\n    x.cccc = H.length, x.cccci = C.length;\n    for (var B = 0; B < H.length; B++) {\n      var fe = j.getIssuerHex(), Z = j.getSerialNumberHex();\n      F.signerid_issuer1 === fe && F.signerid_serial1 === Z && (F.certkey_idx = B);\n    }\n  }, m = function(w, x, F, P) {\n    F.verifyDetail = {};\n    var T = F.verifyDetail, H = x.parse.econtent, C = F.hashalg, B = F.saMessageDigest;\n    T.validMessageDigest = !1, l(H, C) === B && (T.validMessageDigest = !0), I(w, x, F), T.validSignatureValue = !1;\n    var O = F.sigalg, j = \"31\" + v(w, F.idxSignedAttrs).substr(2);\n    F.signedattrshex = j;\n    var fe = x.certs[F.certkey_idx].getPublicKey(), Z = new a.crypto.Signature({ alg: O });\n    Z.init(fe), Z.updateHex(j);\n    var X = Z.verify(F.sigval);\n    T.validSignatureValue_isValid = X, X === !0 && (T.validSignatureValue = !0), F.isValid = !1, T.validMessageDigest && T.validSignatureValue && (F.isValid = !0);\n  }, E = { isValid: !1, parse: {} };\n  return D(f, E.parse), A(f, E), E;\n};\na.asn1.cms.CMSParser = function() {\n  var e = Error, t = L, r = new t(), i = V, s = i.getV, n = i.getTLV;\n  i.getIdxbyList;\n  var h = i.getTLVbyList, u = i.getTLVbyListEx, p = i.getVbyList, c = i.getVbyListEx, y = i.getChildIdx;\n  this.getCMSSignedData = function(v) {\n    var o = h(v, 0, [1, 0]), l = this.getSignedData(o);\n    return l;\n  }, this.getSignedData = function(v) {\n    var o = y(v, 0), l = {}, f = s(v, o[0]), d = parseInt(f, 16);\n    l.version = d;\n    var g = n(v, o[1]);\n    l.hashalgs = this.getHashAlgArray(g);\n    var S = n(v, o[2]);\n    l.econtent = this.getEContent(S);\n    var b = u(v, 0, [\"[0]\"]);\n    b != null && (l.certs = this.getCertificateSet(b)), u(v, 0, [\"[1]\"]);\n    var D = u(v, 0, [3]);\n    return l.sinfos = this.getSignerInfos(D), l;\n  }, this.getHashAlgArray = function(v) {\n    for (var o = y(v, 0), l = new t(), f = [], d = 0; d < o.length; d++) {\n      var g = n(v, o[d]), S = l.getAlgorithmIdentifierName(g);\n      f.push(S);\n    }\n    return f;\n  }, this.getEContent = function(v) {\n    var o = {}, l = p(v, 0, [0]), f = p(v, 0, [1, 0]);\n    return o.type = a.asn1.x509.OID.oid2name(V.hextooidstr(l)), o.content = { hex: f }, o;\n  }, this.getSignerInfos = function(v) {\n    for (var o = [], l = y(v, 0), f = 0; f < l.length; f++) {\n      var d = n(v, l[f]), g = this.getSignerInfo(d);\n      o.push(g);\n    }\n    return o;\n  }, this.getSignerInfo = function(v) {\n    var o = {}, l = y(v, 0), f = i.getInt(v, l[0], -1);\n    f != -1 && (o.version = f);\n    var d = n(v, l[1]), g = this.getIssuerAndSerialNumber(d);\n    o.id = g;\n    var S = n(v, l[2]), b = r.getAlgorithmIdentifierName(S);\n    o.hashalg = b;\n    var D = u(v, 0, [\"[0]\"]);\n    if (D != null) {\n      var A = this.getAttributeList(D);\n      o.sattrs = A;\n    }\n    var I = u(v, 0, [3]), m = r.getAlgorithmIdentifierName(I);\n    o.sigalg = m;\n    var E = c(v, 0, [4]);\n    o.sighex = E;\n    var w = u(v, 0, [\"[1]\"]);\n    if (w != null) {\n      var x = this.getAttributeList(w);\n      o.uattrs = x;\n    }\n    return o;\n  }, this.getSignerIdentifier = function(v) {\n    if (v.substr(0, 2) == \"30\")\n      return this.getIssuerAndSerialNumber(v);\n    throw new Error(\"SKID of signerIdentifier not supported\");\n  }, this.getIssuerAndSerialNumber = function(v) {\n    var o = { type: \"isssn\" }, l = y(v, 0), f = n(v, l[0]);\n    o.issuer = r.getX500Name(f);\n    var d = s(v, l[1]);\n    return o.serial = { hex: d }, o;\n  }, this.getAttributeList = function(v) {\n    for (var o = [], l = y(v, 0), f = 0; f < l.length; f++) {\n      var d = n(v, l[f]), g = this.getAttribute(d);\n      o.push(g);\n    }\n    return { array: o };\n  }, this.getAttribute = function(v) {\n    var o = {}, l = y(v, 0), f = i.getOID(v, l[0]), d = a.asn1.x509.OID.oid2name(f);\n    o.attr = d;\n    var g = n(v, l[1]), S = y(g, 0);\n    if (S.length == 1)\n      o.valhex = n(g, S[0]);\n    else {\n      for (var b = [], D = 0; D < S.length; D++)\n        b.push(n(g, S[D]));\n      o.valhex = b;\n    }\n    return d == \"contentType\" ? this.setContentType(o) : d == \"messageDigest\" ? this.setMessageDigest(o) : d == \"signingTime\" ? this.setSigningTime(o) : d == \"signingCertificate\" ? this.setSigningCertificate(o) : d == \"signingCertificateV2\" ? this.setSigningCertificateV2(o) : d == \"signaturePolicyIdentifier\" && this.setSignaturePolicyIdentifier(o), o;\n  }, this.setContentType = function(v) {\n    var o = i.getOIDName(v.valhex, 0, null);\n    o != null && (v.type = o, delete v.valhex);\n  }, this.setSigningTime = function(v) {\n    var o = s(v.valhex, 0), l = W(o);\n    v.str = l, delete v.valhex;\n  }, this.setMessageDigest = function(v) {\n    var o = s(v.valhex, 0);\n    v.hex = o, delete v.valhex;\n  }, this.setSigningCertificate = function(v) {\n    var o = y(v.valhex, 0);\n    if (o.length > 0) {\n      for (var l = n(v.valhex, o[0]), f = y(l, 0), d = [], g = 0; g < f.length; g++) {\n        var S = n(l, f[g]), b = this.getESSCertID(S);\n        d.push(b);\n      }\n      v.array = d;\n    }\n    if (o.length > 1) {\n      var D = n(v.valhex, o[1]);\n      v.polhex = D;\n    }\n    delete v.valhex;\n  }, this.setSignaturePolicyIdentifier = function(v) {\n    var o = y(v.valhex, 0);\n    if (o.length > 0) {\n      var l = i.getOID(v.valhex, o[0]);\n      v.oid = l;\n    }\n    if (o.length > 1) {\n      var f = new t(), d = y(v.valhex, o[1]), g = n(v.valhex, d[0]), S = f.getAlgorithmIdentifierName(g);\n      v.alg = S;\n      var b = s(v.valhex, d[1]);\n      v.hash = b;\n    }\n    delete v.valhex;\n  }, this.setSigningCertificateV2 = function(v) {\n    var o = y(v.valhex, 0);\n    if (o.length > 0) {\n      for (var l = n(v.valhex, o[0]), f = y(l, 0), d = [], g = 0; g < f.length; g++) {\n        var S = n(l, f[g]), b = this.getESSCertIDv2(S);\n        d.push(b);\n      }\n      v.array = d;\n    }\n    if (o.length > 1) {\n      var D = n(v.valhex, o[1]);\n      v.polhex = D;\n    }\n    delete v.valhex;\n  }, this.getESSCertID = function(v) {\n    var o = {}, l = y(v, 0);\n    if (l.length > 0) {\n      var f = s(v, l[0]);\n      o.hash = f;\n    }\n    if (l.length > 1) {\n      var d = n(v, l[1]), g = this.getIssuerSerial(d);\n      g.serial != null && (o.serial = g.serial), g.issuer != null && (o.issuer = g.issuer);\n    }\n    return o;\n  }, this.getESSCertIDv2 = function(v) {\n    var o = {}, l = y(v, 0);\n    if (l.length < 1 || 3 < l.length)\n      throw new e(\"wrong number of elements\");\n    var f = 0;\n    if (v.substr(l[0], 2) == \"30\") {\n      var d = n(v, l[0]);\n      o.alg = r.getAlgorithmIdentifierName(d), f++;\n    } else\n      o.alg = \"sha256\";\n    var g = s(v, l[f]);\n    if (o.hash = g, l.length > f + 1) {\n      var S = n(v, l[f + 1]), b = this.getIssuerSerial(S);\n      o.issuer = b.issuer, o.serial = b.serial;\n    }\n    return o;\n  }, this.getIssuerSerial = function(v) {\n    var o = {}, l = y(v, 0), f = n(v, l[0]), d = r.getGeneralNames(f), g = d[0].dn;\n    o.issuer = g;\n    var S = s(v, l[1]);\n    return o.serial = { hex: S }, o;\n  }, this.getCertificateSet = function(v) {\n    for (var o = y(v, 0), l = [], f = 0; f < o.length; f++) {\n      var d = n(v, o[f]);\n      if (d.substr(0, 2) == \"30\") {\n        var g = de(d, \"CERTIFICATE\");\n        l.push(g);\n      }\n    }\n    return { array: l, sortflag: !1 };\n  };\n};\n(typeof a > \"u\" || !a) && (a = {});\n(typeof a.asn1 > \"u\" || !a.asn1) && (a.asn1 = {});\n(typeof a.asn1.tsp > \"u\" || !a.asn1.tsp) && (a.asn1.tsp = {});\na.asn1.tsp.TimeStampToken = function(e) {\n  var t = a, r = t.asn1, i = r.tsp;\n  i.TimeStampToken.superclass.constructor.call(this), this.params = null, this.getEncodedHexPrepare = function() {\n    var s = new i.TSTInfo(this.params.econtent.content);\n    this.params.econtent.content.hex = s.tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.tsp.TimeStampToken, a.asn1.cms.SignedData);\na.asn1.tsp.TSTInfo = function(e) {\n  var t = a, r = t.asn1, i = r.DERSequence, s = r.DERInteger, n = r.DERBoolean, h = r.DERGeneralizedTime, u = r.DERObjectIdentifier, p = r.DERTaggedObject, c = r.tsp, y = c.MessageImprint, v = c.Accuracy;\n  r.x509.X500Name;\n  var o = r.x509.GeneralName;\n  if (c.TSTInfo.superclass.constructor.call(this), this.dVersion = new s({ int: 1 }), this.dPolicy = null, this.dMessageImprint = null, this.dSerial = null, this.dGenTime = null, this.dAccuracy = null, this.dOrdering = null, this.dNonce = null, this.dTsa = null, this.tohex = function() {\n    var l = [this.dVersion];\n    if (this.dPolicy == null)\n      throw new Error(\"policy shall be specified.\");\n    if (l.push(this.dPolicy), this.dMessageImprint == null)\n      throw new Error(\"messageImprint shall be specified.\");\n    if (l.push(this.dMessageImprint), this.dSerial == null)\n      throw new Error(\"serialNumber shall be specified.\");\n    if (l.push(this.dSerial), this.dGenTime == null)\n      throw new Error(\"genTime shall be specified.\");\n    l.push(this.dGenTime), this.dAccuracy != null && l.push(this.dAccuracy), this.dOrdering != null && l.push(this.dOrdering), this.dNonce != null && l.push(this.dNonce), this.dTsa != null && l.push(this.dTsa);\n    var f = new i({ array: l });\n    return this.hTLV = f.tohex(), this.hTLV;\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0) {\n    if (typeof e.policy == \"string\") {\n      if (!e.policy.match(/^[0-9.]+$/))\n        throw \"policy shall be oid like 0.1.4.134\";\n      this.dPolicy = new u({ oid: e.policy });\n    }\n    e.messageImprint !== void 0 && (this.dMessageImprint = new y(e.messageImprint)), e.serial !== void 0 && (this.dSerial = new s(e.serial)), e.genTime !== void 0 && (this.dGenTime = new h(e.genTime)), e.accuracy !== void 0 && (this.dAccuracy = new v(e.accuracy)), e.ordering !== void 0 && e.ordering == !0 && (this.dOrdering = new n()), e.nonce !== void 0 && (this.dNonce = new s(e.nonce)), e.tsa !== void 0 && (this.dTsa = new p({ tag: \"a0\", explicit: !0, obj: new o({ dn: e.tsa }) }));\n  }\n};\nN(a.asn1.tsp.TSTInfo, a.asn1.ASN1Object);\na.asn1.tsp.Accuracy = function(e) {\n  var t = a, r = t.asn1, i = r.ASN1Util.newObject;\n  r.tsp.Accuracy.superclass.constructor.call(this), this.params = null, this.tohex = function() {\n    var s = this.params, n = [];\n    return s.seconds != null && typeof s.seconds == \"number\" && n.push({ int: s.seconds }), s.millis != null && typeof s.millis == \"number\" && n.push({ tag: { tagi: \"80\", obj: { int: s.millis } } }), s.micros != null && typeof s.micros == \"number\" && n.push({ tag: { tagi: \"81\", obj: { int: s.micros } } }), i({ seq: n }).tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.tsp.Accuracy, a.asn1.ASN1Object);\na.asn1.tsp.MessageImprint = function(e) {\n  var t = a, r = t.asn1, i = r.DERSequence, s = r.DEROctetString, n = r.x509, h = n.AlgorithmIdentifier;\n  r.tsp.MessageImprint.superclass.constructor.call(this), this.params = null, this.tohex = function() {\n    var u = this.params, p = new h({ name: u.alg }), c = new s({ hex: u.hash }), y = new i({ array: [p, c] });\n    return y.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0 && this.setByParam(e);\n};\nN(a.asn1.tsp.MessageImprint, a.asn1.ASN1Object);\na.asn1.tsp.TimeStampReq = function(e) {\n  var t = a, r = t.asn1, i = r.DERSequence, s = r.DERInteger, n = r.DERBoolean;\n  r.ASN1Object;\n  var h = r.DERObjectIdentifier, u = r.tsp, p = u.MessageImprint;\n  u.TimeStampReq.superclass.constructor.call(this), this.params = null, this.tohex = function() {\n    var c = this.params, y = [];\n    y.push(new s({ int: 1 })), c.messageImprint instanceof a.asn1.ASN1Object ? y.push(c.messageImprint) : y.push(new p(c.messageImprint)), c.policy != null && y.push(new h(c.policy)), c.nonce != null && y.push(new s(c.nonce)), c.certreq == !0 && y.push(new n());\n    var v = new i({ array: y });\n    return v.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.tsp.TimeStampReq, a.asn1.ASN1Object);\na.asn1.tsp.TimeStampResp = function(e) {\n  var t = a, r = t.asn1, i = r.DERSequence;\n  r.ASN1Object;\n  var s = r.tsp, n = s.PKIStatusInfo;\n  s.TimeStampResp.superclass.constructor.call(this), this.params = null, this.tohex = function() {\n    var h = this.params, u = [];\n    if (h.econtent != null || h.tst != null)\n      if (h.statusinfo != null ? u.push(new n(h.statusinfo)) : u.push(new n(\"granted\")), h.econtent != null)\n        u.push(new s.TimeStampToken(h).getContentInfo());\n      else if (h.tst instanceof r.ASN1Object)\n        u.push(h.tst);\n      else\n        throw new Error(\"improper member tst value\");\n    else if (h.statusinfo != null)\n      u.push(new n(h.statusinfo));\n    else\n      throw new Error(\"parameter for token nor statusinfo not specified\");\n    var p = new i({ array: u });\n    return p.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.tsp.TimeStampResp, a.asn1.ASN1Object);\na.asn1.tsp.PKIStatusInfo = function(e) {\n  var t = Error, r = a, i = r.asn1, s = i.DERSequence, n = i.tsp, h = n.PKIStatus, u = n.PKIFreeText, p = n.PKIFailureInfo;\n  n.PKIStatusInfo.superclass.constructor.call(this), this.params = null, this.tohex = function() {\n    var c = this.params, y = [];\n    if (typeof c == \"string\")\n      y.push(new h(c));\n    else {\n      if (c.status == null)\n        throw new t(\"property 'status' unspecified\");\n      y.push(new h(c.status)), c.statusstr != null && y.push(new u(c.statusstr)), c.failinfo != null && y.push(new p(c.failinfo));\n    }\n    var v = new s({ array: y });\n    return v.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.tsp.PKIStatusInfo, a.asn1.ASN1Object);\na.asn1.tsp.PKIStatus = function(e) {\n  var t = Error, r = a, i = r.asn1, s = i.DERInteger, n = i.tsp;\n  n.PKIStatus.superclass.constructor.call(this);\n  var h = { granted: 0, grantedWithMods: 1, rejection: 2, waiting: 3, revocationWarning: 4, revocationNotification: 5 };\n  this.params = null, this.tohex = function() {\n    var u = this.params, p;\n    if (typeof u == \"string\")\n      try {\n        p = h[u];\n      } catch {\n        throw new t(\"undefined name: \" + u);\n      }\n    else if (typeof u == \"number\")\n      p = u;\n    else\n      throw new t(\"unsupported params\");\n    return new s({ int: p }).tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.tsp.PKIStatus, a.asn1.ASN1Object);\na.asn1.tsp.PKIFreeText = function(e) {\n  var t = Error, r = a, i = r.asn1, s = i.DERSequence, n = i.DERUTF8String, h = i.tsp;\n  h.PKIFreeText.superclass.constructor.call(this), this.params = null, this.tohex = function() {\n    var u = this.params;\n    if (!u instanceof Array)\n      throw new t(\"wrong params: not array\");\n    for (var p = [], c = 0; c < u.length; c++)\n      p.push(new n({ str: u[c] }));\n    var y = new s({ array: p });\n    return y.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.tsp.PKIFreeText, a.asn1.ASN1Object);\na.asn1.tsp.PKIFailureInfo = function(e) {\n  var t = Error, r = a, i = r.asn1, s = i.DERBitString, n = i.tsp, h = n.PKIFailureInfo, u = { badAlg: 0, badRequest: 2, badDataFormat: 5, timeNotAvailable: 14, unacceptedPolicy: 15, unacceptedExtension: 16, addInfoNotAvailable: 17, systemFailure: 25 };\n  h.superclass.constructor.call(this), this.params = null, this.getBinValue = function() {\n    var p = this.params, c = 0;\n    if (typeof p == \"number\" && 0 <= p && p <= 25) {\n      c |= 1 << p;\n      for (var y = c.toString(2), v = \"\", o = y.length - 1; o >= 0; o--)\n        v += y[o];\n      return v;\n    } else {\n      if (typeof p == \"string\" && u[p] != null)\n        return rt([p], u);\n      if (typeof p == \"object\" && p.length != null)\n        return rt(p, u);\n      throw new t(\"wrong params\");\n    }\n  }, this.tohex = function() {\n    this.params;\n    var p = this.getBinValue();\n    return new s({ bin: p }).tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.tsp.PKIFailureInfo, a.asn1.ASN1Object);\na.asn1.tsp.AbstractTSAAdapter = function(e) {\n  this.getTSTHex = function(t, r) {\n    throw \"not implemented yet\";\n  };\n};\na.asn1.tsp.SimpleTSAAdapter = function(e) {\n  var t = a, r = t.asn1, i = r.tsp, s = t.crypto.Util.hashHex;\n  i.SimpleTSAAdapter.superclass.constructor.call(this), this.params = null, this.serial = 0, this.getTSTHex = function(n, h) {\n    var u = s(n, h);\n    this.params.econtent.content.messageImprint = { alg: h, hash: u }, this.params.econtent.content.serial = { int: this.serial++ };\n    var p = Math.floor(Math.random() * 1e9);\n    this.params.econtent.content.nonce = { int: p };\n    var c = new i.TimeStampToken(this.params);\n    return c.getContentInfoEncodedHex();\n  }, e !== void 0 && (this.params = e);\n};\nN(a.asn1.tsp.SimpleTSAAdapter, a.asn1.tsp.AbstractTSAAdapter);\na.asn1.tsp.FixedTSAAdapter = function(e) {\n  var t = a, r = t.asn1, i = r.tsp, s = t.crypto.Util.hashHex;\n  i.FixedTSAAdapter.superclass.constructor.call(this), this.params = null, this.getTSTHex = function(n, h) {\n    var u = s(n, h);\n    this.params.econtent.content.messageImprint = { alg: h, hash: u };\n    var p = new i.TimeStampToken(this.params);\n    return p.getContentInfoEncodedHex();\n  }, e !== void 0 && (this.params = e);\n};\nN(a.asn1.tsp.FixedTSAAdapter, a.asn1.tsp.AbstractTSAAdapter);\na.asn1.tsp.TSPUtil = new function() {\n}();\na.asn1.tsp.TSPUtil.newTimeStampToken = function(e) {\n  return new a.asn1.tsp.TimeStampToken(e);\n};\na.asn1.tsp.TSPUtil.parseTimeStampReq = function(e) {\n  var t = new a.asn1.tsp.TSPParser();\n  return t.getTimeStampReq(e);\n};\na.asn1.tsp.TSPUtil.parseMessageImprint = function(e) {\n  var t = new a.asn1.tsp.TSPParser();\n  return t.getMessageImprint(e);\n};\na.asn1.tsp.TSPParser = function() {\n  var e = L, t = new e(), r = V, i = r.getV, s = r.getTLV, n = r.getIdxbyList;\n  r.getTLVbyListEx;\n  var h = r.getChildIdx, u = [\"granted\", \"grantedWithMods\", \"rejection\", \"waiting\", \"revocationWarning\", \"revocationNotification\"], p = { 0: \"badAlg\", 2: \"badRequest\", 5: \"badDataFormat\", 14: \"timeNotAvailable\", 15: \"unacceptedPolicy\", 16: \"unacceptedExtension\", 17: \"addInfoNotAvailable\", 25: \"systemFailure\" };\n  this.getResponse = function(c) {\n    var y = h(c, 0);\n    if (y.length == 1)\n      return this.getPKIStatusInfo(s(c, y[0]));\n    if (y.length > 1) {\n      var v = this.getPKIStatusInfo(s(c, y[0])), o = s(c, y[1]), l = this.getToken(o);\n      return l.statusinfo = v, l;\n    }\n  }, this.getToken = function(c) {\n    var y = new a.asn1.cms.CMSParser(), v = y.getCMSSignedData(c);\n    return this.setTSTInfo(v), v;\n  }, this.setTSTInfo = function(c) {\n    var y = c.econtent;\n    if (y.type == \"tstinfo\") {\n      var v = y.content.hex, o = this.getTSTInfo(v);\n      y.content = o;\n    }\n  }, this.getTSTInfo = function(c) {\n    var y = {}, v = h(c, 0), o = i(c, v[1]);\n    y.policy = ft(o);\n    var l = s(c, v[2]);\n    y.messageImprint = this.getMessageImprint(l);\n    var f = i(c, v[3]);\n    y.serial = { hex: f };\n    var d = i(c, v[4]);\n    y.genTime = { str: W(d) };\n    var g = 0;\n    if (v.length > 5 && c.substr(v[5], 2) == \"30\") {\n      var S = s(c, v[5]);\n      y.accuracy = this.getAccuracy(S), g++;\n    }\n    if (v.length > 5 + g && c.substr(v[5 + g], 2) == \"01\") {\n      var b = i(c, v[5 + g]);\n      b == \"ff\" && (y.ordering = !0), g++;\n    }\n    if (v.length > 5 + g && c.substr(v[5 + g], 2) == \"02\") {\n      var D = i(c, v[5 + g]);\n      y.nonce = { hex: D }, g++;\n    }\n    if (v.length > 5 + g && c.substr(v[5 + g], 2) == \"a0\") {\n      var A = s(c, v[5 + g]);\n      A = \"30\" + A.substr(2), pGeneralNames = t.getGeneralNames(A);\n      var I = pGeneralNames[0].dn;\n      y.tsa = I, g++;\n    }\n    if (v.length > 5 + g && c.substr(v[5 + g], 2) == \"a1\") {\n      var m = s(c, v[5 + g]);\n      m = \"30\" + m.substr(2);\n      var E = t.getExtParamArray(m);\n      y.ext = E, g++;\n    }\n    return y;\n  }, this.getAccuracy = function(c) {\n    for (var y = {}, v = h(c, 0), o = 0; o < v.length; o++) {\n      var l = c.substr(v[o], 2), f = i(c, v[o]), d = parseInt(f, 16);\n      l == \"02\" ? y.seconds = d : l == \"80\" ? y.millis = d : l == \"81\" && (y.micros = d);\n    }\n    return y;\n  }, this.getMessageImprint = function(c) {\n    if (c.substr(0, 2) != \"30\")\n      throw new Error(\"head of messageImprint hex shall be x30\");\n    var y = {};\n    h(c, 0);\n    var v = n(c, 0, [0, 0]), o = i(c, v), l = r.hextooidstr(o), f = a.asn1.x509.OID.oid2name(l);\n    if (f == \"\")\n      throw new Error(\"hashAlg name undefined: \" + l);\n    var d = f, g = n(c, 0, [1]);\n    return y.alg = d, y.hash = i(c, g), y;\n  }, this.getPKIStatusInfo = function(c) {\n    var y = {}, v = h(c, 0), o = 0;\n    try {\n      var l = i(c, v[0]), f = parseInt(l, 16);\n      y.status = u[f];\n    } catch {\n    }\n    if (v.length > 1 && c.substr(v[1], 2) == \"30\") {\n      var d = s(c, v[1]);\n      y.statusstr = this.getPKIFreeText(d), o++;\n    }\n    if (v.length > o && c.substr(v[1 + o], 2) == \"03\") {\n      var g = s(c, v[1 + o]);\n      y.failinfo = this.getPKIFailureInfo(g);\n    }\n    return y;\n  }, this.getPKIFreeText = function(c) {\n    for (var y = [], v = h(c, 0), o = 0; o < v.length; o++)\n      y.push(r.getString(c, v[o]));\n    return y;\n  }, this.getPKIFailureInfo = function(c) {\n    var y = r.getInt(c, 0);\n    return p[y] != null ? p[y] : y;\n  }, this.getTimeStampReq = function(c) {\n    var y = {};\n    y.certreq = !1;\n    var v = h(c, 0);\n    if (v.length < 2)\n      throw new Error(\"TimeStampReq must have at least 2 items\");\n    var o = s(c, v[1]);\n    y.messageImprint = a.asn1.tsp.TSPUtil.parseMessageImprint(o);\n    for (var l = 2; l < v.length; l++) {\n      var f = v[l], d = c.substr(f, 2);\n      if (d == \"06\") {\n        var g = i(c, f);\n        y.policy = r.hextooidstr(g);\n      }\n      d == \"02\" && (y.nonce = i(c, f)), d == \"01\" && (y.certreq = !0);\n    }\n    return y;\n  };\n};\n(typeof a > \"u\" || !a) && (a = {});\n(typeof a.asn1 > \"u\" || !a.asn1) && (a.asn1 = {});\n(typeof a.asn1.cades > \"u\" || !a.asn1.cades) && (a.asn1.cades = {});\na.asn1.cades.SignaturePolicyIdentifier = function(e) {\n  var t = a, r = t.asn1, i = r.cades, s = i.SignaturePolicyId;\n  i.SignaturePolicyIdentifier.superclass.constructor.call(this), this.typeOid = \"1.2.840.113549.1.9.16.2.15\", this.params = null, this.getValueArray = function() {\n    return [new s(this.params)];\n  }, this.setByParam = function(n) {\n    this.params = n;\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cades.SignaturePolicyIdentifier, a.asn1.cms.Attribute);\na.asn1.cades.SignaturePolicyId = function(e) {\n  var t = a, r = t.asn1, i = r.DERSequence, s = r.DERObjectIdentifier, n = r.x509;\n  n.AlgorithmIdentifier;\n  var h = r.cades, u = h.SignaturePolicyId, p = h.OtherHashAlgAndValue;\n  u.superclass.constructor.call(this), this.params = null, this.tohex = function() {\n    var c = this.params, y = [];\n    y.push(new s(c.oid)), y.push(new p(c));\n    var v = new i({ array: y });\n    return v.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, this.setByParam = function(c) {\n    this.params = c;\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cades.SignaturePolicyId, a.asn1.ASN1Object);\na.asn1.cades.OtherHashAlgAndValue = function(e) {\n  var t = Error, r = a, i = r.asn1, s = i.DERSequence, n = i.DEROctetString, h = i.x509, u = h.AlgorithmIdentifier, p = i.cades, c = p.OtherHashAlgAndValue;\n  c.superclass.constructor.call(this), this.params = null, this.tohex = function() {\n    var y = this.params;\n    if (y.alg == null)\n      throw new t(\"property 'alg' not specified\");\n    if (y.hash == null && y.cert == null)\n      throw new t(\"property 'hash' nor 'cert' not specified\");\n    var v = null;\n    if (y.hash != null)\n      v = y.hash;\n    else if (y.cert != null) {\n      if (typeof y.cert != \"string\")\n        throw new t(\"cert not string\");\n      var o = y.cert;\n      y.cert.indexOf(\"-----BEGIN\") != -1 && (o = ie(y.cert)), v = a.crypto.Util.hashHex(o, y.alg);\n    }\n    var l = [];\n    l.push(new u({ name: y.alg })), l.push(new n({ hex: v }));\n    var f = new s({ array: l });\n    return f.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cades.OtherHashAlgAndValue, a.asn1.ASN1Object);\na.asn1.cades.OtherHashValue = function(e) {\n  a.asn1.cades.OtherHashValue.superclass.constructor.call(this);\n  var t = Error, r = a;\n  r.lang.String.isHex;\n  var i = r.asn1, s = i.DEROctetString;\n  r.crypto.Util.hashHex, this.params = null, this.tohex = function() {\n    var n = this.params;\n    if (n.hash == null && n.cert == null)\n      throw new t(\"hash or cert not specified\");\n    var h = null;\n    if (n.hash != null)\n      h = n.hash;\n    else if (n.cert != null) {\n      if (typeof n.cert != \"string\")\n        throw new t(\"cert not string\");\n      var u = n.cert;\n      n.cert.indexOf(\"-----BEGIN\") != -1 && (u = ie(n.cert)), h = a.crypto.Util.hashHex(u, \"sha1\");\n    }\n    return new s({ hex: h }).tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cades.OtherHashValue, a.asn1.ASN1Object);\na.asn1.cades.SignatureTimeStamp = function(e) {\n  var t = Error, r = a, i = r.lang.String.isHex, s = r.asn1, n = s.ASN1Object;\n  s.x509;\n  var h = s.cades;\n  h.SignatureTimeStamp.superclass.constructor.call(this), this.typeOid = \"1.2.840.113549.1.9.16.2.14\", this.params = null, this.getValueArray = function() {\n    var u = this.params;\n    if (u.tst != null)\n      if (i(u.tst)) {\n        var p = new n();\n        return p.hTLV = u.tst, [p];\n      } else {\n        if (u.tst instanceof n)\n          return [u.tst];\n        throw new t(\"params.tst has wrong value\");\n      }\n    else if (u.res != null) {\n      var c = u.res;\n      if (c instanceof n && (c = c.tohex()), typeof c != \"string\" || !i(c))\n        throw new t(\"params.res has wrong value\");\n      V.getTLVbyList(c, 0, [1]);\n      var p = new n();\n      return p.hTLV = u.tst, [p];\n    }\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cades.SignatureTimeStamp, a.asn1.cms.Attribute);\na.asn1.cades.CompleteCertificateRefs = function(e) {\n  var t = Error, r = a, i = r.asn1, s = i.DERSequence, n = i.cades, h = n.OtherCertID, u = r.lang.String.isHex;\n  n.CompleteCertificateRefs.superclass.constructor.call(this), this.typeOid = \"1.2.840.113549.1.9.16.2.21\", this.params = null, this.getValueArray = function() {\n    for (var p = this.params, c = [], y = 0; y < p.array.length; y++) {\n      var v = p.array[y];\n      if (typeof v == \"string\")\n        if (v.indexOf(\"-----BEGIN\") != -1)\n          v = { cert: v };\n        else if (u(v))\n          v = { hash: v };\n        else\n          throw new t(\"unsupported value: \" + v);\n      p.alg != null && v.alg == null && (v.alg = p.alg), p.hasis != null && v.hasis == null && (v.hasis = p.hasis);\n      var o = new h(v);\n      c.push(o);\n    }\n    var l = new s({ array: c });\n    return [l];\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cades.CompleteCertificateRefs, a.asn1.cms.Attribute);\na.asn1.cades.OtherCertID = function(e) {\n  var t = a, r = t.asn1, i = r.DERSequence, s = r.cms, n = s.IssuerSerial, h = r.cades, u = h.OtherHashValue, p = h.OtherHashAlgAndValue;\n  h.OtherCertID.superclass.constructor.call(this), this.params = e, this.tohex = function() {\n    var c = this.params;\n    typeof c == \"string\" && (c.indexOf(\"-----BEGIN\") != -1 ? c = { cert: c } : _isHex(c) && (c = { hash: c }));\n    var y = [], v = null;\n    if (c.alg != null ? v = new p(c) : v = new u(c), y.push(v), c.cert != null && c.hasis == !0 || c.issuer != null && c.serial != null) {\n      var o = new n(c);\n      y.push(o);\n    }\n    var l = new i({ array: y });\n    return l.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cades.OtherCertID, a.asn1.ASN1Object);\na.asn1.cades.OtherHash = function(e) {\n  var t = a, r = t.asn1;\n  r.cms;\n  var i = r.cades, s = i.OtherHashAlgAndValue, n = i.OtherHashValue;\n  t.crypto.Util.hashHex;\n  var h = t.lang.String.isHex;\n  i.OtherHash.superclass.constructor.call(this), this.params = null, this.tohex = function() {\n    var u = this.params;\n    typeof u == \"string\" && (u.indexOf(\"-----BEGIN\") != -1 ? u = { cert: u } : h(u) && (u = { hash: u }));\n    var p = null;\n    return u.alg != null ? p = new s(u) : p = new n(u), p.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e != null && this.setByParam(e);\n};\nN(a.asn1.cades.OtherHash, a.asn1.ASN1Object);\na.asn1.cades.CAdESUtil = new function() {\n}();\na.asn1.cades.CAdESUtil.parseSignedDataForAddingUnsigned = function(e) {\n  var t = new a.asn1.cms.CMSParser(), r = t.getCMSSignedData(e);\n  return r;\n};\na.asn1.cades.CAdESUtil.parseSignerInfoForAddingUnsigned = function(e, t, r) {\n  var i = V, s = i.getChildIdx, n = i.getTLV, h = i.getV, u = a, p = u.asn1, c = p.ASN1Object, y = p.cms, v = y.AttributeList, o = y.SignerInfo, l = {}, f = s(e, t);\n  if (f.length != 6)\n    throw \"not supported items for SignerInfo (!=6)\";\n  var d = f.shift();\n  l.version = n(e, d);\n  var g = f.shift();\n  l.si = n(e, g);\n  var S = f.shift();\n  l.digalg = n(e, S);\n  var b = f.shift();\n  l.sattrs = n(e, b);\n  var D = f.shift();\n  l.sigalg = n(e, D);\n  var A = f.shift();\n  l.sig = n(e, A), l.sigval = h(e, A);\n  var I = null;\n  return l.obj = new o(), I = new c(), I.hTLV = l.version, l.obj.dCMSVersion = I, I = new c(), I.hTLV = l.si, l.obj.dSignerIdentifier = I, I = new c(), I.hTLV = l.digalg, l.obj.dDigestAlgorithm = I, I = new c(), I.hTLV = l.sattrs, l.obj.dSignedAttrs = I, I = new c(), I.hTLV = l.sigalg, l.obj.dSigAlg = I, I = new c(), I.hTLV = l.sig, l.obj.dSig = I, l.obj.dUnsignedAttrs = new v(), l;\n};\n(typeof a.asn1.csr > \"u\" || !a.asn1.csr) && (a.asn1.csr = {});\na.asn1.csr.CertificationRequest = function(e) {\n  var t = a, r = t.asn1, i = r.DERBitString, s = r.DERSequence, n = r.csr;\n  r.x509;\n  var h = n.CertificationRequestInfo;\n  n.CertificationRequest.superclass.constructor.call(this), this.setByParam = function(u) {\n    this.params = u;\n  }, this.sign = function() {\n    var u = new h(this.params).tohex(), p = new a.crypto.Signature({ alg: this.params.sigalg });\n    p.init(this.params.sbjprvkey), p.updateHex(u);\n    var c = p.sign();\n    this.params.sighex = c;\n  }, this.getPEM = function() {\n    return de(this.tohex(), \"CERTIFICATE REQUEST\");\n  }, this.tohex = function() {\n    var u = this.params, p = new a.asn1.csr.CertificationRequestInfo(this.params), c = new a.asn1.x509.AlgorithmIdentifier({ name: u.sigalg });\n    if (u.sighex == null && u.sbjprvkey != null && this.sign(), u.sighex == null)\n      throw new Error(\"sighex or sbjprvkey parameter not defined\");\n    var y = new i({ hex: \"00\" + u.sighex }), v = new s({ array: [p, c, y] });\n    return v.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0 && this.setByParam(e);\n};\nN(a.asn1.csr.CertificationRequest, a.asn1.ASN1Object);\na.asn1.csr.CertificationRequestInfo = function(e) {\n  var t = a, r = t.asn1;\n  r.DERBitString;\n  var i = r.DERSequence, s = r.DERInteger, n = r.DERUTF8String, h = r.DERTaggedObject, u = r.ASN1Util.newObject, p = r.csr, c = r.x509, y = c.X500Name, v = c.Extensions, o = c.SubjectPublicKeyInfo;\n  p.AttributeList, p.CertificationRequestInfo.superclass.constructor.call(this), this.params = null, this.setByParam = function(f) {\n    f != null && (this.params = f);\n  }, this.tohex = function() {\n    var f = this.params, d = [];\n    if (d.push(new s({ int: 0 })), d.push(new y(f.subject)), d.push(new o(k.getKey(f.sbjpubkey))), f.attrs != null) {\n      var g = l(f.attrs), S = u({ tag: { tage: \"a0\", obj: g } });\n      d.push(S);\n    } else if (f.extreq != null) {\n      var b = new v(f.extreq), S = u({ tag: { tage: \"a0\", obj: { seq: [{ oid: \"1.2.840.113549.1.9.14\" }, { set: [b] }] } } });\n      d.push(S);\n    } else\n      d.push(new h({ tag: \"a0\", explicit: !1, obj: new n({ str: \"\" }) }));\n    var D = new i({ array: d });\n    return D.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  };\n  function l(f) {\n    for (var d = Error, g = a.asn1.x509.Extensions, S = [], b = 0; b < f.length; b++) {\n      var D = f[b], A = D.attr;\n      if (A == \"extensionRequest\") {\n        var I = new g(D.ext), m = { seq: [{ oid: \"1.2.840.113549.1.9.14\" }, { set: [I] }] };\n        S.push(m);\n      } else if (A == \"unstructuredName\") {\n        var m = { seq: [{ oid: \"1.2.840.113549.1.9.2\" }, { set: D.names }] };\n        S.push(m);\n      } else if (A == \"challengePassword\") {\n        var m = { seq: [{ oid: \"1.2.840.113549.1.9.7\" }, { set: [{ utf8str: D.password }] }] };\n        S.push(m);\n      } else\n        throw new d(\"unknown CSR attribute\");\n    }\n    return { set: S };\n  }\n  e != null && this.setByParam(e);\n};\nN(a.asn1.csr.CertificationRequestInfo, a.asn1.ASN1Object);\na.asn1.csr.AttributeList = function(e) {\n};\nN(a.asn1.csr.AttributeList, a.asn1.ASN1Object);\na.asn1.csr.CSRUtil = new function() {\n}();\na.asn1.csr.CSRUtil.newCSRPEM = function(e) {\n  var t = a.asn1.csr, r = new t.CertificationRequest(e), i = r.getPEM();\n  return i;\n};\na.asn1.csr.CSRUtil.getParam = function(e, t) {\n  var r = V, i = r.getV, s = r.getIdxbyList, n = r.getTLVbyList, h = r.getTLVbyListEx, u = r.getVbyListEx, p = function(b) {\n    var D = s(b, 0, [0, 3, 0, 0], \"06\");\n    return i(b, D) != \"2a864886f70d01090e\" ? null : n(b, 0, [0, 3, 0, 1, 0], \"30\");\n  }, c = {};\n  if (e.indexOf(\"-----BEGIN CERTIFICATE REQUEST\") == -1)\n    throw new Error(\"argument is not PEM file\");\n  var y = ie(e, \"CERTIFICATE REQUEST\");\n  t && (c.tbs = n(y, 0, [0]));\n  try {\n    var v = h(y, 0, [0, 1]);\n    if (v == \"3000\")\n      c.subject = {};\n    else {\n      var d = new L();\n      c.subject = d.getX500Name(v);\n    }\n  } catch {\n  }\n  var o = h(y, 0, [0, 2]), l = k.getKey(o, null, \"pkcs8pub\");\n  c.sbjpubkey = k.getPEM(l, \"PKCS8PUB\");\n  var f = p(y), d = new L();\n  f != null && (c.extreq = d.getExtParamArray(f));\n  try {\n    var g = h(y, 0, [1], \"30\"), d = new L();\n    c.sigalg = d.getAlgorithmIdentifierName(g);\n  } catch {\n  }\n  try {\n    var S = u(y, 0, [2]);\n    c.sighex = S;\n  } catch {\n  }\n  return c;\n};\na.asn1.csr.CSRUtil.verifySignature = function(e) {\n  try {\n    var t = null;\n    if (typeof e == \"string\" && e.indexOf(\"-----BEGIN CERTIFICATE REQUEST\") != -1 ? t = a.asn1.csr.CSRUtil.getParam(e, !0) : typeof e == \"object\" && e.sbjpubkey != null && e.sigalg != null && e.sighex != null && e.tbs != null && (t = e), t == null)\n      return !1;\n    var r = new a.crypto.Signature({ alg: t.sigalg });\n    return r.init(t.sbjpubkey), r.updateHex(t.tbs), r.verify(t.sighex);\n  } catch (i) {\n    return alert(i), !1;\n  }\n};\n(typeof a > \"u\" || !a) && (a = {});\n(typeof a.asn1 > \"u\" || !a.asn1) && (a.asn1 = {});\n(typeof a.asn1.ocsp > \"u\" || !a.asn1.ocsp) && (a.asn1.ocsp = {});\na.asn1.ocsp.DEFAULT_HASH = \"sha1\";\na.asn1.ocsp.OCSPResponse = function(e) {\n  a.asn1.ocsp.OCSPResponse.superclass.constructor.call(this), a.asn1.DEREnumerated;\n  var t = a.asn1.ASN1Util.newObject, r = a.asn1.ocsp.ResponseBytes, i = [\"successful\", \"malformedRequest\", \"internalError\", \"tryLater\", \"_not_used_\", \"sigRequired\", \"unauthorized\"];\n  this.params = null, this._getStatusCode = function() {\n    var s = this.params.resstatus;\n    return typeof s == \"number\" ? s : typeof s != \"string\" ? -1 : i.indexOf(s);\n  }, this.setByParam = function(s) {\n    this.params = s;\n  }, this.tohex = function() {\n    var s = this.params, n = this._getStatusCode();\n    if (n == -1)\n      throw new Error(\"responseStatus not supported: \" + s.resstatus);\n    if (n != 0)\n      return t({ seq: [{ enum: { int: n } }] }).tohex();\n    var h = new r(s);\n    return t({ seq: [{ enum: { int: 0 } }, { tag: { tag: \"a0\", explicit: !0, obj: h } }] }).tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0 && this.setByParam(e);\n};\nN(a.asn1.ocsp.OCSPResponse, a.asn1.ASN1Object);\na.asn1.ocsp.ResponseBytes = function(e) {\n  a.asn1.ocsp.ResponseBytes.superclass.constructor.call(this);\n  var t = a.asn1, r = t.DERSequence, i = t.DERObjectIdentifier, s = t.DEROctetString, n = t.ocsp.BasicOCSPResponse;\n  this.params = null, this.setByParam = function(h) {\n    this.params = h;\n  }, this.tohex = function() {\n    var h = this.params;\n    if (h.restype != \"ocspBasic\")\n      throw new Error(\"not supported responseType: \" + h.restype);\n    var u = new n(h), p = [];\n    p.push(new i({ name: \"ocspBasic\" })), p.push(new s({ hex: u.tohex() }));\n    var c = new r({ array: p });\n    return c.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0 && this.setByParam(e);\n};\nN(a.asn1.ocsp.ResponseBytes, a.asn1.ASN1Object);\na.asn1.ocsp.BasicOCSPResponse = function(e) {\n  a.asn1.ocsp.BasicOCSPResponse.superclass.constructor.call(this);\n  var t = Error, r = a.asn1, i = r.ASN1Object, s = r.DERSequence;\n  r.DERGeneralizedTime;\n  var n = r.DERTaggedObject, h = r.DERBitString;\n  r.x509.Extensions;\n  var u = r.x509.AlgorithmIdentifier, p = r.ocsp;\n  p.ResponderID, _SingleResponseList = p.SingleResponseList, _ResponseData = p.ResponseData, this.params = null, this.setByParam = function(c) {\n    this.params = c;\n  }, this.sign = function() {\n    var c = this.params, y = c.tbsresp.tohex(), v = new a.crypto.Signature({ alg: c.sigalg });\n    v.init(c.reskey), v.updateHex(y), c.sighex = v.sign();\n  }, this.tohex = function() {\n    var c = this.params;\n    c.tbsresp == null && (c.tbsresp = new _ResponseData(c)), c.sighex == null && c.reskey != null && this.sign();\n    var y = [];\n    if (y.push(c.tbsresp), y.push(new u({ name: c.sigalg })), y.push(new h({ hex: \"00\" + c.sighex })), c.certs != null && c.certs.length != null) {\n      for (var v = [], o = 0; o < c.certs.length; o++) {\n        var l = c.certs[o], f = null;\n        if (V.isASN1HEX(l))\n          f = l;\n        else if (l.match(/-----BEGIN/))\n          f = ie(l);\n        else\n          throw new t(\"certs[\" + o + \"] not hex or PEM\");\n        v.push(new i({ tlv: f }));\n      }\n      var d = new s({ array: v });\n      y.push(new n({ tag: \"a0\", explicit: !0, obj: d }));\n    }\n    var g = new s({ array: y });\n    return g.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0 && this.setByParam(e);\n};\nN(a.asn1.ocsp.BasicOCSPResponse, a.asn1.ASN1Object);\na.asn1.ocsp.ResponseData = function(e) {\n  a.asn1.ocsp.ResponseData.superclass.constructor.call(this);\n  var t = a.asn1, r = t.DERSequence, i = t.DERGeneralizedTime, s = t.DERTaggedObject, n = t.x509.Extensions, h = t.ocsp, u = h.ResponderID;\n  _SingleResponseList = h.SingleResponseList, this.params = null, this.tohex = function() {\n    var p = this.params;\n    p.respid != null, p.prodat != null, p.array != null;\n    var c = [];\n    if (c.push(new u(p.respid)), c.push(new i(p.prodat)), c.push(new _SingleResponseList(p.array)), p.ext != null) {\n      var y = new n(p.ext);\n      c.push(new s({ tag: \"a1\", explicit: !0, obj: y }));\n    }\n    var v = new r({ array: c });\n    return v.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, this.setByParam = function(p) {\n    this.params = p;\n  }, e !== void 0 && this.setByParam(e);\n};\nN(a.asn1.ocsp.ResponseData, a.asn1.ASN1Object);\na.asn1.ocsp.ResponderID = function(e) {\n  a.asn1.ocsp.ResponderID.superclass.constructor.call(this);\n  var t = a, r = t.asn1, i = r.ASN1Util.newObject, s = r.x509.X500Name, n = t.lang.String.isHex, h = Error;\n  this.params = null, this.tohex = function() {\n    var u = this.params;\n    if (u.key != null) {\n      var p = null;\n      if (typeof u.key == \"string\") {\n        if (n(u.key) && (p = u.key), u.key.match(/-----BEGIN CERTIFICATE/)) {\n          var c = new L(u.key), y = c.getExtSubjectKeyIdentifier();\n          y != null && (p = y.kid.hex);\n        }\n      } else if (u.key instanceof L) {\n        var y = u.key.getExtSubjectKeyIdentifier();\n        y != null && (p = y.kid.hex);\n      }\n      if (p == null)\n        throw new h(\"wrong key member value\");\n      var v = i({ tag: { tag: \"a2\", explicit: !0, obj: { octstr: { hex: p } } } });\n      return v.tohex();\n    } else if (u.name != null) {\n      var o = null;\n      if (typeof u.name == \"string\" && u.name.match(/-----BEGIN CERTIFICATE/)) {\n        var c = new L(u.name);\n        o = c.getSubject();\n      } else\n        u.name instanceof L ? o = u.name.getSubject() : typeof u.name == \"object\" && (u.name.array != null || u.name.str != null) && (o = u.name);\n      if (o == null)\n        throw new h(\"wrong name member value\");\n      var v = i({ tag: { tag: \"a1\", explicit: !0, obj: new s(o) } });\n      return v.tohex();\n    }\n    throw new h(\"key or name not specified\");\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, this.setByParam = function(u) {\n    this.params = u;\n  }, e !== void 0 && this.setByParam(e);\n};\nN(a.asn1.ocsp.ResponderID, a.asn1.ASN1Object);\na.asn1.ocsp.SingleResponseList = function(e) {\n  a.asn1.ocsp.SingleResponseList.superclass.constructor.call(this);\n  var t = a.asn1, r = t.DERSequence, i = t.ocsp.SingleResponse;\n  this.params = null, this.tohex = function() {\n    var s = this.params;\n    if (typeof s != \"object\" || s.length == null)\n      throw new Error(\"params not specified properly\");\n    for (var n = [], h = 0; h < s.length; h++)\n      n.push(new i(s[h]));\n    var u = new r({ array: n });\n    return u.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, this.setByParam = function(s) {\n    this.params = s;\n  }, e !== void 0 && this.setByParam(e);\n};\nN(a.asn1.ocsp.SingleResponseList, a.asn1.ASN1Object);\na.asn1.ocsp.SingleResponse = function(e) {\n  var t = Error, r = a, i = r.asn1, s = i.DERSequence, n = i.DERGeneralizedTime, h = i.DERTaggedObject, u = i.ocsp, p = u.CertID, c = u.CertStatus, y = i.x509, v = y.Extensions;\n  u.SingleResponse.superclass.constructor.call(this), this.params = null, this.tohex = function() {\n    var o = this.params, l = [];\n    if (o.certid == null)\n      throw new t(\"certid unspecified\");\n    if (o.status == null)\n      throw new t(\"status unspecified\");\n    if (o.thisupdate == null)\n      throw new t(\"thisupdate unspecified\");\n    if (l.push(new p(o.certid)), l.push(new c(o.status)), l.push(new n(o.thisupdate)), o.nextupdate != null) {\n      var f = new n(o.nextupdate);\n      l.push(new h({ tag: \"a0\", explicit: !0, obj: f }));\n    }\n    if (o.ext != null) {\n      var d = new v(o.ext);\n      l.push(new h({ tag: \"a1\", explicit: !0, obj: d }));\n    }\n    var g = new s({ array: l });\n    return g.tohex();\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, this.setByParam = function(o) {\n    this.params = o;\n  }, e !== void 0 && this.setByParam(e);\n};\nN(a.asn1.ocsp.SingleResponse, a.asn1.ASN1Object);\na.asn1.ocsp.CertID = function(e) {\n  var t = a, r = t.asn1, i = r.DEROctetString, s = r.DERInteger, n = r.DERSequence, h = r.x509, u = h.AlgorithmIdentifier, p = r.ocsp;\n  p.DEFAULT_HASH;\n  var c = t.crypto, y = c.Util.hashHex, v = L, o = V, l = o.getVbyList;\n  p.CertID.superclass.constructor.call(this), this.DEFAULT_HASH = \"sha1\", this.params = null, this.setByValue = function(f, d, g, S) {\n    S == null && (S = this.DEFAULT_HASH), this.params = { alg: S, issname: f, isskey: d, sbjsn: g };\n  }, this.setByCert = function(f, d, g) {\n    g == null && (g = this.DEFAULT_HASH), this.params = { alg: g, issuerCert: f, subjectCert: d };\n  }, this.getParamByCerts = function(f, d, g) {\n    g == null && (g = this.DEFAULT_HASH);\n    var S = new v(f), b = new v(d), D = y(S.getSubjectHex(), g), A = S.getPublicKeyHex(), I = y(l(A, 0, [1], \"03\", !0), g), m = b.getSerialNumberHex(), E = { alg: g, issname: D, isskey: I, sbjsn: m };\n    return E;\n  }, this.tohex = function() {\n    if (typeof this.params != \"object\")\n      throw new Error(\"params not set\");\n    var f = this.params, d, g, S, b;\n    if (f.alg == null ? b = this.DEFAULT_HASH : b = f.alg, f.issuerCert != null && f.subjectCert != null) {\n      var D = this.getParamByCerts(f.issuerCert, f.subjectCert, b);\n      d = D.issname, g = D.isskey, S = D.sbjsn;\n    } else if (f.issname != null && f.isskey != null && f.sbjsn != null)\n      d = f.issname, g = f.isskey, S = f.sbjsn;\n    else\n      throw new Error(\"required param members not defined\");\n    var A = new u({ name: b }), I = new i({ hex: d }), m = new i({ hex: g }), E = new s({ hex: S }), w = new n({ array: [A, I, m, E] });\n    return this.hTLV = w.tohex(), this.hTLV;\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0 && this.setByParam(e);\n};\nN(a.asn1.ocsp.CertID, a.asn1.ASN1Object);\na.asn1.ocsp.CertStatus = function(e) {\n  a.asn1.ocsp.CertStatus.superclass.constructor.call(this), this.params = null, this.tohex = function() {\n    var t = this.params;\n    if (t.status == \"good\")\n      return \"8000\";\n    if (t.status == \"unknown\")\n      return \"8200\";\n    if (t.status == \"revoked\") {\n      var r = [{ gentime: { str: t.time } }];\n      t.reason != null && r.push({ tag: { tag: \"a0\", explicit: !0, obj: { enum: { int: t.reason } } } });\n      var i = { tag: \"a1\", explicit: !1, obj: { seq: r } };\n      return a.asn1.ASN1Util.newObject({ tag: i }).tohex();\n    }\n    throw new Error(\"bad status\");\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, this.setByParam = function(t) {\n    this.params = t;\n  }, e !== void 0 && this.setByParam(e);\n};\nN(a.asn1.ocsp.CertStatus, a.asn1.ASN1Object);\na.asn1.ocsp.Request = function(e) {\n  var t = a, r = t.asn1, i = r.DERSequence, s = r.ocsp;\n  if (s.Request.superclass.constructor.call(this), this.dReqCert = null, this.dExt = null, this.tohex = function() {\n    var h = [];\n    if (this.dReqCert === null)\n      throw \"reqCert not set\";\n    h.push(this.dReqCert);\n    var u = new i({ array: h });\n    return this.hTLV = u.tohex(), this.hTLV;\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, typeof e < \"u\") {\n    var n = new s.CertID(e);\n    this.dReqCert = n;\n  }\n};\nN(a.asn1.ocsp.Request, a.asn1.ASN1Object);\na.asn1.ocsp.TBSRequest = function(e) {\n  var t = a, r = t.asn1, i = r.DERSequence, s = r.ocsp;\n  s.TBSRequest.superclass.constructor.call(this), this.version = 0, this.dRequestorName = null, this.dRequestList = [], this.dRequestExt = null, this.setRequestListByParam = function(n) {\n    for (var h = [], u = 0; u < n.length; u++) {\n      var p = new s.Request(n[0]);\n      h.push(p);\n    }\n    this.dRequestList = h;\n  }, this.tohex = function() {\n    var n = [];\n    if (this.version !== 0)\n      throw \"not supported version: \" + this.version;\n    if (this.dRequestorName !== null)\n      throw \"requestorName not supported\";\n    var h = new i({ array: this.dRequestList });\n    if (n.push(h), this.dRequestExt !== null)\n      throw \"requestExtensions not supported\";\n    var u = new i({ array: n });\n    return this.hTLV = u.tohex(), this.hTLV;\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0 && e.reqList !== void 0 && this.setRequestListByParam(e.reqList);\n};\nN(a.asn1.ocsp.TBSRequest, a.asn1.ASN1Object);\na.asn1.ocsp.OCSPRequest = function(e) {\n  var t = a, r = t.asn1, i = r.DERSequence, s = r.ocsp;\n  if (s.OCSPRequest.superclass.constructor.call(this), this.dTbsRequest = null, this.dOptionalSignature = null, this.tohex = function() {\n    var h = [];\n    if (this.dTbsRequest !== null)\n      h.push(this.dTbsRequest);\n    else\n      throw \"tbsRequest not set\";\n    if (this.dOptionalSignature !== null)\n      throw \"optionalSignature not supported\";\n    var u = new i({ array: h });\n    return this.hTLV = u.tohex(), this.hTLV;\n  }, this.getEncodedHex = function() {\n    return this.tohex();\n  }, e !== void 0 && e.reqList !== void 0) {\n    var n = new s.TBSRequest(e);\n    this.dTbsRequest = n;\n  }\n};\nN(a.asn1.ocsp.OCSPRequest, a.asn1.ASN1Object);\na.asn1.ocsp.OCSPUtil = {};\na.asn1.ocsp.OCSPUtil.getRequestHex = function(e, t, r) {\n  var i = a, s = i.asn1, n = s.ocsp;\n  r === void 0 && (r = n.DEFAULT_HASH);\n  var h = { alg: r, issuerCert: e, subjectCert: t }, u = new n.OCSPRequest({ reqList: [h] });\n  return u.tohex();\n};\na.asn1.ocsp.OCSPUtil.getOCSPResponseInfo = function(e) {\n  var t = V, r = t.getVbyList, i = t.getVbyListEx, s = t.getIdxbyList;\n  t.getIdxbyListEx;\n  var n = t.getV, h = {};\n  try {\n    var u = i(e, 0, [0], \"0a\");\n    h.responseStatus = parseInt(u, 16);\n  } catch {\n  }\n  if (h.responseStatus !== 0)\n    return h;\n  try {\n    var p = s(e, 0, [1, 0, 1, 0, 0, 2, 0, 1]);\n    e.substr(p, 2) === \"80\" ? h.certStatus = \"good\" : e.substr(p, 2) === \"a1\" ? (h.certStatus = \"revoked\", h.revocationTime = W(r(e, p, [0]))) : e.substr(p, 2) === \"82\" && (h.certStatus = \"unknown\");\n  } catch {\n  }\n  try {\n    var c = s(e, 0, [1, 0, 1, 0, 0, 2, 0, 2]);\n    h.thisUpdate = W(n(e, c));\n  } catch {\n  }\n  try {\n    var y = s(e, 0, [1, 0, 1, 0, 0, 2, 0, 3]);\n    e.substr(y, 2) === \"a0\" && (h.nextUpdate = W(r(e, y, [0])));\n  } catch {\n  }\n  return h;\n};\na.asn1.ocsp.OCSPParser = function() {\n  var e = Error, t = L, r = new t(), i = V, s = i.getV, n = i.getTLV, h = i.getIdxbyList, u = i.getVbyList, p = i.getTLVbyList, c = i.getVbyListEx, y = i.getTLVbyListEx, v = i.getChildIdx;\n  this.getOCSPRequest = function(o) {\n    var l = v(o, 0);\n    if (l.length != 1 && l.length != 2)\n      throw new e(\"wrong number elements: \" + l.length);\n    var f = this.getTBSRequest(n(o, l[0]));\n    return f;\n  }, this.getTBSRequest = function(o) {\n    var l = {}, f = y(o, 0, [0], \"30\");\n    l.array = this.getRequestList(f);\n    var d = y(o, 0, [\"[2]\", 0], \"30\");\n    return d != null && (l.ext = r.getExtParamArray(d)), l;\n  }, this.getRequestList = function(o) {\n    for (var l = [], f = v(o, 0), d = 0; d < f.length; d++) {\n      var o = n(o, f[d]);\n      l.push(this.getRequest(o));\n    }\n    return l;\n  }, this.getRequest = function(o) {\n    var l = v(o, 0);\n    if (l.length != 1 && l.length != 2)\n      throw new e(\"wrong number elements: \" + l.length);\n    var f = this.getCertID(n(o, l[0]));\n    if (l.length == 2) {\n      var d = h(o, 0, [1, 0]);\n      f.ext = r.getExtParamArray(n(o, d));\n    }\n    return f;\n  }, this.getCertID = function(o) {\n    var l = v(o, 0);\n    if (l.length != 4)\n      throw new e(\"wrong number elements: \" + l.length);\n    var f = new t(), d = {};\n    return d.alg = f.getAlgorithmIdentifierName(n(o, l[0])), d.issname = s(o, l[1]), d.isskey = s(o, l[2]), d.sbjsn = s(o, l[3]), d;\n  }, this.getOCSPResponse = function(o) {\n    var l = v(o, 0), f, d = s(o, l[0]), g = parseInt(d);\n    if (l.length == 1)\n      return { resstatus: g };\n    var S = p(o, 0, [1, 0]);\n    return f = this.getResponseBytes(S), f.resstatus = g, f;\n  }, this.getResponseBytes = function(o) {\n    var l = v(o, 0), f, d = p(o, 0, [1, 0]);\n    f = this.getBasicOCSPResponse(d);\n    var g = s(o, l[0]);\n    return f.restype = a.asn1.x509.OID.oid2name(ft(g)), f;\n  }, this.getBasicOCSPResponse = function(o) {\n    var l = v(o, 0), f;\n    f = this.getResponseData(n(o, l[0]));\n    var d = new L();\n    f.alg = d.getAlgorithmIdentifierName(n(o, l[1]));\n    var g = s(o, l[2]);\n    f.sighex = g.substr(2);\n    var S = c(o, 0, [\"[0]\"]);\n    if (S != null) {\n      for (var b = v(S, 0), D = [], A = 0; A < b.length; A++) {\n        var I = n(S, b[A]);\n        D.push(I);\n      }\n      f.certs = D;\n    }\n    return f;\n  }, this.getResponseData = function(o) {\n    var l = v(o, 0), f = l.length, d = {}, g = 0;\n    o.substr(l[0], 2) == \"a0\" && g++, d.respid = this.getResponderID(n(o, l[g++]));\n    var S = s(o, l[g++]);\n    if (d.prodat = W(S), d.array = this.getSingleResponseList(n(o, l[g++])), o.substr(l[f - 1], 2) == \"a1\") {\n      var b = p(o, l[f - 1], [0]), D = new L();\n      d.ext = D.getExtParamArray(b);\n    }\n    return d;\n  }, this.getResponderID = function(o) {\n    var l = {};\n    if (o.substr(0, 2) == \"a2\") {\n      var f = u(o, 0, [0]);\n      l.key = f;\n    }\n    if (o.substr(0, 2) == \"a1\") {\n      var d = p(o, 0, [0]), g = new L();\n      l.name = g.getX500Name(d);\n    }\n    return l;\n  }, this.getSingleResponseList = function(o) {\n    for (var l = v(o, 0), f = [], d = 0; d < l.length; d++) {\n      var g = this.getSingleResponse(n(o, l[d]));\n      f.push(g);\n    }\n    return f;\n  }, this.getSingleResponse = function(o) {\n    var l = v(o, 0), f = {}, d = this.getCertID(n(o, l[0]));\n    f.certid = d;\n    var g = this.getCertStatus(n(o, l[1]));\n    if (f.status = g, o.substr(l[2], 2) == \"18\") {\n      var S = s(o, l[2]);\n      f.thisupdate = W(S);\n    }\n    for (var b = 3; b < l.length; b++) {\n      if (o.substr(l[b], 2) == \"a0\") {\n        var D = u(o, l[b], [0], \"18\");\n        f.nextupdate = W(D);\n      }\n      if (o.substr(l[b], 2) == \"a1\") {\n        var A = new L(), I = p(o, 0, [b, 0]);\n        f.ext = A.getExtParamArray(I);\n      }\n    }\n    return f;\n  }, this.getCertStatus = function(o) {\n    var l = {};\n    if (o == \"8000\")\n      return { status: \"good\" };\n    if (o == \"8200\")\n      return { status: \"unknown\" };\n    if (o.substr(0, 2) == \"a1\") {\n      l.status = \"revoked\";\n      var f = u(o, 0, [0]), d = W(f);\n      l.time = d;\n    }\n    return l;\n  };\n};\nvar a;\n(typeof a > \"u\" || !a) && (a = {});\n(typeof a.lang > \"u\" || !a.lang) && (a.lang = {});\na.lang.String = function() {\n};\nfunction hn(e) {\n  for (var t = new Array(), r = 0; r < e.length; r++)\n    t[r] = e.charCodeAt(r);\n  return t;\n}\nfunction ot(e) {\n  for (var t = \"\", r = 0; r < e.length; r++) {\n    var i = e[r].toString(16);\n    i.length == 1 && (i = \"0\" + i), t = t + i;\n  }\n  return t;\n}\nfunction Ee(e) {\n  return ot(hn(e));\n}\nfunction Xe(e) {\n  return e = e.replace(/\\=/g, \"\"), e = e.replace(/\\+/g, \"-\"), e = e.replace(/\\//g, \"_\"), e;\n}\nfunction ut(e) {\n  return e.length % 4 == 2 ? e = e + \"==\" : e.length % 4 == 3 && (e = e + \"=\"), e = e.replace(/-/g, \"+\"), e = e.replace(/_/g, \"/\"), e;\n}\nfunction ae(e) {\n  return e.length % 2 == 1 && (e = \"0\" + e), Xe(_e(e));\n}\nfunction Y(e) {\n  return it(ut(e));\n}\nvar Je, we;\ntypeof Buffer == \"function\" ? (Je = function(e) {\n  return Xe(Buffer.from(e, \"utf8\").toString(\"base64\"));\n}, we = function(e) {\n  return Buffer.from(ut(e), \"base64\").toString(\"utf8\");\n}) : (Je = function(e) {\n  return ae(It(Bt(e)));\n}, we = function(e) {\n  return decodeURIComponent(Ct(Y(e)));\n});\nfunction ht(e) {\n  return It(Bt(e)).toLowerCase();\n}\nfunction W(e) {\n  try {\n    return decodeURIComponent(Ct(e));\n  } catch {\n    return null;\n  }\n}\nfunction fn(e) {\n  return W(cn(e));\n}\nfunction cn(e) {\n  for (var t = e.match(/.{1,2}/g), r = [], i = 0; i < t.length; i++) {\n    var s = parseInt(t[i], 16);\n    161 <= s && s <= 191 ? (r.push(\"c2\"), r.push(t[i])) : 192 <= s && s <= 255 ? (r.push(\"c3\"), r.push((s - 64).toString(16))) : r.push(t[i]);\n  }\n  return r.join(\"\");\n}\nfunction Ae(e) {\n  for (var t = \"\", r = 0; r < e.length - 1; r += 2)\n    t += String.fromCharCode(parseInt(e.substr(r, 2), 16));\n  return t;\n}\nfunction Pe(e) {\n  for (var t = \"\", r = 0; r < e.length; r++)\n    t += (\"0\" + e.charCodeAt(r).toString(16)).slice(-2);\n  return t;\n}\nfunction ln(e) {\n  return _e(e);\n}\nfunction dn(e, t) {\n  return e = e.replace(new RegExp(\"(.{\" + t + \"})\", \"g\"), `$1\\r\n`), e = e.replace(/\\s+$/, \"\"), e;\n}\nfunction pn(e) {\n  var t = e.replace(/[^0-9A-Za-z\\/+=]*/g, \"\"), r = it(t);\n  return r;\n}\nfunction de(e, t) {\n  return \"-----BEGIN \" + t + `-----\\r\n` + dn(ln(e), 64) + `\\r\n-----END ` + t + `-----\\r\n`;\n}\nfunction ie(e, t) {\n  if (e.indexOf(\"-----BEGIN \") == -1)\n    throw new Error(\"can't find PEM header\");\n  return t !== void 0 ? (e = e.replace(new RegExp(\"^[^]*-----BEGIN \" + t + \"-----\"), \"\"), e = e.replace(new RegExp(\"-----END \" + t + \"-----[^]*$\"), \"\")) : (e = e.replace(/^[^]*-----BEGIN [^-]+-----/, \"\"), e = e.replace(/-----END [^-]+-----[^]*$/, \"\")), pn(e);\n}\nfunction vn(e) {\n  var t, r, i, s, n, h, u, p, c, y;\n  if (e = yn(e), y = e.match(/^(\\d{4})(\\d\\d)(\\d\\d)(\\d\\d)(\\d\\d)(\\d\\d)(|\\.\\d+)Z$/), y)\n    return t = parseInt(y[1]), r = parseInt(y[2]) - 1, i = parseInt(y[3]), s = parseInt(y[4]), n = parseInt(y[5]), h = parseInt(y[6]), u = 0, p = y[7], p !== \"\" && (c = (p.substr(1) + \"00\").substr(0, 3), u = parseInt(c)), Date.UTC(t, r, i, s, n, h, u);\n  throw new Error(\"unsupported zulu format: \" + e);\n}\nfunction gn(e) {\n  return Math.round(vn(e) / 1e3);\n}\nfunction yn(e) {\n  return e.match(/^[0-9]{12}Z$/) || e.match(/^[0-9]{12}[.][0-9]*Z$/) ? e.match(/^[0-4]/) ? \"20\" + e : \"19\" + e : e;\n}\nfunction It(e) {\n  return e.replace(/%/g, \"\");\n}\nfunction Ct(e) {\n  return e.replace(/(..)/g, \"%$1\");\n}\nfunction vt(e) {\n  var t = \"malformed IPv6 address\";\n  if (!e.match(/^[0-9A-Fa-f:]+$/))\n    throw t;\n  e = e.toLowerCase();\n  var r = e.split(\":\").length - 1;\n  if (r < 2)\n    throw t;\n  var i = \":\".repeat(7 - r + 2);\n  e = e.replace(\"::\", i);\n  var s = e.split(\":\");\n  if (s.length != 8)\n    throw t;\n  for (var n = 0; n < 8; n++)\n    s[n] = (\"0000\" + s[n]).slice(-4);\n  return s.join(\"\");\n}\nfunction gt(e) {\n  if (!e.match(/^[0-9A-Fa-f]{32}$/))\n    throw new Error(\"malformed IPv6 address: \" + e);\n  e = e.toLowerCase();\n  var t = e.match(/.{1,4}/g);\n  t = t.map(function(s) {\n    return s.replace(/^0+/, \"\");\n  }), t = t.map(function(s) {\n    return s == \"\" ? \"0\" : s;\n  }), e = \":\" + t.join(\":\") + \":\";\n  var r = e.match(/:(0:){2,}/g);\n  if (r == null)\n    return e.slice(1, -1);\n  var i = r.sort().slice(-1)[0];\n  return e = e.replace(i.substr(0, i.length - 1), \":\"), e.substr(0, 2) != \"::\" && (e = e.substr(1)), e.substr(-2, 2) != \"::\" && (e = e.substr(0, e.length - 1)), e;\n}\nfunction tt(e) {\n  var t = new Error(\"malformed hex value\");\n  if (!e.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))\n    throw t;\n  if (e.length == 8) {\n    var r;\n    try {\n      return r = parseInt(e.substr(0, 2), 16) + \".\" + parseInt(e.substr(2, 2), 16) + \".\" + parseInt(e.substr(4, 2), 16) + \".\" + parseInt(e.substr(6, 2), 16), r;\n    } catch {\n      throw t;\n    }\n  } else if (e.length == 16)\n    try {\n      return tt(e.substr(0, 8)) + \"/\" + yt(e.substr(8));\n    } catch {\n      throw t;\n    }\n  else {\n    if (e.length == 32)\n      return gt(e);\n    if (e.length == 64) {\n      try {\n        return gt(e.substr(0, 32)) + \"/\" + yt(e.substr(32));\n      } catch {\n        throw t;\n      }\n      return;\n    } else\n      return e;\n  }\n}\nfunction yt(e) {\n  var t = new Error(\"malformed mask\"), r;\n  try {\n    r = new R(e, 16).toString(2);\n  } catch {\n    throw t;\n  }\n  if (!r.match(/^1*0*$/))\n    throw t;\n  return r.replace(/0+$/, \"\").length;\n}\nfunction Rt(e) {\n  var t = new Error(\"malformed IP address\");\n  if (e = e.toLowerCase(e), !e.match(/^[0-9a-f.:/]+$/))\n    throw t;\n  if (e.match(/^[0-9.]+$/)) {\n    var r = e.split(\".\");\n    if (r.length !== 4)\n      throw t;\n    var i = \"\";\n    try {\n      for (var s = 0; s < 4; s++) {\n        var n = parseInt(r[s]);\n        i += (\"0\" + n.toString(16)).slice(-2);\n      }\n      return i;\n    } catch {\n      throw t;\n    }\n  } else if (e.match(/^[0-9.]+\\/[0-9]+$/)) {\n    var h = e.split(\"/\");\n    return Rt(h[0]) + mt(parseInt(h[1]), 32);\n  } else {\n    if (e.match(/^[0-9a-f:]+$/) && e.indexOf(\":\") !== -1)\n      return vt(e);\n    if (e.match(/^[0-9a-f:]+\\/[0-9]+$/) && e.indexOf(\":\") !== -1) {\n      var h = e.split(\"/\");\n      return vt(h[0]) + mt(parseInt(h[1]), 128);\n    } else\n      throw t;\n  }\n}\nfunction mt(e, t) {\n  if (t == 32 && e == 0)\n    return \"00000000\";\n  if (t == 128 && e == 0)\n    return \"00000000000000000000000000000000\";\n  var r = Array(e + 1).join(\"1\") + Array(t - e + 1).join(\"0\");\n  return new R(r, 2).toString(16);\n}\nfunction Tt(e) {\n  function t(s) {\n    var n = parseInt(s.substr(0, 2), 16), h = parseInt(s.substr(2), 16);\n    if (n == 0 & h < 128)\n      return String.fromCharCode(h);\n    if (n < 8) {\n      var u = 192 | (n & 7) << 3 | (h & 192) >> 6, p = 128 | h & 63;\n      return W(u.toString(16) + p.toString(16));\n    }\n    var u = 224 | (n & 240) >> 4, p = 128 | (n & 15) << 2 | (h & 192) >> 6, c = 128 | h & 63;\n    return W(u.toString(16) + p.toString(16) + c.toString(16));\n  }\n  var r = e.match(/.{4}/g), i = r.map(t);\n  return i.join(\"\");\n}\nfunction Bt(e) {\n  for (var t = encodeURIComponent(e), r = \"\", i = 0; i < t.length; i++)\n    t[i] == \"%\" ? (r = r + t.substr(i, 3), i = i + 2) : r = r + \"%\" + Ee(t[i]);\n  return r;\n}\na.lang.String.isInteger = function(e) {\n  return e.match(/^[0-9]+$/) ? !0 : !!e.match(/^-[0-9]+$/);\n};\na.lang.String.isHex = function(e) {\n  return Nt(e);\n};\nfunction Nt(e) {\n  return !!(e.length % 2 == 0 && (e.match(/^[0-9a-f]+$/) || e.match(/^[0-9A-F]+$/)));\n}\na.lang.String.isBase64 = function(e) {\n  return e = e.replace(/\\s+/g, \"\"), !!(e.match(/^[0-9A-Za-z+\\/]+={0,3}$/) && e.length % 4 == 0);\n};\na.lang.String.isBase64URL = function(e) {\n  return e.match(/[+/=]/) ? !1 : (e = ut(e), a.lang.String.isBase64(e));\n};\nfunction Ht(e) {\n  return !!e.match(/^[0-9A-Za-z-_.]+$/);\n}\na.lang.String.isIntegerArray = function(e) {\n  return e = e.replace(/\\s+/g, \"\"), !!e.match(/^\\[[0-9,]+\\]$/);\n};\na.lang.String.isPrintable = function(e) {\n  return e.match(/^[0-9A-Za-z '()+,-./:=?]*$/) !== null;\n};\na.lang.String.isIA5 = function(e) {\n  return e.match(/^[\\x20-\\x21\\x23-\\x7f]*$/) !== null;\n};\na.lang.String.isMail = function(e) {\n  return e.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\\.[A-Za-z0-9]{1,}$/) !== null;\n};\nfunction xt(e) {\n  return e.length % 2 == 1 ? \"0\" + e : e.substr(0, 1) > \"7\" ? \"00\" + e : e;\n}\nfunction mn(e) {\n  var t = function(u) {\n    var p = u.toString(16);\n    return p.length == 1 && (p = \"0\" + p), p;\n  }, r = function(u) {\n    var p = \"\", c = parseInt(u, 10), y = c.toString(2), v = 7 - y.length % 7;\n    v == 7 && (v = 0);\n    for (var o = \"\", l = 0; l < v; l++)\n      o += \"0\";\n    y = o + y;\n    for (var l = 0; l < y.length - 1; l += 7) {\n      var f = y.substr(l, 7);\n      l != y.length - 7 && (f = \"1\" + f), p += t(parseInt(f, 2));\n    }\n    return p;\n  };\n  try {\n    if (!e.match(/^[0-9.]+$/))\n      return null;\n    var i = \"\", s = e.split(\".\"), n = parseInt(s[0], 10) * 40 + parseInt(s[1], 10);\n    i += t(n), s.splice(0, 2);\n    for (var h = 0; h < s.length; h++)\n      i += r(s[h]);\n    return i;\n  } catch {\n    return null;\n  }\n}\nfunction ft(e) {\n  if (!Nt(e))\n    return null;\n  try {\n    var t = [], r = e.substr(0, 2), i = parseInt(r, 16);\n    t[0] = new String(Math.floor(i / 40)), t[1] = new String(i % 40);\n    for (var s = e.substr(2), n = [], h = 0; h < s.length / 2; h++)\n      n.push(parseInt(s.substr(h * 2, 2), 16));\n    for (var u = [], p = \"\", h = 0; h < n.length; h++)\n      n[h] & 128 ? p = p + St((n[h] & 127).toString(2), 7) : (p = p + St((n[h] & 127).toString(2), 7), u.push(new String(parseInt(p, 2))), p = \"\");\n    var c = t.join(\".\");\n    return u.length > 0 && (c = c + \".\" + u.join(\".\")), c;\n  } catch {\n    return null;\n  }\n}\nfunction xn(e) {\n  var t = new R(String(e), 10);\n  return Ze(t);\n}\nfunction Ze(e) {\n  var t = e.toString(16);\n  if (t.substr(0, 1) != \"-\")\n    return t.length % 2 == 1 ? t = \"0\" + t : t.match(/^[0-7]/) || (t = \"00\" + t), t;\n  var r = t.substr(1), i = r.length;\n  i % 2 == 1 ? i += 1 : t.match(/^[0-7]/) || (i += 2);\n  for (var s = \"\", n = 0; n < i; n++)\n    s += \"f\";\n  var h = new R(s, 16), u = h.xor(e).add(R.ONE);\n  return t = u.toString(16).replace(/^-/, \"\"), t;\n}\nvar St = function(e, t, r) {\n  return r == null && (r = \"0\"), e.length >= t ? e : new Array(t - e.length + 1).join(r) + e;\n};\nfunction Sn(e) {\n  if (e.length % 2 != 0 || (e = e.toLowerCase(), e.match(/^[0-9a-f]+$/) == null))\n    return -1;\n  try {\n    var t = e.substr(0, 2);\n    if (t == \"00\")\n      return parseInt(e.substr(2), 16);\n    var r = parseInt(t, 16);\n    if (r > 7)\n      return -1;\n    var i = e.substr(2), s = parseInt(i, 16).toString(2);\n    s == \"0\" && (s = \"00000000\"), s = s.slice(0, 0 - r);\n    var n = parseInt(s, 2);\n    return n == NaN ? -1 : n;\n  } catch {\n    return -1;\n  }\n}\nfunction En(e) {\n  if (typeof e != \"string\" || e.length % 2 != 0 || !e.match(/^[0-9a-f]+$/))\n    return null;\n  try {\n    var t = parseInt(e.substr(0, 2), 16);\n    if (t < 0 || 7 < t)\n      return null;\n    for (var r = e.substr(2), i = \"\", s = 0; s < r.length; s += 2) {\n      var n = r.substr(s, 2), h = parseInt(n, 16).toString(2);\n      h = (\"0000000\" + h).slice(-8), i += h;\n    }\n    return i.substr(0, i.length - t);\n  } catch {\n    return null;\n  }\n}\nfunction rt(e, t) {\n  for (var r = 0, i = 0; i < e.length; i++)\n    r |= 1 << t[e[i]];\n  for (var s = r.toString(2), n = \"\", i = s.length - 1; i >= 0; i--)\n    n += s[i];\n  return n;\n}\nfunction J(e, i, r) {\n  if (typeof e == \"object\") {\n    for (var i = String(i).split(\".\"), s = 0; s < i.length && e; s++) {\n      var n = i[s];\n      n.match(/^[0-9]+$/) && (n = parseInt(n)), e = e[n];\n    }\n    return e || e === !1 ? e : r;\n  }\n}\nfunction N(e, t) {\n  var r = function() {\n  };\n  r.prototype = t.prototype, e.prototype = new r(), e.prototype.constructor = e, e.superclass = t.prototype, t.prototype.constructor == Object.prototype.constructor && (t.prototype.constructor = t);\n}\n(typeof a > \"u\" || !a) && (a = {});\n(typeof a.crypto > \"u\" || !a.crypto) && (a.crypto = {});\na.crypto.Util = new function() {\n  this.DIGESTINFOHEAD = { sha1: \"3021300906052b0e03021a05000414\", sha224: \"302d300d06096086480165030402040500041c\", sha256: \"3031300d060960864801650304020105000420\", sha384: \"3041300d060960864801650304020205000430\", sha512: \"3051300d060960864801650304020305000440\", md2: \"3020300c06082a864886f70d020205000410\", md5: \"3020300c06082a864886f70d020505000410\", ripemd160: \"3021300906052b2403020105000414\" }, this.DEFAULTPROVIDER = { md5: \"cryptojs\", sha1: \"cryptojs\", sha224: \"cryptojs\", sha256: \"cryptojs\", sha384: \"cryptojs\", sha512: \"cryptojs\", ripemd160: \"cryptojs\", hmacmd5: \"cryptojs\", hmacsha1: \"cryptojs\", hmacsha224: \"cryptojs\", hmacsha256: \"cryptojs\", hmacsha384: \"cryptojs\", hmacsha512: \"cryptojs\", hmacripemd160: \"cryptojs\", MD5withRSA: \"cryptojs/jsrsa\", SHA1withRSA: \"cryptojs/jsrsa\", SHA224withRSA: \"cryptojs/jsrsa\", SHA256withRSA: \"cryptojs/jsrsa\", SHA384withRSA: \"cryptojs/jsrsa\", SHA512withRSA: \"cryptojs/jsrsa\", RIPEMD160withRSA: \"cryptojs/jsrsa\", MD5withECDSA: \"cryptojs/jsrsa\", SHA1withECDSA: \"cryptojs/jsrsa\", SHA224withECDSA: \"cryptojs/jsrsa\", SHA256withECDSA: \"cryptojs/jsrsa\", SHA384withECDSA: \"cryptojs/jsrsa\", SHA512withECDSA: \"cryptojs/jsrsa\", RIPEMD160withECDSA: \"cryptojs/jsrsa\", SHA1withDSA: \"cryptojs/jsrsa\", SHA224withDSA: \"cryptojs/jsrsa\", SHA256withDSA: \"cryptojs/jsrsa\", MD5withRSAandMGF1: \"cryptojs/jsrsa\", SHAwithRSAandMGF1: \"cryptojs/jsrsa\", SHA1withRSAandMGF1: \"cryptojs/jsrsa\", SHA224withRSAandMGF1: \"cryptojs/jsrsa\", SHA256withRSAandMGF1: \"cryptojs/jsrsa\", SHA384withRSAandMGF1: \"cryptojs/jsrsa\", SHA512withRSAandMGF1: \"cryptojs/jsrsa\", RIPEMD160withRSAandMGF1: \"cryptojs/jsrsa\" }, this.CRYPTOJSMESSAGEDIGESTNAME = { md5: K.algo.MD5, sha1: K.algo.SHA1, sha224: K.algo.SHA224, sha256: K.algo.SHA256, sha384: K.algo.SHA384, sha512: K.algo.SHA512, ripemd160: K.algo.RIPEMD160 }, this.getDigestInfoHex = function(e, t) {\n    if (typeof this.DIGESTINFOHEAD[t] > \"u\")\n      throw \"alg not supported in Util.DIGESTINFOHEAD: \" + t;\n    return this.DIGESTINFOHEAD[t] + e;\n  }, this.getPaddedDigestInfoHex = function(e, t, r) {\n    var i = this.getDigestInfoHex(e, t), s = r / 4;\n    if (i.length + 22 > s)\n      throw \"key is too short for SigAlg: keylen=\" + r + \",\" + t;\n    for (var n = \"0001\", h = \"00\" + i, u = \"\", p = s - n.length - h.length, c = 0; c < p; c += 2)\n      u += \"ff\";\n    var y = n + u + h;\n    return y;\n  }, this.hashString = function(e, t) {\n    var r = new a.crypto.MessageDigest({ alg: t });\n    return r.digestString(e);\n  }, this.hashHex = function(e, t) {\n    var r = new a.crypto.MessageDigest({ alg: t });\n    return r.digestHex(e);\n  }, this.sha1 = function(e) {\n    return this.hashString(e, \"sha1\");\n  }, this.sha256 = function(e) {\n    return this.hashString(e, \"sha256\");\n  }, this.sha256Hex = function(e) {\n    return this.hashHex(e, \"sha256\");\n  }, this.sha512 = function(e) {\n    return this.hashString(e, \"sha512\");\n  }, this.sha512Hex = function(e) {\n    return this.hashHex(e, \"sha512\");\n  }, this.isKey = function(e) {\n    return e instanceof q || e instanceof a.crypto.DSA || e instanceof a.crypto.ECDSA;\n  };\n}();\na.crypto.Util.md5 = function(e) {\n  var t = new a.crypto.MessageDigest({ alg: \"md5\", prov: \"cryptojs\" });\n  return t.digestString(e);\n};\na.crypto.Util.ripemd160 = function(e) {\n  var t = new a.crypto.MessageDigest({ alg: \"ripemd160\", prov: \"cryptojs\" });\n  return t.digestString(e);\n};\na.crypto.Util.SECURERANDOMGEN = new Ge();\na.crypto.Util.getRandomHexOfNbytes = function(e) {\n  var t = new Array(e);\n  return a.crypto.Util.SECURERANDOMGEN.nextBytes(t), ot(t);\n};\na.crypto.Util.getRandomBigIntegerOfNbytes = function(e) {\n  return new R(a.crypto.Util.getRandomHexOfNbytes(e), 16);\n};\na.crypto.Util.getRandomHexOfNbits = function(e) {\n  var t = e % 8, r = (e - t) / 8, i = new Array(r + 1);\n  return a.crypto.Util.SECURERANDOMGEN.nextBytes(i), i[0] = (255 << t & 255 ^ 255) & i[0], ot(i);\n};\na.crypto.Util.getRandomBigIntegerOfNbits = function(e) {\n  return new R(a.crypto.Util.getRandomHexOfNbits(e), 16);\n};\na.crypto.Util.getRandomBigIntegerZeroToMax = function(e) {\n  for (var t = e.bitLength(); ; ) {\n    var r = a.crypto.Util.getRandomBigIntegerOfNbits(t);\n    if (e.compareTo(r) != -1)\n      return r;\n  }\n};\na.crypto.Util.getRandomBigIntegerMinToMax = function(e, t) {\n  var r = e.compareTo(t);\n  if (r == 1)\n    throw \"biMin is greater than biMax\";\n  if (r == 0)\n    return e;\n  var i = t.subtract(e), s = a.crypto.Util.getRandomBigIntegerZeroToMax(i);\n  return s.add(e);\n};\na.crypto.MessageDigest = function(e) {\n  this.setAlgAndProvider = function(t, r) {\n    if (t = a.crypto.MessageDigest.getCanonicalAlgName(t), t !== null && r === void 0 && (r = a.crypto.Util.DEFAULTPROVIDER[t]), \":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:\".indexOf(t) != -1 && r == \"cryptojs\") {\n      try {\n        this.md = a.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[t].create();\n      } catch (i) {\n        throw \"setAlgAndProvider hash alg set fail alg=\" + t + \"/\" + i;\n      }\n      this.updateString = function(i) {\n        this.md.update(i);\n      }, this.updateHex = function(i) {\n        var s = K.enc.Hex.parse(i);\n        this.md.update(s);\n      }, this.digest = function() {\n        var i = this.md.finalize();\n        return i.toString(K.enc.Hex);\n      }, this.digestString = function(i) {\n        return this.updateString(i), this.digest();\n      }, this.digestHex = function(i) {\n        return this.updateHex(i), this.digest();\n      };\n    }\n    if (\":sha256:\".indexOf(t) != -1 && r == \"sjcl\") {\n      try {\n        this.md = new sjcl.hash.sha256();\n      } catch (i) {\n        throw \"setAlgAndProvider hash alg set fail alg=\" + t + \"/\" + i;\n      }\n      this.updateString = function(i) {\n        this.md.update(i);\n      }, this.updateHex = function(i) {\n        var s = sjcl.codec.hex.toBits(i);\n        this.md.update(s);\n      }, this.digest = function() {\n        var i = this.md.finalize();\n        return sjcl.codec.hex.fromBits(i);\n      }, this.digestString = function(i) {\n        return this.updateString(i), this.digest();\n      }, this.digestHex = function(i) {\n        return this.updateHex(i), this.digest();\n      };\n    }\n  }, this.updateString = function(t) {\n    throw \"updateString(str) not supported for this alg/prov: \" + this.algName + \"/\" + this.provName;\n  }, this.updateHex = function(t) {\n    throw \"updateHex(hex) not supported for this alg/prov: \" + this.algName + \"/\" + this.provName;\n  }, this.digest = function() {\n    throw \"digest() not supported for this alg/prov: \" + this.algName + \"/\" + this.provName;\n  }, this.digestString = function(t) {\n    throw \"digestString(str) not supported for this alg/prov: \" + this.algName + \"/\" + this.provName;\n  }, this.digestHex = function(t) {\n    throw \"digestHex(hex) not supported for this alg/prov: \" + this.algName + \"/\" + this.provName;\n  }, e !== void 0 && e.alg !== void 0 && (this.algName = e.alg, e.prov === void 0 && (this.provName = a.crypto.Util.DEFAULTPROVIDER[this.algName]), this.setAlgAndProvider(this.algName, this.provName));\n};\na.crypto.MessageDigest.getCanonicalAlgName = function(e) {\n  return typeof e == \"string\" && (e = e.toLowerCase(), e = e.replace(/-/, \"\")), e;\n};\na.crypto.MessageDigest.getHashLength = function(e) {\n  var t = a.crypto.MessageDigest, r = t.getCanonicalAlgName(e);\n  if (t.HASHLENGTH[r] === void 0)\n    throw \"not supported algorithm: \" + e;\n  return t.HASHLENGTH[r];\n};\na.crypto.MessageDigest.HASHLENGTH = { md5: 16, sha1: 20, sha224: 28, sha256: 32, sha384: 48, sha512: 64, ripemd160: 20 };\na.crypto.Mac = function(e) {\n  this.setAlgAndProvider = function(t, r) {\n    if (t = t.toLowerCase(), t == null && (t = \"hmacsha1\"), t = t.toLowerCase(), t.substr(0, 4) != \"hmac\")\n      throw \"setAlgAndProvider unsupported HMAC alg: \" + t;\n    r === void 0 && (r = a.crypto.Util.DEFAULTPROVIDER[t]), this.algProv = t + \"/\" + r;\n    var i = t.substr(4);\n    if (\":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:\".indexOf(i) != -1 && r == \"cryptojs\") {\n      try {\n        var s = a.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[i];\n        this.mac = K.algo.HMAC.create(s, this.pass);\n      } catch (n) {\n        throw \"setAlgAndProvider hash alg set fail hashAlg=\" + i + \"/\" + n;\n      }\n      this.updateString = function(n) {\n        this.mac.update(n);\n      }, this.updateHex = function(n) {\n        var h = K.enc.Hex.parse(n);\n        this.mac.update(h);\n      }, this.doFinal = function() {\n        var n = this.mac.finalize();\n        return n.toString(K.enc.Hex);\n      }, this.doFinalString = function(n) {\n        return this.updateString(n), this.doFinal();\n      }, this.doFinalHex = function(n) {\n        return this.updateHex(n), this.doFinal();\n      };\n    }\n  }, this.updateString = function(t) {\n    throw \"updateString(str) not supported for this alg/prov: \" + this.algProv;\n  }, this.updateHex = function(t) {\n    throw \"updateHex(hex) not supported for this alg/prov: \" + this.algProv;\n  }, this.doFinal = function() {\n    throw \"digest() not supported for this alg/prov: \" + this.algProv;\n  }, this.doFinalString = function(t) {\n    throw \"digestString(str) not supported for this alg/prov: \" + this.algProv;\n  }, this.doFinalHex = function(t) {\n    throw \"digestHex(hex) not supported for this alg/prov: \" + this.algProv;\n  }, this.setPassword = function(t) {\n    if (typeof t == \"string\") {\n      var r = t;\n      (t.length % 2 == 1 || !t.match(/^[0-9A-Fa-f]+$/)) && (r = Pe(t)), this.pass = K.enc.Hex.parse(r);\n      return;\n    }\n    if (typeof t != \"object\")\n      throw \"KJUR.crypto.Mac unsupported password type: \" + t;\n    var r = null;\n    if (t.hex !== void 0) {\n      if (t.hex.length % 2 != 0 || !t.hex.match(/^[0-9A-Fa-f]+$/))\n        throw \"Mac: wrong hex password: \" + t.hex;\n      r = t.hex;\n    }\n    if (t.utf8 !== void 0 && (r = ht(t.utf8)), t.rstr !== void 0 && (r = Pe(t.rstr)), t.b64 !== void 0 && (r = it(t.b64)), t.b64u !== void 0 && (r = Y(t.b64u)), r == null)\n      throw \"KJUR.crypto.Mac unsupported password type: \" + t;\n    this.pass = K.enc.Hex.parse(r);\n  }, e !== void 0 && (e.pass !== void 0 && this.setPassword(e.pass), e.alg !== void 0 && (this.algName = e.alg, e.prov === void 0 && (this.provName = a.crypto.Util.DEFAULTPROVIDER[this.algName]), this.setAlgAndProvider(this.algName, this.provName)));\n};\na.crypto.Signature = function(e) {\n  var t = null;\n  if (this._setAlgNames = function() {\n    var r = this.algName.match(/^(.+)with(.+)$/);\n    r && (this.mdAlgName = r[1].toLowerCase(), this.pubkeyAlgName = r[2].toLowerCase(), this.pubkeyAlgName == \"rsaandmgf1\" && this.mdAlgName == \"sha\" && (this.mdAlgName = \"sha1\"));\n  }, this._zeroPaddingOfSignature = function(r, i) {\n    for (var s = \"\", n = i / 4 - r.length, h = 0; h < n; h++)\n      s = s + \"0\";\n    return s + r;\n  }, this.setAlgAndProvider = function(r, i) {\n    if (this._setAlgNames(), i != \"cryptojs/jsrsa\")\n      throw new Error(\"provider not supported: \" + i);\n    if (\":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:\".indexOf(this.mdAlgName) != -1) {\n      try {\n        this.md = new a.crypto.MessageDigest({ alg: this.mdAlgName });\n      } catch (s) {\n        throw new Error(\"setAlgAndProvider hash alg set fail alg=\" + this.mdAlgName + \"/\" + s);\n      }\n      this.init = function(s, n) {\n        var h = null;\n        try {\n          n === void 0 ? h = k.getKey(s) : h = k.getKey(s, n);\n        } catch (u) {\n          throw \"init failed:\" + u;\n        }\n        if (h.isPrivate === !0)\n          this.prvKey = h, this.state = \"SIGN\";\n        else if (h.isPublic === !0)\n          this.pubKey = h, this.state = \"VERIFY\";\n        else\n          throw \"init failed.:\" + h;\n      }, this.updateString = function(s) {\n        this.md.updateString(s);\n      }, this.updateHex = function(s) {\n        this.md.updateHex(s);\n      }, this.sign = function() {\n        if (this.sHashHex = this.md.digest(), this.prvKey === void 0 && this.ecprvhex !== void 0 && this.eccurvename !== void 0 && a.crypto.ECDSA !== void 0 && (this.prvKey = new a.crypto.ECDSA({ curve: this.eccurvename, prv: this.ecprvhex })), this.prvKey instanceof q && this.pubkeyAlgName === \"rsaandmgf1\")\n          this.hSign = this.prvKey.signWithMessageHashPSS(this.sHashHex, this.mdAlgName, this.pssSaltLen);\n        else if (this.prvKey instanceof q && this.pubkeyAlgName === \"rsa\")\n          this.hSign = this.prvKey.signWithMessageHash(this.sHashHex, this.mdAlgName);\n        else if (this.prvKey instanceof a.crypto.ECDSA)\n          this.hSign = this.prvKey.signWithMessageHash(this.sHashHex);\n        else if (this.prvKey instanceof a.crypto.DSA)\n          this.hSign = this.prvKey.signWithMessageHash(this.sHashHex);\n        else\n          throw \"Signature: unsupported private key alg: \" + this.pubkeyAlgName;\n        return this.hSign;\n      }, this.signString = function(s) {\n        return this.updateString(s), this.sign();\n      }, this.signHex = function(s) {\n        return this.updateHex(s), this.sign();\n      }, this.verify = function(s) {\n        if (this.sHashHex = this.md.digest(), this.pubKey === void 0 && this.ecpubhex !== void 0 && this.eccurvename !== void 0 && a.crypto.ECDSA !== void 0 && (this.pubKey = new a.crypto.ECDSA({ curve: this.eccurvename, pub: this.ecpubhex })), this.pubKey instanceof q && this.pubkeyAlgName === \"rsaandmgf1\")\n          return this.pubKey.verifyWithMessageHashPSS(this.sHashHex, s, this.mdAlgName, this.pssSaltLen);\n        if (this.pubKey instanceof q && this.pubkeyAlgName === \"rsa\")\n          return this.pubKey.verifyWithMessageHash(this.sHashHex, s);\n        if (a.crypto.ECDSA !== void 0 && this.pubKey instanceof a.crypto.ECDSA)\n          return this.pubKey.verifyWithMessageHash(this.sHashHex, s);\n        if (a.crypto.DSA !== void 0 && this.pubKey instanceof a.crypto.DSA)\n          return this.pubKey.verifyWithMessageHash(this.sHashHex, s);\n        throw \"Signature: unsupported public key alg: \" + this.pubkeyAlgName;\n      };\n    }\n  }, this.init = function(r, i) {\n    throw \"init(key, pass) not supported for this alg:prov=\" + this.algProvName;\n  }, this.updateString = function(r) {\n    throw \"updateString(str) not supported for this alg:prov=\" + this.algProvName;\n  }, this.updateHex = function(r) {\n    throw \"updateHex(hex) not supported for this alg:prov=\" + this.algProvName;\n  }, this.sign = function() {\n    throw \"sign() not supported for this alg:prov=\" + this.algProvName;\n  }, this.signString = function(r) {\n    throw \"digestString(str) not supported for this alg:prov=\" + this.algProvName;\n  }, this.signHex = function(r) {\n    throw \"digestHex(hex) not supported for this alg:prov=\" + this.algProvName;\n  }, this.verify = function(r) {\n    throw \"verify(hSigVal) not supported for this alg:prov=\" + this.algProvName;\n  }, this.initParams = e, e !== void 0 && (e.alg !== void 0 && (this.algName = e.alg, e.prov === void 0 ? this.provName = a.crypto.Util.DEFAULTPROVIDER[this.algName] : this.provName = e.prov, this.algProvName = this.algName + \":\" + this.provName, this.setAlgAndProvider(this.algName, this.provName), this._setAlgNames()), e.psssaltlen !== void 0 && (this.pssSaltLen = e.psssaltlen), e.prvkeypem !== void 0)) {\n    if (e.prvkeypas !== void 0)\n      throw \"both prvkeypem and prvkeypas parameters not supported\";\n    try {\n      var t = k.getKey(e.prvkeypem);\n      this.init(t);\n    } catch (r) {\n      throw \"fatal error to load pem private key: \" + r;\n    }\n  }\n};\na.crypto.Cipher = function(e) {\n};\na.crypto.Cipher.encrypt = function(e, t, r, i) {\n  if (J(i, \"enclag\") != null && (r = i.encalg), typeof r == \"string\" && r.substr(-4) == \"-CBC\") {\n    var s = t, n = e;\n    J(i, \"key\") != null && (s = i.key), J(i, \"enc\") != null && (hEnc = i.enc);\n    var h = K.enc.Hex.parse(s), u = K.enc.Hex.parse(n), p = K.enc.Hex.parse(i.iv), c;\n    if (r == \"des-EDE3-CBC\")\n      c = K.TripleDES.encrypt(u, h, { iv: p });\n    else if (r == \"aes128-CBC\" || r == \"aes256-CBC\")\n      c = K.AES.encrypt(u, h, { iv: p });\n    else\n      throw new Error(\"unsupported algorithm: \" + r);\n    return c + \"\";\n  } else\n    throw new Error(\"Cipher.encrypt: unsupported key or algorithm\");\n};\na.crypto.Cipher.decrypt = function(e, t, r, i) {\n  if (J(i, \"enclag\") != null && (r = i.encalg), typeof r == \"string\" && r.substr(-4) == \"-CBC\") {\n    var s = t, n = e;\n    J(i, \"key\") != null && (s = i.key), J(i, \"enc\") != null && (n = i.enc);\n    var h = K.enc.Hex.parse(s), u = K.enc.Hex.parse(n), p = K.enc.Hex.parse(i.iv), c;\n    if (r == \"des-EDE3-CBC\")\n      c = K.TripleDES.decrypt({ ciphertext: u }, h, { iv: p });\n    else if (r == \"aes128-CBC\" || r == \"aes256-CBC\")\n      c = K.AES.decrypt({ ciphertext: u }, h, { iv: p });\n    else\n      throw new Error(\"unsupported algorithm: \" + r);\n    return K.enc.Hex.stringify(c);\n  } else\n    throw new Error(\"Cipher.decrypt: unsupported key or algorithm\");\n};\na.crypto.OID = new function() {\n  this.oidhex2name = { \"2a864886f70d010101\": \"rsaEncryption\", \"2a8648ce3d0201\": \"ecPublicKey\", \"2a8648ce380401\": \"dsa\", \"2a8648ce3d030107\": \"secp256r1\", \"2b8104001f\": \"secp192k1\", \"2b81040021\": \"secp224r1\", \"2b8104000a\": \"secp256k1\", \"2b81040022\": \"secp384r1\", \"2b81040023\": \"secp521r1\", \"2a8648ce380403\": \"SHA1withDSA\", \"608648016503040301\": \"SHA224withDSA\", \"608648016503040302\": \"SHA256withDSA\" };\n}();\n(typeof a > \"u\" || !a) && (a = {});\n(typeof a.crypto > \"u\" || !a.crypto) && (a.crypto = {});\na.crypto.ECDSA = function(e) {\n  var t = \"secp256r1\", r = Error, i = R, s = z, n = a.crypto.ECDSA, h = a.crypto.ECParameterDB, u = n.getName, p = V, c = p.getVbyListEx, y = p.isASN1HEX, v = new Ge();\n  this.type = \"EC\", this.isPrivate = !1, this.isPublic = !1, this.getBigRandom = function(o) {\n    return new i(o.bitLength(), v).mod(o.subtract(i.ONE)).add(i.ONE);\n  }, this.setNamedCurve = function(o) {\n    this.ecparams = h.getByName(o), this.prvKeyHex = null, this.pubKeyHex = null, this.curveName = o;\n  }, this.setPrivateKeyHex = function(o) {\n    this.isPrivate = !0, this.prvKeyHex = o;\n  }, this.setPublicKeyHex = function(o) {\n    this.isPublic = !0, this.pubKeyHex = o;\n  }, this.getPublicKeyXYHex = function() {\n    var o = this.pubKeyHex;\n    if (o.substr(0, 2) !== \"04\")\n      throw \"this method supports uncompressed format(04) only\";\n    var l = this.ecparams.keycharlen;\n    if (o.length !== 2 + l * 2)\n      throw \"malformed public key hex length\";\n    var f = {};\n    return f.x = o.substr(2, l), f.y = o.substr(2 + l), f;\n  }, this.getShortNISTPCurveName = function() {\n    var o = this.curveName;\n    return o === \"secp256r1\" || o === \"NIST P-256\" || o === \"P-256\" || o === \"prime256v1\" ? \"P-256\" : o === \"secp384r1\" || o === \"NIST P-384\" || o === \"P-384\" ? \"P-384\" : o === \"secp521r1\" || o === \"NIST P-521\" || o === \"P-521\" ? \"P-521\" : null;\n  }, this.generateKeyPairHex = function() {\n    var o = this.ecparams.n, l = this.getBigRandom(o), f = this.ecparams.keycharlen, d = (\"0000000000\" + l.toString(16)).slice(-f);\n    this.setPrivateKeyHex(d);\n    var g = this.generatePublicKeyHex();\n    return { ecprvhex: d, ecpubhex: g };\n  }, this.generatePublicKeyHex = function() {\n    var o = new i(this.prvKeyHex, 16), l = this.ecparams.G.multiply(o), f = l.getX().toBigInteger(), d = l.getY().toBigInteger(), g = this.ecparams.keycharlen, S = (\"0000000000\" + f.toString(16)).slice(-g), b = (\"0000000000\" + d.toString(16)).slice(-g), D = \"04\" + S + b;\n    return this.setPublicKeyHex(D), D;\n  }, this.signWithMessageHash = function(o) {\n    return this.signHex(o, this.prvKeyHex);\n  }, this.signHex = function(o, l) {\n    var f = new i(l, 16), d = this.ecparams.n, g = new i(o.substring(0, this.ecparams.keycharlen), 16);\n    do\n      var S = this.getBigRandom(d), b = this.ecparams.G, D = b.multiply(S), A = D.getX().toBigInteger().mod(d);\n    while (A.compareTo(i.ZERO) <= 0);\n    var I = S.modInverse(d).multiply(g.add(f.multiply(A))).mod(d);\n    return n.biRSSigToASN1Sig(A, I);\n  }, this.sign = function(o, l) {\n    var f = l, d = this.ecparams.n, g = i.fromByteArrayUnsigned(o);\n    do\n      var S = this.getBigRandom(d), b = this.ecparams.G, D = b.multiply(S), A = D.getX().toBigInteger().mod(d);\n    while (A.compareTo(R.ZERO) <= 0);\n    var I = S.modInverse(d).multiply(g.add(f.multiply(A))).mod(d);\n    return this.serializeSig(A, I);\n  }, this.verifyWithMessageHash = function(o, l) {\n    return this.verifyHex(o, l, this.pubKeyHex);\n  }, this.verifyHex = function(o, l, f) {\n    try {\n      var d, g, S = n.parseSigHex(l);\n      d = S.r, g = S.s;\n      var b = s.decodeFromHex(this.ecparams.curve, f), D = new i(o.substring(0, this.ecparams.keycharlen), 16);\n      return this.verifyRaw(D, d, g, b);\n    } catch {\n      return !1;\n    }\n  }, this.verify = function(o, l, f) {\n    var d, g;\n    if (Bitcoin.Util.isArray(l)) {\n      var S = this.parseSig(l);\n      d = S.r, g = S.s;\n    } else if (typeof l == \"object\" && l.r && l.s)\n      d = l.r, g = l.s;\n    else\n      throw \"Invalid value for signature\";\n    var b;\n    if (f instanceof z)\n      b = f;\n    else if (Bitcoin.Util.isArray(f))\n      b = s.decodeFrom(this.ecparams.curve, f);\n    else\n      throw \"Invalid format for pubkey value, must be byte array or ECPointFp\";\n    var D = i.fromByteArrayUnsigned(o);\n    return this.verifyRaw(D, d, g, b);\n  }, this.verifyRaw = function(o, l, f, d) {\n    var g = this.ecparams.n, S = this.ecparams.G;\n    if (l.compareTo(i.ONE) < 0 || l.compareTo(g) >= 0 || f.compareTo(i.ONE) < 0 || f.compareTo(g) >= 0)\n      return !1;\n    var b = f.modInverse(g), D = o.multiply(b).mod(g), A = l.multiply(b).mod(g), I = S.multiply(D).add(d.multiply(A)), m = I.getX().toBigInteger().mod(g);\n    return m.equals(l);\n  }, this.serializeSig = function(o, l) {\n    var f = o.toByteArraySigned(), d = l.toByteArraySigned(), g = [];\n    return g.push(2), g.push(f.length), g = g.concat(f), g.push(2), g.push(d.length), g = g.concat(d), g.unshift(g.length), g.unshift(48), g;\n  }, this.parseSig = function(o) {\n    var l;\n    if (o[0] != 48)\n      throw new Error(\"Signature not a valid DERSequence\");\n    if (l = 2, o[l] != 2)\n      throw new Error(\"First element in signature must be a DERInteger\");\n    var f = o.slice(l + 2, l + 2 + o[l + 1]);\n    if (l += 2 + o[l + 1], o[l] != 2)\n      throw new Error(\"Second element in signature must be a DERInteger\");\n    var d = o.slice(l + 2, l + 2 + o[l + 1]);\n    l += 2 + o[l + 1];\n    var g = i.fromByteArrayUnsigned(f), S = i.fromByteArrayUnsigned(d);\n    return { r: g, s: S };\n  }, this.parseSigCompact = function(o) {\n    if (o.length !== 65)\n      throw \"Signature has the wrong length\";\n    var l = o[0] - 27;\n    if (l < 0 || l > 7)\n      throw \"Invalid signature type\";\n    var f = this.ecparams.n, d = i.fromByteArrayUnsigned(o.slice(1, 33)).mod(f), g = i.fromByteArrayUnsigned(o.slice(33, 65)).mod(f);\n    return { r: d, s: g, i: l };\n  }, this.readPKCS5PrvKeyHex = function(o) {\n    if (y(o) === !1)\n      throw new Error(\"not ASN.1 hex string\");\n    var l, f, d;\n    try {\n      l = c(o, 0, [\"[0]\", 0], \"06\"), f = c(o, 0, [1], \"04\");\n      try {\n        d = c(o, 0, [\"[1]\", 0], \"03\");\n      } catch {\n      }\n    } catch {\n      throw new Error(\"malformed PKCS#1/5 plain ECC private key\");\n    }\n    if (this.curveName = u(l), this.curveName === void 0)\n      throw \"unsupported curve name\";\n    this.setNamedCurve(this.curveName), this.setPublicKeyHex(d), this.setPrivateKeyHex(f), this.isPublic = !1;\n  }, this.readPKCS8PrvKeyHex = function(o) {\n    if (y(o) === !1)\n      throw new r(\"not ASN.1 hex string\");\n    var l, f, d, g;\n    try {\n      l = c(o, 0, [1, 0], \"06\"), f = c(o, 0, [1, 1], \"06\"), d = c(o, 0, [2, 0, 1], \"04\");\n      try {\n        g = c(o, 0, [2, 0, \"[1]\", 0], \"03\");\n      } catch {\n      }\n    } catch {\n      throw new r(\"malformed PKCS#8 plain ECC private key\");\n    }\n    if (this.curveName = u(f), this.curveName === void 0)\n      throw new r(\"unsupported curve name\");\n    this.setNamedCurve(this.curveName), this.setPublicKeyHex(g), this.setPrivateKeyHex(d), this.isPublic = !1;\n  }, this.readPKCS8PubKeyHex = function(o) {\n    if (y(o) === !1)\n      throw new r(\"not ASN.1 hex string\");\n    var l, f, d;\n    try {\n      l = c(o, 0, [0, 0], \"06\"), f = c(o, 0, [0, 1], \"06\"), d = c(o, 0, [1], \"03\");\n    } catch {\n      throw new r(\"malformed PKCS#8 ECC public key\");\n    }\n    if (this.curveName = u(f), this.curveName === null)\n      throw new r(\"unsupported curve name\");\n    this.setNamedCurve(this.curveName), this.setPublicKeyHex(d);\n  }, this.readCertPubKeyHex = function(o, l) {\n    if (y(o) === !1)\n      throw new r(\"not ASN.1 hex string\");\n    var f, d;\n    try {\n      f = c(o, 0, [0, 5, 0, 1], \"06\"), d = c(o, 0, [0, 5, 1], \"03\");\n    } catch {\n      throw new r(\"malformed X.509 certificate ECC public key\");\n    }\n    if (this.curveName = u(f), this.curveName === null)\n      throw new r(\"unsupported curve name\");\n    this.setNamedCurve(this.curveName), this.setPublicKeyHex(d);\n  }, e !== void 0 && e.curve !== void 0 && (this.curveName = e.curve), this.curveName === void 0 && (this.curveName = t), this.setNamedCurve(this.curveName), e !== void 0 && (e.prv !== void 0 && this.setPrivateKeyHex(e.prv), e.pub !== void 0 && this.setPublicKeyHex(e.pub));\n};\na.crypto.ECDSA.parseSigHex = function(e) {\n  var t = a.crypto.ECDSA.parseSigHexInHexRS(e), r = new R(t.r, 16), i = new R(t.s, 16);\n  return { r, s: i };\n};\na.crypto.ECDSA.parseSigHexInHexRS = function(e) {\n  var t = V, r = t.getChildIdx, i = t.getV;\n  if (t.checkStrictDER(e, 0), e.substr(0, 2) != \"30\")\n    throw new Error(\"signature is not a ASN.1 sequence\");\n  var s = r(e, 0);\n  if (s.length != 2)\n    throw new Error(\"signature shall have two elements\");\n  var n = s[0], h = s[1];\n  if (e.substr(n, 2) != \"02\")\n    throw new Error(\"1st item not ASN.1 integer\");\n  if (e.substr(h, 2) != \"02\")\n    throw new Error(\"2nd item not ASN.1 integer\");\n  var u = i(e, n), p = i(e, h);\n  return { r: u, s: p };\n};\na.crypto.ECDSA.asn1SigToConcatSig = function(e) {\n  var t = a.crypto.ECDSA.parseSigHexInHexRS(e), r = t.r, i = t.s;\n  if (r.length >= 130 && r.length <= 134) {\n    if (r.length % 2 != 0)\n      throw Error(\"unknown ECDSA sig r length error\");\n    if (i.length % 2 != 0)\n      throw Error(\"unknown ECDSA sig s length error\");\n    r.substr(0, 2) == \"00\" && (r = r.substr(2)), i.substr(0, 2) == \"00\" && (i = i.substr(2));\n    var s = Math.max(r.length, i.length);\n    return r = (\"000000\" + r).slice(-s), i = (\"000000\" + i).slice(-s), r + i;\n  }\n  if (r.substr(0, 2) == \"00\" && r.length % 32 == 2 && (r = r.substr(2)), i.substr(0, 2) == \"00\" && i.length % 32 == 2 && (i = i.substr(2)), r.length % 32 == 30 && (r = \"00\" + r), i.length % 32 == 30 && (i = \"00\" + i), r.length % 32 != 0)\n    throw Error(\"unknown ECDSA sig r length error\");\n  if (i.length % 32 != 0)\n    throw Error(\"unknown ECDSA sig s length error\");\n  return r + i;\n};\na.crypto.ECDSA.concatSigToASN1Sig = function(e) {\n  if (e.length % 4 != 0)\n    throw Error(\"unknown ECDSA concatinated r-s sig length error\");\n  var t = e.substr(0, e.length / 2), r = e.substr(e.length / 2);\n  return a.crypto.ECDSA.hexRSSigToASN1Sig(t, r);\n};\na.crypto.ECDSA.hexRSSigToASN1Sig = function(e, t) {\n  var r = new R(e, 16), i = new R(t, 16);\n  return a.crypto.ECDSA.biRSSigToASN1Sig(r, i);\n};\na.crypto.ECDSA.biRSSigToASN1Sig = function(e, t) {\n  var r = a.asn1, i = new r.DERInteger({ bigint: e }), s = new r.DERInteger({ bigint: t }), n = new r.DERSequence({ array: [i, s] });\n  return n.tohex();\n};\na.crypto.ECDSA.getName = function(e) {\n  return e === \"2b8104001f\" ? \"secp192k1\" : e === \"2a8648ce3d030107\" ? \"secp256r1\" : e === \"2b8104000a\" ? \"secp256k1\" : e === \"2b81040021\" ? \"secp224r1\" : e === \"2b81040022\" ? \"secp384r1\" : e === \"2b81040023\" ? \"secp521r1\" : \"|secp256r1|NIST P-256|P-256|prime256v1|\".indexOf(e) !== -1 ? \"secp256r1\" : \"|secp256k1|\".indexOf(e) !== -1 ? \"secp256k1\" : \"|secp224r1|NIST P-224|P-224|\".indexOf(e) !== -1 ? \"secp224r1\" : \"|secp384r1|NIST P-384|P-384|\".indexOf(e) !== -1 ? \"secp384r1\" : \"|secp521r1|NIST P-521|P-521|\".indexOf(e) !== -1 ? \"secp521r1\" : null;\n};\n(typeof a > \"u\" || !a) && (a = {});\n(typeof a.crypto > \"u\" || !a.crypto) && (a.crypto = {});\na.crypto.ECParameterDB = new function() {\n  var e = {}, t = {};\n  function r(i) {\n    return new R(i, 16);\n  }\n  this.getByName = function(i) {\n    var s = i;\n    if (typeof t[s] < \"u\" && (s = t[i]), typeof e[s] < \"u\")\n      return e[s];\n    throw \"unregistered EC curve name: \" + s;\n  }, this.regist = function(i, s, n, h, u, p, c, y, v, o, l, f) {\n    e[i] = {};\n    var d = r(n), g = r(h), S = r(u), b = r(p), D = r(c), A = new Be(d, g, S), I = A.decodePointHex(\"04\" + y + v);\n    e[i].name = i, e[i].keylen = s, e[i].keycharlen = Math.ceil(s / 8) * 2, e[i].curve = A, e[i].G = I, e[i].n = b, e[i].h = D, e[i].oid = l, e[i].info = f;\n    for (var m = 0; m < o.length; m++)\n      t[o[m]] = i;\n  };\n}();\na.crypto.ECParameterDB.regist(\"secp128r1\", 128, \"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF\", \"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC\", \"E87579C11079F43DD824993C2CEE5ED3\", \"FFFFFFFE0000000075A30D1B9038A115\", \"1\", \"161FF7528B899B2D0C28607CA52C5B86\", \"CF5AC8395BAFEB13C02DA292DDED7A83\", [], \"\", \"secp128r1 : SECG curve over a 128 bit prime field\");\na.crypto.ECParameterDB.regist(\"secp160k1\", 160, \"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73\", \"0\", \"7\", \"0100000000000000000001B8FA16DFAB9ACA16B6B3\", \"1\", \"3B4C382CE37AA192A4019E763036F4F5DD4D7EBB\", \"938CF935318FDCED6BC28286531733C3F03C4FEE\", [], \"\", \"secp160k1 : SECG curve over a 160 bit prime field\");\na.crypto.ECParameterDB.regist(\"secp160r1\", 160, \"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF\", \"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC\", \"1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45\", \"0100000000000000000001F4C8F927AED3CA752257\", \"1\", \"4A96B5688EF573284664698968C38BB913CBFC82\", \"23A628553168947D59DCC912042351377AC5FB32\", [], \"\", \"secp160r1 : SECG curve over a 160 bit prime field\");\na.crypto.ECParameterDB.regist(\"secp192k1\", 192, \"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37\", \"0\", \"3\", \"FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D\", \"1\", \"DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D\", \"9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D\", []);\na.crypto.ECParameterDB.regist(\"secp192r1\", 192, \"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF\", \"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC\", \"64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1\", \"FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831\", \"1\", \"188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012\", \"07192B95FFC8DA78631011ED6B24CDD573F977A11E794811\", []);\na.crypto.ECParameterDB.regist(\"secp224r1\", 224, \"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001\", \"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE\", \"B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4\", \"FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D\", \"1\", \"B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21\", \"BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34\", []);\na.crypto.ECParameterDB.regist(\"secp256k1\", 256, \"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F\", \"0\", \"7\", \"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141\", \"1\", \"79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798\", \"483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8\", []);\na.crypto.ECParameterDB.regist(\"secp256r1\", 256, \"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF\", \"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC\", \"5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B\", \"FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551\", \"1\", \"6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296\", \"4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5\", [\"NIST P-256\", \"P-256\", \"prime256v1\"]);\na.crypto.ECParameterDB.regist(\"secp384r1\", 384, \"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF\", \"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC\", \"B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF\", \"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973\", \"1\", \"AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7\", \"3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f\", [\"NIST P-384\", \"P-384\"]);\na.crypto.ECParameterDB.regist(\"secp521r1\", 521, \"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF\", \"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC\", \"051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00\", \"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409\", \"1\", \"00C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66\", \"011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650\", [\"NIST P-521\", \"P-521\"]);\n(typeof a > \"u\" || !a) && (a = {});\n(typeof a.crypto > \"u\" || !a.crypto) && (a.crypto = {});\na.crypto.DSA = function() {\n  var e = V;\n  e.getVbyList;\n  var t = e.getVbyListEx, r = e.isASN1HEX, i = R;\n  this.p = null, this.q = null, this.g = null, this.y = null, this.x = null, this.type = \"DSA\", this.isPrivate = !1, this.isPublic = !1, this.setPrivate = function(s, n, h, u, p) {\n    this.isPrivate = !0, this.p = s, this.q = n, this.g = h, this.y = u, this.x = p;\n  }, this.setPrivateHex = function(s, n, h, u, p) {\n    var c, y, v, o, l;\n    c = new R(s, 16), y = new R(n, 16), v = new R(h, 16), typeof u == \"string\" && u.length > 1 ? o = new R(u, 16) : o = null, l = new R(p, 16), this.setPrivate(c, y, v, o, l);\n  }, this.setPublic = function(s, n, h, u) {\n    this.isPublic = !0, this.p = s, this.q = n, this.g = h, this.y = u, this.x = null;\n  }, this.setPublicHex = function(s, n, h, u) {\n    var p, c, y, v;\n    p = new R(s, 16), c = new R(n, 16), y = new R(h, 16), v = new R(u, 16), this.setPublic(p, c, y, v);\n  }, this.signWithMessageHash = function(s) {\n    var n = this.p, h = this.q, u = this.g;\n    this.y;\n    var p = this.x, c = a.crypto.Util.getRandomBigIntegerMinToMax(R.ONE.add(R.ONE), h.subtract(R.ONE)), y = s.substr(0, h.bitLength() / 4), v = new R(y, 16), o = u.modPow(c, n).mod(h), l = c.modInverse(h).multiply(v.add(p.multiply(o))).mod(h), f = a.asn1.ASN1Util.jsonToASN1HEX({ seq: [{ int: { bigint: o } }, { int: { bigint: l } }] });\n    return f;\n  }, this.verifyWithMessageHash = function(s, n) {\n    var h = this.p, u = this.q, p = this.g, c = this.y, y = this.parseASN1Signature(n), v = y[0], o = y[1], l = s.substr(0, u.bitLength() / 4), f = new R(l, 16);\n    if (R.ZERO.compareTo(v) > 0 || v.compareTo(u) > 0 || R.ZERO.compareTo(o) >= 0 || o.compareTo(u) > 0)\n      throw \"invalid DSA signature\";\n    var d = o.modInverse(u), g = f.multiply(d).mod(u), S = v.multiply(d).mod(u), b = p.modPow(g, h).multiply(c.modPow(S, h)).mod(h).mod(u);\n    return b.compareTo(v) == 0;\n  }, this.parseASN1Signature = function(s) {\n    try {\n      var n = new i(t(s, 0, [0], \"02\"), 16), h = new i(t(s, 0, [1], \"02\"), 16);\n      return [n, h];\n    } catch {\n      throw new Error(\"malformed ASN.1 DSA signature\");\n    }\n  }, this.readPKCS5PrvKeyHex = function(s) {\n    var n, h, u, p, c;\n    if (r(s) === !1)\n      throw new Error(\"not ASN.1 hex string\");\n    try {\n      n = t(s, 0, [1], \"02\"), h = t(s, 0, [2], \"02\"), u = t(s, 0, [3], \"02\"), p = t(s, 0, [4], \"02\"), c = t(s, 0, [5], \"02\");\n    } catch {\n      throw new Error(\"malformed PKCS#1/5 plain DSA private key\");\n    }\n    this.setPrivateHex(n, h, u, p, c);\n  }, this.readPKCS8PrvKeyHex = function(s) {\n    var n, h, u, p;\n    if (r(s) === !1)\n      throw new Error(\"not ASN.1 hex string\");\n    try {\n      n = t(s, 0, [1, 1, 0], \"02\"), h = t(s, 0, [1, 1, 1], \"02\"), u = t(s, 0, [1, 1, 2], \"02\"), p = t(s, 0, [2, 0], \"02\");\n    } catch {\n      throw new Error(\"malformed PKCS#8 plain DSA private key\");\n    }\n    this.setPrivateHex(n, h, u, null, p);\n  }, this.readPKCS8PubKeyHex = function(s) {\n    var n, h, u, p;\n    if (r(s) === !1)\n      throw new Error(\"not ASN.1 hex string\");\n    try {\n      n = t(s, 0, [0, 1, 0], \"02\"), h = t(s, 0, [0, 1, 1], \"02\"), u = t(s, 0, [0, 1, 2], \"02\"), p = t(s, 0, [1, 0], \"02\");\n    } catch {\n      throw new Error(\"malformed PKCS#8 DSA public key\");\n    }\n    this.setPublicHex(n, h, u, p);\n  }, this.readCertPubKeyHex = function(s, n) {\n    var h, u, p, c;\n    if (r(s) === !1)\n      throw new Error(\"not ASN.1 hex string\");\n    try {\n      h = t(s, 0, [0, 5, 0, 1, 0], \"02\"), u = t(s, 0, [0, 5, 0, 1, 1], \"02\"), p = t(s, 0, [0, 5, 0, 1, 2], \"02\"), c = t(s, 0, [0, 5, 1, 0], \"02\");\n    } catch {\n      throw new Error(\"malformed X.509 certificate DSA public key\");\n    }\n    this.setPublicHex(h, u, p, c);\n  };\n};\nvar k = /* @__PURE__ */ function() {\n  var e = function(f, d, g) {\n    return i(K.AES, f, d, g);\n  }, t = function(f, d, g) {\n    return i(K.TripleDES, f, d, g);\n  }, r = function(f, d, g) {\n    return i(K.DES, f, d, g);\n  }, i = function(f, d, g, S) {\n    var b = K.enc.Hex.parse(d), D = K.enc.Hex.parse(g), A = K.enc.Hex.parse(S), I = {};\n    I.key = D, I.iv = A, I.ciphertext = b;\n    var m = f.decrypt(I, D, { iv: A });\n    return K.enc.Hex.stringify(m);\n  }, s = function(f, d, g) {\n    return u(K.AES, f, d, g);\n  }, n = function(f, d, g) {\n    return u(K.TripleDES, f, d, g);\n  }, h = function(f, d, g) {\n    return u(K.DES, f, d, g);\n  }, u = function(f, d, g, S) {\n    var b = K.enc.Hex.parse(d), D = K.enc.Hex.parse(g), A = K.enc.Hex.parse(S), I = f.encrypt(b, D, { iv: A }), m = K.enc.Hex.parse(I.toString()), E = K.enc.Base64.stringify(m);\n    return E;\n  }, p = { \"AES-256-CBC\": { proc: e, eproc: s, keylen: 32, ivlen: 16 }, \"AES-192-CBC\": { proc: e, eproc: s, keylen: 24, ivlen: 16 }, \"AES-128-CBC\": { proc: e, eproc: s, keylen: 16, ivlen: 16 }, \"DES-EDE3-CBC\": { proc: t, eproc: n, keylen: 24, ivlen: 8 }, \"DES-CBC\": { proc: r, eproc: h, keylen: 8, ivlen: 8 } }, c = function(f) {\n    var d = K.lib.WordArray.random(f), g = K.enc.Hex.stringify(d);\n    return g;\n  }, y = function(f) {\n    var d = {}, g = f.match(new RegExp(\"DEK-Info: ([^,]+),([0-9A-Fa-f]+)\", \"m\"));\n    g && (d.cipher = g[1], d.ivsalt = g[2]);\n    var S = f.match(new RegExp(\"-----BEGIN ([A-Z]+) PRIVATE KEY-----\"));\n    S && (d.type = S[1]);\n    var b = -1, D = 0;\n    f.indexOf(`\\r\n\\r\n`) != -1 && (b = f.indexOf(`\\r\n\\r\n`), D = 2), f.indexOf(`\n\n`) != -1 && (b = f.indexOf(`\n\n`), D = 1);\n    var A = f.indexOf(\"-----END\");\n    if (b != -1 && A != -1) {\n      var I = f.substring(b + D * 2, A - D);\n      I = I.replace(/\\s+/g, \"\"), d.data = I;\n    }\n    return d;\n  }, v = function(f, d, g) {\n    for (var S = g.substring(0, 16), b = K.enc.Hex.parse(S), D = K.enc.Utf8.parse(d), A = p[f].keylen + p[f].ivlen, I = \"\", m = null; ; ) {\n      var E = K.algo.MD5.create();\n      if (m != null && E.update(m), E.update(D), E.update(b), m = E.finalize(), I = I + K.enc.Hex.stringify(m), I.length >= A * 2)\n        break;\n    }\n    var w = {};\n    return w.keyhex = I.substr(0, p[f].keylen * 2), w.ivhex = I.substr(p[f].keylen * 2, p[f].ivlen * 2), w;\n  }, o = function(f, d, g, S) {\n    var b = K.enc.Base64.parse(f), D = K.enc.Hex.stringify(b), A = p[d].proc, I = A(D, g, S);\n    return I;\n  }, l = function(f, d, g, S) {\n    var b = p[d].eproc, D = b(f, g, S);\n    return D;\n  };\n  return { version: \"1.0.0\", parsePKCS5PEM: function(f) {\n    return y(f);\n  }, getKeyAndUnusedIvByPasscodeAndIvsalt: function(f, d, g) {\n    return v(f, d, g);\n  }, decryptKeyB64: function(f, d, g, S) {\n    return o(f, d, g, S);\n  }, getDecryptedKeyHex: function(f, d) {\n    var g = y(f), S = g.cipher, b = g.ivsalt, D = g.data, A = v(S, d, b), I = A.keyhex, m = o(D, S, I, b);\n    return m;\n  }, getEncryptedPKCS5PEMFromPrvKeyHex: function(f, d, g, S, b) {\n    var x = \"\";\n    if ((typeof S > \"u\" || S == null) && (S = \"AES-256-CBC\"), typeof p[S] > \"u\")\n      throw new Error(\"KEYUTIL unsupported algorithm: \" + S);\n    if (typeof b > \"u\" || b == null) {\n      var D = p[S].ivlen, A = c(D);\n      b = A.toUpperCase();\n    }\n    var I = v(S, g, b), m = I.keyhex, E = l(d, S, m, b), w = E.replace(/(.{64})/g, `$1\\r\n`), x = \"-----BEGIN \" + f + ` PRIVATE KEY-----\\r\n`;\n    return x += `Proc-Type: 4,ENCRYPTED\\r\n`, x += \"DEK-Info: \" + S + \",\" + b + `\\r\n`, x += `\\r\n`, x += w, x += `\\r\n-----END ` + f + ` PRIVATE KEY-----\\r\n`, x;\n  }, getEncryptedPKCS8PEM: function(f, d, g) {\n    var S = this.getEncryptedPKCS8Hex(f, d, g);\n    return de(S, \"ENCRYPTED PRIVATE KEY\");\n  }, getEncryptedPKCS8Hex: function(f, d, g) {\n    var S;\n    g == null || g == null ? S = {} : S = JSON.parse(JSON.stringify(g)), S.plain = f, this.initPBES2Param(S), this.encryptPBES2Param(S, d);\n    var b = this.generatePBES2ASN1Param(S);\n    return a.asn1.ASN1Util.newObject(b).tohex();\n  }, initPBES2Param: function(f) {\n    if (J(f, \"encalg\") == null && (f.encalg = \"aes256-CBC\"), J(f, \"iter\") == null && (f.iter = 2048), J(f, \"prf\") == null && (f.prf = \"hmacWithSHA256\"), J(f, \"salt\") == null && (f.salt = K.enc.Hex.stringify(K.lib.WordArray.random(8))), J(f, \"enciv\") == null) {\n      var d;\n      f.encalg == \"des-EDE3-CBC\" && (d = 8), f.encalg == \"aes128-CBC\" && (d = 16), f.encalg == \"aes256-CBC\" && (d = 16), f.enciv = K.enc.Hex.stringify(K.lib.WordArray.random(d));\n    }\n  }, encryptPBES2Param: function(f, d) {\n    var g = k.getDKFromPBES2Param(f, d);\n    try {\n      var S = a.crypto.Cipher.encrypt(f.plain, g, f.encalg, { iv: f.enciv });\n    } catch {\n      throw new Error(\"encrypt error: \" + f.plain + \" \" + g + \" \" + f.encalg + \" \" + f.enciv);\n    }\n    f.enc = S;\n  }, generatePBES2ASN1Param: function(f) {\n    var d = { seq: [{ seq: [{ oid: \"pkcs5PBES2\" }, { seq: [{ seq: [{ oid: \"pkcs5PBKDF2\" }, { seq: [{ octstr: { hex: f.salt } }, { int: { hex: xn(f.iter) } }] }] }, { seq: [{ oid: f.encalg }, { octstr: { hex: f.enciv } }] }] }] }, { octstr: { hex: f.enc } }] };\n    return f.prf != \"hmacWithSHA1\" && d.seq[0].seq[1].seq[0].seq[1].seq.push({ seq: [{ oid: f.prf }, { null: \"\" }] }), d;\n  }, parseHexOfEncryptedPKCS8: function(f) {\n    var d = V, g = d.getChildIdx, S = d.getV, b = {}, D = g(f, 0);\n    if (D.length != 2)\n      throw new Error(\"malformed format: SEQUENCE(0).items != 2: \" + D.length);\n    b.ciphertext = S(f, D[1]);\n    var A = g(f, D[0]);\n    if (A.length != 2)\n      throw new Error(\"malformed format: SEQUENCE(0.0).items != 2: \" + A.length);\n    if (S(f, A[0]) != \"2a864886f70d01050d\")\n      throw new Error(\"this only supports pkcs5PBES2\");\n    var I = g(f, A[1]);\n    if (A.length != 2)\n      throw new Error(\"malformed format: SEQUENCE(0.0.1).items != 2: \" + I.length);\n    var m = g(f, I[1]);\n    if (m.length != 2)\n      throw new Error(\"malformed format: SEQUENCE(0.0.1.1).items != 2: \" + m.length);\n    if (S(f, m[0]) != \"2a864886f70d0307\")\n      throw \"this only supports TripleDES\";\n    b.encryptionSchemeAlg = \"TripleDES\", b.encryptionSchemeIV = S(f, m[1]);\n    var E = g(f, I[0]);\n    if (E.length != 2)\n      throw new Error(\"malformed format: SEQUENCE(0.0.1.0).items != 2: \" + E.length);\n    if (S(f, E[0]) != \"2a864886f70d01050c\")\n      throw new Error(\"this only supports pkcs5PBKDF2\");\n    var w = g(f, E[1]);\n    if (w.length < 2)\n      throw new Error(\"malformed format: SEQUENCE(0.0.1.0.1).items < 2: \" + w.length);\n    b.pbkdf2Salt = S(f, w[0]);\n    var x = S(f, w[1]);\n    try {\n      b.pbkdf2Iter = parseInt(x, 16);\n    } catch {\n      throw new Error(\"malformed format pbkdf2Iter: \" + x);\n    }\n    return b;\n  }, getPBKDF2KeyHexFromParam: function(f, d) {\n    var g = K.enc.Hex.parse(f.pbkdf2Salt), S = f.pbkdf2Iter, b = K.PBKDF2(d, g, { keySize: 192 / 32, iterations: S }), D = K.enc.Hex.stringify(b);\n    return D;\n  }, _getPlainPKCS8HexFromEncryptedPKCS8PEM: function(f, d) {\n    var g = ie(f, \"ENCRYPTED PRIVATE KEY\"), S = this.parseHexOfEncryptedPKCS8(g), b = k.getPBKDF2KeyHexFromParam(S, d), D = {};\n    D.ciphertext = K.enc.Hex.parse(S.ciphertext);\n    var A = K.enc.Hex.parse(b), I = K.enc.Hex.parse(S.encryptionSchemeIV), m = K.TripleDES.decrypt(D, A, { iv: I }), E = K.enc.Hex.stringify(m);\n    return E;\n  }, parsePBES2: function(f) {\n    var d = V.parse(f);\n    if (J(d, \"seq.0.seq.0.oid\") != \"pkcs5PBES2\" || J(d, \"seq.0.seq.1.seq.0.seq.0.oid\") != \"pkcs5PBKDF2\")\n      throw new Error(\"not pkcs5PBES2 and pkcs5PBKDF2 used\");\n    var g = J(d, \"seq.0.seq.1.seq.0.seq.1.seq\");\n    if (g == null)\n      throw new Error(\"PBKDF2 parameter not found\");\n    var S = J(g, \"0.octstr.hex\"), b = J(g, \"1.int.hex\"), D = J(g, \"2.seq.0.oid\", \"hmacWithSHA1\"), A = -1;\n    try {\n      A = parseInt(b, 16);\n    } catch {\n      throw new Error(\"iter not proper value\");\n    }\n    var I = J(d, \"seq.0.seq.1.seq.1.seq.0.oid\"), m = J(d, \"seq.0.seq.1.seq.1.seq.1.octstr.hex\"), E = J(d, \"seq.1.octstr.hex\");\n    if (I == null || m == null || E == null)\n      throw new Error(\"encalg, enciv or enc is undefined\");\n    var w = { salt: S, iter: A, prf: D, encalg: I, enciv: m, enc: E };\n    return w;\n  }, getDKFromPBES2Param: function(f, d) {\n    var g = { hmacWithSHA1: K.algo.SHA1, hmacWithSHA224: K.algo.SHA224, hmacWithSHA256: K.algo.SHA256, hmacWithSHA384: K.algo.SHA384, hmacWithSHA512: K.algo.SHA512 }, S = { \"des-EDE3-CBC\": 192 / 32, \"aes128-CBC\": 128 / 32, \"aes256-CBC\": 256 / 32 }, b = g[f.prf];\n    if (b == null)\n      throw new Error(\"unsupported prf\");\n    var D = S[f.encalg];\n    if (D == null)\n      throw new Error(\"unsupported encalg\");\n    var A = K.enc.Hex.parse(f.salt), I = f.iter;\n    try {\n      var m = K.PBKDF2(d, A, { keySize: D, iterations: I, hasher: b });\n      return K.enc.Hex.stringify(m);\n    } catch (E) {\n      throw new Error(\"PBKDF2 error: \" + E + \" \" + JSON.stringify(f) + \" \" + d);\n    }\n  }, getPlainHexFromEncryptedPKCS8PEM: function(f, d) {\n    if (f.indexOf(\"BEGIN ENCRYPTED PRIVATE KEY\") == -1)\n      throw new Error(\"not Encrypted PKCS#8 PEM string\");\n    var g = ie(f), S;\n    try {\n      S = k.parsePBES2(g);\n    } catch (D) {\n      throw new Error(\"malformed PBES2 format: \" + D.message);\n    }\n    var b = k.getDKFromPBES2Param(S, d);\n    return a.crypto.Cipher.decrypt(S.enc, b, S.encalg, { iv: S.enciv });\n  }, getKeyFromEncryptedPKCS8PEM: function(f, d) {\n    var g = this.getPlainHexFromEncryptedPKCS8PEM(f, d), S = this.getKeyFromPlainPrivatePKCS8Hex(g);\n    return S;\n  }, parsePlainPrivatePKCS8Hex: function(f) {\n    var d = V, g = d.getChildIdx, S = d.getV, b = {};\n    if (b.algparam = null, f.substr(0, 2) != \"30\")\n      throw new Error(\"malformed plain PKCS8 private key(code:001)\");\n    var D = g(f, 0);\n    if (D.length < 3)\n      throw new Error(\"malformed plain PKCS8 private key(code:002)\");\n    if (f.substr(D[1], 2) != \"30\")\n      throw new Error(\"malformed PKCS8 private key(code:003)\");\n    var A = g(f, D[1]);\n    if (A.length != 2)\n      throw new Error(\"malformed PKCS8 private key(code:004)\");\n    if (f.substr(A[0], 2) != \"06\")\n      throw new Error(\"malformed PKCS8 private key(code:005)\");\n    if (b.algoid = S(f, A[0]), f.substr(A[1], 2) == \"06\" && (b.algparam = S(f, A[1])), f.substr(D[2], 2) != \"04\")\n      throw new Error(\"malformed PKCS8 private key(code:006)\");\n    return b.keyidx = d.getVidx(f, D[2]), b;\n  }, getKeyFromPlainPrivatePKCS8PEM: function(f) {\n    var d = ie(f, \"PRIVATE KEY\"), g = this.getKeyFromPlainPrivatePKCS8Hex(d);\n    return g;\n  }, getKeyFromPlainPrivatePKCS8Hex: function(f) {\n    var d = this.parsePlainPrivatePKCS8Hex(f), g;\n    if (d.algoid == \"2a864886f70d010101\")\n      g = new q();\n    else if (d.algoid == \"2a8648ce380401\")\n      g = new a.crypto.DSA();\n    else if (d.algoid == \"2a8648ce3d0201\")\n      g = new a.crypto.ECDSA();\n    else\n      throw new Error(\"unsupported private key algorithm\");\n    return g.readPKCS8PrvKeyHex(f), g;\n  }, _getKeyFromPublicPKCS8Hex: function(f) {\n    var d, g = V.getVbyList(f, 0, [0, 0], \"06\");\n    if (g === \"2a864886f70d010101\")\n      d = new q();\n    else if (g === \"2a8648ce380401\")\n      d = new a.crypto.DSA();\n    else if (g === \"2a8648ce3d0201\")\n      d = new a.crypto.ECDSA();\n    else\n      throw new Error(\"unsupported PKCS#8 public key hex\");\n    return d.readPKCS8PubKeyHex(f), d;\n  }, parsePublicRawRSAKeyHex: function(f) {\n    var d = V, g = d.getChildIdx, S = d.getV, b = {};\n    if (f.substr(0, 2) != \"30\")\n      throw new Error(\"malformed RSA key(code:001)\");\n    var D = g(f, 0);\n    if (D.length != 2)\n      throw new Error(\"malformed RSA key(code:002)\");\n    if (f.substr(D[0], 2) != \"02\")\n      throw new Error(\"malformed RSA key(code:003)\");\n    if (b.n = S(f, D[0]), f.substr(D[1], 2) != \"02\")\n      throw new Error(\"malformed RSA key(code:004)\");\n    return b.e = S(f, D[1]), b;\n  }, parsePublicPKCS8Hex: function(f) {\n    var d = V, g = d.getChildIdx, S = d.getV, b = {};\n    b.algparam = null;\n    var D = g(f, 0);\n    if (D.length != 2)\n      throw new Error(\"outer DERSequence shall have 2 elements: \" + D.length);\n    var A = D[0];\n    if (f.substr(A, 2) != \"30\")\n      throw new Error(\"malformed PKCS8 public key(code:001)\");\n    var I = g(f, A);\n    if (I.length != 2)\n      throw new Error(\"malformed PKCS8 public key(code:002)\");\n    if (f.substr(I[0], 2) != \"06\")\n      throw new Error(\"malformed PKCS8 public key(code:003)\");\n    if (b.algoid = S(f, I[0]), f.substr(I[1], 2) == \"06\" ? b.algparam = S(f, I[1]) : f.substr(I[1], 2) == \"30\" && (b.algparam = {}, b.algparam.p = d.getVbyList(f, I[1], [0], \"02\"), b.algparam.q = d.getVbyList(f, I[1], [1], \"02\"), b.algparam.g = d.getVbyList(f, I[1], [2], \"02\")), f.substr(D[1], 2) != \"03\")\n      throw new Error(\"malformed PKCS8 public key(code:004)\");\n    return b.key = S(f, D[1]).substr(2), b;\n  } };\n}();\nk.getKey = function(e, t, r) {\n  var i = V, s = i.getChildIdx;\n  i.getV;\n  var n = i.getVbyList, h = a.crypto, u = h.ECDSA, p = h.DSA, c = q, y = ie, v = k;\n  if (typeof c < \"u\" && e instanceof c || typeof u < \"u\" && e instanceof u || typeof p < \"u\" && e instanceof p)\n    return e;\n  if (e.curve !== void 0 && e.xy !== void 0 && e.d === void 0)\n    return new u({ pub: e.xy, curve: e.curve });\n  if (e.curve !== void 0 && e.d !== void 0)\n    return new u({ prv: e.d, curve: e.curve });\n  if (e.kty === void 0 && e.n !== void 0 && e.e !== void 0 && e.d === void 0) {\n    var o = new c();\n    return o.setPublic(e.n, e.e), o;\n  }\n  if (e.kty === void 0 && e.n !== void 0 && e.e !== void 0 && e.d !== void 0 && e.p !== void 0 && e.q !== void 0 && e.dp !== void 0 && e.dq !== void 0 && e.co !== void 0 && e.qi === void 0) {\n    var o = new c();\n    return o.setPrivateEx(e.n, e.e, e.d, e.p, e.q, e.dp, e.dq, e.co), o;\n  }\n  if (e.kty === void 0 && e.n !== void 0 && e.e !== void 0 && e.d !== void 0 && e.p === void 0) {\n    var o = new c();\n    return o.setPrivate(e.n, e.e, e.d), o;\n  }\n  if (e.p !== void 0 && e.q !== void 0 && e.g !== void 0 && e.y !== void 0 && e.x === void 0) {\n    var o = new p();\n    return o.setPublic(e.p, e.q, e.g, e.y), o;\n  }\n  if (e.p !== void 0 && e.q !== void 0 && e.g !== void 0 && e.y !== void 0 && e.x !== void 0) {\n    var o = new p();\n    return o.setPrivate(e.p, e.q, e.g, e.y, e.x), o;\n  }\n  if (e.kty === \"RSA\" && e.n !== void 0 && e.e !== void 0 && e.d === void 0) {\n    var o = new c();\n    return o.setPublic(Y(e.n), Y(e.e)), o;\n  }\n  if (e.kty === \"RSA\" && e.n !== void 0 && e.e !== void 0 && e.d !== void 0 && e.p !== void 0 && e.q !== void 0 && e.dp !== void 0 && e.dq !== void 0 && e.qi !== void 0) {\n    var o = new c();\n    return o.setPrivateEx(Y(e.n), Y(e.e), Y(e.d), Y(e.p), Y(e.q), Y(e.dp), Y(e.dq), Y(e.qi)), o;\n  }\n  if (e.kty === \"RSA\" && e.n !== void 0 && e.e !== void 0 && e.d !== void 0) {\n    var o = new c();\n    return o.setPrivate(Y(e.n), Y(e.e), Y(e.d)), o;\n  }\n  if (e.kty === \"EC\" && e.crv !== void 0 && e.x !== void 0 && e.y !== void 0 && e.d === void 0) {\n    var l = new u({ curve: e.crv }), f = l.ecparams.keycharlen, d = (\"0000000000\" + Y(e.x)).slice(-f), g = (\"0000000000\" + Y(e.y)).slice(-f), S = \"04\" + d + g;\n    return l.setPublicKeyHex(S), l;\n  }\n  if (e.kty === \"EC\" && e.crv !== void 0 && e.x !== void 0 && e.y !== void 0 && e.d !== void 0) {\n    var l = new u({ curve: e.crv }), f = l.ecparams.keycharlen, d = (\"0000000000\" + Y(e.x)).slice(-f), g = (\"0000000000\" + Y(e.y)).slice(-f), S = \"04\" + d + g, b = (\"0000000000\" + Y(e.d)).slice(-f);\n    return l.setPublicKeyHex(S), l.setPrivateKeyHex(b), l;\n  }\n  if (r === \"pkcs5prv\") {\n    var D = e, i = V, A, o;\n    if (A = s(D, 0), A.length === 9)\n      o = new c(), o.readPKCS5PrvKeyHex(D);\n    else if (A.length === 6)\n      o = new p(), o.readPKCS5PrvKeyHex(D);\n    else if (A.length > 2 && D.substr(A[1], 2) === \"04\")\n      o = new u(), o.readPKCS5PrvKeyHex(D);\n    else\n      throw new Error(\"unsupported PKCS#1/5 hexadecimal key\");\n    return o;\n  }\n  if (r === \"pkcs8prv\") {\n    var o = v.getKeyFromPlainPrivatePKCS8Hex(e);\n    return o;\n  }\n  if (r === \"pkcs8pub\")\n    return v._getKeyFromPublicPKCS8Hex(e);\n  if (r === \"x509pub\")\n    return L.getPublicKeyFromCertHex(e);\n  if (e.indexOf(\"-END CERTIFICATE-\", 0) != -1 || e.indexOf(\"-END X509 CERTIFICATE-\", 0) != -1 || e.indexOf(\"-END TRUSTED CERTIFICATE-\", 0) != -1)\n    return L.getPublicKeyFromCertPEM(e);\n  if (e.indexOf(\"-END PUBLIC KEY-\") != -1) {\n    var I = ie(e, \"PUBLIC KEY\");\n    return v._getKeyFromPublicPKCS8Hex(I);\n  }\n  if (e.indexOf(\"-END RSA PRIVATE KEY-\") != -1 && e.indexOf(\"4,ENCRYPTED\") == -1) {\n    var m = y(e, \"RSA PRIVATE KEY\");\n    return v.getKey(m, null, \"pkcs5prv\");\n  }\n  if (e.indexOf(\"-END DSA PRIVATE KEY-\") != -1 && e.indexOf(\"4,ENCRYPTED\") == -1) {\n    var E = y(e, \"DSA PRIVATE KEY\"), w = n(E, 0, [1], \"02\"), x = n(E, 0, [2], \"02\"), F = n(E, 0, [3], \"02\"), P = n(E, 0, [4], \"02\"), T = n(E, 0, [5], \"02\"), o = new p();\n    return o.setPrivate(new R(w, 16), new R(x, 16), new R(F, 16), new R(P, 16), new R(T, 16)), o;\n  }\n  if (e.indexOf(\"-END EC PRIVATE KEY-\") != -1 && e.indexOf(\"4,ENCRYPTED\") == -1) {\n    var m = y(e, \"EC PRIVATE KEY\");\n    return v.getKey(m, null, \"pkcs5prv\");\n  }\n  if (e.indexOf(\"-END PRIVATE KEY-\") != -1)\n    return v.getKeyFromPlainPrivatePKCS8PEM(e);\n  if (e.indexOf(\"-END RSA PRIVATE KEY-\") != -1 && e.indexOf(\"4,ENCRYPTED\") != -1) {\n    var H = v.getDecryptedKeyHex(e, t), C = new q();\n    return C.readPKCS5PrvKeyHex(H), C;\n  }\n  if (e.indexOf(\"-END EC PRIVATE KEY-\") != -1 && e.indexOf(\"4,ENCRYPTED\") != -1) {\n    var E = v.getDecryptedKeyHex(e, t), o = n(E, 0, [1], \"04\"), B = n(E, 0, [2, 0], \"06\"), O = n(E, 0, [3, 0], \"03\").substr(2), j = \"\";\n    if (a.crypto.OID.oidhex2name[B] !== void 0)\n      j = a.crypto.OID.oidhex2name[B];\n    else\n      throw new Error(\"undefined OID(hex) in KJUR.crypto.OID: \" + B);\n    var l = new u({ curve: j });\n    return l.setPublicKeyHex(O), l.setPrivateKeyHex(o), l.isPublic = !1, l;\n  }\n  if (e.indexOf(\"-END DSA PRIVATE KEY-\") != -1 && e.indexOf(\"4,ENCRYPTED\") != -1) {\n    var E = v.getDecryptedKeyHex(e, t), w = n(E, 0, [1], \"02\"), x = n(E, 0, [2], \"02\"), F = n(E, 0, [3], \"02\"), P = n(E, 0, [4], \"02\"), T = n(E, 0, [5], \"02\"), o = new p();\n    return o.setPrivate(new R(w, 16), new R(x, 16), new R(F, 16), new R(P, 16), new R(T, 16)), o;\n  }\n  if (e.indexOf(\"-END ENCRYPTED PRIVATE KEY-\") != -1)\n    return v.getKeyFromEncryptedPKCS8PEM(e, t);\n  throw new Error(\"not supported argument\");\n};\nk.generateKeypair = function(e, t) {\n  if (e == \"RSA\") {\n    var r = t, i = new q();\n    i.generate(r, \"10001\"), i.isPrivate = !0, i.isPublic = !0;\n    var s = new q(), n = i.n.toString(16), h = i.e.toString(16);\n    s.setPublic(n, h), s.isPrivate = !1, s.isPublic = !0;\n    var u = {};\n    return u.prvKeyObj = i, u.pubKeyObj = s, u;\n  } else if (e == \"EC\") {\n    var p = t, c = new a.crypto.ECDSA({ curve: p }), y = c.generateKeyPairHex(), i = new a.crypto.ECDSA({ curve: p });\n    i.setPublicKeyHex(y.ecpubhex), i.setPrivateKeyHex(y.ecprvhex), i.isPrivate = !0, i.isPublic = !1;\n    var s = new a.crypto.ECDSA({ curve: p });\n    s.setPublicKeyHex(y.ecpubhex), s.isPrivate = !1, s.isPublic = !0;\n    var u = {};\n    return u.prvKeyObj = i, u.pubKeyObj = s, u;\n  } else\n    throw new Error(\"unknown algorithm: \" + e);\n};\nk.getPEM = function(e, t, r, i, s, n) {\n  var h = a, u = h.asn1, p = u.DERObjectIdentifier, c = u.DERInteger, y = u.ASN1Util.newObject, v = u.x509, o = v.SubjectPublicKeyInfo, l = h.crypto, f = l.DSA, d = l.ECDSA, g = q;\n  function S(B) {\n    var O = y({ seq: [{ int: 0 }, { int: { bigint: B.n } }, { int: B.e }, { int: { bigint: B.d } }, { int: { bigint: B.p } }, { int: { bigint: B.q } }, { int: { bigint: B.dmp1 } }, { int: { bigint: B.dmq1 } }, { int: { bigint: B.coeff } }] });\n    return O;\n  }\n  function b(B) {\n    var O = y({ seq: [{ int: 1 }, { octstr: { hex: B.prvKeyHex } }, { tag: [\"a0\", !0, { oid: { name: B.curveName } }] }, { tag: [\"a1\", !0, { bitstr: { hex: \"00\" + B.pubKeyHex } }] }] });\n    return O;\n  }\n  function D(B) {\n    var O = y({ seq: [{ int: 0 }, { int: { bigint: B.p } }, { int: { bigint: B.q } }, { int: { bigint: B.g } }, { int: { bigint: B.y } }, { int: { bigint: B.x } }] });\n    return O;\n  }\n  if ((g !== void 0 && e instanceof g || f !== void 0 && e instanceof f || d !== void 0 && e instanceof d) && e.isPublic == !0 && (t === void 0 || t == \"PKCS8PUB\")) {\n    var A = new o(e), I = A.tohex();\n    return de(I, \"PUBLIC KEY\");\n  }\n  if (t == \"PKCS1PRV\" && g !== void 0 && e instanceof g && (r === void 0 || r == null) && e.isPrivate == !0) {\n    var A = S(e), I = A.tohex();\n    return de(I, \"RSA PRIVATE KEY\");\n  }\n  if (t == \"PKCS1PRV\" && d !== void 0 && e instanceof d && (r === void 0 || r == null) && e.isPrivate == !0) {\n    var m = new p({ name: e.curveName }), E = m.tohex(), w = b(e), x = w.tohex(), F = \"\";\n    return F += de(E, \"EC PARAMETERS\"), F += de(x, \"EC PRIVATE KEY\"), F;\n  }\n  if (t == \"PKCS1PRV\" && f !== void 0 && e instanceof f && (r === void 0 || r == null) && e.isPrivate == !0) {\n    var A = D(e), I = A.tohex();\n    return de(I, \"DSA PRIVATE KEY\");\n  }\n  if (t == \"PKCS5PRV\" && g !== void 0 && e instanceof g && r !== void 0 && r != null && e.isPrivate == !0) {\n    var A = S(e), I = A.tohex();\n    return i === void 0 && (i = \"DES-EDE3-CBC\"), this.getEncryptedPKCS5PEMFromPrvKeyHex(\"RSA\", I, r, i, n);\n  }\n  if (t == \"PKCS5PRV\" && d !== void 0 && e instanceof d && r !== void 0 && r != null && e.isPrivate == !0) {\n    var A = b(e), I = A.tohex();\n    return i === void 0 && (i = \"DES-EDE3-CBC\"), this.getEncryptedPKCS5PEMFromPrvKeyHex(\"EC\", I, r, i, n);\n  }\n  if (t == \"PKCS5PRV\" && f !== void 0 && e instanceof f && r !== void 0 && r != null && e.isPrivate == !0) {\n    var A = D(e), I = A.tohex();\n    return i === void 0 && (i = \"DES-EDE3-CBC\"), this.getEncryptedPKCS5PEMFromPrvKeyHex(\"DSA\", I, r, i, n);\n  }\n  var P = function(B, O) {\n    if (typeof O == \"string\")\n      return k.getEncryptedPKCS8PEM(B, O);\n    if (typeof O == \"object\" && J(O, \"passcode\") != null) {\n      var j = JSON.parse(JSON.stringify(O)), fe = j.passcode;\n      return delete j.passcode, k.getEncryptedPKCS8PEM(B, fe, j);\n    }\n  };\n  if (t == \"PKCS8PRV\" && g != null && e instanceof g && e.isPrivate == !0) {\n    var T = S(e), H = T.tohex(), A = y({ seq: [{ int: 0 }, { seq: [{ oid: { name: \"rsaEncryption\" } }, { null: !0 }] }, { octstr: { hex: H } }] }), I = A.tohex();\n    return r === void 0 || r == null ? de(I, \"PRIVATE KEY\") : P(I, r);\n  }\n  if (t == \"PKCS8PRV\" && d !== void 0 && e instanceof d && e.isPrivate == !0) {\n    var C = { seq: [{ int: 1 }, { octstr: { hex: e.prvKeyHex } }] };\n    typeof e.pubKeyHex == \"string\" && C.seq.push({ tag: [\"a1\", !0, { bitstr: { hex: \"00\" + e.pubKeyHex } }] });\n    var T = new y(C), H = T.tohex(), A = y({ seq: [{ int: 0 }, { seq: [{ oid: { name: \"ecPublicKey\" } }, { oid: { name: e.curveName } }] }, { octstr: { hex: H } }] }), I = A.tohex();\n    return r === void 0 || r == null ? de(I, \"PRIVATE KEY\") : P(I, r);\n  }\n  if (t == \"PKCS8PRV\" && f !== void 0 && e instanceof f && e.isPrivate == !0) {\n    var T = new c({ bigint: e.x }), H = T.tohex(), A = y({ seq: [{ int: 0 }, { seq: [{ oid: { name: \"dsa\" } }, { seq: [{ int: { bigint: e.p } }, { int: { bigint: e.q } }, { int: { bigint: e.g } }] }] }, { octstr: { hex: H } }] }), I = A.tohex();\n    return r === void 0 || r == null ? de(I, \"PRIVATE KEY\") : P(I, r);\n  }\n  throw new Error(\"unsupported object nor format\");\n};\nk.getKeyFromCSRPEM = function(e) {\n  var t = ie(e, \"CERTIFICATE REQUEST\"), r = k.getKeyFromCSRHex(t);\n  return r;\n};\nk.getKeyFromCSRHex = function(e) {\n  var t = k.parseCSRHex(e), r = k.getKey(t.p8pubkeyhex, null, \"pkcs8pub\");\n  return r;\n};\nk.parseCSRHex = function(e) {\n  var t = V, r = t.getChildIdx, i = t.getTLV, s = {}, n = e;\n  if (n.substr(0, 2) != \"30\")\n    throw new Error(\"malformed CSR(code:001)\");\n  var h = r(n, 0);\n  if (h.length < 1)\n    throw new Error(\"malformed CSR(code:002)\");\n  if (n.substr(h[0], 2) != \"30\")\n    throw new Error(\"malformed CSR(code:003)\");\n  var u = r(n, h[0]);\n  if (u.length < 3)\n    throw new Error(\"malformed CSR(code:004)\");\n  return s.p8pubkeyhex = i(n, u[2]), s;\n};\nk.getKeyID = function(e) {\n  var t = k, r = V;\n  typeof e == \"string\" && e.indexOf(\"BEGIN \") != -1 && (e = t.getKey(e));\n  var i = ie(t.getPEM(e)), s = r.getIdxbyList(i, 0, [1]), n = r.getV(i, s).substring(2);\n  return a.crypto.Util.hashHex(n, \"sha1\");\n};\nk.getJWK = function(e, t, r, i, s) {\n  var n, h = {}, u, p = a.crypto.Util.hashHex;\n  if (typeof e == \"string\")\n    n = k.getKey(e), e.indexOf(\"CERTIFICATE\") != -1 && (u = ie(e));\n  else if (typeof e == \"object\")\n    e instanceof L ? (n = e.getPublicKey(), u = e.hex) : n = e;\n  else\n    throw new Error(\"unsupported keyinfo type\");\n  if (n instanceof q && n.isPrivate)\n    h.kty = \"RSA\", h.n = ae(n.n.toString(16)), h.e = ae(n.e.toString(16)), h.d = ae(n.d.toString(16)), h.p = ae(n.p.toString(16)), h.q = ae(n.q.toString(16)), h.dp = ae(n.dmp1.toString(16)), h.dq = ae(n.dmq1.toString(16)), h.qi = ae(n.coeff.toString(16));\n  else if (n instanceof q && n.isPublic)\n    h.kty = \"RSA\", h.n = ae(n.n.toString(16)), h.e = ae(n.e.toString(16));\n  else if (n instanceof a.crypto.ECDSA && n.isPrivate) {\n    var c = n.getShortNISTPCurveName();\n    if (c !== \"P-256\" && c !== \"P-384\" && c !== \"P-521\")\n      throw new Error(\"unsupported curve name for JWT: \" + c);\n    var y = n.getPublicKeyXYHex();\n    h.kty = \"EC\", h.crv = c, h.x = ae(y.x), h.y = ae(y.y), h.d = ae(n.prvKeyHex);\n  } else if (n instanceof a.crypto.ECDSA && n.isPublic) {\n    var c = n.getShortNISTPCurveName();\n    if (c !== \"P-256\" && c !== \"P-384\" && c !== \"P-521\")\n      throw new Error(\"unsupported curve name for JWT: \" + c);\n    var y = n.getPublicKeyXYHex();\n    h.kty = \"EC\", h.crv = c, h.x = ae(y.x), h.y = ae(y.y);\n  }\n  if (h.kty == null)\n    throw new Error(\"unsupported keyinfo\");\n  return !n.isPrivate && t != !0 && (h.kid = a.jws.JWS.getJWKthumbprint(h)), u != null && r != !0 && (h.x5c = [_e(u)]), u != null && i != !0 && (h.x5t = Xe(_e(p(u, \"sha1\")))), u != null && s != !0 && (h[\"x5t#S256\"] = Xe(_e(p(u, \"sha256\")))), h;\n};\nk.getJWKFromKey = function(e) {\n  return k.getJWK(e, !0, !0, !0, !0);\n};\nq.getPosArrayOfChildrenFromHex = function(e) {\n  return V.getChildIdx(e, 0);\n};\nq.getHexValueArrayOfChildrenFromHex = function(e) {\n  var t = V, r = t.getV, o = q.getPosArrayOfChildrenFromHex(e), i = r(e, o[0]), s = r(e, o[1]), n = r(e, o[2]), h = r(e, o[3]), u = r(e, o[4]), p = r(e, o[5]), c = r(e, o[6]), y = r(e, o[7]), v = r(e, o[8]), o = new Array();\n  return o.push(i, s, n, h, u, p, c, y, v), o;\n};\nq.prototype.readPrivateKeyFromPEMString = function(e) {\n  var t = ie(e), r = q.getHexValueArrayOfChildrenFromHex(t);\n  this.setPrivateEx(r[1], r[2], r[3], r[4], r[5], r[6], r[7], r[8]);\n};\nq.prototype.readPKCS5PrvKeyHex = function(e) {\n  var t = q.getHexValueArrayOfChildrenFromHex(e);\n  this.setPrivateEx(t[1], t[2], t[3], t[4], t[5], t[6], t[7], t[8]);\n};\nq.prototype.readPKCS8PrvKeyHex = function(e) {\n  var t, r, i, s, n, h, u, p, c = V, y = c.getVbyListEx;\n  if (c.isASN1HEX(e) === !1)\n    throw new Error(\"not ASN.1 hex string\");\n  try {\n    t = y(e, 0, [2, 0, 1], \"02\"), r = y(e, 0, [2, 0, 2], \"02\"), i = y(e, 0, [2, 0, 3], \"02\"), s = y(e, 0, [2, 0, 4], \"02\"), n = y(e, 0, [2, 0, 5], \"02\"), h = y(e, 0, [2, 0, 6], \"02\"), u = y(e, 0, [2, 0, 7], \"02\"), p = y(e, 0, [2, 0, 8], \"02\");\n  } catch {\n    throw new Error(\"malformed PKCS#8 plain RSA private key\");\n  }\n  this.setPrivateEx(t, r, i, s, n, h, u, p);\n};\nq.prototype.readPKCS5PubKeyHex = function(e) {\n  var t = V, r = t.getV;\n  if (t.isASN1HEX(e) === !1)\n    throw new Error(\"keyHex is not ASN.1 hex string\");\n  var i = t.getChildIdx(e, 0);\n  if (i.length !== 2 || e.substr(i[0], 2) !== \"02\" || e.substr(i[1], 2) !== \"02\")\n    throw new Error(\"wrong hex for PKCS#5 public key\");\n  var s = r(e, i[0]), n = r(e, i[1]);\n  this.setPublic(s, n);\n};\nq.prototype.readPKCS8PubKeyHex = function(e) {\n  var t = V;\n  if (t.isASN1HEX(e) === !1)\n    throw new Error(\"not ASN.1 hex string\");\n  if (t.getTLVbyListEx(e, 0, [0, 0]) !== \"06092a864886f70d010101\")\n    throw new Error(\"not PKCS8 RSA public key\");\n  var r = t.getTLVbyListEx(e, 0, [1, 0]);\n  this.readPKCS5PubKeyHex(r);\n};\nq.prototype.readCertPubKeyHex = function(e, t) {\n  var r, i;\n  r = new L(), r.readCertHex(e), i = r.getPublicKeyHex(), this.readPKCS8PubKeyHex(i);\n};\nfunction Ot(e, t) {\n  for (var r = \"\", i = t / 4 - e.length, s = 0; s < i; s++)\n    r = r + \"0\";\n  return r + e;\n}\nq.prototype.sign = function(e, t) {\n  var r = function(s) {\n    return a.crypto.Util.hashString(s, t);\n  }, i = r(e);\n  return this.signWithMessageHash(i, t);\n};\nq.prototype.signWithMessageHash = function(e, t) {\n  var r = a.crypto.Util.getPaddedDigestInfoHex(e, t, this.n.bitLength()), i = ve(r, 16), s = this.doPrivate(i), n = s.toString(16);\n  return Ot(n, this.n.bitLength());\n};\nfunction jt(e, t, r) {\n  for (var i = \"\", s = 0; i.length < t; )\n    i += Ae(r(Pe(e + String.fromCharCode.apply(String, [(s & 4278190080) >> 24, (s & 16711680) >> 16, (s & 65280) >> 8, s & 255])))), s += 1;\n  return i;\n}\nq.prototype.signPSS = function(e, t, r) {\n  var i = function(n) {\n    return a.crypto.Util.hashHex(n, t);\n  }, s = i(Pe(e));\n  return r === void 0 && (r = -1), this.signWithMessageHashPSS(s, t, r);\n};\nq.prototype.signWithMessageHashPSS = function(e, t, r) {\n  var i = Ae(e), s = i.length, n = this.n.bitLength() - 1, h = Math.ceil(n / 8), u, p = function(g) {\n    return a.crypto.Util.hashHex(g, t);\n  };\n  if (r === -1 || r === void 0)\n    r = s;\n  else if (r === -2)\n    r = h - s - 2;\n  else if (r < -2)\n    throw new Error(\"invalid salt length\");\n  if (h < s + r + 2)\n    throw new Error(\"data too long\");\n  var c = \"\";\n  r > 0 && (c = new Array(r), new Ge().nextBytes(c), c = String.fromCharCode.apply(String, c));\n  var y = Ae(p(Pe(\"\\0\\0\\0\\0\\0\\0\\0\\0\" + i + c))), v = [];\n  for (u = 0; u < h - r - s - 2; u += 1)\n    v[u] = 0;\n  var o = String.fromCharCode.apply(String, v) + \"\u0001\" + c, l = jt(y, o.length, p), f = [];\n  for (u = 0; u < o.length; u += 1)\n    f[u] = o.charCodeAt(u) ^ l.charCodeAt(u);\n  var d = 65280 >> 8 * h - n & 255;\n  for (f[0] &= ~d, u = 0; u < s; u++)\n    f.push(y.charCodeAt(u));\n  return f.push(188), Ot(this.doPrivate(new R(f)).toString(16), this.n.bitLength());\n};\nfunction Vt(e) {\n  for (var t in a.crypto.Util.DIGESTINFOHEAD) {\n    var r = a.crypto.Util.DIGESTINFOHEAD[t], i = r.length;\n    if (e.substring(0, i) == r) {\n      var s = [t, e.substring(i)];\n      return s;\n    }\n  }\n  return [];\n}\nq.prototype.verify = function(e, t) {\n  if (t = t.toLowerCase(), t.match(/^[0-9a-f]+$/) == null)\n    return !1;\n  var r = ve(t, 16), i = this.n.bitLength();\n  if (r.bitLength() > i)\n    return !1;\n  var s = this.doPublic(r), n = s.toString(16);\n  if (n.length + 3 != i / 4)\n    return !1;\n  var h = n.replace(/^1f+00/, \"\"), u = Vt(h);\n  if (u.length == 0)\n    return !1;\n  var p = u[0], c = u[1], y = function(o) {\n    return a.crypto.Util.hashString(o, p);\n  }, v = y(e);\n  return c == v;\n};\nq.prototype.verifyWithMessageHash = function(e, t) {\n  if (t.length != Math.ceil(this.n.bitLength() / 4))\n    return !1;\n  var r = ve(t, 16);\n  if (r.bitLength() > this.n.bitLength())\n    return 0;\n  var i = this.doPublic(r), s = i.toString(16).replace(/^1f+00/, \"\"), n = Vt(s);\n  if (n.length == 0)\n    return !1;\n  n[0];\n  var h = n[1];\n  return h == e;\n};\nq.prototype.verifyPSS = function(e, t, r, i) {\n  var s = function(h) {\n    return a.crypto.Util.hashHex(h, r);\n  }, n = s(Pe(e));\n  return i === void 0 && (i = -1), this.verifyWithMessageHashPSS(n, t, r, i);\n};\nq.prototype.verifyWithMessageHashPSS = function(e, t, r, i) {\n  if (t.length != Math.ceil(this.n.bitLength() / 4))\n    return !1;\n  var s = new R(t, 16), n = function(b) {\n    return a.crypto.Util.hashHex(b, r);\n  }, h = Ae(e), u = h.length, p = this.n.bitLength() - 1, c = Math.ceil(p / 8), y;\n  if (i === -1 || i === void 0)\n    i = u;\n  else if (i === -2)\n    i = c - u - 2;\n  else if (i < -2)\n    throw new Error(\"invalid salt length\");\n  if (c < u + i + 2)\n    throw new Error(\"data too long\");\n  var v = this.doPublic(s).toByteArray();\n  for (y = 0; y < v.length; y += 1)\n    v[y] &= 255;\n  for (; v.length < c; )\n    v.unshift(0);\n  if (v[c - 1] !== 188)\n    throw new Error(\"encoded message does not end in 0xbc\");\n  v = String.fromCharCode.apply(String, v);\n  var o = v.substr(0, c - u - 1), l = v.substr(o.length, u), f = 65280 >> 8 * c - p & 255;\n  if (o.charCodeAt(0) & f)\n    throw new Error(\"bits beyond keysize not zero\");\n  var d = jt(l, o.length, n), g = [];\n  for (y = 0; y < o.length; y += 1)\n    g[y] = o.charCodeAt(y) ^ d.charCodeAt(y);\n  g[0] &= ~f;\n  var S = c - u - i - 2;\n  for (y = 0; y < S; y += 1)\n    if (g[y] !== 0)\n      throw new Error(\"leftmost octets not zero\");\n  if (g[S] !== 1)\n    throw new Error(\"0x01 marker not found\");\n  return l === Ae(n(Pe(\"\\0\\0\\0\\0\\0\\0\\0\\0\" + h + String.fromCharCode.apply(String, g.slice(-i)))));\n};\nq.SALT_LEN_HLEN = -1;\nq.SALT_LEN_MAX = -2;\nq.SALT_LEN_RECOVER = -2;\nfunction L(e) {\n  var t = V, r = t.getChildIdx, i = t.getV;\n  t.dump;\n  var s = t.parse, n = t.getTLV, h = t.getVbyList, u = t.getVbyListEx, p = t.getTLVbyList, c = t.getTLVbyListEx, y = t.getIdxbyList, v = t.getIdxbyListEx, o = t.getVidx, l = t.getInt, f = t.oidname, d = t.hextooidstr, g = ie, S, b = Error;\n  try {\n    S = a.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV;\n  } catch {\n  }\n  this.HEX2STAG = { \"0c\": \"utf8\", 13: \"prn\", 16: \"ia5\", \"1a\": \"vis\", \"1e\": \"bmp\" }, this.hex = null, this.version = 0, this.foffset = 0, this.aExtInfo = null, this.getVersion = function() {\n    if (this.hex === null || this.version !== 0)\n      return this.version;\n    var m = p(this.hex, 0, [0, 0]);\n    if (m.substr(0, 2) == \"a0\") {\n      var E = p(m, 0, [0]), w = l(E, 0);\n      if (w < 0 || 2 < w)\n        throw new Error(\"malformed version field\");\n      return this.version = w + 1, this.version;\n    } else\n      return this.version = 1, this.foffset = -1, 1;\n  }, this.getSerialNumberHex = function() {\n    return u(this.hex, 0, [0, 0], \"02\");\n  }, this.getSignatureAlgorithmField = function() {\n    var m = c(this.hex, 0, [0, 1]);\n    return this.getAlgorithmIdentifierName(m);\n  }, this.getAlgorithmIdentifierName = function(m) {\n    for (var E in S)\n      if (m === S[E])\n        return E;\n    return f(u(m, 0, [0], \"06\"));\n  }, this.getIssuer = function(m, E) {\n    return this.getX500Name(this.getIssuerHex(), m, E);\n  }, this.getIssuerHex = function() {\n    return p(this.hex, 0, [0, 3 + this.foffset], \"30\");\n  }, this.getIssuerString = function() {\n    var m = this.getIssuer();\n    return m.str;\n  }, this.getSubject = function(m, E) {\n    return this.getX500Name(this.getSubjectHex(), m, E);\n  }, this.getSubjectHex = function() {\n    return p(this.hex, 0, [0, 5 + this.foffset], \"30\");\n  }, this.getSubjectString = function() {\n    var m = this.getSubject();\n    return m.str;\n  }, this.getNotBefore = function() {\n    var m = h(this.hex, 0, [0, 4 + this.foffset, 0]);\n    return m = m.replace(/(..)/g, \"%$1\"), m = decodeURIComponent(m), m;\n  }, this.getNotAfter = function() {\n    var m = h(this.hex, 0, [0, 4 + this.foffset, 1]);\n    return m = m.replace(/(..)/g, \"%$1\"), m = decodeURIComponent(m), m;\n  }, this.getPublicKeyHex = function() {\n    return this.getSPKI();\n  }, this.getSPKI = function() {\n    return p(this.hex, 0, [0, 6 + this.foffset], \"30\");\n  }, this.getSPKIValue = function() {\n    var m = this.getSPKI();\n    return m == null ? null : h(m, 0, [1], \"03\", !0);\n  }, this.getPublicKeyIdx = function() {\n    return y(this.hex, 0, [0, 6 + this.foffset], \"30\");\n  }, this.getPublicKeyContentIdx = function() {\n    var m = this.getPublicKeyIdx();\n    return y(this.hex, m, [1, 0], \"30\");\n  }, this.getPublicKey = function() {\n    return k.getKey(this.getPublicKeyHex(), null, \"pkcs8pub\");\n  }, this.getSignatureAlgorithmName = function() {\n    var m = p(this.hex, 0, [1], \"30\");\n    return this.getAlgorithmIdentifierName(m);\n  }, this.getSignatureValueHex = function() {\n    return h(this.hex, 0, [2], \"03\", !0);\n  }, this.verifySignature = function(m) {\n    var E = this.getSignatureAlgorithmField(), w = this.getSignatureValueHex(), x = p(this.hex, 0, [0], \"30\"), F = new a.crypto.Signature({ alg: E });\n    return F.init(m), F.updateHex(x), F.verify(w);\n  }, this.parseExt = function(m) {\n    var E, w, x;\n    if (m === void 0) {\n      if (x = this.hex, this.version !== 3)\n        return -1;\n      E = y(x, 0, [0, 7, 0], \"30\"), w = r(x, E);\n    } else {\n      x = ie(m);\n      var F = y(x, 0, [0, 3, 0, 0], \"06\");\n      if (i(x, F) != \"2a864886f70d01090e\") {\n        this.aExtInfo = new Array();\n        return;\n      }\n      E = y(x, 0, [0, 3, 0, 1, 0], \"30\"), w = r(x, E), this.hex = x;\n    }\n    this.aExtInfo = new Array();\n    for (var P = 0; P < w.length; P++) {\n      var T = {};\n      T.critical = !1;\n      var H = r(x, w[P]), C = 0;\n      H.length === 3 && (T.critical = !0, C = 1), T.oid = t.hextooidstr(h(x, w[P], [0], \"06\"));\n      var B = y(x, w[P], [1 + C]);\n      T.vidx = o(x, B), this.aExtInfo.push(T);\n    }\n  }, this.getExtInfo = function(m) {\n    var E = this.aExtInfo, w = m;\n    if (m.match(/^[0-9.]+$/) || (w = a.asn1.x509.OID.name2oid(m)), w !== \"\") {\n      for (var x = 0; x < E.length; x++)\n        if (E[x].oid === w)\n          return E[x];\n    }\n  }, this.getCriticalExtV = function(m, E, w) {\n    if (E != null)\n      return [E, w];\n    var x = this.getExtInfo(m);\n    return x == null ? [null, null] : [n(this.hex, x.vidx), x.critical];\n  }, this.getExtBasicConstraints = function(m, E) {\n    if (m === void 0 && E === void 0) {\n      var w = this.getExtInfo(\"basicConstraints\");\n      if (w === void 0)\n        return;\n      m = n(this.hex, w.vidx), E = w.critical;\n    }\n    var x = { extname: \"basicConstraints\" };\n    if (E && (x.critical = !0), m === \"3000\")\n      return x;\n    if (m === \"30030101ff\")\n      return x.cA = !0, x;\n    if (m.substr(0, 12) === \"30060101ff02\") {\n      var F = i(m, 10), P = parseInt(F, 16);\n      return x.cA = !0, x.pathLen = P, x;\n    }\n    throw new Error(\"hExtV parse error: \" + m);\n  }, this.getExtNameConstraints = function(m, E) {\n    var w = this.getCriticalExtV(\"nameConstraints\", m, E);\n    if (m = w[0], E = w[1], m != null) {\n      var x = { extname: \"nameConstraints\" };\n      E && (x.critical = !0);\n      for (var F = r(m, 0), P = 0; P < F.length; P++) {\n        for (var T = [], H = r(m, F[P]), C = 0; C < H.length; C++) {\n          var B = n(m, H[C]), O = this.getGeneralSubtree(B);\n          T.push(O);\n        }\n        var j = m.substr(F[P], 2);\n        j == \"a0\" ? x.permit = T : j == \"a1\" && (x.exclude = T);\n      }\n      return x;\n    }\n  }, this.getGeneralSubtree = function(m) {\n    var E = r(m, 0), w = E.length;\n    if (w < 1 || 2 < w)\n      throw new Error(\"wrong num elements\");\n    for (var x = this.getGeneralName(n(m, E[0])), F = 1; F < w; F++) {\n      var P = m.substr(E[F], 2), T = i(m, E[F]), H = parseInt(T, 16);\n      P == \"80\" && (x.min = H), P == \"81\" && (x.max = H);\n    }\n    return x;\n  }, this.getExtKeyUsage = function(m, E) {\n    var w = this.getCriticalExtV(\"keyUsage\", m, E);\n    if (m = w[0], E = w[1], m != null) {\n      var x = { extname: \"keyUsage\" };\n      return E && (x.critical = !0), x.names = this.getExtKeyUsageString(m).split(\",\"), x;\n    }\n  }, this.getExtKeyUsageBin = function(m) {\n    if (m === void 0) {\n      var E = this.getExtInfo(\"keyUsage\");\n      if (E === void 0)\n        return \"\";\n      m = n(this.hex, E.vidx);\n    }\n    if (m.length != 8 && m.length != 10)\n      throw new Error(\"malformed key usage value: \" + m);\n    var w = \"000000000000000\" + parseInt(m.substr(6), 16).toString(2);\n    return m.length == 8 && (w = w.slice(-8)), m.length == 10 && (w = w.slice(-16)), w = w.replace(/0+$/, \"\"), w == \"\" && (w = \"0\"), w;\n  }, this.getExtKeyUsageString = function(m) {\n    for (var E = this.getExtKeyUsageBin(m), w = new Array(), x = 0; x < E.length; x++)\n      E.substr(x, 1) == \"1\" && w.push(L.KEYUSAGE_NAME[x]);\n    return w.join(\",\");\n  }, this.getExtSubjectKeyIdentifier = function(m, E) {\n    if (m === void 0 && E === void 0) {\n      var w = this.getExtInfo(\"subjectKeyIdentifier\");\n      if (w === void 0)\n        return;\n      m = n(this.hex, w.vidx), E = w.critical;\n    }\n    var x = { extname: \"subjectKeyIdentifier\" };\n    E && (x.critical = !0);\n    var F = i(m, 0);\n    return x.kid = { hex: F }, x;\n  }, this.getExtAuthorityKeyIdentifier = function(m, E) {\n    if (m === void 0 && E === void 0) {\n      var w = this.getExtInfo(\"authorityKeyIdentifier\");\n      if (w === void 0)\n        return;\n      m = n(this.hex, w.vidx), E = w.critical;\n    }\n    var x = { extname: \"authorityKeyIdentifier\" };\n    E && (x.critical = !0);\n    for (var F = r(m, 0), P = 0; P < F.length; P++) {\n      var T = m.substr(F[P], 2);\n      if (T === \"80\" && (x.kid = { hex: i(m, F[P]) }), T === \"a1\") {\n        var H = n(m, F[P]), C = this.getGeneralNames(H);\n        x.issuer = C[0].dn;\n      }\n      T === \"82\" && (x.sn = { hex: i(m, F[P]) });\n    }\n    return x;\n  }, this.getExtExtKeyUsage = function(m, E) {\n    if (m === void 0 && E === void 0) {\n      var w = this.getExtInfo(\"extKeyUsage\");\n      if (w === void 0)\n        return;\n      m = n(this.hex, w.vidx), E = w.critical;\n    }\n    var x = { extname: \"extKeyUsage\", array: [] };\n    E && (x.critical = !0);\n    for (var F = r(m, 0), P = 0; P < F.length; P++)\n      x.array.push(f(i(m, F[P])));\n    return x;\n  }, this.getExtExtKeyUsageName = function() {\n    var m = this.getExtInfo(\"extKeyUsage\");\n    if (m === void 0)\n      return m;\n    var E = new Array(), w = n(this.hex, m.vidx);\n    if (w === \"\")\n      return E;\n    for (var x = r(w, 0), F = 0; F < x.length; F++)\n      E.push(f(i(w, x[F])));\n    return E;\n  }, this.getExtSubjectAltName = function(m, E) {\n    if (m === void 0 && E === void 0) {\n      var w = this.getExtInfo(\"subjectAltName\");\n      if (w === void 0)\n        return;\n      m = n(this.hex, w.vidx), E = w.critical;\n    }\n    var x = { extname: \"subjectAltName\", array: [] };\n    return E && (x.critical = !0), x.array = this.getGeneralNames(m), x;\n  }, this.getExtIssuerAltName = function(m, E) {\n    if (m === void 0 && E === void 0) {\n      var w = this.getExtInfo(\"issuerAltName\");\n      if (w === void 0)\n        return;\n      m = n(this.hex, w.vidx), E = w.critical;\n    }\n    var x = { extname: \"issuerAltName\", array: [] };\n    return E && (x.critical = !0), x.array = this.getGeneralNames(m), x;\n  }, this.getGeneralNames = function(m) {\n    for (var E = r(m, 0), w = [], x = 0; x < E.length; x++) {\n      var F = this.getGeneralName(n(m, E[x]));\n      F !== void 0 && w.push(F);\n    }\n    return w;\n  }, this.getGeneralName = function(m) {\n    var E = m.substr(0, 2), w = i(m, 0), x = Ae(w);\n    if (E == \"81\")\n      return { rfc822: x };\n    if (E == \"82\")\n      return { dns: x };\n    if (E == \"86\")\n      return { uri: x };\n    if (E == \"87\")\n      return { ip: tt(w) };\n    if (E == \"a4\")\n      return { dn: this.getX500Name(w) };\n    if (E == \"a0\")\n      return { other: this.getOtherName(m) };\n  }, this.getExtSubjectAltName2 = function() {\n    var m, E, w, x = this.getExtInfo(\"subjectAltName\");\n    if (x === void 0)\n      return x;\n    for (var F = new Array(), P = n(this.hex, x.vidx), T = r(P, 0), H = 0; H < T.length; H++)\n      w = P.substr(T[H], 2), m = i(P, T[H]), w === \"81\" && (E = W(m), F.push([\"MAIL\", E])), w === \"82\" && (E = W(m), F.push([\"DNS\", E])), w === \"84\" && (E = L.hex2dn(m, 0), F.push([\"DN\", E])), w === \"86\" && (E = W(m), F.push([\"URI\", E])), w === \"87\" && (E = tt(m), F.push([\"IP\", E]));\n    return F;\n  }, this.getExtCRLDistributionPoints = function(m, E) {\n    if (m === void 0 && E === void 0) {\n      var w = this.getExtInfo(\"cRLDistributionPoints\");\n      if (w === void 0)\n        return;\n      m = n(this.hex, w.vidx), E = w.critical;\n    }\n    var x = { extname: \"cRLDistributionPoints\", array: [] };\n    E && (x.critical = !0);\n    for (var F = r(m, 0), P = 0; P < F.length; P++) {\n      var T = n(m, F[P]);\n      x.array.push(this.getDistributionPoint(T));\n    }\n    return x;\n  }, this.getDistributionPoint = function(m) {\n    for (var E = {}, w = r(m, 0), x = 0; x < w.length; x++) {\n      var F = m.substr(w[x], 2), P = n(m, w[x]);\n      F == \"a0\" && (E.dpname = this.getDistributionPointName(P));\n    }\n    return E;\n  }, this.getDistributionPointName = function(m) {\n    for (var E = {}, w = r(m, 0), x = 0; x < w.length; x++) {\n      var F = m.substr(w[x], 2), P = n(m, w[x]);\n      F == \"a0\" && (E.full = this.getGeneralNames(P));\n    }\n    return E;\n  }, this.getExtCRLDistributionPointsURI = function() {\n    var m = this.getExtCRLDistributionPoints();\n    if (m == null)\n      return m;\n    for (var E = m.array, w = [], x = 0; x < E.length; x++)\n      try {\n        E[x].dpname.full[0].uri != null && w.push(E[x].dpname.full[0].uri);\n      } catch {\n      }\n    return w;\n  }, this.getExtAIAInfo = function() {\n    var m = this.getExtInfo(\"authorityInfoAccess\");\n    if (m === void 0)\n      return m;\n    for (var E = { ocsp: [], caissuer: [] }, w = r(this.hex, m.vidx), x = 0; x < w.length; x++) {\n      var F = h(this.hex, w[x], [0], \"06\"), P = h(this.hex, w[x], [1], \"86\");\n      F === \"2b06010505073001\" && E.ocsp.push(W(P)), F === \"2b06010505073002\" && E.caissuer.push(W(P));\n    }\n    return E;\n  }, this.getExtAuthorityInfoAccess = function(m, E) {\n    if (m === void 0 && E === void 0) {\n      var w = this.getExtInfo(\"authorityInfoAccess\");\n      if (w === void 0)\n        return;\n      m = n(this.hex, w.vidx), E = w.critical;\n    }\n    var x = { extname: \"authorityInfoAccess\", array: [] };\n    E && (x.critical = !0);\n    for (var F = r(m, 0), P = 0; P < F.length; P++) {\n      var T = u(m, F[P], [0], \"06\"), H = h(m, F[P], [1], \"86\"), C = W(H);\n      if (T == \"2b06010505073001\")\n        x.array.push({ ocsp: C });\n      else if (T == \"2b06010505073002\")\n        x.array.push({ caissuer: C });\n      else\n        throw new Error(\"unknown method: \" + T);\n    }\n    return x;\n  }, this.getExtCertificatePolicies = function(m, E) {\n    if (m === void 0 && E === void 0) {\n      var w = this.getExtInfo(\"certificatePolicies\");\n      if (w === void 0)\n        return;\n      m = n(this.hex, w.vidx), E = w.critical;\n    }\n    var x = { extname: \"certificatePolicies\", array: [] };\n    E && (x.critical = !0);\n    for (var F = r(m, 0), P = 0; P < F.length; P++) {\n      var T = n(m, F[P]), H = this.getPolicyInformation(T);\n      x.array.push(H);\n    }\n    return x;\n  }, this.getPolicyInformation = function(m) {\n    var E = {}, w = h(m, 0, [0], \"06\");\n    E.policyoid = f(w);\n    var x = v(m, 0, [1], \"30\");\n    if (x != -1) {\n      E.array = [];\n      for (var F = r(m, x), P = 0; P < F.length; P++) {\n        var T = n(m, F[P]), H = this.getPolicyQualifierInfo(T);\n        E.array.push(H);\n      }\n    }\n    return E;\n  }, this.getOtherName = function(m) {\n    var E = {}, w = r(m, 0), x = h(m, w[0], [], \"06\"), F = h(m, w[1], []);\n    return E.oid = f(x), E.value = s(F), E;\n  }, this.getPolicyQualifierInfo = function(m) {\n    var E = {}, w = h(m, 0, [0], \"06\");\n    if (w === \"2b06010505070201\") {\n      var x = u(m, 0, [1], \"16\");\n      E.cps = Ae(x);\n    } else if (w === \"2b06010505070202\") {\n      var F = p(m, 0, [1], \"30\");\n      E.unotice = this.getUserNotice(F);\n    }\n    return E;\n  }, this.getUserNotice = function(m) {\n    var E = null;\n    try {\n      E = t.parse(m);\n      var w = this._asn1ToUnotice(E);\n      return w;\n    } catch {\n      return;\n    }\n  }, this._asn1ToUnotice = function(m) {\n    try {\n      for (var E = {}, w = J(m, \"seq\"), x = 0; x < w.length; x++) {\n        var F = this._asn1ToNoticeRef(w[x]);\n        F != null && (E.noticeref = F);\n        var P = this.asn1ToDisplayText(w[x]);\n        P != null && (E.exptext = P);\n      }\n      return Object.keys(E).length > 0 ? E : void 0;\n    } catch {\n      return;\n    }\n  }, this._asn1ToNoticeRef = function(m) {\n    try {\n      for (var E = {}, w = J(m, \"seq\"), x = 0; x < w.length; x++) {\n        var F = this._asn1ToNoticeNum(w[x]);\n        F != null && (E.noticenum = F);\n        var P = this.asn1ToDisplayText(w[x]);\n        P != null && (E.org = P);\n      }\n      return Object.keys(E).length > 0 ? E : void 0;\n    } catch {\n      return;\n    }\n  }, this._asn1ToNoticeNum = function(m) {\n    try {\n      for (var E = J(m, \"seq\"), w = [], x = 0; x < E.length; x++) {\n        var F = E[x];\n        w.push(parseInt(J(F, \"int.hex\"), 16));\n      }\n      return w;\n    } catch {\n      return;\n    }\n  }, this.getDisplayText = function(m) {\n    var E = { \"0c\": \"utf8\", 16: \"ia5\", \"1a\": \"vis\", \"1e\": \"bmp\" }, w = {};\n    return w.type = E[m.substr(0, 2)], w.str = Ae(i(m, 0)), w;\n  }, this.asn1ToDisplayText = function(m) {\n    if (m.utf8str != null)\n      return { type: \"utf8\", str: m.utf8str.str };\n    if (m.ia5str != null)\n      return { type: \"ia5\", str: m.ia5str.str };\n    if (m.visstr != null)\n      return { type: \"vis\", str: m.visstr.str };\n    if (m.bmpstr != null)\n      return { type: \"bmp\", str: m.bmpstr.str };\n    if (m.prnstr != null)\n      return { type: \"prn\", str: m.prnstr.str };\n  }, this.getExtPolicyMappings = function(m, E) {\n    var w = this.getCriticalExtV(\"policyMappings\", m, E);\n    if (m = w[0], E = w[1], m != null) {\n      var x = { extname: \"policyMappings\" };\n      E && (x.critical = !0);\n      try {\n        for (var F = s(m), P = F.seq, T = [], H = 0; H < P.length; H++) {\n          var C = P[H].seq;\n          T.push([C[0].oid, C[1].oid]);\n        }\n        x.array = T;\n      } catch {\n        throw new b(\"malformed policyMappings\");\n      }\n      return x;\n    }\n  }, this.getExtPolicyConstraints = function(m, E) {\n    var w = this.getCriticalExtV(\"policyConstraints\", m, E);\n    if (m = w[0], E = w[1], m != null) {\n      var x = { extname: \"policyConstraints\" };\n      E && (x.critical = !0);\n      var F = s(m);\n      try {\n        for (var P = F.seq, T = 0; T < P.length; T++) {\n          var H = P[T].tag;\n          H.explicit == !1 && (H.tag == \"80\" && (x.reqexp = parseInt(H.hex, 16)), H.tag == \"81\" && (x.inhibit = parseInt(H.hex, 16)));\n        }\n      } catch {\n        return new b(\"malformed policyConstraints value\");\n      }\n      return x;\n    }\n  }, this.getExtInhibitAnyPolicy = function(m, E) {\n    var w = this.getCriticalExtV(\"inhibitAnyPolicy\", m, E);\n    if (m = w[0], E = w[1], m != null) {\n      var x = { extname: \"inhibitAnyPolicy\" };\n      E && (x.critical = !0);\n      var F = l(m, 0);\n      return F == -1 ? new b(\"wrong value\") : (x.skip = F, x);\n    }\n  }, this.getExtCRLNumber = function(m, E) {\n    var w = { extname: \"cRLNumber\" };\n    if (E && (w.critical = !0), m.substr(0, 2) == \"02\")\n      return w.num = { hex: i(m, 0) }, w;\n    throw new b(\"hExtV parse error: \" + m);\n  }, this.getExtCRLReason = function(m, E) {\n    var w = { extname: \"cRLReason\" };\n    if (E && (w.critical = !0), m.substr(0, 2) == \"0a\")\n      return w.code = parseInt(i(m, 0), 16), w;\n    throw new Error(\"hExtV parse error: \" + m);\n  }, this.getExtOcspNonce = function(m, E) {\n    var w = { extname: \"ocspNonce\" };\n    E && (w.critical = !0);\n    var x = i(m, 0);\n    return w.hex = x, w;\n  }, this.getExtOcspNoCheck = function(m, E) {\n    var w = { extname: \"ocspNoCheck\" };\n    return E && (w.critical = !0), w;\n  }, this.getExtAdobeTimeStamp = function(m, E) {\n    if (m === void 0 && E === void 0) {\n      var w = this.getExtInfo(\"adobeTimeStamp\");\n      if (w === void 0)\n        return;\n      m = n(this.hex, w.vidx), E = w.critical;\n    }\n    var x = { extname: \"adobeTimeStamp\" };\n    E && (x.critical = !0);\n    var F = r(m, 0);\n    if (F.length > 1) {\n      var P = n(m, F[1]), T = this.getGeneralName(P);\n      T.uri != null && (x.uri = T.uri);\n    }\n    if (F.length > 2) {\n      var H = n(m, F[2]);\n      H == \"0101ff\" && (x.reqauth = !0), H == \"010100\" && (x.reqauth = !1);\n    }\n    return x;\n  }, this.getExtSubjectDirectoryAttributes = function(m, E) {\n    if (m === void 0 && E === void 0) {\n      var w = this.getExtInfo(\"subjectDirectoryAttributes\");\n      if (w === void 0)\n        return;\n      m = n(this.hex, w.vidx), E = w.critical;\n    }\n    var x = { extname: \"subjectDirectoryAttributes\" };\n    E && (x.critical = !0);\n    try {\n      for (var F = s(m), P = [], T = 0; T < F.seq.length; T++) {\n        var H = F.seq[T], C = J(H, \"seq.0.oid\"), B = J(H, \"seq.1.set\");\n        if (C == null || B == null)\n          throw \"error\";\n        P.push({ attr: C, array: B });\n      }\n      return x.array = P, x;\n    } catch {\n      throw new Error(\"malformed subjectDirectoryAttributes extension value\");\n    }\n  };\n  var D = function(m) {\n    var E = {};\n    try {\n      var w = m.seq[0].oid, x = a.asn1.x509.OID.name2oid(w);\n      E.type = a.asn1.x509.OID.oid2atype(x);\n      var F = m.seq[1];\n      if (F.utf8str != null)\n        E.ds = \"utf8\", E.value = F.utf8str.str;\n      else if (F.numstr != null)\n        E.ds = \"num\", E.value = F.numstr.str;\n      else if (F.telstr != null)\n        E.ds = \"tel\", E.value = F.telstr.str;\n      else if (F.prnstr != null)\n        E.ds = \"prn\", E.value = F.prnstr.str;\n      else if (F.ia5str != null)\n        E.ds = \"ia5\", E.value = F.ia5str.str;\n      else if (F.visstr != null)\n        E.ds = \"vis\", E.value = F.visstr.str;\n      else if (F.bmpstr != null)\n        E.ds = \"bmp\", E.value = F.bmpstr.str;\n      else\n        throw \"error\";\n      return E;\n    } catch {\n      throw new Erorr(\"improper ASN.1 parsed AttrTypeAndValue\");\n    }\n  }, A = function(m) {\n    try {\n      return m.set.map(function(E) {\n        return D(E);\n      });\n    } catch (E) {\n      throw new Error(\"improper ASN.1 parsed RDN: \" + E);\n    }\n  }, I = function(m) {\n    try {\n      return m.seq.map(function(E) {\n        return A(E);\n      });\n    } catch (E) {\n      throw new Error(\"improper ASN.1 parsed X500Name: \" + E);\n    }\n  };\n  this.getX500NameRule = function(m) {\n    for (var E = null, w = [], x = 0; x < m.length; x++)\n      for (var F = m[x], P = 0; P < F.length; P++)\n        w.push(F[P]);\n    for (var x = 0; x < w.length; x++) {\n      var T = w[x], H = T.ds, C = T.value, B = T.type;\n      if (H != \"prn\" && H != \"utf8\" && H != \"ia5\")\n        return \"mixed\";\n      if (H == \"ia5\") {\n        if (B != \"CN\")\n          return \"mixed\";\n        if (a.lang.String.isMail(C))\n          continue;\n        return \"mixed\";\n      }\n      if (B == \"C\") {\n        if (H == \"prn\")\n          continue;\n        return \"mixed\";\n      }\n      if (E == null)\n        E = H;\n      else if (E !== H)\n        return \"mixed\";\n    }\n    return E ?? \"prn\";\n  }, this.getAttrTypeAndValue = function(m) {\n    var E = s(m);\n    return D(E);\n  }, this.getRDN = function(m) {\n    var E = s(m);\n    return A(E);\n  }, this.getX500NameArray = function(m) {\n    var E = s(m);\n    return I(E);\n  }, this.getX500Name = function(m, E, w) {\n    var x = this.getX500NameArray(m), F = this.dnarraytostr(x), P = { str: F };\n    return P.array = x, w == !0 && (P.hex = m), E == !0 && (P.canon = this.c14nRDNArray(x)), P;\n  }, this.readCertPEM = function(m) {\n    this.readCertHex(g(m));\n  }, this.readCertHex = function(m) {\n    this.hex = m, this.getVersion();\n    try {\n      y(this.hex, 0, [0, 7], \"a3\"), this.parseExt();\n    } catch {\n    }\n  }, this.getParam = function(m) {\n    var E = {};\n    return m == null && (m = {}), E.version = this.getVersion(), E.serial = { hex: this.getSerialNumberHex() }, E.sigalg = this.getSignatureAlgorithmField(), E.issuer = this.getIssuer(m.dncanon, m.dnhex), E.notbefore = this.getNotBefore(), E.notafter = this.getNotAfter(), E.subject = this.getSubject(m.dncanon, m.dnhex), E.sbjpubkey = de(this.getPublicKeyHex(), \"PUBLIC KEY\"), this.aExtInfo != null && this.aExtInfo.length > 0 && (E.ext = this.getExtParamArray()), E.sighex = this.getSignatureValueHex(), m.tbshex == !0 && (E.tbshex = p(this.hex, 0, [0])), m.nodnarray == !0 && (delete E.issuer.array, delete E.subject.array), E;\n  }, this.getExtParamArray = function(m) {\n    if (m == null) {\n      var E = v(this.hex, 0, [0, \"[3]\"]);\n      E != -1 && (m = c(this.hex, 0, [0, \"[3]\", 0], \"30\"));\n    }\n    for (var w = [], x = r(m, 0), F = 0; F < x.length; F++) {\n      var P = n(m, x[F]), T = this.getExtParam(P);\n      T != null && w.push(T);\n    }\n    return w;\n  }, this.getExtParam = function(m) {\n    var E = r(m, 0), w = E.length;\n    if (w != 2 && w != 3)\n      throw new Error(\"wrong number elements in Extension: \" + w + \" \" + m);\n    var x = d(h(m, 0, [0], \"06\")), F = !1;\n    w == 3 && p(m, 0, [1]) == \"0101ff\" && (F = !0);\n    var P = p(m, 0, [w - 1, 0]), T = void 0;\n    if (x == \"2.5.29.14\" ? T = this.getExtSubjectKeyIdentifier(P, F) : x == \"2.5.29.15\" ? T = this.getExtKeyUsage(P, F) : x == \"2.5.29.17\" ? T = this.getExtSubjectAltName(P, F) : x == \"2.5.29.18\" ? T = this.getExtIssuerAltName(P, F) : x == \"2.5.29.19\" ? T = this.getExtBasicConstraints(P, F) : x == \"2.5.29.30\" ? T = this.getExtNameConstraints(P, F) : x == \"2.5.29.31\" ? T = this.getExtCRLDistributionPoints(P, F) : x == \"2.5.29.32\" ? T = this.getExtCertificatePolicies(P, F) : x == \"2.5.29.33\" ? T = this.getExtPolicyMappings(P, F) : x == \"2.5.29.35\" ? T = this.getExtAuthorityKeyIdentifier(P, F) : x == \"2.5.29.36\" ? T = this.getExtPolicyConstraints(P, F) : x == \"2.5.29.37\" ? T = this.getExtExtKeyUsage(P, F) : x == \"2.5.29.54\" ? T = this.getExtInhibitAnyPolicy(P, F) : x == \"1.3.6.1.5.5.7.1.1\" ? T = this.getExtAuthorityInfoAccess(P, F) : x == \"2.5.29.20\" ? T = this.getExtCRLNumber(P, F) : x == \"2.5.29.21\" ? T = this.getExtCRLReason(P, F) : x == \"2.5.29.9\" ? T = this.getExtSubjectDirectoryAttributes(P, F) : x == \"1.3.6.1.5.5.7.48.1.2\" ? T = this.getExtOcspNonce(P, F) : x == \"1.3.6.1.5.5.7.48.1.5\" ? T = this.getExtOcspNoCheck(P, F) : x == \"1.2.840.113583.1.1.9.1\" ? T = this.getExtAdobeTimeStamp(P, F) : L.EXT_PARSER[x] != null && (T = L.EXT_PARSER[x](x, F, P)), T != null)\n      return T;\n    var H = { extname: x, extn: P };\n    try {\n      H.extn = s(P);\n    } catch {\n    }\n    return F && (H.critical = !0), H;\n  }, this.findExt = function(m, E) {\n    for (var w = 0; w < m.length; w++)\n      if (m[w].extname == E)\n        return m[w];\n    return null;\n  }, this.updateExtCDPFullURI = function(m, E) {\n    var w = this.findExt(m, \"cRLDistributionPoints\");\n    if (w != null && w.array != null) {\n      for (var x = w.array, F = 0; F < x.length; F++)\n        if (x[F].dpname != null && x[F].dpname.full != null)\n          for (var P = x[F].dpname.full, T = 0; T < P.length; T++) {\n            var H = P[F];\n            H.uri != null && (H.uri = E);\n          }\n    }\n  }, this.updateExtAIAOCSP = function(m, E) {\n    var w = this.findExt(m, \"authorityInfoAccess\");\n    if (w != null && w.array != null)\n      for (var x = w.array, F = 0; F < x.length; F++)\n        x[F].ocsp != null && (x[F].ocsp = E);\n  }, this.updateExtAIACAIssuer = function(m, E) {\n    var w = this.findExt(m, \"authorityInfoAccess\");\n    if (w != null && w.array != null)\n      for (var x = w.array, F = 0; F < x.length; F++)\n        x[F].caissuer != null && (x[F].caissuer = E);\n  }, this.dnarraytostr = function(m) {\n    function E(x) {\n      return x.map(function(F) {\n        return w(F).replace(/\\+/, \"\\\\+\");\n      }).join(\"+\");\n    }\n    function w(x) {\n      return x.type + \"=\" + x.value;\n    }\n    return \"/\" + m.map(function(x) {\n      return E(x).replace(/\\//, \"\\\\/\");\n    }).join(\"/\");\n  }, this.setCanonicalizedDN = function(m) {\n    var E;\n    if (m.str != null && m.array == null) {\n      var w = new a.asn1.x509.X500Name({ str: m.str }), x = w.tohex();\n      E = this.getX500NameArray(x);\n    } else\n      E = m.array;\n    m.canon == null && (m.canon = this.c14nRDNArray(E));\n  }, this.c14nRDNArray = function(m) {\n    for (var E = [], w = 0; w < m.length; w++) {\n      for (var x = m[w], F = [], P = 0; P < x.length; P++) {\n        var T = x[P], H = T.value;\n        H = H.replace(/^\\s*/, \"\"), H = H.replace(/\\s*$/, \"\"), H = H.replace(/\\s+/g, \" \"), H = H.toLowerCase(), F.push(T.type.toLowerCase() + \"=\" + H);\n      }\n      E.push(F.join(\"+\"));\n    }\n    return \"/\" + E.join(\"/\");\n  }, this.getInfo = function() {\n    var m = function(ce) {\n      for (var M = \"\", G = \"    \", Q = `\n`, ee = ce.array, pe = 0; pe < ee.length; pe++) {\n        var te = ee[pe];\n        if (te.dn != null && (M += G + \"dn: \" + te.dn.str + Q), te.ip != null && (M += G + \"ip: \" + te.ip + Q), te.rfc822 != null && (M += G + \"rfc822: \" + te.rfc822 + Q), te.dns != null && (M += G + \"dns: \" + te.dns + Q), te.uri != null && (M += G + \"uri: \" + te.uri + Q), te.other != null) {\n          var Me = te.other.oid, Ne = JSON.stringify(te.other.value).replace(/\\\"/g, \"\");\n          M += G + \"other: \" + Me + \"=\" + Ne + Q;\n        }\n      }\n      return M = M.replace(/\\n$/, \"\"), M;\n    }, E = function(ce) {\n      for (var M = \"\", G = ce.array, Q = 0; Q < G.length; Q++) {\n        var ee = G[Q];\n        if (M += \"    policy oid: \" + ee.policyoid + `\n`, ee.array !== void 0)\n          for (var pe = 0; pe < ee.array.length; pe++) {\n            var te = ee.array[pe];\n            te.cps !== void 0 && (M += \"    cps: \" + te.cps + `\n`);\n          }\n      }\n      return M;\n    }, w = function(ce) {\n      for (var M = \"\", G = ce.array, Q = 0; Q < G.length; Q++) {\n        var ee = G[Q];\n        try {\n          ee.dpname.full[0].uri !== void 0 && (M += \"    \" + ee.dpname.full[0].uri + `\n`);\n        } catch {\n        }\n        try {\n          ee.dname.full[0].dn.hex !== void 0 && (M += \"    \" + L.hex2dn(ee.dpname.full[0].dn.hex) + `\n`);\n        } catch {\n        }\n      }\n      return M;\n    }, x = function(ce) {\n      for (var M = \"\", G = ce.array, Q = 0; Q < G.length; Q++) {\n        var ee = G[Q];\n        ee.caissuer !== void 0 && (M += \"    caissuer: \" + ee.caissuer + `\n`), ee.ocsp !== void 0 && (M += \"    ocsp: \" + ee.ocsp + `\n`);\n      }\n      return M;\n    }, F, P, T;\n    if (F = `Basic Fields\n`, F += \"  serial number: \" + this.getSerialNumberHex() + `\n`, F += \"  signature algorithm: \" + this.getSignatureAlgorithmField() + `\n`, F += \"  issuer: \" + this.getIssuerString() + `\n`, F += \"  notBefore: \" + this.getNotBefore() + `\n`, F += \"  notAfter: \" + this.getNotAfter() + `\n`, F += \"  subject: \" + this.getSubjectString() + `\n`, F += `  subject public key info: \n`, P = this.getPublicKey(), F += \"    key algorithm: \" + P.type + `\n`, P.type === \"RSA\" && (F += \"    n=\" + xt(P.n.toString(16)).substr(0, 16) + `...\n`, F += \"    e=\" + xt(P.e.toString(16)) + `\n`), T = this.aExtInfo, T != null) {\n      F += `X509v3 Extensions:\n`;\n      for (var H = 0; H < T.length; H++) {\n        var C = T[H], B = a.asn1.x509.OID.oid2name(C.oid);\n        B === \"\" && (B = C.oid);\n        var O = \"\";\n        if (C.critical === !0 && (O = \"CRITICAL\"), F += \"  \" + B + \" \" + O + `:\n`, B === \"basicConstraints\") {\n          var j = this.getExtBasicConstraints();\n          j.cA === void 0 ? F += `    {}\n` : (F += \"    cA=true\", j.pathLen !== void 0 && (F += \", pathLen=\" + j.pathLen), F += `\n`);\n        } else if (B == \"policyMappings\") {\n          var fe = this.getExtPolicyMappings().array, Z = fe.map(function(ce) {\n            var M = ce;\n            return M[0] + \":\" + M[1];\n          }).join(\", \");\n          F += \"    \" + Z + `\n`;\n        } else if (B == \"policyConstraints\") {\n          var X = this.getExtPolicyConstraints();\n          F += \"    \", X.reqexp != null && (F += \" reqexp=\" + X.reqexp), X.inhibit != null && (F += \" inhibit=\" + X.inhibit), F += `\n`;\n        } else if (B == \"inhibitAnyPolicy\") {\n          var X = this.getExtInhibitAnyPolicy();\n          F += \"    skip=\" + X.skip + `\n`;\n        } else if (B == \"keyUsage\")\n          F += \"    \" + this.getExtKeyUsageString() + `\n`;\n        else if (B == \"subjectKeyIdentifier\")\n          F += \"    \" + this.getExtSubjectKeyIdentifier().kid.hex + `\n`;\n        else if (B == \"authorityKeyIdentifier\") {\n          var re = this.getExtAuthorityKeyIdentifier();\n          re.kid !== void 0 && (F += \"    kid=\" + re.kid.hex + `\n`);\n        } else if (B == \"extKeyUsage\") {\n          var ne = this.getExtExtKeyUsage().array;\n          F += \"    \" + ne.join(\", \") + `\n`;\n        } else if (B == \"subjectAltName\") {\n          var he = m(this.getExtSubjectAltName());\n          F += he + `\n`;\n        } else if (B == \"cRLDistributionPoints\") {\n          var se = this.getExtCRLDistributionPoints();\n          F += w(se);\n        } else if (B == \"authorityInfoAccess\") {\n          var ke = this.getExtAuthorityInfoAccess();\n          F += x(ke);\n        } else\n          B == \"certificatePolicies\" && (F += E(this.getExtCertificatePolicies()));\n      }\n    }\n    return F += \"signature algorithm: \" + this.getSignatureAlgorithmName() + `\n`, F += \"signature: \" + this.getSignatureValueHex().substr(0, 16) + `...\n`, F;\n  }, typeof e == \"string\" && (e.indexOf(\"-----BEGIN\") != -1 ? this.readCertPEM(e) : a.lang.String.isHex(e) && this.readCertHex(e));\n}\nL.EXT_PARSER = {};\nL.registExtParser = function(e, t) {\n  L.EXT_PARSER[e] = t;\n};\nL.hex2dn = function(e, t) {\n  t === void 0 && (t = 0);\n  var r = new L();\n  V.getTLV(e, t);\n  var i = r.getX500Name(e);\n  return i.str;\n};\nL.hex2rdn = function(e, t) {\n  if (t === void 0 && (t = 0), e.substr(t, 2) !== \"31\")\n    throw new Error(\"malformed RDN\");\n  for (var r = new Array(), i = V.getChildIdx(e, t), s = 0; s < i.length; s++)\n    r.push(L.hex2attrTypeValue(e, i[s]));\n  return r = r.map(function(n) {\n    return n.replace(\"+\", \"\\\\+\");\n  }), r.join(\"+\");\n};\nL.hex2attrTypeValue = function(e, t) {\n  var r = V, i = r.getV;\n  if (t === void 0 && (t = 0), e.substr(t, 2) !== \"30\")\n    throw new Error(\"malformed attribute type and value\");\n  var s = r.getChildIdx(e, t);\n  s.length !== 2 || e.substr(s[0], 2);\n  var n = i(e, s[0]), h = a.asn1.ASN1Util.oidHexToInt(n), u = a.asn1.x509.OID.oid2atype(h), p = i(e, s[1]), c = Ae(p);\n  return u + \"=\" + c;\n};\nL.getPublicKeyFromCertHex = function(e) {\n  var t = new L();\n  return t.readCertHex(e), t.getPublicKey();\n};\nL.getPublicKeyFromCertPEM = function(e) {\n  var t = new L();\n  return t.readCertPEM(e), t.getPublicKey();\n};\nL.getPublicKeyInfoPropOfCertPEM = function(e) {\n  var t = V, r = t.getVbyList, i = {}, s, n;\n  return i.algparam = null, s = new L(), s.readCertPEM(e), n = s.getPublicKeyHex(), i.keyhex = r(n, 0, [1], \"03\").substr(2), i.algoid = r(n, 0, [0, 0], \"06\"), i.algoid === \"2a8648ce3d0201\" && (i.algparam = r(n, 0, [0, 1], \"06\")), i;\n};\nL.KEYUSAGE_NAME = [\"digitalSignature\", \"nonRepudiation\", \"keyEncipherment\", \"dataEncipherment\", \"keyAgreement\", \"keyCertSign\", \"cRLSign\", \"encipherOnly\", \"decipherOnly\"];\n(typeof a > \"u\" || !a) && (a = {});\n(typeof a.jws > \"u\" || !a.jws) && (a.jws = {});\na.jws.JWS = function() {\n  var e = a, t = e.jws.JWS, r = t.isSafeJSONString;\n  this.parseJWS = function(i, s) {\n    if (!(this.parsedJWS !== void 0 && (s || this.parsedJWS.sigvalH !== void 0))) {\n      var n = i.match(/^([^.]+)\\.([^.]+)\\.([^.]+)$/);\n      if (n == null)\n        throw \"JWS signature is not a form of 'Head.Payload.SigValue'.\";\n      var h = n[1], u = n[2], p = n[3], c = h + \".\" + u;\n      if (this.parsedJWS = {}, this.parsedJWS.headB64U = h, this.parsedJWS.payloadB64U = u, this.parsedJWS.sigvalB64U = p, this.parsedJWS.si = c, !s) {\n        var y = Y(p), v = ve(y, 16);\n        this.parsedJWS.sigvalH = y, this.parsedJWS.sigvalBI = v;\n      }\n      var o = we(h), l = we(u);\n      if (this.parsedJWS.headS = o, this.parsedJWS.payloadS = l, !r(o, this.parsedJWS, \"headP\"))\n        throw \"malformed JSON string for JWS Head: \" + o;\n    }\n  };\n};\na.jws.JWS.sign = function(e, t, r, i, s) {\n  var n = a, h = n.jws, u = h.JWS, p = u.readSafeJSONString, c = u.isSafeJSONString, y = n.crypto;\n  y.ECDSA;\n  var v = y.Mac, o = y.Signature, l = JSON, f, d, g;\n  if (typeof t != \"string\" && typeof t != \"object\")\n    throw \"spHeader must be JSON string or object: \" + t;\n  if (typeof t == \"object\" && (d = t, f = l.stringify(d)), typeof t == \"string\") {\n    if (f = t, !c(f))\n      throw \"JWS Head is not safe JSON string: \" + f;\n    d = p(f);\n  }\n  if (g = r, typeof r == \"object\" && (g = l.stringify(r)), (e == \"\" || e == null) && d.alg !== void 0 && (e = d.alg), e != \"\" && e != null && d.alg === void 0 && (d.alg = e, f = l.stringify(d)), e !== d.alg)\n    throw \"alg and sHeader.alg doesn't match: \" + e + \"!=\" + d.alg;\n  var S = null;\n  if (u.jwsalg2sigalg[e] === void 0)\n    throw \"unsupported alg name: \" + e;\n  S = u.jwsalg2sigalg[e];\n  var b = Je(f), D = Je(g), A = b + \".\" + D, I = \"\";\n  if (S.substr(0, 4) == \"Hmac\") {\n    if (i === void 0)\n      throw \"mac key shall be specified for HS* alg\";\n    var m = new v({ alg: S, prov: \"cryptojs\", pass: i });\n    m.updateString(A), I = m.doFinal();\n  } else if (S.indexOf(\"withECDSA\") != -1) {\n    var E = new o({ alg: S });\n    E.init(i, s), E.updateString(A);\n    var w = E.sign();\n    I = a.crypto.ECDSA.asn1SigToConcatSig(w);\n  } else if (S != \"none\") {\n    var E = new o({ alg: S });\n    E.init(i, s), E.updateString(A), I = E.sign();\n  }\n  var x = ae(I);\n  return A + \".\" + x;\n};\na.jws.JWS.verify = function(e, t, r) {\n  var i = a, s = i.jws, n = s.JWS, h = n.readSafeJSONString, u = i.crypto, p = u.ECDSA, c = u.Mac, y = u.Signature, v;\n  if (typeof q !== void 0 && (v = q), !Ht(e))\n    return !1;\n  var o = e.split(\".\");\n  if (o.length !== 3)\n    return !1;\n  var l = o[0], f = o[1], d = l + \".\" + f, g = Y(o[2]), S = h(we(o[0])), b = null, D = null;\n  if (S.alg === void 0)\n    throw \"algorithm not specified in header\";\n  if (b = S.alg, D = b.substr(0, 2), r != null && Object.prototype.toString.call(r) === \"[object Array]\" && r.length > 0) {\n    var A = \":\" + r.join(\":\") + \":\";\n    if (A.indexOf(\":\" + b + \":\") == -1)\n      throw \"algorithm '\" + b + \"' not accepted in the list\";\n  }\n  if (b != \"none\" && t === null)\n    throw \"key shall be specified to verify.\";\n  if (typeof t == \"string\" && t.indexOf(\"-----BEGIN \") != -1 && (t = k.getKey(t)), (D == \"RS\" || D == \"PS\") && !(t instanceof v))\n    throw \"key shall be a RSAKey obj for RS* and PS* algs\";\n  if (D == \"ES\" && !(t instanceof p))\n    throw \"key shall be a ECDSA obj for ES* algs\";\n  var I = null;\n  if (n.jwsalg2sigalg[S.alg] === void 0)\n    throw \"unsupported alg name: \" + b;\n  if (I = n.jwsalg2sigalg[b], I == \"none\")\n    throw \"not supported\";\n  if (I.substr(0, 4) == \"Hmac\") {\n    var m = null;\n    if (t === void 0)\n      throw \"hexadecimal key shall be specified for HMAC\";\n    var E = new c({ alg: I, pass: t });\n    return E.updateString(d), m = E.doFinal(), g == m;\n  } else if (I.indexOf(\"withECDSA\") != -1) {\n    var w = null;\n    try {\n      w = p.concatSigToASN1Sig(g);\n    } catch {\n      return !1;\n    }\n    var x = new y({ alg: I });\n    return x.init(t), x.updateString(d), x.verify(w);\n  } else {\n    var x = new y({ alg: I });\n    return x.init(t), x.updateString(d), x.verify(g);\n  }\n};\na.jws.JWS.parse = function(e) {\n  var t = e.split(\".\"), r = {}, i, s, n;\n  if (t.length != 2 && t.length != 3)\n    throw \"malformed sJWS: wrong number of '.' splitted elements\";\n  return i = t[0], s = t[1], t.length == 3 && (n = t[2]), r.headerObj = a.jws.JWS.readSafeJSONString(we(i)), r.payloadObj = a.jws.JWS.readSafeJSONString(we(s)), r.headerPP = JSON.stringify(r.headerObj, null, \"  \"), r.payloadObj == null ? r.payloadPP = we(s) : r.payloadPP = JSON.stringify(r.payloadObj, null, \"  \"), n !== void 0 && (r.sigHex = Y(n)), r;\n};\na.jws.JWS.verifyJWT = function(e, t, r) {\n  var i = a, s = i.jws, n = s.JWS, h = n.readSafeJSONString, u = n.inArray, p = n.includedArray;\n  if (!Ht(e))\n    return !1;\n  var c = e.split(\".\");\n  if (c.length != 3)\n    return !1;\n  var y = c[0], v = c[1];\n  Y(c[2]);\n  var o = h(we(y)), l = h(we(v));\n  if (o.alg === void 0)\n    return !1;\n  if (r.alg === void 0)\n    throw \"acceptField.alg shall be specified\";\n  if (!u(o.alg, r.alg) || l.iss !== void 0 && typeof r.iss == \"object\" && !u(l.iss, r.iss) || l.sub !== void 0 && typeof r.sub == \"object\" && !u(l.sub, r.sub))\n    return !1;\n  if (l.aud !== void 0 && typeof r.aud == \"object\") {\n    if (typeof l.aud == \"string\") {\n      if (!u(l.aud, r.aud))\n        return !1;\n    } else if (typeof l.aud == \"object\" && !p(l.aud, r.aud))\n      return !1;\n  }\n  var f = s.IntDate.getNow();\n  return r.verifyAt !== void 0 && typeof r.verifyAt == \"number\" && (f = r.verifyAt), (r.gracePeriod === void 0 || typeof r.gracePeriod != \"number\") && (r.gracePeriod = 0), !(l.exp !== void 0 && typeof l.exp == \"number\" && l.exp + r.gracePeriod < f || l.nbf !== void 0 && typeof l.nbf == \"number\" && f < l.nbf - r.gracePeriod || l.iat !== void 0 && typeof l.iat == \"number\" && f < l.iat - r.gracePeriod || l.jti !== void 0 && r.jti !== void 0 && l.jti !== r.jti || !n.verify(e, t, r.alg));\n};\na.jws.JWS.includedArray = function(e, t) {\n  var r = a.jws.JWS.inArray;\n  if (e === null || typeof e != \"object\" || typeof e.length != \"number\")\n    return !1;\n  for (var i = 0; i < e.length; i++)\n    if (!r(e[i], t))\n      return !1;\n  return !0;\n};\na.jws.JWS.inArray = function(e, t) {\n  if (t === null || typeof t != \"object\" || typeof t.length != \"number\")\n    return !1;\n  for (var r = 0; r < t.length; r++)\n    if (t[r] == e)\n      return !0;\n  return !1;\n};\na.jws.JWS.jwsalg2sigalg = { HS256: \"HmacSHA256\", HS384: \"HmacSHA384\", HS512: \"HmacSHA512\", RS256: \"SHA256withRSA\", RS384: \"SHA384withRSA\", RS512: \"SHA512withRSA\", ES256: \"SHA256withECDSA\", ES384: \"SHA384withECDSA\", ES512: \"SHA512withECDSA\", PS256: \"SHA256withRSAandMGF1\", PS384: \"SHA384withRSAandMGF1\", PS512: \"SHA512withRSAandMGF1\", none: \"none\" };\na.jws.JWS.isSafeJSONString = function(e, t, r) {\n  var i = null;\n  try {\n    return i = Pt(e), typeof i != \"object\" || i.constructor === Array ? 0 : (t && (t[r] = i), 1);\n  } catch {\n    return 0;\n  }\n};\na.jws.JWS.readSafeJSONString = function(e) {\n  var t = null;\n  try {\n    return t = Pt(e), typeof t != \"object\" || t.constructor === Array ? null : t;\n  } catch {\n    return null;\n  }\n};\na.jws.JWS.getEncodedSignatureValueFromJWS = function(e) {\n  var t = e.match(/^[^.]+\\.[^.]+\\.([^.]+)$/);\n  if (t == null)\n    throw \"JWS signature is not a form of 'Head.Payload.SigValue'.\";\n  return t[1];\n};\na.jws.JWS.getJWKthumbprint = function(e) {\n  if (e.kty !== \"RSA\" && e.kty !== \"EC\" && e.kty !== \"oct\")\n    throw \"unsupported algorithm for JWK Thumprint\";\n  var t = \"{\";\n  if (e.kty === \"RSA\") {\n    if (typeof e.n != \"string\" || typeof e.e != \"string\")\n      throw \"wrong n and e value for RSA key\";\n    t += '\"e\":\"' + e.e + '\",', t += '\"kty\":\"' + e.kty + '\",', t += '\"n\":\"' + e.n + '\"}';\n  } else if (e.kty === \"EC\") {\n    if (typeof e.crv != \"string\" || typeof e.x != \"string\" || typeof e.y != \"string\")\n      throw \"wrong crv, x and y value for EC key\";\n    t += '\"crv\":\"' + e.crv + '\",', t += '\"kty\":\"' + e.kty + '\",', t += '\"x\":\"' + e.x + '\",', t += '\"y\":\"' + e.y + '\"}';\n  } else if (e.kty === \"oct\") {\n    if (typeof e.k != \"string\")\n      throw \"wrong k value for oct(symmetric) key\";\n    t += '\"kty\":\"' + e.kty + '\",', t += '\"k\":\"' + e.k + '\"}';\n  }\n  var r = Pe(t), i = a.crypto.Util.hashHex(r, \"sha256\"), s = ae(i);\n  return s;\n};\na.jws.IntDate = {};\na.jws.IntDate.get = function(e) {\n  var t = a.jws.IntDate, r = t.getNow, i = t.getZulu;\n  if (e == \"now\")\n    return r();\n  if (e == \"now + 1hour\")\n    return r() + 60 * 60;\n  if (e == \"now + 1day\")\n    return r() + 60 * 60 * 24;\n  if (e == \"now + 1month\")\n    return r() + 60 * 60 * 24 * 30;\n  if (e == \"now + 1year\")\n    return r() + 60 * 60 * 24 * 365;\n  if (e.match(/Z$/))\n    return i(e);\n  if (e.match(/^[0-9]+$/))\n    return parseInt(e);\n  throw \"unsupported format: \" + e;\n};\na.jws.IntDate.getZulu = function(e) {\n  return gn(e);\n};\na.jws.IntDate.getNow = function() {\n  var e = ~~(/* @__PURE__ */ new Date() / 1e3);\n  return e;\n};\na.jws.IntDate.intDate2UTCString = function(e) {\n  var t = new Date(e * 1e3);\n  return t.toUTCString();\n};\na.jws.IntDate.intDate2Zulu = function(e) {\n  var t = new Date(e * 1e3), r = (\"0000\" + t.getUTCFullYear()).slice(-4), i = (\"00\" + (t.getUTCMonth() + 1)).slice(-2), s = (\"00\" + t.getUTCDate()).slice(-2), n = (\"00\" + t.getUTCHours()).slice(-2), h = (\"00\" + t.getUTCMinutes()).slice(-2), u = (\"00\" + t.getUTCSeconds()).slice(-2);\n  return r + i + s + n + h + u + \"Z\";\n};\n(typeof a > \"u\" || !a) && (a = {});\n(typeof a.jws > \"u\" || !a.jws) && (a.jws = {});\na.jws.JWSJS = function() {\n  var e = a, t = e.jws, r = t.JWS, i = r.readSafeJSONString;\n  this.aHeader = [], this.sPayload = \"\", this.aSignature = [], this.init = function() {\n    this.aHeader = [], this.sPayload = void 0, this.aSignature = [];\n  }, this.initWithJWS = function(s) {\n    this.init();\n    var n = s.split(\".\");\n    if (n.length != 3)\n      throw \"malformed input JWS\";\n    this.aHeader.push(n[0]), this.sPayload = n[1], this.aSignature.push(n[2]);\n  }, this.addSignature = function(s, n, h, u) {\n    if (this.sPayload === void 0 || this.sPayload === null)\n      throw \"there's no JSON-JS signature to add.\";\n    var p = this.aHeader.length;\n    if (this.aHeader.length != this.aSignature.length)\n      throw \"aHeader.length != aSignature.length\";\n    try {\n      var c = a.jws.JWS.sign(s, n, this.sPayload, h, u), y = c.split(\".\"), v = y[0], o = y[2];\n      this.aHeader.push(y[0]), this.aSignature.push(y[2]);\n    } catch (l) {\n      throw this.aHeader.length > p && this.aHeader.pop(), this.aSignature.length > p && this.aSignature.pop(), \"addSignature failed: \" + l;\n    }\n  }, this.verifyAll = function(s) {\n    if (this.aHeader.length !== s.length || this.aSignature.length !== s.length)\n      return !1;\n    for (var n = 0; n < s.length; n++) {\n      var h = s[n];\n      if (h.length !== 2)\n        return !1;\n      var u = this.verifyNth(n, h[0], h[1]);\n      if (u === !1)\n        return !1;\n    }\n    return !0;\n  }, this.verifyNth = function(s, n, h) {\n    if (this.aHeader.length <= s || this.aSignature.length <= s)\n      return !1;\n    var u = this.aHeader[s], p = this.aSignature[s], c = u + \".\" + this.sPayload + \".\" + p, y = !1;\n    try {\n      y = r.verify(c, n, h);\n    } catch {\n      return !1;\n    }\n    return y;\n  }, this.readJWSJS = function(s) {\n    if (typeof s == \"string\") {\n      var n = i(s);\n      if (n == null)\n        throw \"argument is not safe JSON object string\";\n      this.aHeader = n.headers, this.sPayload = n.payload, this.aSignature = n.signatures;\n    } else\n      try {\n        if (s.headers.length > 0)\n          this.aHeader = s.headers;\n        else\n          throw \"malformed header\";\n        if (typeof s.payload == \"string\")\n          this.sPayload = s.payload;\n        else\n          throw \"malformed signatures\";\n        if (s.signatures.length > 0)\n          this.aSignature = s.signatures;\n        else\n          throw \"malformed signatures\";\n      } catch (h) {\n        throw \"malformed JWS-JS JSON object: \" + h;\n      }\n  }, this.getJSON = function() {\n    return { headers: this.aHeader, payload: this.sPayload, signatures: this.aSignature };\n  }, this.isEmpty = function() {\n    return this.aHeader.length == 0 ? 1 : 0;\n  };\n};\na.crypto.ECDSA;\na.crypto.DSA;\na.crypto.Signature;\na.crypto.MessageDigest;\na.crypto.Mac;\nvar wn = k, Fn = we, bn = a;\na.crypto;\na.asn1;\na.jws;\na.lang;\nconst An = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  KEYUTIL: wn,\n  KJUR: bn,\n  b64utoutf8: Fn\n}, Symbol.toStringTag, { value: \"Module\" }));\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGtpbmRlL2p3dC12YWxpZGF0b3IvZGlzdC9qc3JzYXNpZ24tQjJnWklKaFkuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksZ0JBQWdCO0FBQzVCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRyxpQ0FBaUM7QUFDcEM7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLHNCQUFzQixPQUFPO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLE9BQU87QUFDN0I7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsNEJBQTRCLE9BQU87QUFDbkM7QUFDQTtBQUNBLEtBQUssaUJBQWlCLGdCQUFnQjtBQUN0Qyx5REFBeUQsT0FBTztBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCwwQ0FBMEMsT0FBTztBQUNqRDtBQUNBO0FBQ0EsS0FBSyxtQkFBbUI7QUFDeEIseURBQXlELE9BQU87QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsMENBQTBDLE9BQU87QUFDakQ7QUFDQTtBQUNBLEtBQUssaUJBQWlCO0FBQ3RCO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEtBQUssNENBQTRDO0FBQ2pEO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLE9BQU87QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLHlHQUF5RztBQUM1Ryxp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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsT0FBTztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixPQUFPO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCxRQUFRO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxjQUFjO0FBQzNCO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixPQUFPO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0pBQW9KLEVBQUUsb0VBQW9FLEdBQUcsdUVBQXVFLEVBQUUsaUJBQWlCO0FBQ3ZUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxXQUFXO0FBQ3ZCLGtEQUFrRCxPQUFPO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQ7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLFVBQVU7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckI7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELGlDQUFpQztBQUNqQyxnREFBZ0Q7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxjQUFjO0FBQ3REO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixVQUFVO0FBQy9CO0FBQ0E7QUFDQSx3Q0FBd0MsY0FBYztBQUN0RDtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsVUFBVTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLG1DQUFtQztBQUMxRCxRQUFRO0FBQ1I7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSx5SEFBeUgsY0FBYztBQUN2STtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLDRCQUE0QixPQUFPO0FBQ25DO0FBQ0E7QUFDQSxvQkFBb0Isa0JBQWtCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixjQUFjO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSCxHQUFHO0FBQ0gsb0ZBQW9GO0FBQ3BGLEdBQUc7QUFDSCxvRkFBb0Y7QUFDcEYsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEM7QUFDMUMsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNILDBDQUEwQztBQUMxQyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGtCQUFrQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCw0QkFBNEIsY0FBYztBQUMxQztBQUNBO0FBQ0EsR0FBRztBQUNILHNDQUFzQyxPQUFPO0FBQzdDO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0Msa0NBQWtDO0FBQ3hFLDBCQUEwQixHQUFHLHdCQUF3QixHQUFHO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLGtDQUFrQztBQUN4RSwwQkFBMEIsR0FBRyx3QkFBd0IsR0FBRztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsMkJBQTJCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQywyQkFBMkI7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4RkFBOEYseUJBQXlCO0FBQ3ZILG9CQUFvQjtBQUNwQixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFFBQVE7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsY0FBYztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsMkNBQTJDLGtCQUFrQjtBQUM3RDtBQUNBLGtDQUFrQyxjQUFjO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHNCQUFzQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGNBQWM7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixjQUFjO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsY0FBYztBQUNyQztBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzTEFBc0wsNkpBQTZKO0FBQ25WLHlDQUF5QyxjQUFjO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyw0QkFBNEI7QUFDL0I7QUFDQSw2QkFBNkIsV0FBVyxJQUFJO0FBQzVDO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxVQUFVO0FBQ3pCLE1BQU07QUFDTjtBQUNBLDBEQUEwRCxVQUFVLFdBQVcsSUFBSSxVQUFVO0FBQzdGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFVBQVU7QUFDekIsTUFBTTtBQUNOLGVBQWUsVUFBVTtBQUN6QjtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBLHlCQUF5QixTQUFTLElBQUk7QUFDdEMsTUFBTTtBQUNOO0FBQ0EsZ0NBQWdDLFFBQVEsV0FBVyxJQUFJO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLFFBQVE7QUFDbkMsUUFBUTtBQUNSO0FBQ0EsMkJBQTJCLFFBQVE7QUFDbkMsUUFBUTtBQUNSO0FBQ0EsMkJBQTJCLFFBQVE7QUFDbkMsUUFBUTtBQUNSO0FBQ0EsdUNBQXVDLE9BQU8saUNBQWlDLGlHQUFpRyxPQUFPLGlDQUFpQyxJQUFJLE9BQU87QUFDbk8sUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixPQUFPO0FBQzFCLFVBQVU7QUFDVixtQkFBbUIsT0FBTztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEVBQTBFLGNBQWM7QUFDeEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakMsZ0RBQWdEO0FBQ2hELCtEQUErRDtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSwyREFBMkQsUUFBUTtBQUNuRTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxnQkFBZ0IsbUJBQW1CLHNCQUFzQjtBQUM5RixvQkFBb0IsVUFBVTtBQUM5QjtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixhQUFhLFFBQVEsR0FBRztBQUM5QztBQUNBO0FBQ0EsNENBQTRDLGdCQUFnQiw0Q0FBNEMsZ0RBQWdELDJIQUEySCw4QkFBOEI7QUFDalQscUNBQXFDLFVBQVU7QUFDL0M7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsNEJBQTRCLHdCQUF3QjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFVBQVU7QUFDOUI7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixlQUFlLGVBQWUsNkJBQTZCO0FBQy9FO0FBQ0Esb0JBQW9CLFVBQVU7QUFDOUI7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBLDBEQUEwRCxRQUFRO0FBQ2xFLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0VBQW9FLG1CQUFtQjtBQUN2RixvQkFBb0IsVUFBVTtBQUM5QjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCw0QkFBNEIsY0FBYztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsVUFBVTtBQUN2RCxHQUFHO0FBQ0gsc0NBQXNDLFlBQVk7QUFDbEQ7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQywyQ0FBMkM7QUFDakY7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRyxxS0FBcUssU0FBUyxnQkFBZ0IsR0FBRztBQUNwTTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLDhDQUE4QztBQUNoRixHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDhCQUE4QjtBQUMxRDtBQUNBLG9CQUFvQixVQUFVO0FBQzlCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLDhCQUE4QjtBQUM1RDtBQUNBLHFDQUFxQyxVQUFVO0FBQy9DO0FBQ0Esb0JBQW9CLFVBQVU7QUFDOUI7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsZ0JBQWdCLDBCQUEwQixXQUFXLHNCQUFzQixJQUFJO0FBQ3JHO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixnQkFBZ0IsMEJBQTBCLGdDQUFnQztBQUNoRztBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFVBQVU7QUFDOUI7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCxjQUFjO0FBQ3ZFO0FBQ0EscUJBQXFCLFVBQVU7QUFDL0I7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFVBQVU7QUFDOUI7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLG9CQUFvQjtBQUNqRTtBQUNBLGVBQWUsUUFBUSxXQUFXLElBQUksV0FBVyxHQUFHO0FBQ3BEO0FBQ0Esb0NBQW9DLFFBQVE7QUFDNUMsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxPQUFPLG1CQUFtQixtQkFBbUIsaUNBQWlDLE9BQU8sbUJBQW1CLG9CQUFvQiw0QkFBNEIsUUFBUTtBQUN4TSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyx1QkFBdUI7QUFDM0QsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIscUJBQXFCO0FBQ25EO0FBQ0EsZUFBZSxPQUFPLG1CQUFtQixZQUFZO0FBQ3JEO0FBQ0E7QUFDQSw4QkFBOEIsc0JBQXNCO0FBQ3BEO0FBQ0EsZUFBZSxPQUFPLG1CQUFtQixZQUFZO0FBQ3JEO0FBQ0Esb0NBQW9DLFFBQVE7QUFDNUMsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsOEJBQThCLE9BQU8sbUJBQW1CLGdCQUFnQiw2QkFBNkIsT0FBTyxtQkFBbUIsZ0JBQWdCO0FBQy9JLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGNBQWM7QUFDbEM7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLDRDQUE0QywwQ0FBMEMsdUNBQXVDLHlCQUF5QixJQUFJLHNDQUFzQywrQ0FBK0M7QUFDbFIsZ0NBQWdDLFVBQVU7QUFDMUM7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELFFBQVE7QUFDekQ7QUFDQSxHQUFHO0FBQ0gsdVRBQXVULGVBQWU7QUFDdFUsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxRQUFRO0FBQ3hEO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxRQUFRO0FBQ3pEO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEhBQThILGNBQWM7QUFDNUk7QUFDQTtBQUNBLG9CQUFvQixnQkFBZ0IsMkJBQTJCLFdBQVcsYUFBYSxJQUFJO0FBQzNGO0FBQ0Esb0JBQW9CLGdCQUFnQiwyQkFBMkIsV0FBVyxpQkFBaUIsSUFBSTtBQUMvRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxVQUFVO0FBQzNDLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDhCQUE4QjtBQUMxRDtBQUNBO0FBQ0Esa0JBQWtCLFFBQVEsYUFBYSxJQUFJLGNBQWM7QUFDekQ7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFFBQVEsZ0JBQWdCLElBQUksUUFBUSxlQUFlLEdBQUc7QUFDdEU7QUFDQSxzREFBc0Q7QUFDdEQ7QUFDQSxzREFBc0Q7QUFDdEQ7QUFDQSxzREFBc0Q7QUFDdEQ7QUFDQSxzREFBc0Q7QUFDdEQ7QUFDQSxzREFBc0Q7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsVUFBVTtBQUM5QjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gscUVBQXFFLHlCQUF5QjtBQUM5RjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsZ0JBQWdCLG1CQUFtQixzQkFBc0I7QUFDOUYsb0JBQW9CLFVBQVU7QUFDOUI7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILHFEQUFxRCxjQUFjO0FBQ25FO0FBQ0Esa0VBQWtFLFVBQVU7QUFDNUU7QUFDQSxtQkFBbUIsVUFBVTtBQUM3QixHQUFHO0FBQ0g7QUFDQTtBQUNBLHlDQUF5QyxRQUFRO0FBQ2pEO0FBQ0E7QUFDQSx1QkFBdUIsZ0JBQWdCO0FBQ3ZDO0FBQ0EscUJBQXFCLGlDQUFpQztBQUN0RDtBQUNBLG9CQUFvQixVQUFVO0FBQzlCO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNILGdDQUFnQyw2QkFBNkI7QUFDN0Q7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixZQUFZLGdGQUFnRixVQUFVO0FBQ2hJLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsY0FBYztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsY0FBYztBQUNsQyxrQ0FBa0MsNkJBQTZCO0FBQy9ELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHVDQUF1QztBQUMvRDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsNEJBQTRCO0FBQ2xELGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyx1QkFBdUI7QUFDdkQ7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0QsY0FBYztBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxnRUFBZ0UsMEJBQTBCO0FBQzFGLEdBQUc7QUFDSCx3REFBd0QsY0FBYztBQUN0RTtBQUNBLEdBQUc7QUFDSDtBQUNBLHNCQUFzQiw0QkFBNEI7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyx1QkFBdUI7QUFDdkQ7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EscURBQXFELGNBQWM7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLGNBQWM7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLHFCQUFxQixRQUFRO0FBQzdCO0FBQ0EscUJBQXFCLFFBQVE7QUFDN0I7QUFDQSxxQkFBcUIsUUFBUTtBQUM3QjtBQUNBLHFCQUFxQixRQUFRO0FBQzdCO0FBQ0EscUJBQXFCLFFBQVE7QUFDN0I7QUFDQSxxQkFBcUIsUUFBUTtBQUM3QjtBQUNBLEdBQUc7QUFDSDtBQUNBLCtHQUErRyxlQUFlO0FBQzlIO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsNENBQTRDO0FBQ2hFO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLG9CQUFvQixRQUFRLE9BQU8sZUFBZSxJQUFJLE9BQU8sWUFBWSxHQUFHO0FBQzVFLGlDQUFpQyx1QkFBdUIsK0JBQStCLGVBQWU7QUFDdEc7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLG1CQUFtQjtBQUMzQyxpQ0FBaUMsb0NBQW9DLCtCQUErQix5QkFBeUI7QUFDN0g7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLFFBQVEsT0FBTyxlQUFlLElBQUksT0FBTyxlQUFlLElBQUksT0FBTyxlQUFlLEdBQUc7QUFDN0csaUNBQWlDLDRCQUE0QjtBQUM3RCx3QkFBd0IsYUFBYTtBQUNyQyxvQ0FBb0MsdUJBQXVCO0FBQzNEO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNILDJCQUEyQixHQUFHLCtCQUErQixHQUFHLCtCQUErQixHQUFHLHVDQUF1QyxHQUFHO0FBQzVJLEdBQUc7QUFDSDtBQUNBLHVDQUF1QyxRQUFRO0FBQy9DO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHLHdIQUF3SCxHQUFHLGlEQUFpRCxHQUFHO0FBQ2xMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxVQUFVO0FBQzFDO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixlQUFlO0FBQzNDO0FBQ0EsNEJBQTRCLFlBQVk7QUFDeEM7QUFDQSw4REFBOEQsV0FBVztBQUN6RTtBQUNBLG9DQUFvQyxtQkFBbUI7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLDRCQUE0QixZQUFZO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxrQkFBa0IsUUFBUTtBQUMxQixNQUFNO0FBQ047QUFDQSxvQkFBb0IsNkJBQTZCO0FBQ2pEO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixjQUFjO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxnQ0FBZ0MsdUJBQXVCO0FBQ3ZEO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixZQUFZLFdBQVcsT0FBTyx5Q0FBeUMsZUFBZSxlQUFlO0FBQ3pIO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDZ4SkFBNnhKLHlCQUF5QixrbUJBQWttQixvQkFBb0I7QUFDcDhLO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLFFBQVE7QUFDdEQ7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixRQUFRO0FBQzVCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakMsZ0RBQWdEO0FBQ2hELDREQUE0RDtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSCxvQkFBb0IsbUJBQW1CLGVBQWUsNkJBQTZCLGVBQWUsZUFBZTtBQUNqSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQsY0FBYztBQUNqRTtBQUNBLDJHQUEyRyxTQUFTO0FBQ3BIO0FBQ0Esb0JBQW9CLFVBQVUsZUFBZSxZQUFZO0FBQ3pEO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLG1CQUFtQixRQUFRO0FBQzNCLG9CQUFvQixVQUFVO0FBQzlCO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCxjQUFjO0FBQ2pFO0FBQ0EsOEhBQThILFNBQVM7QUFDdkk7QUFDQSxvQkFBb0IsVUFBVSxlQUFlLFlBQVk7QUFDekQ7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsYUFBYSxtQkFBbUIsUUFBUTtBQUNqRyxvQkFBb0IsVUFBVTtBQUM5QjtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRDtBQUNqRCxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EscUJBQXFCLE9BQU8sOEJBQThCLGVBQWU7QUFDekU7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlEO0FBQ2pELE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsZUFBZTtBQUMvRDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxnQkFBZ0IsT0FBTyxtQkFBbUIsVUFBVSxjQUFjO0FBQ2xFO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLGNBQWM7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHVCQUF1QjtBQUMzQztBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1IQUFtSCxRQUFRO0FBQzNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLHVCQUF1QixnQkFBZ0Isd0NBQXdDLGlCQUFpQjtBQUNoRztBQUNBO0FBQ0EsdUJBQXVCLGlDQUFpQztBQUN4RCxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLHFCQUFxQixvQkFBb0IsZ0JBQWdCLHlFQUF5RSxlQUFlO0FBQ2hNO0FBQ0E7QUFDQSx1QkFBdUIsaUNBQWlDO0FBQ3hELFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsVUFBVTtBQUM5QjtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxpQ0FBaUM7QUFDN0U7QUFDQTtBQUNBLG9CQUFvQixVQUFVO0FBQzlCO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHFDQUFxQztBQUN6RDtBQUNBLG9CQUFvQixVQUFVO0FBQzlCO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsbUJBQW1CLHVCQUF1QixjQUFjO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILHVEQUF1RCxjQUFjO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxjQUFjO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCx3Q0FBd0MsY0FBYztBQUN0RDtBQUNBO0FBQ0EsR0FBRztBQUNILGtDQUFrQyxjQUFjO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0Esc0NBQXNDLGNBQWM7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsY0FBYztBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixnQkFBZ0I7QUFDbkMsNEJBQTRCLHVCQUF1QjtBQUNuRDtBQUNBLHFCQUFxQixTQUFTO0FBQzlCO0FBQ0EsbUJBQW1CLFVBQVU7QUFDN0IsNEJBQTRCLHFCQUFxQjtBQUNqRDtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsVUFBVTtBQUM3QixvQkFBb0IsVUFBVTtBQUM5QjtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSCxvQkFBb0IsZ0NBQWdDO0FBQ3BEO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGNBQWM7QUFDbEM7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0Esa0NBQWtDLGlDQUFpQztBQUNuRTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixjQUFjO0FBQzFDO0FBQ0Esd0NBQXdDLE9BQU8sbUJBQW1CLFlBQVk7QUFDOUU7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTiwwQ0FBMEMsT0FBTyw0REFBNEQ7QUFDN0c7QUFDQSxNQUFNO0FBQ047QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixRQUFRLDJCQUEyQixJQUFJLFFBQVEsZUFBZSxHQUFHO0FBQ2pGO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLE9BQU87QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsY0FBYztBQUNwQyw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLG9CQUFvQixjQUFjO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsbUVBQW1FLE9BQU87QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLGNBQWM7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLG9CQUFvQixjQUFjO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUZBQWlGLFFBQVE7QUFDekY7QUFDQTtBQUNBO0FBQ0EsR0FBRyxRQUFRO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsc0RBQXNELGNBQWM7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsY0FBYztBQUNkLDhFQUE4RSxRQUFRO0FBQ3RGLEdBQUc7QUFDSCx5Q0FBeUMsY0FBYztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsY0FBYyxlQUFlO0FBQzdCO0FBQ0E7QUFDQSx3QkFBd0IsUUFBUTtBQUNoQyxHQUFHO0FBQ0gseUNBQXlDLGNBQWM7QUFDdkQ7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLEdBQUc7QUFDSCxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixjQUFjO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxrRUFBa0UsY0FBYztBQUNoRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLGtFQUFrRSxjQUFjO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxjQUFjO0FBQ2Q7QUFDQTtBQUNBLHdCQUF3QixRQUFRO0FBQ2hDLEdBQUc7QUFDSCx5Q0FBeUMsY0FBYztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGlDQUFpQztBQUNqQyxnREFBZ0Q7QUFDaEQsNERBQTREO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkVBQTJFLFFBQVE7QUFDbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsVUFBVTtBQUM5QjtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsZUFBZTtBQUM1QztBQUNBLGliQUFpYixzQ0FBc0MsV0FBVyxHQUFHO0FBQ3JlO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUVBQXlFLGdCQUFnQiwrREFBK0QsT0FBTyxtQkFBbUIsbUJBQW1CLCtEQUErRCxPQUFPLG1CQUFtQixtQkFBbUIsT0FBTyxRQUFRO0FBQ2hVLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLGFBQWEsZUFBZSxhQUFhLGVBQWUsZUFBZTtBQUM1RztBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLFFBQVE7QUFDM0Isb0JBQW9CLFVBQVU7QUFDOUI7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsVUFBVTtBQUM5QjtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixVQUFVO0FBQzlCO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsUUFBUTtBQUMzQixHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixjQUFjO0FBQzFDLHFCQUFxQixXQUFXO0FBQ2hDLG9CQUFvQixVQUFVO0FBQzlCO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLCtGQUErRjtBQUMvRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCxRQUFRO0FBQ3BFO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxtQkFBbUIsUUFBUTtBQUMzQixHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxpQkFBaUIsMENBQTBDO0FBQy9HO0FBQ0EsMkNBQTJDO0FBQzNDO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9EO0FBQ3BEO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwSUFBMEk7QUFDMUk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsUUFBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILG1CQUFtQixzQkFBc0IsY0FBYztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCx5Q0FBeUMsY0FBYztBQUN2RDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsY0FBYztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQyxnREFBZ0Q7QUFDaEQsa0VBQWtFO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixVQUFVO0FBQzlCO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsYUFBYSxtQkFBbUIsUUFBUTtBQUMzRCxvQkFBb0IsVUFBVTtBQUM5QjtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLFFBQVE7QUFDM0IsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxvQkFBb0I7QUFDakU7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixVQUFVO0FBQzlCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1FQUFtRSxVQUFVLHNCQUFzQixTQUFTO0FBQzVHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsVUFBVTtBQUM5QjtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1FQUFtRSxVQUFVLGlCQUFpQixTQUFTO0FBQ3ZHO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1SkFBdUo7QUFDdko7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RDtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gscUVBQXFFLHlCQUF5QjtBQUM5RjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0gsNkhBQTZILGdCQUFnQjtBQUM3STtBQUNBO0FBQ0Esb0JBQW9CLHNCQUFzQixlQUFlLGtCQUFrQjtBQUMzRTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsdUJBQXVCLFFBQVE7QUFDL0Isa0NBQWtDLE9BQU8sc0JBQXNCO0FBQy9EO0FBQ0EsTUFBTTtBQUNOLHVDQUF1QyxPQUFPLG1CQUFtQixRQUFRLDhCQUE4QixJQUFJLFVBQVUsT0FBTztBQUM1SDtBQUNBLE1BQU07QUFDTixxQkFBcUIsc0NBQXNDLFNBQVMsR0FBRztBQUN2RSxvQkFBb0IsVUFBVTtBQUM5QjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsY0FBYztBQUNqRjtBQUNBO0FBQ0Esb0NBQW9DLFFBQVEsOEJBQThCLElBQUksVUFBVTtBQUN4RjtBQUNBLFFBQVE7QUFDUixrQkFBa0IsUUFBUSw2QkFBNkIsSUFBSSxjQUFjO0FBQ3pFO0FBQ0EsUUFBUTtBQUNSLGtCQUFrQixRQUFRLDZCQUE2QixJQUFJLFFBQVEscUJBQXFCLEdBQUc7QUFDM0Y7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxlQUFlO0FBQ3BEO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQyxnREFBZ0Q7QUFDaEQsK0RBQStEO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFFBQVEsUUFBUSxVQUFVLEdBQUc7QUFDOUM7QUFDQSxlQUFlLFFBQVEsUUFBUSxVQUFVLElBQUksT0FBTyxtQ0FBbUMsR0FBRztBQUMxRixHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsbUJBQW1CLG1CQUFtQixnQkFBZ0I7QUFDekUsb0JBQW9CLFVBQVU7QUFDOUI7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCw2RUFBNkUsZUFBZTtBQUM1RjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsZ0JBQWdCLG1CQUFtQixzQkFBc0I7QUFDbkcsOEJBQThCLG9CQUFvQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixRQUFRO0FBQy9CO0FBQ0Esc0JBQXNCLFVBQVU7QUFDaEMscUJBQXFCLGlDQUFpQztBQUN0RDtBQUNBLG9CQUFvQixVQUFVO0FBQzlCO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsaUNBQWlDO0FBQ3REO0FBQ0Esb0JBQW9CLFVBQVU7QUFDOUI7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLE9BQU8sZ0NBQWdDLFVBQVUsY0FBYztBQUNqRjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsT0FBTywwQ0FBMEM7QUFDbkU7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixjQUFjO0FBQzFDO0FBQ0Esb0JBQW9CLFVBQVU7QUFDOUI7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixpQ0FBaUM7QUFDdEQ7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGlDQUFpQztBQUN0RDtBQUNBLG9CQUFvQixVQUFVO0FBQzlCO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBEO0FBQzFELEdBQUc7QUFDSCwwREFBMEQ7QUFDMUQsR0FBRztBQUNIO0FBQ0EsOEpBQThKO0FBQzlKO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsU0FBUyxlQUFlLFFBQVEsZUFBZSxRQUFRLGVBQWUsUUFBUSxlQUFlLHFCQUFxQjtBQUN0STtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixXQUFXLGVBQWU7QUFDM0MsbUNBQW1DLE9BQU8sZ0NBQWdDLFFBQVEscUJBQXFCO0FBQ3ZHLGdCQUFnQixnQ0FBZ0M7QUFDaEQseUNBQXlDLFFBQVE7QUFDakQ7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsVUFBVTtBQUM5QjtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGNBQWM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwwQkFBMEI7QUFDOUM7QUFDQTtBQUNBLG9CQUFvQixVQUFVO0FBQzlCO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixVQUFVO0FBQzlCO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksdUNBQXVDLDBCQUEwQixjQUFjO0FBQzNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILHlDQUF5QyxjQUFjO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLGNBQWM7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCx5Q0FBeUMsY0FBYztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGNBQWM7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakMsZ0RBQWdEO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxjQUFjO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGNBQWM7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLENBQUM7QUFDRDtBQUNBLENBQUM7QUFDRDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsSUFBSSxvQkFBb0IsY0FBYztBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsa0JBQWtCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGNBQWM7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsVUFBVTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxFQUFFO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLEdBQUcsd0JBQXdCLEdBQUc7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixPQUFPO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLEdBQUc7QUFDaEM7QUFDQTtBQUNBLHFCQUFxQixJQUFJO0FBQ3pCO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0gseUJBQXlCLEdBQUc7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsR0FBRztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixPQUFPO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsRUFBRTtBQUN2QjtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsY0FBYztBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtFQUFrRSxJQUFJO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsRUFBRSxpQkFBaUIsRUFBRSxlQUFlLEdBQUcsY0FBYyxHQUFHO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLDRCQUE0QixPQUFPO0FBQ25DO0FBQ0E7QUFDQSxvQkFBb0Isa0JBQWtCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGNBQWM7QUFDbEM7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsa0JBQWtCO0FBQy9EO0FBQ0Esb0NBQW9DLGNBQWM7QUFDbEQ7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLE9BQU87QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLGNBQWM7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsY0FBYztBQUN2QztBQUNBLHdEQUF3RCxRQUFRO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsbUJBQW1CO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakMsc0RBQXNEO0FBQ3REO0FBQ0EsMEJBQTBCLHVYQUF1WCwyQkFBMkIsb3FDQUFvcUMscUNBQXFDLDZKQUE2SjtBQUNseEQ7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG1GQUFtRixPQUFPO0FBQzFGO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCx5Q0FBeUMsUUFBUTtBQUNqRDtBQUNBLEdBQUc7QUFDSCx5Q0FBeUMsUUFBUTtBQUNqRDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsdUNBQXVDLDhCQUE4QjtBQUNyRTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsb0NBQW9DO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsa0RBQWtELE9BQU87QUFDekQ7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxxQkFBcUI7QUFDcEUsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQLG9NQUFvTSw2Q0FBNkM7QUFDalA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1Asb01BQW9NLDZDQUE2QztBQUNqUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxPQUFPO0FBQzdDO0FBQ0EsZ0NBQWdDLE9BQU87QUFDdkM7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsZUFBZSxPQUFPLE9BQU87QUFDN0Q7QUFDQSwwQkFBMEIsZUFBZSxPQUFPLE9BQU87QUFDdkQ7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QixDQUFDO0FBQ0QsaUNBQWlDO0FBQ2pDLHNEQUFzRDtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLFdBQVcsMEJBQTBCLFdBQVcsMkJB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Q0EsMEJBQTBCLE9BQU87QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGNBQWM7QUFDNUI7QUFDQSxTQUFTLGNBQWM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsY0FBYztBQUM1QjtBQUNBO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0Esb0JBQW9CLDhEQUE4RDtBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0Es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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsYUFBYTtBQUNiLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHdCQUF3QixpQkFBaUI7QUFHeEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXN1bWUtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9Aa2luZGUvand0LXZhbGlkYXRvci9kaXN0L2pzcnNhc2lnbi1CMmdaSUpoWS5qcz9mOTc0Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBVZSA9IHt9O1xuVWUudXNlckFnZW50ID0gITE7XG52YXIgVmUgPSB7fTtcbi8qISBDcnlwdG9KUyB2My4xLjIgY29yZS1maXguanNcbiAqIGNvZGUuZ29vZ2xlLmNvbS9wL2NyeXB0by1qc1xuICogKGMpIDIwMDktMjAxMyBieSBKZWZmIE1vdHQuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBjb2RlLmdvb2dsZS5jb20vcC9jcnlwdG8tanMvd2lraS9MaWNlbnNlXG4gKiBUSElTIElTIEZJWCBvZiAnY29yZS5qcycgdG8gZml4IEhtYWMgaXNzdWUuXG4gKiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2NyeXB0by1qcy9pc3N1ZXMvZGV0YWlsP2lkPTg0XG4gKiBodHRwczovL2NyeXB0by1qcy5nb29nbGVjb2RlLmNvbS9zdm4taGlzdG9yeS9yNjY3L2JyYW5jaGVzLzMueC9zcmMvY29yZS5qc1xuICovXG52YXIgSyA9IEsgfHwgZnVuY3Rpb24oZSwgdCkge1xuICB2YXIgciA9IHt9LCBpID0gci5saWIgPSB7fSwgcyA9IGkuQmFzZSA9IC8qIEBfX1BVUkVfXyAqLyBmdW5jdGlvbigpIHtcbiAgICBmdW5jdGlvbiBvKCkge1xuICAgIH1cbiAgICByZXR1cm4geyBleHRlbmQ6IGZ1bmN0aW9uKGwpIHtcbiAgICAgIG8ucHJvdG90eXBlID0gdGhpcztcbiAgICAgIHZhciBmID0gbmV3IG8oKTtcbiAgICAgIHJldHVybiBsICYmIGYubWl4SW4obCksIGYuaGFzT3duUHJvcGVydHkoXCJpbml0XCIpIHx8IChmLmluaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgZi4kc3VwZXIuaW5pdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfSksIGYuaW5pdC5wcm90b3R5cGUgPSBmLCBmLiRzdXBlciA9IHRoaXMsIGY7XG4gICAgfSwgY3JlYXRlOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBsID0gdGhpcy5leHRlbmQoKTtcbiAgICAgIHJldHVybiBsLmluaXQuYXBwbHkobCwgYXJndW1lbnRzKSwgbDtcbiAgICB9LCBpbml0OiBmdW5jdGlvbigpIHtcbiAgICB9LCBtaXhJbjogZnVuY3Rpb24obCkge1xuICAgICAgZm9yICh2YXIgZiBpbiBsKVxuICAgICAgICBsLmhhc093blByb3BlcnR5KGYpICYmICh0aGlzW2ZdID0gbFtmXSk7XG4gICAgICBsLmhhc093blByb3BlcnR5KFwidG9TdHJpbmdcIikgJiYgKHRoaXMudG9TdHJpbmcgPSBsLnRvU3RyaW5nKTtcbiAgICB9LCBjbG9uZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbml0LnByb3RvdHlwZS5leHRlbmQodGhpcyk7XG4gICAgfSB9O1xuICB9KCksIG4gPSBpLldvcmRBcnJheSA9IHMuZXh0ZW5kKHsgaW5pdDogZnVuY3Rpb24obywgbCkge1xuICAgIG8gPSB0aGlzLndvcmRzID0gbyB8fCBbXSwgbCAhPSB0ID8gdGhpcy5zaWdCeXRlcyA9IGwgOiB0aGlzLnNpZ0J5dGVzID0gby5sZW5ndGggKiA0O1xuICB9LCB0b1N0cmluZzogZnVuY3Rpb24obykge1xuICAgIHJldHVybiAobyB8fCB1KS5zdHJpbmdpZnkodGhpcyk7XG4gIH0sIGNvbmNhdDogZnVuY3Rpb24obykge1xuICAgIHZhciBsID0gdGhpcy53b3JkcywgZiA9IG8ud29yZHMsIGQgPSB0aGlzLnNpZ0J5dGVzLCBnID0gby5zaWdCeXRlcztcbiAgICBpZiAodGhpcy5jbGFtcCgpLCBkICUgNClcbiAgICAgIGZvciAodmFyIFMgPSAwOyBTIDwgZzsgUysrKSB7XG4gICAgICAgIHZhciBiID0gZltTID4+PiAyXSA+Pj4gMjQgLSBTICUgNCAqIDggJiAyNTU7XG4gICAgICAgIGxbZCArIFMgPj4+IDJdIHw9IGIgPDwgMjQgLSAoZCArIFMpICUgNCAqIDg7XG4gICAgICB9XG4gICAgZWxzZVxuICAgICAgZm9yICh2YXIgUyA9IDA7IFMgPCBnOyBTICs9IDQpXG4gICAgICAgIGxbZCArIFMgPj4+IDJdID0gZltTID4+PiAyXTtcbiAgICByZXR1cm4gdGhpcy5zaWdCeXRlcyArPSBnLCB0aGlzO1xuICB9LCBjbGFtcDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIG8gPSB0aGlzLndvcmRzLCBsID0gdGhpcy5zaWdCeXRlcztcbiAgICBvW2wgPj4+IDJdICY9IDQyOTQ5NjcyOTUgPDwgMzIgLSBsICUgNCAqIDgsIG8ubGVuZ3RoID0gZS5jZWlsKGwgLyA0KTtcbiAgfSwgY2xvbmU6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBvID0gcy5jbG9uZS5jYWxsKHRoaXMpO1xuICAgIHJldHVybiBvLndvcmRzID0gdGhpcy53b3Jkcy5zbGljZSgwKSwgbztcbiAgfSwgcmFuZG9tOiBmdW5jdGlvbihvKSB7XG4gICAgZm9yICh2YXIgbCA9IFtdLCBmID0gMDsgZiA8IG87IGYgKz0gNClcbiAgICAgIGwucHVzaChlLnJhbmRvbSgpICogNDI5NDk2NzI5NiB8IDApO1xuICAgIHJldHVybiBuZXcgbi5pbml0KGwsIG8pO1xuICB9IH0pLCBoID0gci5lbmMgPSB7fSwgdSA9IGguSGV4ID0geyBzdHJpbmdpZnk6IGZ1bmN0aW9uKG8pIHtcbiAgICBmb3IgKHZhciBsID0gby53b3JkcywgZiA9IG8uc2lnQnl0ZXMsIGQgPSBbXSwgZyA9IDA7IGcgPCBmOyBnKyspIHtcbiAgICAgIHZhciBTID0gbFtnID4+PiAyXSA+Pj4gMjQgLSBnICUgNCAqIDggJiAyNTU7XG4gICAgICBkLnB1c2goKFMgPj4+IDQpLnRvU3RyaW5nKDE2KSksIGQucHVzaCgoUyAmIDE1KS50b1N0cmluZygxNikpO1xuICAgIH1cbiAgICByZXR1cm4gZC5qb2luKFwiXCIpO1xuICB9LCBwYXJzZTogZnVuY3Rpb24obykge1xuICAgIGZvciAodmFyIGwgPSBvLmxlbmd0aCwgZiA9IFtdLCBkID0gMDsgZCA8IGw7IGQgKz0gMilcbiAgICAgIGZbZCA+Pj4gM10gfD0gcGFyc2VJbnQoby5zdWJzdHIoZCwgMiksIDE2KSA8PCAyNCAtIGQgJSA4ICogNDtcbiAgICByZXR1cm4gbmV3IG4uaW5pdChmLCBsIC8gMik7XG4gIH0gfSwgcCA9IGguTGF0aW4xID0geyBzdHJpbmdpZnk6IGZ1bmN0aW9uKG8pIHtcbiAgICBmb3IgKHZhciBsID0gby53b3JkcywgZiA9IG8uc2lnQnl0ZXMsIGQgPSBbXSwgZyA9IDA7IGcgPCBmOyBnKyspIHtcbiAgICAgIHZhciBTID0gbFtnID4+PiAyXSA+Pj4gMjQgLSBnICUgNCAqIDggJiAyNTU7XG4gICAgICBkLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShTKSk7XG4gICAgfVxuICAgIHJldHVybiBkLmpvaW4oXCJcIik7XG4gIH0sIHBhcnNlOiBmdW5jdGlvbihvKSB7XG4gICAgZm9yICh2YXIgbCA9IG8ubGVuZ3RoLCBmID0gW10sIGQgPSAwOyBkIDwgbDsgZCsrKVxuICAgICAgZltkID4+PiAyXSB8PSAoby5jaGFyQ29kZUF0KGQpICYgMjU1KSA8PCAyNCAtIGQgJSA0ICogODtcbiAgICByZXR1cm4gbmV3IG4uaW5pdChmLCBsKTtcbiAgfSB9LCBjID0gaC5VdGY4ID0geyBzdHJpbmdpZnk6IGZ1bmN0aW9uKG8pIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUocC5zdHJpbmdpZnkobykpKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk1hbGZvcm1lZCBVVEYtOCBkYXRhXCIpO1xuICAgIH1cbiAgfSwgcGFyc2U6IGZ1bmN0aW9uKG8pIHtcbiAgICByZXR1cm4gcC5wYXJzZSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQobykpKTtcbiAgfSB9LCB5ID0gaS5CdWZmZXJlZEJsb2NrQWxnb3JpdGhtID0gcy5leHRlbmQoeyByZXNldDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5fZGF0YSA9IG5ldyBuLmluaXQoKSwgdGhpcy5fbkRhdGFCeXRlcyA9IDA7XG4gIH0sIF9hcHBlbmQ6IGZ1bmN0aW9uKG8pIHtcbiAgICB0eXBlb2YgbyA9PSBcInN0cmluZ1wiICYmIChvID0gYy5wYXJzZShvKSksIHRoaXMuX2RhdGEuY29uY2F0KG8pLCB0aGlzLl9uRGF0YUJ5dGVzICs9IG8uc2lnQnl0ZXM7XG4gIH0sIF9wcm9jZXNzOiBmdW5jdGlvbihvKSB7XG4gICAgdmFyIGwgPSB0aGlzLl9kYXRhLCBmID0gbC53b3JkcywgZCA9IGwuc2lnQnl0ZXMsIGcgPSB0aGlzLmJsb2NrU2l6ZSwgUyA9IGcgKiA0LCBiID0gZCAvIFM7XG4gICAgbyA/IGIgPSBlLmNlaWwoYikgOiBiID0gZS5tYXgoKGIgfCAwKSAtIHRoaXMuX21pbkJ1ZmZlclNpemUsIDApO1xuICAgIHZhciBEID0gYiAqIGcsIEEgPSBlLm1pbihEICogNCwgZCk7XG4gICAgaWYgKEQpIHtcbiAgICAgIGZvciAodmFyIEkgPSAwOyBJIDwgRDsgSSArPSBnKVxuICAgICAgICB0aGlzLl9kb1Byb2Nlc3NCbG9jayhmLCBJKTtcbiAgICAgIHZhciBtID0gZi5zcGxpY2UoMCwgRCk7XG4gICAgICBsLnNpZ0J5dGVzIC09IEE7XG4gICAgfVxuICAgIHJldHVybiBuZXcgbi5pbml0KG0sIEEpO1xuICB9LCBjbG9uZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIG8gPSBzLmNsb25lLmNhbGwodGhpcyk7XG4gICAgcmV0dXJuIG8uX2RhdGEgPSB0aGlzLl9kYXRhLmNsb25lKCksIG87XG4gIH0sIF9taW5CdWZmZXJTaXplOiAwIH0pO1xuICBpLkhhc2hlciA9IHkuZXh0ZW5kKHsgY2ZnOiBzLmV4dGVuZCgpLCBpbml0OiBmdW5jdGlvbihvKSB7XG4gICAgdGhpcy5jZmcgPSB0aGlzLmNmZy5leHRlbmQobyksIHRoaXMucmVzZXQoKTtcbiAgfSwgcmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHkucmVzZXQuY2FsbCh0aGlzKSwgdGhpcy5fZG9SZXNldCgpO1xuICB9LCB1cGRhdGU6IGZ1bmN0aW9uKG8pIHtcbiAgICByZXR1cm4gdGhpcy5fYXBwZW5kKG8pLCB0aGlzLl9wcm9jZXNzKCksIHRoaXM7XG4gIH0sIGZpbmFsaXplOiBmdW5jdGlvbihvKSB7XG4gICAgbyAmJiB0aGlzLl9hcHBlbmQobyk7XG4gICAgdmFyIGwgPSB0aGlzLl9kb0ZpbmFsaXplKCk7XG4gICAgcmV0dXJuIGw7XG4gIH0sIGJsb2NrU2l6ZTogNTEyIC8gMzIsIF9jcmVhdGVIZWxwZXI6IGZ1bmN0aW9uKG8pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24obCwgZikge1xuICAgICAgcmV0dXJuIG5ldyBvLmluaXQoZikuZmluYWxpemUobCk7XG4gICAgfTtcbiAgfSwgX2NyZWF0ZUhtYWNIZWxwZXI6IGZ1bmN0aW9uKG8pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24obCwgZikge1xuICAgICAgcmV0dXJuIG5ldyB2LkhNQUMuaW5pdChvLCBmKS5maW5hbGl6ZShsKTtcbiAgICB9O1xuICB9IH0pO1xuICB2YXIgdiA9IHIuYWxnbyA9IHt9O1xuICByZXR1cm4gcjtcbn0oTWF0aCk7XG4oZnVuY3Rpb24oZSkge1xuICB2YXIgcyA9IEssIHQgPSBzLmxpYiwgciA9IHQuQmFzZSwgaSA9IHQuV29yZEFycmF5LCBzID0gcy54NjQgPSB7fTtcbiAgcy5Xb3JkID0gci5leHRlbmQoeyBpbml0OiBmdW5jdGlvbihuLCBoKSB7XG4gICAgdGhpcy5oaWdoID0gbiwgdGhpcy5sb3cgPSBoO1xuICB9IH0pLCBzLldvcmRBcnJheSA9IHIuZXh0ZW5kKHsgaW5pdDogZnVuY3Rpb24obiwgaCkge1xuICAgIG4gPSB0aGlzLndvcmRzID0gbiB8fCBbXSwgdGhpcy5zaWdCeXRlcyA9IGggIT0gZSA/IGggOiA4ICogbi5sZW5ndGg7XG4gIH0sIHRvWDMyOiBmdW5jdGlvbigpIHtcbiAgICBmb3IgKHZhciBuID0gdGhpcy53b3JkcywgaCA9IG4ubGVuZ3RoLCB1ID0gW10sIHAgPSAwOyBwIDwgaDsgcCsrKSB7XG4gICAgICB2YXIgYyA9IG5bcF07XG4gICAgICB1LnB1c2goYy5oaWdoKSwgdS5wdXNoKGMubG93KTtcbiAgICB9XG4gICAgcmV0dXJuIGkuY3JlYXRlKHUsIHRoaXMuc2lnQnl0ZXMpO1xuICB9LCBjbG9uZTogZnVuY3Rpb24oKSB7XG4gICAgZm9yICh2YXIgbiA9IHIuY2xvbmUuY2FsbCh0aGlzKSwgaCA9IG4ud29yZHMgPSB0aGlzLndvcmRzLnNsaWNlKDApLCB1ID0gaC5sZW5ndGgsIHAgPSAwOyBwIDwgdTsgcCsrKSBoW3BdID0gaFtwXS5jbG9uZSgpO1xuICAgIHJldHVybiBuO1xuICB9IH0pO1xufSkoKTtcbksubGliLkNpcGhlciB8fCBmdW5jdGlvbihlKSB7XG4gIHZhciBsID0gSywgdCA9IGwubGliLCByID0gdC5CYXNlLCBpID0gdC5Xb3JkQXJyYXksIHMgPSB0LkJ1ZmZlcmVkQmxvY2tBbGdvcml0aG0sIG4gPSBsLmVuYy5CYXNlNjQsIGggPSBsLmFsZ28uRXZwS0RGLCB1ID0gdC5DaXBoZXIgPSBzLmV4dGVuZCh7IGNmZzogci5leHRlbmQoKSwgY3JlYXRlRW5jcnlwdG9yOiBmdW5jdGlvbihkLCBnKSB7XG4gICAgcmV0dXJuIHRoaXMuY3JlYXRlKHRoaXMuX0VOQ19YRk9STV9NT0RFLCBkLCBnKTtcbiAgfSwgY3JlYXRlRGVjcnlwdG9yOiBmdW5jdGlvbihkLCBnKSB7XG4gICAgcmV0dXJuIHRoaXMuY3JlYXRlKHRoaXMuX0RFQ19YRk9STV9NT0RFLCBkLCBnKTtcbiAgfSwgaW5pdDogZnVuY3Rpb24oZCwgZywgUykge1xuICAgIHRoaXMuY2ZnID0gdGhpcy5jZmcuZXh0ZW5kKFMpLCB0aGlzLl94Zm9ybU1vZGUgPSBkLCB0aGlzLl9rZXkgPSBnLCB0aGlzLnJlc2V0KCk7XG4gIH0sIHJlc2V0OiBmdW5jdGlvbigpIHtcbiAgICBzLnJlc2V0LmNhbGwodGhpcyksIHRoaXMuX2RvUmVzZXQoKTtcbiAgfSwgcHJvY2VzczogZnVuY3Rpb24oZCkge1xuICAgIHJldHVybiB0aGlzLl9hcHBlbmQoZCksIHRoaXMuX3Byb2Nlc3MoKTtcbiAgfSwgZmluYWxpemU6IGZ1bmN0aW9uKGQpIHtcbiAgICByZXR1cm4gZCAmJiB0aGlzLl9hcHBlbmQoZCksIHRoaXMuX2RvRmluYWxpemUoKTtcbiAgfSwga2V5U2l6ZTogNCwgaXZTaXplOiA0LCBfRU5DX1hGT1JNX01PREU6IDEsIF9ERUNfWEZPUk1fTU9ERTogMiwgX2NyZWF0ZUhlbHBlcjogZnVuY3Rpb24oZCkge1xuICAgIHJldHVybiB7IGVuY3J5cHQ6IGZ1bmN0aW9uKGcsIFMsIGIpIHtcbiAgICAgIHJldHVybiAodHlwZW9mIFMgPT0gXCJzdHJpbmdcIiA/IGYgOiBvKS5lbmNyeXB0KGQsIGcsIFMsIGIpO1xuICAgIH0sIGRlY3J5cHQ6IGZ1bmN0aW9uKGcsIFMsIGIpIHtcbiAgICAgIHJldHVybiAodHlwZW9mIFMgPT0gXCJzdHJpbmdcIiA/IGYgOiBvKS5kZWNyeXB0KGQsIGcsIFMsIGIpO1xuICAgIH0gfTtcbiAgfSB9KTtcbiAgdC5TdHJlYW1DaXBoZXIgPSB1LmV4dGVuZCh7IF9kb0ZpbmFsaXplOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fcHJvY2VzcyghMCk7XG4gIH0sIGJsb2NrU2l6ZTogMSB9KTtcbiAgdmFyIHYgPSBsLm1vZGUgPSB7fSwgcCA9IGZ1bmN0aW9uKGQsIGcsIFMpIHtcbiAgICB2YXIgYiA9IHRoaXMuX2l2O1xuICAgIGIgPyB0aGlzLl9pdiA9IGUgOiBiID0gdGhpcy5fcHJldkJsb2NrO1xuICAgIGZvciAodmFyIEQgPSAwOyBEIDwgUzsgRCsrKSBkW2cgKyBEXSBePSBiW0RdO1xuICB9LCBjID0gKHQuQmxvY2tDaXBoZXJNb2RlID0gci5leHRlbmQoeyBjcmVhdGVFbmNyeXB0b3I6IGZ1bmN0aW9uKGQsIGcpIHtcbiAgICByZXR1cm4gdGhpcy5FbmNyeXB0b3IuY3JlYXRlKGQsIGcpO1xuICB9LCBjcmVhdGVEZWNyeXB0b3I6IGZ1bmN0aW9uKGQsIGcpIHtcbiAgICByZXR1cm4gdGhpcy5EZWNyeXB0b3IuY3JlYXRlKGQsIGcpO1xuICB9LCBpbml0OiBmdW5jdGlvbihkLCBnKSB7XG4gICAgdGhpcy5fY2lwaGVyID0gZCwgdGhpcy5faXYgPSBnO1xuICB9IH0pKS5leHRlbmQoKTtcbiAgYy5FbmNyeXB0b3IgPSBjLmV4dGVuZCh7IHByb2Nlc3NCbG9jazogZnVuY3Rpb24oZCwgZykge1xuICAgIHZhciBTID0gdGhpcy5fY2lwaGVyLCBiID0gUy5ibG9ja1NpemU7XG4gICAgcC5jYWxsKHRoaXMsIGQsIGcsIGIpLCBTLmVuY3J5cHRCbG9jayhkLCBnKSwgdGhpcy5fcHJldkJsb2NrID0gZC5zbGljZShnLCBnICsgYik7XG4gIH0gfSksIGMuRGVjcnlwdG9yID0gYy5leHRlbmQoeyBwcm9jZXNzQmxvY2s6IGZ1bmN0aW9uKGQsIGcpIHtcbiAgICB2YXIgUyA9IHRoaXMuX2NpcGhlciwgYiA9IFMuYmxvY2tTaXplLCBEID0gZC5zbGljZShnLCBnICsgYik7XG4gICAgUy5kZWNyeXB0QmxvY2soXG4gICAgICBkLFxuICAgICAgZ1xuICAgICksIHAuY2FsbCh0aGlzLCBkLCBnLCBiKSwgdGhpcy5fcHJldkJsb2NrID0gRDtcbiAgfSB9KSwgdiA9IHYuQ0JDID0gYywgYyA9IChsLnBhZCA9IHt9KS5Qa2NzNyA9IHsgcGFkOiBmdW5jdGlvbihkLCBnKSB7XG4gICAgZm9yICh2YXIgUyA9IDQgKiBnLCBTID0gUyAtIGQuc2lnQnl0ZXMgJSBTLCBiID0gUyA8PCAyNCB8IFMgPDwgMTYgfCBTIDw8IDggfCBTLCBEID0gW10sIEEgPSAwOyBBIDwgUzsgQSArPSA0KSBELnB1c2goYik7XG4gICAgUyA9IGkuY3JlYXRlKEQsIFMpLCBkLmNvbmNhdChTKTtcbiAgfSwgdW5wYWQ6IGZ1bmN0aW9uKGQpIHtcbiAgICBkLnNpZ0J5dGVzIC09IGQud29yZHNbZC5zaWdCeXRlcyAtIDEgPj4+IDJdICYgMjU1O1xuICB9IH0sIHQuQmxvY2tDaXBoZXIgPSB1LmV4dGVuZCh7IGNmZzogdS5jZmcuZXh0ZW5kKHsgbW9kZTogdiwgcGFkZGluZzogYyB9KSwgcmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHUucmVzZXQuY2FsbCh0aGlzKTtcbiAgICB2YXIgZyA9IHRoaXMuY2ZnLCBkID0gZy5pdiwgZyA9IGcubW9kZTtcbiAgICBpZiAodGhpcy5feGZvcm1Nb2RlID09IHRoaXMuX0VOQ19YRk9STV9NT0RFKSB2YXIgUyA9IGcuY3JlYXRlRW5jcnlwdG9yO1xuICAgIGVsc2UgUyA9IGcuY3JlYXRlRGVjcnlwdG9yLCB0aGlzLl9taW5CdWZmZXJTaXplID0gMTtcbiAgICB0aGlzLl9tb2RlID0gUy5jYWxsKGcsIHRoaXMsIGQgJiYgZC53b3Jkcyk7XG4gIH0sIF9kb1Byb2Nlc3NCbG9jazogZnVuY3Rpb24oZCwgZykge1xuICAgIHRoaXMuX21vZGUucHJvY2Vzc0Jsb2NrKGQsIGcpO1xuICB9LCBfZG9GaW5hbGl6ZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGQgPSB0aGlzLmNmZy5wYWRkaW5nO1xuICAgIGlmICh0aGlzLl94Zm9ybU1vZGUgPT0gdGhpcy5fRU5DX1hGT1JNX01PREUpIHtcbiAgICAgIGQucGFkKHRoaXMuX2RhdGEsIHRoaXMuYmxvY2tTaXplKTtcbiAgICAgIHZhciBnID0gdGhpcy5fcHJvY2VzcyghMCk7XG4gICAgfSBlbHNlIGcgPSB0aGlzLl9wcm9jZXNzKCEwKSwgZC51bnBhZChnKTtcbiAgICByZXR1cm4gZztcbiAgfSwgYmxvY2tTaXplOiA0IH0pO1xuICB2YXIgeSA9IHQuQ2lwaGVyUGFyYW1zID0gci5leHRlbmQoeyBpbml0OiBmdW5jdGlvbihkKSB7XG4gICAgdGhpcy5taXhJbihkKTtcbiAgfSwgdG9TdHJpbmc6IGZ1bmN0aW9uKGQpIHtcbiAgICByZXR1cm4gKGQgfHwgdGhpcy5mb3JtYXR0ZXIpLnN0cmluZ2lmeSh0aGlzKTtcbiAgfSB9KSwgdiA9IChsLmZvcm1hdCA9IHt9KS5PcGVuU1NMID0geyBzdHJpbmdpZnk6IGZ1bmN0aW9uKGQpIHtcbiAgICB2YXIgZyA9IGQuY2lwaGVydGV4dDtcbiAgICByZXR1cm4gZCA9IGQuc2FsdCwgKGQgPyBpLmNyZWF0ZShbMTM5ODg5MzY4NCwgMTcwMTA3NjgzMV0pLmNvbmNhdChkKS5jb25jYXQoZykgOiBnKS50b1N0cmluZyhuKTtcbiAgfSwgcGFyc2U6IGZ1bmN0aW9uKGQpIHtcbiAgICBkID0gbi5wYXJzZShkKTtcbiAgICB2YXIgZyA9IGQud29yZHM7XG4gICAgaWYgKGdbMF0gPT0gMTM5ODg5MzY4NCAmJiBnWzFdID09IDE3MDEwNzY4MzEpIHtcbiAgICAgIHZhciBTID0gaS5jcmVhdGUoZy5zbGljZSgyLCA0KSk7XG4gICAgICBnLnNwbGljZSgwLCA0KSwgZC5zaWdCeXRlcyAtPSAxNjtcbiAgICB9XG4gICAgcmV0dXJuIHkuY3JlYXRlKHsgY2lwaGVydGV4dDogZCwgc2FsdDogUyB9KTtcbiAgfSB9LCBvID0gdC5TZXJpYWxpemFibGVDaXBoZXIgPSByLmV4dGVuZCh7IGNmZzogci5leHRlbmQoeyBmb3JtYXQ6IHYgfSksIGVuY3J5cHQ6IGZ1bmN0aW9uKGQsIGcsIFMsIGIpIHtcbiAgICBiID0gdGhpcy5jZmcuZXh0ZW5kKGIpO1xuICAgIHZhciBEID0gZC5jcmVhdGVFbmNyeXB0b3IoUywgYik7XG4gICAgcmV0dXJuIGcgPSBELmZpbmFsaXplKGcpLCBEID0gRC5jZmcsIHkuY3JlYXRlKHtcbiAgICAgIGNpcGhlcnRleHQ6IGcsXG4gICAgICBrZXk6IFMsXG4gICAgICBpdjogRC5pdixcbiAgICAgIGFsZ29yaXRobTogZCxcbiAgICAgIG1vZGU6IEQubW9kZSxcbiAgICAgIHBhZGRpbmc6IEQucGFkZGluZyxcbiAgICAgIGJsb2NrU2l6ZTogZC5ibG9ja1NpemUsXG4gICAgICBmb3JtYXR0ZXI6IGIuZm9ybWF0XG4gICAgfSk7XG4gIH0sIGRlY3J5cHQ6IGZ1bmN0aW9uKGQsIGcsIFMsIGIpIHtcbiAgICByZXR1cm4gYiA9IHRoaXMuY2ZnLmV4dGVuZChiKSwgZyA9IHRoaXMuX3BhcnNlKGcsIGIuZm9ybWF0KSwgZC5jcmVhdGVEZWNyeXB0b3IoUywgYikuZmluYWxpemUoZy5jaXBoZXJ0ZXh0KTtcbiAgfSwgX3BhcnNlOiBmdW5jdGlvbihkLCBnKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBkID09IFwic3RyaW5nXCIgPyBnLnBhcnNlKGQsIHRoaXMpIDogZDtcbiAgfSB9KSwgbCA9IChsLmtkZiA9IHt9KS5PcGVuU1NMID0geyBleGVjdXRlOiBmdW5jdGlvbihkLCBnLCBTLCBiKSB7XG4gICAgcmV0dXJuIGIgfHwgKGIgPSBpLnJhbmRvbSg4KSksIGQgPSBoLmNyZWF0ZSh7IGtleVNpemU6IGcgKyBTIH0pLmNvbXB1dGUoZCwgYiksIFMgPSBpLmNyZWF0ZShkLndvcmRzLnNsaWNlKGcpLCA0ICogUyksIGQuc2lnQnl0ZXMgPSA0ICogZywgeS5jcmVhdGUoeyBrZXk6IGQsIGl2OiBTLCBzYWx0OiBiIH0pO1xuICB9IH0sIGYgPSB0LlBhc3N3b3JkQmFzZWRDaXBoZXIgPSBvLmV4dGVuZCh7IGNmZzogby5jZmcuZXh0ZW5kKHsga2RmOiBsIH0pLCBlbmNyeXB0OiBmdW5jdGlvbihkLCBnLCBTLCBiKSB7XG4gICAgcmV0dXJuIGIgPSB0aGlzLmNmZy5leHRlbmQoYiksIFMgPSBiLmtkZi5leGVjdXRlKFMsIGQua2V5U2l6ZSwgZC5pdlNpemUpLCBiLml2ID0gUy5pdiwgZCA9IG8uZW5jcnlwdC5jYWxsKHRoaXMsIGQsIGcsIFMua2V5LCBiKSwgZC5taXhJbihTKSwgZDtcbiAgfSwgZGVjcnlwdDogZnVuY3Rpb24oZCwgZywgUywgYikge1xuICAgIHJldHVybiBiID0gdGhpcy5jZmcuZXh0ZW5kKGIpLCBnID0gdGhpcy5fcGFyc2UoZywgYi5mb3JtYXQpLCBTID0gYi5rZGYuZXhlY3V0ZShTLCBkLmtleVNpemUsIGQuaXZTaXplLCBnLnNhbHQpLCBiLml2ID0gUy5pdiwgby5kZWNyeXB0LmNhbGwodGhpcywgZCwgZywgUy5rZXksIGIpO1xuICB9IH0pO1xufSgpO1xuKGZ1bmN0aW9uKCkge1xuICBmb3IgKHZhciBlID0gSywgdCA9IGUubGliLkJsb2NrQ2lwaGVyLCBtID0gZS5hbGdvLCByID0gW10sIGkgPSBbXSwgcyA9IFtdLCBuID0gW10sIGggPSBbXSwgdSA9IFtdLCBwID0gW10sIGMgPSBbXSwgeSA9IFtdLCB2ID0gW10sIG8gPSBbXSwgbCA9IDA7IDI1NiA+IGw7IGwrKykgb1tsXSA9IDEyOCA+IGwgPyBsIDw8IDEgOiBsIDw8IDEgXiAyODM7XG4gIGZvciAodmFyIGYgPSAwLCBkID0gMCwgbCA9IDA7IDI1NiA+IGw7IGwrKykge1xuICAgIHZhciBnID0gZCBeIGQgPDwgMSBeIGQgPDwgMiBeIGQgPDwgMyBeIGQgPDwgNCwgZyA9IGcgPj4+IDggXiBnICYgMjU1IF4gOTk7XG4gICAgcltmXSA9IGcsIGlbZ10gPSBmO1xuICAgIHZhciBTID0gb1tmXSwgYiA9IG9bU10sIEQgPSBvW2JdLCBBID0gMjU3ICogb1tnXSBeIDE2ODQzMDA4ICogZztcbiAgICBzW2ZdID0gQSA8PCAyNCB8IEEgPj4+IDgsIG5bZl0gPSBBIDw8IDE2IHwgQSA+Pj4gMTYsIGhbZl0gPSBBIDw8IDggfCBBID4+PiAyNCwgdVtmXSA9IEEsIEEgPSAxNjg0MzAwOSAqIEQgXiA2NTUzNyAqIGIgXiAyNTcgKiBTIF4gMTY4NDMwMDggKiBmLCBwW2ddID0gQSA8PCAyNCB8IEEgPj4+IDgsIGNbZ10gPSBBIDw8IDE2IHwgQSA+Pj4gMTYsIHlbZ10gPSBBIDw8IDggfCBBID4+PiAyNCwgdltnXSA9IEEsIGYgPyAoZiA9IFMgXiBvW29bb1tEIF4gU11dXSwgZCBePSBvW29bZF1dKSA6IGYgPSBkID0gMTtcbiAgfVxuICB2YXIgSSA9IFtcbiAgICAwLFxuICAgIDEsXG4gICAgMixcbiAgICA0LFxuICAgIDgsXG4gICAgMTYsXG4gICAgMzIsXG4gICAgNjQsXG4gICAgMTI4LFxuICAgIDI3LFxuICAgIDU0XG4gIF0sIG0gPSBtLkFFUyA9IHQuZXh0ZW5kKHsgX2RvUmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgIGZvciAodmFyIHggPSB0aGlzLl9rZXksIEUgPSB4LndvcmRzLCB3ID0geC5zaWdCeXRlcyAvIDQsIHggPSA0ICogKCh0aGlzLl9uUm91bmRzID0gdyArIDYpICsgMSksIEYgPSB0aGlzLl9rZXlTY2hlZHVsZSA9IFtdLCBQID0gMDsgUCA8IHg7IFArKykgaWYgKFAgPCB3KSBGW1BdID0gRVtQXTtcbiAgICBlbHNlIHtcbiAgICAgIHZhciBUID0gRltQIC0gMV07XG4gICAgICBQICUgdyA/IDYgPCB3ICYmIFAgJSB3ID09IDQgJiYgKFQgPSByW1QgPj4+IDI0XSA8PCAyNCB8IHJbVCA+Pj4gMTYgJiAyNTVdIDw8IDE2IHwgcltUID4+PiA4ICYgMjU1XSA8PCA4IHwgcltUICYgMjU1XSkgOiAoVCA9IFQgPDwgOCB8IFQgPj4+IDI0LCBUID0gcltUID4+PiAyNF0gPDwgMjQgfCByW1QgPj4+IDE2ICYgMjU1XSA8PCAxNiB8IHJbVCA+Pj4gOCAmIDI1NV0gPDwgOCB8IHJbVCAmIDI1NV0sIFQgXj0gSVtQIC8gdyB8IDBdIDw8IDI0KSwgRltQXSA9IEZbUCAtIHddIF4gVDtcbiAgICB9XG4gICAgZm9yIChFID0gdGhpcy5faW52S2V5U2NoZWR1bGUgPSBbXSwgdyA9IDA7IHcgPCB4OyB3KyspIFAgPSB4IC0gdywgVCA9IHcgJSA0ID8gRltQXSA6IEZbUCAtIDRdLCBFW3ddID0gNCA+IHcgfHwgNCA+PSBQID8gVCA6IHBbcltUID4+PiAyNF1dIF4gY1tyW1QgPj4+IDE2ICYgMjU1XV0gXiB5W3JbVCA+Pj4gOCAmIDI1NV1dIF4gdltyW1QgJiAyNTVdXTtcbiAgfSwgZW5jcnlwdEJsb2NrOiBmdW5jdGlvbihFLCB3KSB7XG4gICAgdGhpcy5fZG9DcnlwdEJsb2NrKEUsIHcsIHRoaXMuX2tleVNjaGVkdWxlLCBzLCBuLCBoLCB1LCByKTtcbiAgfSwgZGVjcnlwdEJsb2NrOiBmdW5jdGlvbihFLCB3KSB7XG4gICAgdmFyIHggPSBFW3cgKyAxXTtcbiAgICBFW3cgKyAxXSA9IEVbdyArIDNdLCBFW3cgKyAzXSA9IHgsIHRoaXMuX2RvQ3J5cHRCbG9jayhFLCB3LCB0aGlzLl9pbnZLZXlTY2hlZHVsZSwgcCwgYywgeSwgdiwgaSksIHggPSBFW3cgKyAxXSwgRVt3ICsgMV0gPSBFW3cgKyAzXSwgRVt3ICsgM10gPSB4O1xuICB9LCBfZG9DcnlwdEJsb2NrOiBmdW5jdGlvbihFLCB3LCB4LCBGLCBQLCBULCBILCBDKSB7XG4gICAgZm9yICh2YXIgQiA9IHRoaXMuX25Sb3VuZHMsIG5lID0gRVt3XSBeIHhbMF0sIGhlID0gRVt3ICsgMV0gXiB4WzFdLCBzZSA9IEVbdyArIDJdIF4geFsyXSwgcmUgPSBFW3cgKyAzXSBeIHhbM10sIE8gPSA0LCBqID0gMTsgaiA8IEI7IGorKykgdmFyIGZlID0gRltuZSA+Pj4gMjRdIF4gUFtoZSA+Pj4gMTYgJiAyNTVdIF4gVFtzZSA+Pj4gOCAmIDI1NV0gXiBIW3JlICYgMjU1XSBeIHhbTysrXSwgWiA9IEZbaGUgPj4+IDI0XSBeIFBbc2UgPj4+IDE2ICYgMjU1XSBeIFRbcmUgPj4+IDggJiAyNTVdIF4gSFtuZSAmIDI1NV0gXiB4W08rK10sIFggPSBGW3NlID4+PiAyNF0gXiBQW3JlID4+PiAxNiAmIDI1NV0gXiBUW25lID4+PiA4ICYgMjU1XSBeIEhbaGUgJiAyNTVdIF4geFtPKytdLCByZSA9IEZbcmUgPj4+IDI0XSBeIFBbbmUgPj4+IDE2ICYgMjU1XSBeIFRbaGUgPj4+IDggJiAyNTVdIF4gSFtzZSAmIDI1NV0gXiB4W08rK10sIG5lID0gZmUsIGhlID0gWiwgc2UgPSBYO1xuICAgIGZlID0gKENbbmUgPj4+IDI0XSA8PCAyNCB8IENbaGUgPj4+IDE2ICYgMjU1XSA8PCAxNiB8IENbc2UgPj4+IDggJiAyNTVdIDw8IDggfCBDW3JlICYgMjU1XSkgXiB4W08rK10sIFogPSAoQ1toZSA+Pj4gMjRdIDw8IDI0IHwgQ1tzZSA+Pj4gMTYgJiAyNTVdIDw8IDE2IHwgQ1tyZSA+Pj4gOCAmIDI1NV0gPDwgOCB8IENbbmUgJiAyNTVdKSBeIHhbTysrXSwgWCA9IChDW3NlID4+PiAyNF0gPDwgMjQgfCBDW3JlID4+PiAxNiAmIDI1NV0gPDwgMTYgfCBDW25lID4+PiA4ICYgMjU1XSA8PCA4IHwgQ1toZSAmIDI1NV0pIF4geFtPKytdLCByZSA9IChDW3JlID4+PiAyNF0gPDwgMjQgfCBDW25lID4+PiAxNiAmIDI1NV0gPDwgMTYgfCBDW2hlID4+PiA4ICYgMjU1XSA8PCA4IHwgQ1tzZSAmIDI1NV0pIF4geFtPKytdLCBFW3ddID0gZmUsIEVbdyArIDFdID0gWiwgRVt3ICsgMl0gPSBYLCBFW3cgKyAzXSA9IHJlO1xuICB9LCBrZXlTaXplOiA4IH0pO1xuICBlLkFFUyA9IHQuX2NyZWF0ZUhlbHBlcihtKTtcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIGUobywgbCkge1xuICAgIHZhciBmID0gKHRoaXMuX2xCbG9jayA+Pj4gbyBeIHRoaXMuX3JCbG9jaykgJiBsO1xuICAgIHRoaXMuX3JCbG9jayBePSBmLCB0aGlzLl9sQmxvY2sgXj0gZiA8PCBvO1xuICB9XG4gIGZ1bmN0aW9uIHQobywgbCkge1xuICAgIHZhciBmID0gKHRoaXMuX3JCbG9jayA+Pj4gbyBeIHRoaXMuX2xCbG9jaykgJiBsO1xuICAgIHRoaXMuX2xCbG9jayBePSBmLCB0aGlzLl9yQmxvY2sgXj0gZiA8PCBvO1xuICB9XG4gIHZhciByID0gSywgcyA9IHIubGliLCBpID0gcy5Xb3JkQXJyYXksIHMgPSBzLkJsb2NrQ2lwaGVyLCBuID0gci5hbGdvLCBoID0gWzU3LCA0OSwgNDEsIDMzLCAyNSwgMTcsIDksIDEsIDU4LCA1MCwgNDIsIDM0LCAyNiwgMTgsIDEwLCAyLCA1OSwgNTEsIDQzLCAzNSwgMjcsIDE5LCAxMSwgMywgNjAsIDUyLCA0NCwgMzYsIDYzLCA1NSwgNDcsIDM5LCAzMSwgMjMsIDE1LCA3LCA2MiwgNTQsIDQ2LCAzOCwgMzAsIDIyLCAxNCwgNiwgNjEsIDUzLCA0NSwgMzcsIDI5LCAyMSwgMTMsIDUsIDI4LCAyMCwgMTIsIDRdLCB1ID0gW1xuICAgIDE0LFxuICAgIDE3LFxuICAgIDExLFxuICAgIDI0LFxuICAgIDEsXG4gICAgNSxcbiAgICAzLFxuICAgIDI4LFxuICAgIDE1LFxuICAgIDYsXG4gICAgMjEsXG4gICAgMTAsXG4gICAgMjMsXG4gICAgMTksXG4gICAgMTIsXG4gICAgNCxcbiAgICAyNixcbiAgICA4LFxuICAgIDE2LFxuICAgIDcsXG4gICAgMjcsXG4gICAgMjAsXG4gICAgMTMsXG4gICAgMixcbiAgICA0MSxcbiAgICA1MixcbiAgICAzMSxcbiAgICAzNyxcbiAgICA0NyxcbiAgICA1NSxcbiAgICAzMCxcbiAgICA0MCxcbiAgICA1MSxcbiAgICA0NSxcbiAgICAzMyxcbiAgICA0OCxcbiAgICA0NCxcbiAgICA0OSxcbiAgICAzOSxcbiAgICA1NixcbiAgICAzNCxcbiAgICA1MyxcbiAgICA0NixcbiAgICA0MixcbiAgICA1MCxcbiAgICAzNixcbiAgICAyOSxcbiAgICAzMlxuICBdLCBwID0gWzEsIDIsIDQsIDYsIDgsIDEwLCAxMiwgMTQsIDE1LCAxNywgMTksIDIxLCAyMywgMjUsIDI3LCAyOF0sIGMgPSBbe1xuICAgIDA6IDg0MjE4ODgsXG4gICAgMjY4NDM1NDU2OiAzMjc2OCxcbiAgICA1MzY4NzA5MTI6IDg0MjEzNzgsXG4gICAgODA1MzA2MzY4OiAyLFxuICAgIDEwNzM3NDE4MjQ6IDUxMixcbiAgICAxMzQyMTc3MjgwOiA4NDIxODkwLFxuICAgIDE2MTA2MTI3MzY6IDgzODkxMjIsXG4gICAgMTg3OTA0ODE5MjogODM4ODYwOCxcbiAgICAyMTQ3NDgzNjQ4OiA1MTQsXG4gICAgMjQxNTkxOTEwNDogODM4OTEyMCxcbiAgICAyNjg0MzU0NTYwOiAzMzI4MCxcbiAgICAyOTUyNzkwMDE2OiA4NDIxMzc2LFxuICAgIDMyMjEyMjU0NzI6IDMyNzcwLFxuICAgIDM0ODk2NjA5Mjg6IDgzODg2MTAsXG4gICAgMzc1ODA5NjM4NDogMCxcbiAgICA0MDI2NTMxODQwOiAzMzI4MixcbiAgICAxMzQyMTc3Mjg6IDAsXG4gICAgNDAyNjUzMTg0OiA4NDIxODkwLFxuICAgIDY3MTA4ODY0MDogMzMyODIsXG4gICAgOTM5NTI0MDk2OiAzMjc2OCxcbiAgICAxMjA3OTU5NTUyOiA4NDIxODg4LFxuICAgIDE0NzYzOTUwMDg6IDUxMixcbiAgICAxNzQ0ODMwNDY0OiA4NDIxMzc4LFxuICAgIDIwMTMyNjU5MjA6IDIsXG4gICAgMjI4MTcwMTM3NjogODM4OTEyMCxcbiAgICAyNTUwMTM2ODMyOiAzMzI4MCxcbiAgICAyODE4NTcyMjg4OiA4NDIxMzc2LFxuICAgIDMwODcwMDc3NDQ6IDgzODkxMjIsXG4gICAgMzM1NTQ0MzIwMDogODM4ODYxMCxcbiAgICAzNjIzODc4NjU2OiAzMjc3MCxcbiAgICAzODkyMzE0MTEyOiA1MTQsXG4gICAgNDE2MDc0OTU2ODogODM4ODYwOCxcbiAgICAxOiAzMjc2OCxcbiAgICAyNjg0MzU0NTc6IDIsXG4gICAgNTM2ODcwOTEzOiA4NDIxODg4LFxuICAgIDgwNTMwNjM2OTogODM4ODYwOCxcbiAgICAxMDczNzQxODI1OiA4NDIxMzc4LFxuICAgIDEzNDIxNzcyODE6IDMzMjgwLFxuICAgIDE2MTA2MTI3Mzc6IDUxMixcbiAgICAxODc5MDQ4MTkzOiA4Mzg5MTIyLFxuICAgIDIxNDc0ODM2NDk6IDg0MjE4OTAsXG4gICAgMjQxNTkxOTEwNTogODQyMTM3NixcbiAgICAyNjg0MzU0NTYxOiA4Mzg4NjEwLFxuICAgIDI5NTI3OTAwMTc6IDMzMjgyLFxuICAgIDMyMjEyMjU0NzM6IDUxNCxcbiAgICAzNDg5NjYwOTI5OiA4Mzg5MTIwLFxuICAgIDM3NTgwOTYzODU6IDMyNzcwLFxuICAgIDQwMjY1MzE4NDE6IDAsXG4gICAgMTM0MjE3NzI5OiA4NDIxODkwLFxuICAgIDQwMjY1MzE4NTogODQyMTM3NixcbiAgICA2NzEwODg2NDE6IDgzODg2MDgsXG4gICAgOTM5NTI0MDk3OiA1MTIsXG4gICAgMTIwNzk1OTU1MzogMzI3NjgsXG4gICAgMTQ3NjM5NTAwOTogODM4ODYxMCxcbiAgICAxNzQ0ODMwNDY1OiAyLFxuICAgIDIwMTMyNjU5MjE6IDMzMjgyLFxuICAgIDIyODE3MDEzNzc6IDMyNzcwLFxuICAgIDI1NTAxMzY4MzM6IDgzODkxMjIsXG4gICAgMjgxODU3MjI4OTogNTE0LFxuICAgIDMwODcwMDc3NDU6IDg0MjE4ODgsXG4gICAgMzM1NTQ0MzIwMTogODM4OTEyMCxcbiAgICAzNjIzODc4NjU3OiAwLFxuICAgIDM4OTIzMTQxMTM6IDMzMjgwLFxuICAgIDQxNjA3NDk1Njk6IDg0MjEzNzhcbiAgfSwge1xuICAgIDA6IDEwNzQyODI1MTIsXG4gICAgMTY3NzcyMTY6IDE2Mzg0LFxuICAgIDMzNTU0NDMyOiA1MjQyODgsXG4gICAgNTAzMzE2NDg6IDEwNzQyNjYxMjgsXG4gICAgNjcxMDg4NjQ6IDEwNzM3NDE4NDAsXG4gICAgODM4ODYwODA6IDEwNzQyODI0OTYsXG4gICAgMTAwNjYzMjk2OiAxMDczNzU4MjA4LFxuICAgIDExNzQ0MDUxMjogMTYsXG4gICAgMTM0MjE3NzI4OiA1NDA2NzIsXG4gICAgMTUwOTk0OTQ0OiAxMDczNzU4MjI0LFxuICAgIDE2Nzc3MjE2MDogMTA3Mzc0MTgyNCxcbiAgICAxODQ1NDkzNzY6IDU0MDY4OCxcbiAgICAyMDEzMjY1OTI6IDUyNDMwNCxcbiAgICAyMTgxMDM4MDg6IDAsXG4gICAgMjM0ODgxMDI0OiAxNjQwMCxcbiAgICAyNTE2NTgyNDA6IDEwNzQyNjYxMTIsXG4gICAgODM4ODYwODogMTA3Mzc1ODIwOCxcbiAgICAyNTE2NTgyNDogNTQwNjg4LFxuICAgIDQxOTQzMDQwOiAxNixcbiAgICA1ODcyMDI1NjogMTA3Mzc1ODIyNCxcbiAgICA3NTQ5NzQ3MjogMTA3NDI4MjUxMixcbiAgICA5MjI3NDY4ODogMTA3Mzc0MTgyNCxcbiAgICAxMDkwNTE5MDQ6IDUyNDI4OCxcbiAgICAxMjU4MjkxMjA6IDEwNzQyNjYxMjgsXG4gICAgMTQyNjA2MzM2OiA1MjQzMDQsXG4gICAgMTU5MzgzNTUyOiAwLFxuICAgIDE3NjE2MDc2ODogMTYzODQsXG4gICAgMTkyOTM3OTg0OiAxMDc0MjY2MTEyLFxuICAgIDIwOTcxNTIwMDogMTA3Mzc0MTg0MCxcbiAgICAyMjY0OTI0MTY6IDU0MDY3MixcbiAgICAyNDMyNjk2MzI6IDEwNzQyODI0OTYsXG4gICAgMjYwMDQ2ODQ4OiAxNjQwMCxcbiAgICAyNjg0MzU0NTY6IDAsXG4gICAgMjg1MjEyNjcyOiAxMDc0MjY2MTI4LFxuICAgIDMwMTk4OTg4ODogMTA3Mzc1ODIyNCxcbiAgICAzMTg3NjcxMDQ6IDEwNzQyODI0OTYsXG4gICAgMzM1NTQ0MzIwOiAxMDc0MjY2MTEyLFxuICAgIDM1MjMyMTUzNjogMTYsXG4gICAgMzY5MDk4NzUyOiA1NDA2ODgsXG4gICAgMzg1ODc1OTY4OiAxNjM4NCxcbiAgICA0MDI2NTMxODQ6IDE2NDAwLFxuICAgIDQxOTQzMDQwMDogNTI0Mjg4LFxuICAgIDQzNjIwNzYxNjogNTI0MzA0LFxuICAgIDQ1Mjk4NDgzMjogMTA3Mzc0MTg0MCxcbiAgICA0Njk3NjIwNDg6IDU0MDY3MixcbiAgICA0ODY1MzkyNjQ6IDEwNzM3NTgyMDgsXG4gICAgNTAzMzE2NDgwOiAxMDczNzQxODI0LFxuICAgIDUyMDA5MzY5NjogMTA3NDI4MjUxMixcbiAgICAyNzY4MjQwNjQ6IDU0MDY4OCxcbiAgICAyOTM2MDEyODA6IDUyNDI4OCxcbiAgICAzMTAzNzg0OTY6IDEwNzQyNjYxMTIsXG4gICAgMzI3MTU1NzEyOiAxNjM4NCxcbiAgICAzNDM5MzI5Mjg6IDEwNzM3NTgyMDgsXG4gICAgMzYwNzEwMTQ0OiAxMDc0MjgyNTEyLFxuICAgIDM3NzQ4NzM2MDogMTYsXG4gICAgMzk0MjY0NTc2OiAxMDczNzQxODI0LFxuICAgIDQxMTA0MTc5MjogMTA3NDI4MjQ5NixcbiAgICA0Mjc4MTkwMDg6IDEwNzM3NDE4NDAsXG4gICAgNDQ0NTk2MjI0OiAxMDczNzU4MjI0LFxuICAgIDQ2MTM3MzQ0MDogNTI0MzA0LFxuICAgIDQ3ODE1MDY1NjogMCxcbiAgICA0OTQ5Mjc4NzI6IDE2NDAwLFxuICAgIDUxMTcwNTA4ODogMTA3NDI2NjEyOCxcbiAgICA1Mjg0ODIzMDQ6IDU0MDY3MlxuICB9LCB7XG4gICAgMDogMjYwLFxuICAgIDEwNDg1NzY6IDAsXG4gICAgMjA5NzE1MjogNjcxMDkxMjAsXG4gICAgMzE0NTcyODogNjU3OTYsXG4gICAgNDE5NDMwNDogNjU1NDAsXG4gICAgNTI0Mjg4MDogNjcxMDg4NjgsXG4gICAgNjI5MTQ1NjogNjcxNzQ2NjAsXG4gICAgNzM0MDAzMjogNjcxNzQ0MDAsXG4gICAgODM4ODYwODogNjcxMDg4NjQsXG4gICAgOTQzNzE4NDogNjcxNzQ2NTYsXG4gICAgMTA0ODU3NjA6IDY1NzkyLFxuICAgIDExNTM0MzM2OiA2NzE3NDQwNCxcbiAgICAxMjU4MjkxMjogNjcxMDkxMjQsXG4gICAgMTM2MzE0ODg6IDY1NTM2LFxuICAgIDE0NjgwMDY0OiA0LFxuICAgIDE1NzI4NjQwOiAyNTYsXG4gICAgNTI0Mjg4OiA2NzE3NDY1NixcbiAgICAxNTcyODY0OiA2NzE3NDQwNCxcbiAgICAyNjIxNDQwOiAwLFxuICAgIDM2NzAwMTY6IDY3MTA5MTIwLFxuICAgIDQ3MTg1OTI6IDY3MTA4ODY4LFxuICAgIDU3NjcxNjg6IDY1NTM2LFxuICAgIDY4MTU3NDQ6IDY1NTQwLFxuICAgIDc4NjQzMjA6IDI2MCxcbiAgICA4OTEyODk2OiA0LFxuICAgIDk5NjE0NzI6IDI1NixcbiAgICAxMTAxMDA0ODogNjcxNzQ0MDAsXG4gICAgMTIwNTg2MjQ6IDY1Nzk2LFxuICAgIDEzMTA3MjAwOiA2NTc5MixcbiAgICAxNDE1NTc3NjogNjcxMDkxMjQsXG4gICAgMTUyMDQzNTI6IDY3MTc0NjYwLFxuICAgIDE2MjUyOTI4OiA2NzEwODg2NCxcbiAgICAxNjc3NzIxNjogNjcxNzQ2NTYsXG4gICAgMTc4MjU3OTI6IDY1NTQwLFxuICAgIDE4ODc0MzY4OiA2NTUzNixcbiAgICAxOTkyMjk0NDogNjcxMDkxMjAsXG4gICAgMjA5NzE1MjA6IDI1NixcbiAgICAyMjAyMDA5NjogNjcxNzQ2NjAsXG4gICAgMjMwNjg2NzI6IDY3MTA4ODY4LFxuICAgIDI0MTE3MjQ4OiAwLFxuICAgIDI1MTY1ODI0OiA2NzEwOTEyNCxcbiAgICAyNjIxNDQwMDogNjcxMDg4NjQsXG4gICAgMjcyNjI5NzY6IDQsXG4gICAgMjgzMTE1NTI6IDY1NzkyLFxuICAgIDI5MzYwMTI4OiA2NzE3NDQwMCxcbiAgICAzMDQwODcwNDogMjYwLFxuICAgIDMxNDU3MjgwOiA2NTc5NixcbiAgICAzMjUwNTg1NjogNjcxNzQ0MDQsXG4gICAgMTczMDE1MDQ6IDY3MTA4ODY0LFxuICAgIDE4MzUwMDgwOiAyNjAsXG4gICAgMTkzOTg2NTY6IDY3MTc0NjU2LFxuICAgIDIwNDQ3MjMyOiAwLFxuICAgIDIxNDk1ODA4OiA2NTU0MCxcbiAgICAyMjU0NDM4NDogNjcxMDkxMjAsXG4gICAgMjM1OTI5NjA6IDI1NixcbiAgICAyNDY0MTUzNjogNjcxNzQ0MDQsXG4gICAgMjU2OTAxMTI6IDY1NTM2LFxuICAgIDI2NzM4Njg4OiA2NzE3NDY2MCxcbiAgICAyNzc4NzI2NDogNjU3OTYsXG4gICAgMjg4MzU4NDA6IDY3MTA4ODY4LFxuICAgIDI5ODg0NDE2OiA2NzEwOTEyNCxcbiAgICAzMDkzMjk5MjogNjcxNzQ0MDAsXG4gICAgMzE5ODE1Njg6IDQsXG4gICAgMzMwMzAxNDQ6IDY1NzkyXG4gIH0sIHtcbiAgICAwOiAyMTUxNjgyMDQ4LFxuICAgIDY1NTM2OiAyMTQ3NDg3ODA4LFxuICAgIDEzMTA3MjogNDE5ODQ2NCxcbiAgICAxOTY2MDg6IDIxNTE2Nzc5NTIsXG4gICAgMjYyMTQ0OiAwLFxuICAgIDMyNzY4MDogNDE5ODQwMCxcbiAgICAzOTMyMTY6IDIxNDc0ODM3MTIsXG4gICAgNDU4NzUyOiA0MTk0MzY4LFxuICAgIDUyNDI4ODogMjE0NzQ4MzY0OCxcbiAgICA1ODk4MjQ6IDQxOTQzMDQsXG4gICAgNjU1MzYwOiA2NCxcbiAgICA3MjA4OTY6IDIxNDc0ODc3NDQsXG4gICAgNzg2NDMyOiAyMTUxNjc4MDE2LFxuICAgIDg1MTk2ODogNDE2MCxcbiAgICA5MTc1MDQ6IDQwOTYsXG4gICAgOTgzMDQwOiAyMTUxNjgyMTEyLFxuICAgIDMyNzY4OiAyMTQ3NDg3ODA4LFxuICAgIDk4MzA0OiA2NCxcbiAgICAxNjM4NDA6IDIxNTE2NzgwMTYsXG4gICAgMjI5Mzc2OiAyMTQ3NDg3NzQ0LFxuICAgIDI5NDkxMjogNDE5ODQwMCxcbiAgICAzNjA0NDg6IDIxNTE2ODIxMTIsXG4gICAgNDI1OTg0OiAwLFxuICAgIDQ5MTUyMDogMjE1MTY3Nzk1MixcbiAgICA1NTcwNTY6IDQwOTYsXG4gICAgNjIyNTkyOiAyMTUxNjgyMDQ4LFxuICAgIDY4ODEyODogNDE5NDMwNCxcbiAgICA3NTM2NjQ6IDQxNjAsXG4gICAgODE5MjAwOiAyMTQ3NDgzNjQ4LFxuICAgIDg4NDczNjogNDE5NDM2OCxcbiAgICA5NTAyNzI6IDQxOTg0NjQsXG4gICAgMTAxNTgwODogMjE0NzQ4MzcxMixcbiAgICAxMDQ4NTc2OiA0MTk0MzY4LFxuICAgIDExMTQxMTI6IDQxOTg0MDAsXG4gICAgMTE3OTY0ODogMjE0NzQ4MzcxMixcbiAgICAxMjQ1MTg0OiAwLFxuICAgIDEzMTA3MjA6IDQxNjAsXG4gICAgMTM3NjI1NjogMjE1MTY3ODAxNixcbiAgICAxNDQxNzkyOiAyMTUxNjgyMDQ4LFxuICAgIDE1MDczMjg6IDIxNDc0ODc4MDgsXG4gICAgMTU3Mjg2NDogMjE1MTY4MjExMixcbiAgICAxNjM4NDAwOiAyMTQ3NDgzNjQ4LFxuICAgIDE3MDM5MzY6IDIxNTE2Nzc5NTIsXG4gICAgMTc2OTQ3MjogNDE5ODQ2NCxcbiAgICAxODM1MDA4OiAyMTQ3NDg3NzQ0LFxuICAgIDE5MDA1NDQ6IDQxOTQzMDQsXG4gICAgMTk2NjA4MDogNjQsXG4gICAgMjAzMTYxNjogNDA5NixcbiAgICAxMDgxMzQ0OiAyMTUxNjc3OTUyLFxuICAgIDExNDY4ODA6IDIxNTE2ODIxMTIsXG4gICAgMTIxMjQxNjogMCxcbiAgICAxMjc3OTUyOiA0MTk4NDAwLFxuICAgIDEzNDM0ODg6IDQxOTQzNjgsXG4gICAgMTQwOTAyNDogMjE0NzQ4MzY0OCxcbiAgICAxNDc0NTYwOiAyMTQ3NDg3ODA4LFxuICAgIDE1NDAwOTY6IDY0LFxuICAgIDE2MDU2MzI6IDIxNDc0ODM3MTIsXG4gICAgMTY3MTE2ODogNDA5NixcbiAgICAxNzM2NzA0OiAyMTQ3NDg3NzQ0LFxuICAgIDE4MDIyNDA6IDIxNTE2NzgwMTYsXG4gICAgMTg2Nzc3NjogNDE2MCxcbiAgICAxOTMzMzEyOiAyMTUxNjgyMDQ4LFxuICAgIDE5OTg4NDg6IDQxOTQzMDQsXG4gICAgMjA2NDM4NDogNDE5ODQ2NFxuICB9LCB7XG4gICAgMDogMTI4LFxuICAgIDQwOTY6IDE3MDM5MzYwLFxuICAgIDgxOTI6IDI2MjE0NCxcbiAgICAxMjI4ODogNTM2ODcwOTEyLFxuICAgIDE2Mzg0OiA1MzcxMzMxODQsXG4gICAgMjA0ODA6IDE2Nzc3MzQ0LFxuICAgIDI0NTc2OiA1NTM2NDgyNTYsXG4gICAgMjg2NzI6IDI2MjI3MixcbiAgICAzMjc2ODogMTY3NzcyMTYsXG4gICAgMzY4NjQ6IDUzNzEzMzA1NixcbiAgICA0MDk2MDogNTM2ODcxMDQwLFxuICAgIDQ1MDU2OiA1NTM5MTA0MDAsXG4gICAgNDkxNTI6IDU1MzkxMDI3MixcbiAgICA1MzI0ODogMCxcbiAgICA1NzM0NDogMTcwMzk0ODgsXG4gICAgNjE0NDA6IDU1MzY0ODEyOCxcbiAgICAyMDQ4OiAxNzAzOTQ4OCxcbiAgICA2MTQ0OiA1NTM2NDgyNTYsXG4gICAgMTAyNDA6IDEyOCxcbiAgICAxNDMzNjogMTcwMzkzNjAsXG4gICAgMTg0MzI6IDI2MjE0NCxcbiAgICAyMjUyODogNTM3MTMzMTg0LFxuICAgIDI2NjI0OiA1NTM5MTAyNzIsXG4gICAgMzA3MjA6IDUzNjg3MDkxMixcbiAgICAzNDgxNjogNTM3MTMzMDU2LFxuICAgIDM4OTEyOiAwLFxuICAgIDQzMDA4OiA1NTM5MTA0MDAsXG4gICAgNDcxMDQ6IDE2Nzc3MzQ0LFxuICAgIDUxMjAwOiA1MzY4NzEwNDAsXG4gICAgNTUyOTY6IDU1MzY0ODEyOCxcbiAgICA1OTM5MjogMTY3NzcyMTYsXG4gICAgNjM0ODg6IDI2MjI3MixcbiAgICA2NTUzNjogMjYyMTQ0LFxuICAgIDY5NjMyOiAxMjgsXG4gICAgNzM3Mjg6IDUzNjg3MDkxMixcbiAgICA3NzgyNDogNTUzNjQ4MjU2LFxuICAgIDgxOTIwOiAxNjc3NzM0NCxcbiAgICA4NjAxNjogNTUzOTEwMjcyLFxuICAgIDkwMTEyOiA1MzcxMzMxODQsXG4gICAgOTQyMDg6IDE2Nzc3MjE2LFxuICAgIDk4MzA0OiA1NTM5MTA0MDAsXG4gICAgMTAyNDAwOiA1NTM2NDgxMjgsXG4gICAgMTA2NDk2OiAxNzAzOTM2MCxcbiAgICAxMTA1OTI6IDUzNzEzMzA1NixcbiAgICAxMTQ2ODg6IDI2MjI3MixcbiAgICAxMTg3ODQ6IDUzNjg3MTA0MCxcbiAgICAxMjI4ODA6IDAsXG4gICAgMTI2OTc2OiAxNzAzOTQ4OCxcbiAgICA2NzU4NDogNTUzNjQ4MjU2LFxuICAgIDcxNjgwOiAxNjc3NzIxNixcbiAgICA3NTc3NjogMTcwMzkzNjAsXG4gICAgNzk4NzI6IDUzNzEzMzE4NCxcbiAgICA4Mzk2ODogNTM2ODcwOTEyLFxuICAgIDg4MDY0OiAxNzAzOTQ4OCxcbiAgICA5MjE2MDogMTI4LFxuICAgIDk2MjU2OiA1NTM5MTAyNzIsXG4gICAgMTAwMzUyOiAyNjIyNzIsXG4gICAgMTA0NDQ4OiA1NTM5MTA0MDAsXG4gICAgMTA4NTQ0OiAwLFxuICAgIDExMjY0MDogNTUzNjQ4MTI4LFxuICAgIDExNjczNjogMTY3NzczNDQsXG4gICAgMTIwODMyOiAyNjIxNDQsXG4gICAgMTI0OTI4OiA1MzcxMzMwNTYsXG4gICAgMTI5MDI0OiA1MzY4NzEwNDBcbiAgfSwge1xuICAgIDA6IDI2ODQzNTQ2NCxcbiAgICAyNTY6IDgxOTIsXG4gICAgNTEyOiAyNzA1MzI2MDgsXG4gICAgNzY4OiAyNzA1NDA4MDgsXG4gICAgMTAyNDogMjY4NDQzNjQ4LFxuICAgIDEyODA6IDIwOTcxNTIsXG4gICAgMTUzNjogMjA5NzE2MCxcbiAgICAxNzkyOiAyNjg0MzU0NTYsXG4gICAgMjA0ODogMCxcbiAgICAyMzA0OiAyNjg0NDM2NTYsXG4gICAgMjU2MDogMjEwNTM0NCxcbiAgICAyODE2OiA4LFxuICAgIDMwNzI6IDI3MDUzMjYxNixcbiAgICAzMzI4OiAyMTA1MzUyLFxuICAgIDM1ODQ6IDgyMDAsXG4gICAgMzg0MDogMjcwNTQwODAwLFxuICAgIDEyODogMjcwNTMyNjA4LFxuICAgIDM4NDogMjcwNTQwODA4LFxuICAgIDY0MDogOCxcbiAgICA4OTY6IDIwOTcxNTIsXG4gICAgMTE1MjogMjEwNTM1MixcbiAgICAxNDA4OiAyNjg0MzU0NjQsXG4gICAgMTY2NDogMjY4NDQzNjQ4LFxuICAgIDE5MjA6IDgyMDAsXG4gICAgMjE3NjogMjA5NzE2MCxcbiAgICAyNDMyOiA4MTkyLFxuICAgIDI2ODg6IDI2ODQ0MzY1NixcbiAgICAyOTQ0OiAyNzA1MzI2MTYsXG4gICAgMzIwMDogMCxcbiAgICAzNDU2OiAyNzA1NDA4MDAsXG4gICAgMzcxMjogMjEwNTM0NCxcbiAgICAzOTY4OiAyNjg0MzU0NTYsXG4gICAgNDA5NjogMjY4NDQzNjQ4LFxuICAgIDQzNTI6IDI3MDUzMjYxNixcbiAgICA0NjA4OiAyNzA1NDA4MDgsXG4gICAgNDg2NDogODIwMCxcbiAgICA1MTIwOiAyMDk3MTUyLFxuICAgIDUzNzY6IDI2ODQzNTQ1NixcbiAgICA1NjMyOiAyNjg0MzU0NjQsXG4gICAgNTg4ODogMjEwNTM0NCxcbiAgICA2MTQ0OiAyMTA1MzUyLFxuICAgIDY0MDA6IDAsXG4gICAgNjY1NjogOCxcbiAgICA2OTEyOiAyNzA1MzI2MDgsXG4gICAgNzE2ODogODE5MixcbiAgICA3NDI0OiAyNjg0NDM2NTYsXG4gICAgNzY4MDogMjcwNTQwODAwLFxuICAgIDc5MzY6IDIwOTcxNjAsXG4gICAgNDIyNDogOCxcbiAgICA0NDgwOiAyMTA1MzQ0LFxuICAgIDQ3MzY6IDIwOTcxNTIsXG4gICAgNDk5MjogMjY4NDM1NDY0LFxuICAgIDUyNDg6IDI2ODQ0MzY0OCxcbiAgICA1NTA0OiA4MjAwLFxuICAgIDU3NjA6IDI3MDU0MDgwOCxcbiAgICA2MDE2OiAyNzA1MzI2MDgsXG4gICAgNjI3MjogMjcwNTQwODAwLFxuICAgIDY1Mjg6IDI3MDUzMjYxNixcbiAgICA2Nzg0OiA4MTkyLFxuICAgIDcwNDA6IDIxMDUzNTIsXG4gICAgNzI5NjogMjA5NzE2MCxcbiAgICA3NTUyOiAwLFxuICAgIDc4MDg6IDI2ODQzNTQ1NixcbiAgICA4MDY0OiAyNjg0NDM2NTZcbiAgfSwge1xuICAgIDA6IDEwNDg1NzYsXG4gICAgMTY6IDMzNTU1NDU3LFxuICAgIDMyOiAxMDI0LFxuICAgIDQ4OiAxMDQ5NjAxLFxuICAgIDY0OiAzNDYwNDAzMyxcbiAgICA4MDogMCxcbiAgICA5NjogMSxcbiAgICAxMTI6IDM0NjAzMDA5LFxuICAgIDEyODogMzM1NTU0NTYsXG4gICAgMTQ0OiAxMDQ4NTc3LFxuICAgIDE2MDogMzM1NTQ0MzMsXG4gICAgMTc2OiAzNDYwNDAzMixcbiAgICAxOTI6IDM0NjAzMDA4LFxuICAgIDIwODogMTAyNSxcbiAgICAyMjQ6IDEwNDk2MDAsXG4gICAgMjQwOiAzMzU1NDQzMixcbiAgICA4OiAzNDYwMzAwOSxcbiAgICAyNDogMCxcbiAgICA0MDogMzM1NTU0NTcsXG4gICAgNTY6IDM0NjA0MDMyLFxuICAgIDcyOiAxMDQ4NTc2LFxuICAgIDg4OiAzMzU1NDQzMyxcbiAgICAxMDQ6IDMzNTU0NDMyLFxuICAgIDEyMDogMTAyNSxcbiAgICAxMzY6IDEwNDk2MDEsXG4gICAgMTUyOiAzMzU1NTQ1NixcbiAgICAxNjg6IDM0NjAzMDA4LFxuICAgIDE4NDogMTA0ODU3NyxcbiAgICAyMDA6IDEwMjQsXG4gICAgMjE2OiAzNDYwNDAzMyxcbiAgICAyMzI6IDEsXG4gICAgMjQ4OiAxMDQ5NjAwLFxuICAgIDI1NjogMzM1NTQ0MzIsXG4gICAgMjcyOiAxMDQ4NTc2LFxuICAgIDI4ODogMzM1NTU0NTcsXG4gICAgMzA0OiAzNDYwMzAwOSxcbiAgICAzMjA6IDEwNDg1NzcsXG4gICAgMzM2OiAzMzU1NTQ1NixcbiAgICAzNTI6IDM0NjA0MDMyLFxuICAgIDM2ODogMTA0OTYwMSxcbiAgICAzODQ6IDEwMjUsXG4gICAgNDAwOiAzNDYwNDAzMyxcbiAgICA0MTY6IDEwNDk2MDAsXG4gICAgNDMyOiAxLFxuICAgIDQ0ODogMCxcbiAgICA0NjQ6IDM0NjAzMDA4LFxuICAgIDQ4MDogMzM1NTQ0MzMsXG4gICAgNDk2OiAxMDI0LFxuICAgIDI2NDogMTA0OTYwMCxcbiAgICAyODA6IDMzNTU1NDU3LFxuICAgIDI5NjogMzQ2MDMwMDksXG4gICAgMzEyOiAxLFxuICAgIDMyODogMzM1NTQ0MzIsXG4gICAgMzQ0OiAxMDQ4NTc2LFxuICAgIDM2MDogMTAyNSxcbiAgICAzNzY6IDM0NjA0MDMyLFxuICAgIDM5MjogMzM1NTQ0MzMsXG4gICAgNDA4OiAzNDYwMzAwOCxcbiAgICA0MjQ6IDAsXG4gICAgNDQwOiAzNDYwNDAzMyxcbiAgICA0NTY6IDEwNDk2MDEsXG4gICAgNDcyOiAxMDI0LFxuICAgIDQ4ODogMzM1NTU0NTYsXG4gICAgNTA0OiAxMDQ4NTc3XG4gIH0sIHtcbiAgICAwOiAxMzQyMTk4MDgsXG4gICAgMTogMTMxMDcyLFxuICAgIDI6IDEzNDIxNzcyOCxcbiAgICAzOiAzMixcbiAgICA0OiAxMzExMDQsXG4gICAgNTogMTM0MzUwODgwLFxuICAgIDY6IDEzNDM1MDg0OCxcbiAgICA3OiAyMDQ4LFxuICAgIDg6IDEzNDM0ODgwMCxcbiAgICA5OiAxMzQyMTk3NzYsXG4gICAgMTA6IDEzMzEyMCxcbiAgICAxMTogMTM0MzQ4ODMyLFxuICAgIDEyOiAyMDgwLFxuICAgIDEzOiAwLFxuICAgIDE0OiAxMzQyMTc3NjAsXG4gICAgMTU6IDEzMzE1MixcbiAgICAyMTQ3NDgzNjQ4OiAyMDQ4LFxuICAgIDIxNDc0ODM2NDk6IDEzNDM1MDg4MCxcbiAgICAyMTQ3NDgzNjUwOiAxMzQyMTk4MDgsXG4gICAgMjE0NzQ4MzY1MTogMTM0MjE3NzI4LFxuICAgIDIxNDc0ODM2NTI6IDEzNDM0ODgwMCxcbiAgICAyMTQ3NDgzNjUzOiAxMzMxMjAsXG4gICAgMjE0NzQ4MzY1NDogMTMzMTUyLFxuICAgIDIxNDc0ODM2NTU6IDMyLFxuICAgIDIxNDc0ODM2NTY6IDEzNDIxNzc2MCxcbiAgICAyMTQ3NDgzNjU3OiAyMDgwLFxuICAgIDIxNDc0ODM2NTg6IDEzMTEwNCxcbiAgICAyMTQ3NDgzNjU5OiAxMzQzNTA4NDgsXG4gICAgMjE0NzQ4MzY2MDogMCxcbiAgICAyMTQ3NDgzNjYxOiAxMzQzNDg4MzIsXG4gICAgMjE0NzQ4MzY2MjogMTM0MjE5Nzc2LFxuICAgIDIxNDc0ODM2NjM6IDEzMTA3MixcbiAgICAxNjogMTMzMTUyLFxuICAgIDE3OiAxMzQzNTA4NDgsXG4gICAgMTg6IDMyLFxuICAgIDE5OiAyMDQ4LFxuICAgIDIwOiAxMzQyMTk3NzYsXG4gICAgMjE6IDEzNDIxNzc2MCxcbiAgICAyMjogMTM0MzQ4ODMyLFxuICAgIDIzOiAxMzEwNzIsXG4gICAgMjQ6IDAsXG4gICAgMjU6IDEzMTEwNCxcbiAgICAyNjogMTM0MzQ4ODAwLFxuICAgIDI3OiAxMzQyMTk4MDgsXG4gICAgMjg6IDEzNDM1MDg4MCxcbiAgICAyOTogMTMzMTIwLFxuICAgIDMwOiAyMDgwLFxuICAgIDMxOiAxMzQyMTc3MjgsXG4gICAgMjE0NzQ4MzY2NDogMTMxMDcyLFxuICAgIDIxNDc0ODM2NjU6IDIwNDgsXG4gICAgMjE0NzQ4MzY2NjogMTM0MzQ4ODMyLFxuICAgIDIxNDc0ODM2Njc6IDEzMzE1MixcbiAgICAyMTQ3NDgzNjY4OiAzMixcbiAgICAyMTQ3NDgzNjY5OiAxMzQzNDg4MDAsXG4gICAgMjE0NzQ4MzY3MDogMTM0MjE3NzI4LFxuICAgIDIxNDc0ODM2NzE6IDEzNDIxOTgwOCxcbiAgICAyMTQ3NDgzNjcyOiAxMzQzNTA4ODAsXG4gICAgMjE0NzQ4MzY3MzogMTM0MjE3NzYwLFxuICAgIDIxNDc0ODM2NzQ6IDEzNDIxOTc3NixcbiAgICAyMTQ3NDgzNjc1OiAwLFxuICAgIDIxNDc0ODM2NzY6IDEzMzEyMCxcbiAgICAyMTQ3NDgzNjc3OiAyMDgwLFxuICAgIDIxNDc0ODM2Nzg6IDEzMTEwNCxcbiAgICAyMTQ3NDgzNjc5OiAxMzQzNTA4NDhcbiAgfV0sIHkgPSBbNDE2MDc0OTU2OSwgNTI4NDgyMzA0LCAzMzAzMDE0NCwgMjA2NDM4NCwgMTI5MDI0LCA4MDY0LCA1MDQsIDIxNDc0ODM2NzldLCB2ID0gbi5ERVMgPSBzLmV4dGVuZCh7IF9kb1Jlc2V0OiBmdW5jdGlvbigpIHtcbiAgICBmb3IgKHZhciBvID0gdGhpcy5fa2V5LndvcmRzLCBsID0gW10sIGYgPSAwOyA1NiA+IGY7IGYrKykge1xuICAgICAgdmFyIGQgPSBoW2ZdIC0gMTtcbiAgICAgIGxbZl0gPSBvW2QgPj4+IDVdID4+PiAzMSAtIGQgJSAzMiAmIDE7XG4gICAgfVxuICAgIGZvciAobyA9IHRoaXMuX3N1YktleXMgPSBbXSwgZCA9IDA7IDE2ID4gZDsgZCsrKSB7XG4gICAgICBmb3IgKHZhciBnID0gb1tkXSA9IFtdLCBTID0gcFtkXSwgZiA9IDA7IDI0ID4gZjsgZisrKSBnW2YgLyA2IHwgMF0gfD0gbFsodVtmXSAtIDEgKyBTKSAlIDI4XSA8PCAzMSAtIGYgJSA2LCBnWzQgKyAoZiAvIDYgfCAwKV0gfD0gbFsyOCArICh1W2YgKyAyNF0gLSAxICsgUykgJSAyOF0gPDwgMzEgLSBmICUgNjtcbiAgICAgIGZvciAoZ1swXSA9IGdbMF0gPDwgMSB8IGdbMF0gPj4+IDMxLCBmID0gMTsgNyA+IGY7IGYrKykgZ1tmXSA+Pj49IDQgKiAoZiAtIDEpICsgMztcbiAgICAgIGdbN10gPSBnWzddIDw8IDUgfCBnWzddID4+PiAyNztcbiAgICB9XG4gICAgZm9yIChsID0gdGhpcy5faW52U3ViS2V5cyA9IFtdLCBmID0gMDsgMTYgPiBmOyBmKyspIGxbZl0gPSBvWzE1IC0gZl07XG4gIH0sIGVuY3J5cHRCbG9jazogZnVuY3Rpb24obywgbCkge1xuICAgIHRoaXMuX2RvQ3J5cHRCbG9jayhvLCBsLCB0aGlzLl9zdWJLZXlzKTtcbiAgfSwgZGVjcnlwdEJsb2NrOiBmdW5jdGlvbihvLCBsKSB7XG4gICAgdGhpcy5fZG9DcnlwdEJsb2NrKG8sIGwsIHRoaXMuX2ludlN1YktleXMpO1xuICB9LCBfZG9DcnlwdEJsb2NrOiBmdW5jdGlvbihvLCBsLCBmKSB7XG4gICAgdGhpcy5fbEJsb2NrID0gb1tsXSwgdGhpcy5fckJsb2NrID0gb1tsICsgMV0sIGUuY2FsbCh0aGlzLCA0LCAyNTI2NDUxMzUpLCBlLmNhbGwodGhpcywgMTYsIDY1NTM1KSwgdC5jYWxsKHRoaXMsIDIsIDg1ODk5MzQ1OSksIHQuY2FsbCh0aGlzLCA4LCAxNjcxMTkzNSksIGUuY2FsbCh0aGlzLCAxLCAxNDMxNjU1NzY1KTtcbiAgICBmb3IgKHZhciBkID0gMDsgMTYgPiBkOyBkKyspIHtcbiAgICAgIGZvciAodmFyIGcgPSBmW2RdLCBTID0gdGhpcy5fbEJsb2NrLCBiID0gdGhpcy5fckJsb2NrLCBEID0gMCwgQSA9IDA7IDggPiBBOyBBKyspIEQgfD0gY1tBXVsoKGIgXiBnW0FdKSAmIHlbQV0pID4+PiAwXTtcbiAgICAgIHRoaXMuX2xCbG9jayA9IGIsIHRoaXMuX3JCbG9jayA9IFMgXiBEO1xuICAgIH1cbiAgICBmID0gdGhpcy5fbEJsb2NrLCB0aGlzLl9sQmxvY2sgPSB0aGlzLl9yQmxvY2ssIHRoaXMuX3JCbG9jayA9IGYsIGUuY2FsbCh0aGlzLCAxLCAxNDMxNjU1NzY1KSwgdC5jYWxsKHRoaXMsIDgsIDE2NzExOTM1KSwgdC5jYWxsKHRoaXMsIDIsIDg1ODk5MzQ1OSksIGUuY2FsbCh0aGlzLCAxNiwgNjU1MzUpLCBlLmNhbGwodGhpcywgNCwgMjUyNjQ1MTM1KSwgb1tsXSA9IHRoaXMuX2xCbG9jaywgb1tsICsgMV0gPSB0aGlzLl9yQmxvY2s7XG4gIH0sIGtleVNpemU6IDIsIGl2U2l6ZTogMiwgYmxvY2tTaXplOiAyIH0pO1xuICByLkRFUyA9IHMuX2NyZWF0ZUhlbHBlcih2KSwgbiA9IG4uVHJpcGxlREVTID0gcy5leHRlbmQoeyBfZG9SZXNldDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIG8gPSB0aGlzLl9rZXkud29yZHM7XG4gICAgdGhpcy5fZGVzMSA9IHYuY3JlYXRlRW5jcnlwdG9yKGkuY3JlYXRlKG8uc2xpY2UoMCwgMikpKSwgdGhpcy5fZGVzMiA9IHYuY3JlYXRlRW5jcnlwdG9yKGkuY3JlYXRlKG8uc2xpY2UoMiwgNCkpKSwgdGhpcy5fZGVzMyA9IHYuY3JlYXRlRW5jcnlwdG9yKGkuY3JlYXRlKG8uc2xpY2UoNCwgNikpKTtcbiAgfSwgZW5jcnlwdEJsb2NrOiBmdW5jdGlvbihvLCBsKSB7XG4gICAgdGhpcy5fZGVzMS5lbmNyeXB0QmxvY2sobywgbCksIHRoaXMuX2RlczIuZGVjcnlwdEJsb2NrKG8sIGwpLCB0aGlzLl9kZXMzLmVuY3J5cHRCbG9jayhvLCBsKTtcbiAgfSwgZGVjcnlwdEJsb2NrOiBmdW5jdGlvbihvLCBsKSB7XG4gICAgdGhpcy5fZGVzMy5kZWNyeXB0QmxvY2sobywgbCksIHRoaXMuX2RlczIuZW5jcnlwdEJsb2NrKG8sIGwpLCB0aGlzLl9kZXMxLmRlY3J5cHRCbG9jayhvLCBsKTtcbiAgfSwga2V5U2l6ZTogNiwgaXZTaXplOiAyLCBibG9ja1NpemU6IDIgfSksIHIuVHJpcGxlREVTID0gcy5fY3JlYXRlSGVscGVyKG4pO1xufSkoKTtcbihmdW5jdGlvbigpIHtcbiAgdmFyIGUgPSBLLCB0ID0gZS5saWIuV29yZEFycmF5O1xuICBlLmVuYy5CYXNlNjQgPSB7IHN0cmluZ2lmeTogZnVuY3Rpb24ocikge1xuICAgIHZhciBpID0gci53b3JkcywgcyA9IHIuc2lnQnl0ZXMsIG4gPSB0aGlzLl9tYXA7XG4gICAgci5jbGFtcCgpLCByID0gW107XG4gICAgZm9yICh2YXIgaCA9IDA7IGggPCBzOyBoICs9IDMpIGZvciAodmFyIHUgPSAoaVtoID4+PiAyXSA+Pj4gMjQgLSA4ICogKGggJSA0KSAmIDI1NSkgPDwgMTYgfCAoaVtoICsgMSA+Pj4gMl0gPj4+IDI0IC0gOCAqICgoaCArIDEpICUgNCkgJiAyNTUpIDw8IDggfCBpW2ggKyAyID4+PiAyXSA+Pj4gMjQgLSA4ICogKChoICsgMikgJSA0KSAmIDI1NSwgcCA9IDA7IDQgPiBwICYmIGggKyAwLjc1ICogcCA8IHM7IHArKykgci5wdXNoKG4uY2hhckF0KHUgPj4+IDYgKiAoMyAtIHApICYgNjMpKTtcbiAgICBpZiAoaSA9IG4uY2hhckF0KDY0KSkgZm9yICg7IHIubGVuZ3RoICUgNDsgKSByLnB1c2goaSk7XG4gICAgcmV0dXJuIHIuam9pbihcIlwiKTtcbiAgfSwgcGFyc2U6IGZ1bmN0aW9uKHIpIHtcbiAgICB2YXIgaSA9IHIubGVuZ3RoLCBzID0gdGhpcy5fbWFwLCBuID0gcy5jaGFyQXQoNjQpO1xuICAgIG4gJiYgKG4gPSByLmluZGV4T2YobiksIG4gIT0gLTEgJiYgKGkgPSBuKSk7XG4gICAgZm9yICh2YXIgbiA9IFtdLCBoID0gMCwgdSA9IDA7IHUgPCBpOyB1KyspIGlmICh1ICUgNCkge1xuICAgICAgdmFyIHAgPSBzLmluZGV4T2Yoci5jaGFyQXQodSAtIDEpKSA8PCAyICogKHUgJSA0KSwgYyA9IHMuaW5kZXhPZihyLmNoYXJBdCh1KSkgPj4+IDYgLSAyICogKHUgJSA0KTtcbiAgICAgIG5baCA+Pj4gMl0gfD0gKHAgfCBjKSA8PCAyNCAtIDggKiAoaCAlIDQpLCBoKys7XG4gICAgfVxuICAgIHJldHVybiB0LmNyZWF0ZShuLCBoKTtcbiAgfSwgX21hcDogXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPVwiIH07XG59KSgpO1xuKGZ1bmN0aW9uKGUpIHtcbiAgZnVuY3Rpb24gdCh2LCBvLCBsLCBmLCBkLCBnLCBTKSB7XG4gICAgcmV0dXJuIHYgPSB2ICsgKG8gJiBsIHwgfm8gJiBmKSArIGQgKyBTLCAodiA8PCBnIHwgdiA+Pj4gMzIgLSBnKSArIG87XG4gIH1cbiAgZnVuY3Rpb24gcih2LCBvLCBsLCBmLCBkLCBnLCBTKSB7XG4gICAgcmV0dXJuIHYgPSB2ICsgKG8gJiBmIHwgbCAmIH5mKSArIGQgKyBTLCAodiA8PCBnIHwgdiA+Pj4gMzIgLSBnKSArIG87XG4gIH1cbiAgZnVuY3Rpb24gaSh2LCBvLCBsLCBmLCBkLCBnLCBTKSB7XG4gICAgcmV0dXJuIHYgPSB2ICsgKG8gXiBsIF4gZikgKyBkICsgUywgKHYgPDwgZyB8IHYgPj4+IDMyIC0gZykgKyBvO1xuICB9XG4gIGZ1bmN0aW9uIHModiwgbywgbCwgZiwgZCwgZywgUykge1xuICAgIHJldHVybiB2ID0gdiArIChsIF4gKG8gfCB+ZikpICsgZCArIFMsICh2IDw8IGcgfCB2ID4+PiAzMiAtIGcpICsgbztcbiAgfVxuICBmb3IgKHZhciBuID0gSywgcCA9IG4ubGliLCBoID0gcC5Xb3JkQXJyYXksIHUgPSBwLkhhc2hlciwgcCA9IG4uYWxnbywgYyA9IFtdLCB5ID0gMDsgNjQgPiB5OyB5KyspIGNbeV0gPSA0Mjk0OTY3Mjk2ICogZS5hYnMoZS5zaW4oeSArIDEpKSB8IDA7XG4gIHAgPSBwLk1ENSA9IHUuZXh0ZW5kKHtcbiAgICBfZG9SZXNldDogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLl9oYXNoID0gbmV3IGguaW5pdChbMTczMjU4NDE5MywgNDAyMzIzMzQxNywgMjU2MjM4MzEwMiwgMjcxNzMzODc4XSk7XG4gICAgfSxcbiAgICBfZG9Qcm9jZXNzQmxvY2s6IGZ1bmN0aW9uKHYsIG8pIHtcbiAgICAgIGZvciAodmFyIGwgPSAwOyAxNiA+IGw7IGwrKykge1xuICAgICAgICB2YXIgZiA9IG8gKyBsLCBkID0gdltmXTtcbiAgICAgICAgdltmXSA9IChkIDw8IDggfCBkID4+PiAyNCkgJiAxNjcxMTkzNSB8IChkIDw8IDI0IHwgZCA+Pj4gOCkgJiA0Mjc4MjU1MzYwO1xuICAgICAgfVxuICAgICAgdmFyIGwgPSB0aGlzLl9oYXNoLndvcmRzLCBmID0gdltvICsgMF0sIGQgPSB2W28gKyAxXSwgZyA9IHZbbyArIDJdLCBTID0gdltvICsgM10sIGIgPSB2W28gKyA0XSwgRCA9IHZbbyArIDVdLCBBID0gdltvICsgNl0sIEkgPSB2W28gKyA3XSwgbSA9IHZbbyArIDhdLCBFID0gdltvICsgOV0sIHcgPSB2W28gKyAxMF0sIHggPSB2W28gKyAxMV0sIEYgPSB2W28gKyAxMl0sIFAgPSB2W28gKyAxM10sIFQgPSB2W28gKyAxNF0sIEggPSB2W28gKyAxNV0sIEMgPSBsWzBdLCBqID0gbFsxXSwgTyA9IGxbMl0sIEIgPSBsWzNdLCBDID0gdChDLCBqLCBPLCBCLCBmLCA3LCBjWzBdKSwgQiA9IHQoQiwgQywgaiwgTywgZCwgMTIsIGNbMV0pLCBPID0gdChPLCBCLCBDLCBqLCBnLCAxNywgY1syXSksIGogPSB0KGosIE8sIEIsIEMsIFMsIDIyLCBjWzNdKSwgQyA9IHQoQywgaiwgTywgQiwgYiwgNywgY1s0XSksIEIgPSB0KEIsIEMsIGosIE8sIEQsIDEyLCBjWzVdKSwgTyA9IHQoTywgQiwgQywgaiwgQSwgMTcsIGNbNl0pLCBqID0gdChqLCBPLCBCLCBDLCBJLCAyMiwgY1s3XSksIEMgPSB0KEMsIGosIE8sIEIsIG0sIDcsIGNbOF0pLCBCID0gdChCLCBDLCBqLCBPLCBFLCAxMiwgY1s5XSksIE8gPSB0KE8sIEIsIEMsIGosIHcsIDE3LCBjWzEwXSksIGogPSB0KGosIE8sIEIsIEMsIHgsIDIyLCBjWzExXSksIEMgPSB0KEMsIGosIE8sIEIsIEYsIDcsIGNbMTJdKSwgQiA9IHQoQiwgQywgaiwgTywgUCwgMTIsIGNbMTNdKSwgTyA9IHQoTywgQiwgQywgaiwgVCwgMTcsIGNbMTRdKSwgaiA9IHQoaiwgTywgQiwgQywgSCwgMjIsIGNbMTVdKSwgQyA9IHIoQywgaiwgTywgQiwgZCwgNSwgY1sxNl0pLCBCID0gcihCLCBDLCBqLCBPLCBBLCA5LCBjWzE3XSksIE8gPSByKE8sIEIsIEMsIGosIHgsIDE0LCBjWzE4XSksIGogPSByKGosIE8sIEIsIEMsIGYsIDIwLCBjWzE5XSksIEMgPSByKEMsIGosIE8sIEIsIEQsIDUsIGNbMjBdKSwgQiA9IHIoQiwgQywgaiwgTywgdywgOSwgY1syMV0pLCBPID0gcihPLCBCLCBDLCBqLCBILCAxNCwgY1syMl0pLCBqID0gcihqLCBPLCBCLCBDLCBiLCAyMCwgY1syM10pLCBDID0gcihDLCBqLCBPLCBCLCBFLCA1LCBjWzI0XSksIEIgPSByKEIsIEMsIGosIE8sIFQsIDksIGNbMjVdKSwgTyA9IHIoTywgQiwgQywgaiwgUywgMTQsIGNbMjZdKSwgaiA9IHIoaiwgTywgQiwgQywgbSwgMjAsIGNbMjddKSwgQyA9IHIoQywgaiwgTywgQiwgUCwgNSwgY1syOF0pLCBCID0gcihcbiAgICAgICAgQixcbiAgICAgICAgQyxcbiAgICAgICAgaixcbiAgICAgICAgTyxcbiAgICAgICAgZyxcbiAgICAgICAgOSxcbiAgICAgICAgY1syOV1cbiAgICAgICksIE8gPSByKE8sIEIsIEMsIGosIEksIDE0LCBjWzMwXSksIGogPSByKGosIE8sIEIsIEMsIEYsIDIwLCBjWzMxXSksIEMgPSBpKEMsIGosIE8sIEIsIEQsIDQsIGNbMzJdKSwgQiA9IGkoQiwgQywgaiwgTywgbSwgMTEsIGNbMzNdKSwgTyA9IGkoTywgQiwgQywgaiwgeCwgMTYsIGNbMzRdKSwgaiA9IGkoaiwgTywgQiwgQywgVCwgMjMsIGNbMzVdKSwgQyA9IGkoQywgaiwgTywgQiwgZCwgNCwgY1szNl0pLCBCID0gaShCLCBDLCBqLCBPLCBiLCAxMSwgY1szN10pLCBPID0gaShPLCBCLCBDLCBqLCBJLCAxNiwgY1szOF0pLCBqID0gaShqLCBPLCBCLCBDLCB3LCAyMywgY1szOV0pLCBDID0gaShDLCBqLCBPLCBCLCBQLCA0LCBjWzQwXSksIEIgPSBpKEIsIEMsIGosIE8sIGYsIDExLCBjWzQxXSksIE8gPSBpKE8sIEIsIEMsIGosIFMsIDE2LCBjWzQyXSksIGogPSBpKGosIE8sIEIsIEMsIEEsIDIzLCBjWzQzXSksIEMgPSBpKEMsIGosIE8sIEIsIEUsIDQsIGNbNDRdKSwgQiA9IGkoQiwgQywgaiwgTywgRiwgMTEsIGNbNDVdKSwgTyA9IGkoTywgQiwgQywgaiwgSCwgMTYsIGNbNDZdKSwgaiA9IGkoaiwgTywgQiwgQywgZywgMjMsIGNbNDddKSwgQyA9IHMoQywgaiwgTywgQiwgZiwgNiwgY1s0OF0pLCBCID0gcyhCLCBDLCBqLCBPLCBJLCAxMCwgY1s0OV0pLCBPID0gcyhcbiAgICAgICAgTyxcbiAgICAgICAgQixcbiAgICAgICAgQyxcbiAgICAgICAgaixcbiAgICAgICAgVCxcbiAgICAgICAgMTUsXG4gICAgICAgIGNbNTBdXG4gICAgICApLCBqID0gcyhqLCBPLCBCLCBDLCBELCAyMSwgY1s1MV0pLCBDID0gcyhDLCBqLCBPLCBCLCBGLCA2LCBjWzUyXSksIEIgPSBzKEIsIEMsIGosIE8sIFMsIDEwLCBjWzUzXSksIE8gPSBzKE8sIEIsIEMsIGosIHcsIDE1LCBjWzU0XSksIGogPSBzKGosIE8sIEIsIEMsIGQsIDIxLCBjWzU1XSksIEMgPSBzKEMsIGosIE8sIEIsIG0sIDYsIGNbNTZdKSwgQiA9IHMoQiwgQywgaiwgTywgSCwgMTAsIGNbNTddKSwgTyA9IHMoTywgQiwgQywgaiwgQSwgMTUsIGNbNThdKSwgaiA9IHMoaiwgTywgQiwgQywgUCwgMjEsIGNbNTldKSwgQyA9IHMoQywgaiwgTywgQiwgYiwgNiwgY1s2MF0pLCBCID0gcyhCLCBDLCBqLCBPLCB4LCAxMCwgY1s2MV0pLCBPID0gcyhPLCBCLCBDLCBqLCBnLCAxNSwgY1s2Ml0pLCBqID0gcyhqLCBPLCBCLCBDLCBFLCAyMSwgY1s2M10pO1xuICAgICAgbFswXSA9IGxbMF0gKyBDIHwgMCwgbFsxXSA9IGxbMV0gKyBqIHwgMCwgbFsyXSA9IGxbMl0gKyBPIHwgMCwgbFszXSA9IGxbM10gKyBCIHwgMDtcbiAgICB9LFxuICAgIF9kb0ZpbmFsaXplOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciB2ID0gdGhpcy5fZGF0YSwgbyA9IHYud29yZHMsIGwgPSA4ICogdGhpcy5fbkRhdGFCeXRlcywgZiA9IDggKiB2LnNpZ0J5dGVzO1xuICAgICAgb1tmID4+PiA1XSB8PSAxMjggPDwgMjQgLSBmICUgMzI7XG4gICAgICB2YXIgZCA9IGUuZmxvb3IobCAvIDQyOTQ5NjcyOTYpO1xuICAgICAgZm9yIChvWyhmICsgNjQgPj4+IDkgPDwgNCkgKyAxNV0gPSAoZCA8PCA4IHwgZCA+Pj4gMjQpICYgMTY3MTE5MzUgfCAoZCA8PCAyNCB8IGQgPj4+IDgpICYgNDI3ODI1NTM2MCwgb1soZiArIDY0ID4+PiA5IDw8IDQpICsgMTRdID0gKGwgPDwgOCB8IGwgPj4+IDI0KSAmIDE2NzExOTM1IHwgKGwgPDwgMjQgfCBsID4+PiA4KSAmIDQyNzgyNTUzNjAsIHYuc2lnQnl0ZXMgPSA0ICogKG8ubGVuZ3RoICsgMSksIHRoaXMuX3Byb2Nlc3MoKSwgdiA9IHRoaXMuX2hhc2gsIG8gPSB2LndvcmRzLCBsID0gMDsgNCA+IGw7IGwrKykgZiA9IG9bbF0sIG9bbF0gPSAoZiA8PCA4IHwgZiA+Pj4gMjQpICYgMTY3MTE5MzUgfCAoZiA8PCAyNCB8IGYgPj4+IDgpICYgNDI3ODI1NTM2MDtcbiAgICAgIHJldHVybiB2O1xuICAgIH0sXG4gICAgY2xvbmU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHYgPSB1LmNsb25lLmNhbGwodGhpcyk7XG4gICAgICByZXR1cm4gdi5faGFzaCA9IHRoaXMuX2hhc2guY2xvbmUoKSwgdjtcbiAgICB9XG4gIH0pLCBuLk1ENSA9IHUuX2NyZWF0ZUhlbHBlcihwKSwgbi5IbWFjTUQ1ID0gdS5fY3JlYXRlSG1hY0hlbHBlcihwKTtcbn0pKE1hdGgpO1xuKGZ1bmN0aW9uKCkge1xuICB2YXIgZSA9IEssIHMgPSBlLmxpYiwgdCA9IHMuV29yZEFycmF5LCByID0gcy5IYXNoZXIsIGkgPSBbXSwgcyA9IGUuYWxnby5TSEExID0gci5leHRlbmQoeyBfZG9SZXNldDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5faGFzaCA9IG5ldyB0LmluaXQoWzE3MzI1ODQxOTMsIDQwMjMyMzM0MTcsIDI1NjIzODMxMDIsIDI3MTczMzg3OCwgMzI4NTM3NzUyMF0pO1xuICB9LCBfZG9Qcm9jZXNzQmxvY2s6IGZ1bmN0aW9uKG4sIGgpIHtcbiAgICBmb3IgKHZhciB1ID0gdGhpcy5faGFzaC53b3JkcywgcCA9IHVbMF0sIGMgPSB1WzFdLCB5ID0gdVsyXSwgdiA9IHVbM10sIG8gPSB1WzRdLCBsID0gMDsgODAgPiBsOyBsKyspIHtcbiAgICAgIGlmICgxNiA+IGwpIGlbbF0gPSBuW2ggKyBsXSB8IDA7XG4gICAgICBlbHNlIHtcbiAgICAgICAgdmFyIGYgPSBpW2wgLSAzXSBeIGlbbCAtIDhdIF4gaVtsIC0gMTRdIF4gaVtsIC0gMTZdO1xuICAgICAgICBpW2xdID0gZiA8PCAxIHwgZiA+Pj4gMzE7XG4gICAgICB9XG4gICAgICBmID0gKHAgPDwgNSB8IHAgPj4+IDI3KSArIG8gKyBpW2xdLCBmID0gMjAgPiBsID8gZiArICgoYyAmIHkgfCB+YyAmIHYpICsgMTUxODUwMDI0OSkgOiA0MCA+IGwgPyBmICsgKChjIF4geSBeIHYpICsgMTg1OTc3NTM5MykgOiA2MCA+IGwgPyBmICsgKChjICYgeSB8IGMgJiB2IHwgeSAmIHYpIC0gMTg5NDAwNzU4OCkgOiBmICsgKChjIF4geSBeIHYpIC0gODk5NDk3NTE0KSwgbyA9IHYsIHYgPSB5LCB5ID0gYyA8PCAzMCB8IGMgPj4+IDIsIGMgPSBwLCBwID0gZjtcbiAgICB9XG4gICAgdVswXSA9IHVbMF0gKyBwIHwgMCwgdVsxXSA9IHVbMV0gKyBjIHwgMCwgdVsyXSA9IHVbMl0gKyB5IHwgMCwgdVszXSA9IHVbM10gKyB2IHwgMCwgdVs0XSA9IHVbNF0gKyBvIHwgMDtcbiAgfSwgX2RvRmluYWxpemU6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBuID0gdGhpcy5fZGF0YSwgaCA9IG4ud29yZHMsIHUgPSA4ICogdGhpcy5fbkRhdGFCeXRlcywgcCA9IDggKiBuLnNpZ0J5dGVzO1xuICAgIHJldHVybiBoW3AgPj4+IDVdIHw9IDEyOCA8PCAyNCAtIHAgJSAzMiwgaFsocCArIDY0ID4+PiA5IDw8IDQpICsgMTRdID0gTWF0aC5mbG9vcih1IC8gNDI5NDk2NzI5NiksIGhbKHAgKyA2NCA+Pj4gOSA8PCA0KSArIDE1XSA9IHUsIG4uc2lnQnl0ZXMgPSA0ICogaC5sZW5ndGgsIHRoaXMuX3Byb2Nlc3MoKSwgdGhpcy5faGFzaDtcbiAgfSwgY2xvbmU6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBuID0gci5jbG9uZS5jYWxsKHRoaXMpO1xuICAgIHJldHVybiBuLl9oYXNoID0gdGhpcy5faGFzaC5jbG9uZSgpLCBuO1xuICB9IH0pO1xuICBlLlNIQTEgPSByLl9jcmVhdGVIZWxwZXIocyksIGUuSG1hY1NIQTEgPSByLl9jcmVhdGVIbWFjSGVscGVyKHMpO1xufSkoKTtcbihmdW5jdGlvbihlKSB7XG4gIGZvciAodmFyIHQgPSBLLCBsID0gdC5saWIsIHIgPSBsLldvcmRBcnJheSwgaSA9IGwuSGFzaGVyLCBsID0gdC5hbGdvLCBzID0gW10sIG4gPSBbXSwgaCA9IGZ1bmN0aW9uKGQpIHtcbiAgICByZXR1cm4gNDI5NDk2NzI5NiAqIChkIC0gKGQgfCAwKSkgfCAwO1xuICB9LCB1ID0gMiwgcCA9IDA7IDY0ID4gcDsgKSB7XG4gICAgdmFyIGM7XG4gICAgZToge1xuICAgICAgYyA9IHU7XG4gICAgICBmb3IgKHZhciB5ID0gZS5zcXJ0KGMpLCB2ID0gMjsgdiA8PSB5OyB2KyspIGlmICghKGMgJSB2KSkge1xuICAgICAgICBjID0gITE7XG4gICAgICAgIGJyZWFrIGU7XG4gICAgICB9XG4gICAgICBjID0gITA7XG4gICAgfVxuICAgIGMgJiYgKDggPiBwICYmIChzW3BdID0gaChlLnBvdyh1LCAwLjUpKSksIG5bcF0gPSBoKGUucG93KHUsIDEgLyAzKSksIHArKyksIHUrKztcbiAgfVxuICB2YXIgbyA9IFtdLCBsID0gbC5TSEEyNTYgPSBpLmV4dGVuZCh7IF9kb1Jlc2V0OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLl9oYXNoID0gbmV3IHIuaW5pdChzLnNsaWNlKDApKTtcbiAgfSwgX2RvUHJvY2Vzc0Jsb2NrOiBmdW5jdGlvbihmLCBkKSB7XG4gICAgZm9yICh2YXIgZyA9IHRoaXMuX2hhc2gud29yZHMsIFMgPSBnWzBdLCBiID0gZ1sxXSwgRCA9IGdbMl0sIEEgPSBnWzNdLCBJID0gZ1s0XSwgbSA9IGdbNV0sIEUgPSBnWzZdLCB3ID0gZ1s3XSwgeCA9IDA7IDY0ID4geDsgeCsrKSB7XG4gICAgICBpZiAoMTYgPiB4KSBvW3hdID0gZltkICsgeF0gfCAwO1xuICAgICAgZWxzZSB7XG4gICAgICAgIHZhciBGID0gb1t4IC0gMTVdLCBQID0gb1t4IC0gMl07XG4gICAgICAgIG9beF0gPSAoKEYgPDwgMjUgfCBGID4+PiA3KSBeIChGIDw8IDE0IHwgRiA+Pj4gMTgpIF4gRiA+Pj4gMykgKyBvW3ggLSA3XSArICgoUCA8PCAxNSB8IFAgPj4+IDE3KSBeIChQIDw8IDEzIHwgUCA+Pj4gMTkpIF4gUCA+Pj4gMTApICsgb1t4IC0gMTZdO1xuICAgICAgfVxuICAgICAgRiA9IHcgKyAoKEkgPDwgMjYgfCBJID4+PiA2KSBeIChJIDw8IDIxIHwgSSA+Pj4gMTEpIF4gKEkgPDwgNyB8IEkgPj4+IDI1KSkgKyAoSSAmIG0gXiB+SSAmIEUpICsgblt4XSArIG9beF0sIFAgPSAoKFMgPDwgMzAgfCBTID4+PiAyKSBeIChTIDw8IDE5IHwgUyA+Pj4gMTMpIF4gKFMgPDwgMTAgfCBTID4+PiAyMikpICsgKFMgJiBiIF4gUyAmIEQgXiBiICYgRCksIHcgPSBFLCBFID0gbSwgbSA9IEksIEkgPSBBICsgRiB8IDAsIEEgPSBELCBEID0gYiwgYiA9IFMsIFMgPSBGICsgUCB8IDA7XG4gICAgfVxuICAgIGdbMF0gPSBnWzBdICsgUyB8IDAsIGdbMV0gPSBnWzFdICsgYiB8IDAsIGdbMl0gPSBnWzJdICsgRCB8IDAsIGdbM10gPSBnWzNdICsgQSB8IDAsIGdbNF0gPSBnWzRdICsgSSB8IDAsIGdbNV0gPSBnWzVdICsgbSB8IDAsIGdbNl0gPSBnWzZdICsgRSB8IDAsIGdbN10gPSBnWzddICsgdyB8IDA7XG4gIH0sIF9kb0ZpbmFsaXplOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgZiA9IHRoaXMuX2RhdGEsIGQgPSBmLndvcmRzLCBnID0gOCAqIHRoaXMuX25EYXRhQnl0ZXMsIFMgPSA4ICogZi5zaWdCeXRlcztcbiAgICByZXR1cm4gZFtTID4+PiA1XSB8PSAxMjggPDwgMjQgLSBTICUgMzIsIGRbKFMgKyA2NCA+Pj4gOSA8PCA0KSArIDE0XSA9IGUuZmxvb3IoZyAvIDQyOTQ5NjcyOTYpLCBkWyhTICsgNjQgPj4+IDkgPDwgNCkgKyAxNV0gPSBnLCBmLnNpZ0J5dGVzID0gNCAqIGQubGVuZ3RoLCB0aGlzLl9wcm9jZXNzKCksIHRoaXMuX2hhc2g7XG4gIH0sIGNsb25lOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgZiA9IGkuY2xvbmUuY2FsbCh0aGlzKTtcbiAgICByZXR1cm4gZi5faGFzaCA9IHRoaXMuX2hhc2guY2xvbmUoKSwgZjtcbiAgfSB9KTtcbiAgdC5TSEEyNTYgPSBpLl9jcmVhdGVIZWxwZXIobCksIHQuSG1hY1NIQTI1NiA9IGkuX2NyZWF0ZUhtYWNIZWxwZXIobCk7XG59KShNYXRoKTtcbihmdW5jdGlvbigpIHtcbiAgdmFyIGUgPSBLLCB0ID0gZS5saWIuV29yZEFycmF5LCBpID0gZS5hbGdvLCByID0gaS5TSEEyNTYsIGkgPSBpLlNIQTIyNCA9IHIuZXh0ZW5kKHsgX2RvUmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX2hhc2ggPSBuZXcgdC5pbml0KFszMjM4MzcxMDMyLCA5MTQxNTA2NjMsIDgxMjcwMjk5OSwgNDE0NDkxMjY5NywgNDI5MDc3NTg1NywgMTc1MDYwMzAyNSwgMTY5NDA3NjgzOSwgMzIwNDA3NTQyOF0pO1xuICB9LCBfZG9GaW5hbGl6ZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHMgPSByLl9kb0ZpbmFsaXplLmNhbGwodGhpcyk7XG4gICAgcmV0dXJuIHMuc2lnQnl0ZXMgLT0gNCwgcztcbiAgfSB9KTtcbiAgZS5TSEEyMjQgPSByLl9jcmVhdGVIZWxwZXIoaSksIGUuSG1hY1NIQTIyNCA9IHIuX2NyZWF0ZUhtYWNIZWxwZXIoaSk7XG59KSgpO1xuKGZ1bmN0aW9uKCkge1xuICBmdW5jdGlvbiBlKCkge1xuICAgIHJldHVybiBpLmNyZWF0ZS5hcHBseShpLCBhcmd1bWVudHMpO1xuICB9XG4gIGZvciAodmFyIHQgPSBLLCByID0gdC5saWIuSGFzaGVyLCBuID0gdC54NjQsIGkgPSBuLldvcmQsIHMgPSBuLldvcmRBcnJheSwgbiA9IHQuYWxnbywgaCA9IFtcbiAgICBlKDExMTYzNTI0MDgsIDM2MDk3Njc0NTgpLFxuICAgIGUoMTg5OTQ0NzQ0MSwgNjAyODkxNzI1KSxcbiAgICBlKDMwNDkzMjM0NzEsIDM5NjQ0ODQzOTkpLFxuICAgIGUoMzkyMTAwOTU3MywgMjE3MzI5NTU0OCksXG4gICAgZSg5NjE5ODcxNjMsIDQwODE2Mjg0NzIpLFxuICAgIGUoMTUwODk3MDk5MywgMzA1MzgzNDI2NSksXG4gICAgZSgyNDUzNjM1NzQ4LCAyOTM3NjcxNTc5KSxcbiAgICBlKDI4NzA3NjMyMjEsIDM2NjQ2MDk1NjApLFxuICAgIGUoMzYyNDM4MTA4MCwgMjczNDg4MzM5NCksXG4gICAgZSgzMTA1OTg0MDEsIDExNjQ5OTY1NDIpLFxuICAgIGUoNjA3MjI1Mjc4LCAxMzIzNjEwNzY0KSxcbiAgICBlKDE0MjY4ODE5ODcsIDM1OTAzMDQ5OTQpLFxuICAgIGUoMTkyNTA3ODM4OCwgNDA2ODE4MjM4MyksXG4gICAgZSgyMTYyMDc4MjA2LCA5OTEzMzYxMTMpLFxuICAgIGUoMjYxNDg4ODEwMywgNjMzODAzMzE3KSxcbiAgICBlKDMyNDgyMjI1ODAsIDM0Nzk3NzQ4NjgpLFxuICAgIGUoMzgzNTM5MDQwMSwgMjY2NjYxMzQ1OCksXG4gICAgZSg0MDIyMjI0Nzc0LCA5NDQ3MTExMzkpLFxuICAgIGUoMjY0MzQ3MDc4LCAyMzQxMjYyNzczKSxcbiAgICBlKDYwNDgwNzYyOCwgMjAwNzgwMDkzMyksXG4gICAgZSg3NzAyNTU5ODMsIDE0OTU5OTA5MDEpLFxuICAgIGUoMTI0OTE1MDEyMiwgMTg1NjQzMTIzNSksXG4gICAgZSgxNTU1MDgxNjkyLCAzMTc1MjE4MTMyKSxcbiAgICBlKDE5OTYwNjQ5ODYsIDIxOTg5NTA4MzcpLFxuICAgIGUoMjU1NDIyMDg4MiwgMzk5OTcxOTMzOSksXG4gICAgZSgyODIxODM0MzQ5LCA3NjY3ODQwMTYpLFxuICAgIGUoMjk1Mjk5NjgwOCwgMjU2NjU5NDg3OSksXG4gICAgZSgzMjEwMzEzNjcxLCAzMjAzMzM3OTU2KSxcbiAgICBlKDMzMzY1NzE4OTEsIDEwMzQ0NTcwMjYpLFxuICAgIGUoMzU4NDUyODcxMSwgMjQ2Njk0ODkwMSksXG4gICAgZSgxMTM5MjY5OTMsIDM3NTgzMjYzODMpLFxuICAgIGUoMzM4MjQxODk1LCAxNjg3MTc5MzYpLFxuICAgIGUoNjY2MzA3MjA1LCAxMTg4MTc5OTY0KSxcbiAgICBlKDc3MzUyOTkxMiwgMTU0NjA0NTczNCksXG4gICAgZSgxMjk0NzU3MzcyLCAxNTIyODA1NDg1KSxcbiAgICBlKFxuICAgICAgMTM5NjE4MjI5MSxcbiAgICAgIDI2NDM4MzM4MjNcbiAgICApLFxuICAgIGUoMTY5NTE4MzcwMCwgMjM0MzUyNzM5MCksXG4gICAgZSgxOTg2NjYxMDUxLCAxMDE0NDc3NDgwKSxcbiAgICBlKDIxNzcwMjYzNTAsIDEyMDY3NTkxNDIpLFxuICAgIGUoMjQ1Njk1NjAzNywgMzQ0MDc3NjI3KSxcbiAgICBlKDI3MzA0ODU5MjEsIDEyOTA4NjM0NjApLFxuICAgIGUoMjgyMDMwMjQxMSwgMzE1ODQ1NDI3MyksXG4gICAgZSgzMjU5NzMwODAwLCAzNTA1OTUyNjU3KSxcbiAgICBlKDMzNDU3NjQ3NzEsIDEwNjIxNzAwOCksXG4gICAgZSgzNTE2MDY1ODE3LCAzNjA2MDA4MzQ0KSxcbiAgICBlKDM2MDAzNTI4MDQsIDE0MzI3MjU3NzYpLFxuICAgIGUoNDA5NDU3MTkwOSwgMTQ2NzAzMTU5NCksXG4gICAgZSgyNzU0MjMzNDQsIDg1MTE2OTcyMCksXG4gICAgZSg0MzAyMjc3MzQsIDMxMDA4MjM3NTIpLFxuICAgIGUoNTA2OTQ4NjE2LCAxMzYzMjU4MTk1KSxcbiAgICBlKDY1OTA2MDU1NiwgMzc1MDY4NTU5MyksXG4gICAgZSg4ODM5OTc4NzcsIDM3ODUwNTAyODApLFxuICAgIGUoOTU4MTM5NTcxLCAzMzE4MzA3NDI3KSxcbiAgICBlKDEzMjI4MjIyMTgsIDM4MTI3MjM0MDMpLFxuICAgIGUoMTUzNzAwMjA2MywgMjAwMzAzNDk5NSksXG4gICAgZSgxNzQ3ODczNzc5LCAzNjAyMDM2ODk5KSxcbiAgICBlKDE5NTU1NjIyMjIsIDE1NzU5OTAwMTIpLFxuICAgIGUoMjAyNDEwNDgxNSwgMTEyNTU5MjkyOCksXG4gICAgZSgyMjI3NzMwNDUyLCAyNzE2OTA0MzA2KSxcbiAgICBlKDIzNjE4NTI0MjQsIDQ0Mjc3NjA0NCksXG4gICAgZSgyNDI4NDM2NDc0LCA1OTM2OTgzNDQpLFxuICAgIGUoMjc1NjczNDE4NywgMzczMzExMDI0OSksXG4gICAgZSgzMjA0MDMxNDc5LCAyOTk5MzUxNTczKSxcbiAgICBlKDMzMjkzMjUyOTgsIDM4MTU5MjA0MjcpLFxuICAgIGUoMzM5MTU2OTYxNCwgMzkyODM4MzkwMCksXG4gICAgZSgzNTE1MjY3MjcxLCA1NjYyODA3MTEpLFxuICAgIGUoMzk0MDE4NzYwNiwgMzQ1NDA2OTUzNCksXG4gICAgZSg0MTE4NjMwMjcxLCA0MDAwMjM5OTkyKSxcbiAgICBlKDExNjQxODQ3NCwgMTkxNDEzODU1NCksXG4gICAgZSgxNzQyOTI0MjEsIDI3MzEwNTUyNzApLFxuICAgIGUoMjg5MzgwMzU2LCAzMjAzOTkzMDA2KSxcbiAgICBlKDQ2MDM5MzI2OSwgMzIwNjIwMzE1KSxcbiAgICBlKDY4NTQ3MTczMywgNTg3NDk2ODM2KSxcbiAgICBlKDg1MjE0Mjk3MSwgMTA4Njc5Mjg1MSksXG4gICAgZSgxMDE3MDM2Mjk4LCAzNjU1NDMxMDApLFxuICAgIGUoMTEyNjAwMDU4MCwgMjYxODI5NzY3NiksXG4gICAgZShcbiAgICAgIDEyODgwMzM0NzAsXG4gICAgICAzNDA5ODU1MTU4XG4gICAgKSxcbiAgICBlKDE1MDE1MDU5NDgsIDQyMzQ1MDk4NjYpLFxuICAgIGUoMTYwNzE2NzkxNSwgOTg3MTY3NDY4KSxcbiAgICBlKDE4MTY0MDIzMTYsIDEyNDYxODk1OTEpXG4gIF0sIHUgPSBbXSwgcCA9IDA7IDgwID4gcDsgcCsrKSB1W3BdID0gZSgpO1xuICBuID0gbi5TSEE1MTIgPSByLmV4dGVuZCh7IF9kb1Jlc2V0OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLl9oYXNoID0gbmV3IHMuaW5pdChbbmV3IGkuaW5pdCgxNzc5MDMzNzAzLCA0MDg5MjM1NzIwKSwgbmV3IGkuaW5pdCgzMTQ0MTM0Mjc3LCAyMjI3ODczNTk1KSwgbmV3IGkuaW5pdCgxMDEzOTA0MjQyLCA0MjcxMTc1NzIzKSwgbmV3IGkuaW5pdCgyNzczNDgwNzYyLCAxNTk1NzUwMTI5KSwgbmV3IGkuaW5pdCgxMzU5ODkzMTE5LCAyOTE3NTY1MTM3KSwgbmV3IGkuaW5pdCgyNjAwODIyOTI0LCA3MjU1MTExOTkpLCBuZXcgaS5pbml0KDUyODczNDYzNSwgNDIxNTM4OTU0NyksIG5ldyBpLmluaXQoMTU0MTQ1OTIyNSwgMzI3MDMzMjA5KV0pO1xuICB9LCBfZG9Qcm9jZXNzQmxvY2s6IGZ1bmN0aW9uKGMsIHkpIHtcbiAgICBmb3IgKHZhciBiID0gdGhpcy5faGFzaC53b3JkcywgdiA9IGJbMF0sIG8gPSBiWzFdLCBsID0gYlsyXSwgZiA9IGJbM10sIGQgPSBiWzRdLCBnID0gYls1XSwgUyA9IGJbNl0sIGIgPSBiWzddLCBEID0gdi5oaWdoLCBBID0gdi5sb3csIEkgPSBvLmhpZ2gsIG0gPSBvLmxvdywgRSA9IGwuaGlnaCwgdyA9IGwubG93LCB4ID0gZi5oaWdoLCBGID0gZi5sb3csIFAgPSBkLmhpZ2gsIFQgPSBkLmxvdywgSCA9IGcuaGlnaCwgQyA9IGcubG93LCBCID0gUy5oaWdoLCBPID0gUy5sb3csIGogPSBiLmhpZ2gsIGZlID0gYi5sb3csIFogPSBELCBYID0gQSwgcmUgPSBJLCBuZSA9IG0sIGhlID0gRSwgc2UgPSB3LCBrZSA9IHgsIGNlID0gRiwgTSA9IFAsIEcgPSBULCBRID0gSCwgZWUgPSBDLCBwZSA9IEIsIHRlID0gTywgTWUgPSBqLCBOZSA9IGZlLCB4ZSA9IDA7IDgwID4geGU7IHhlKyspIHtcbiAgICAgIHZhciBDZSA9IHVbeGVdO1xuICAgICAgaWYgKDE2ID4geGUpIHZhciB5ZSA9IENlLmhpZ2ggPSBjW3kgKyAyICogeGVdIHwgMCwgVSA9IENlLmxvdyA9IGNbeSArIDIgKiB4ZSArIDFdIHwgMDtcbiAgICAgIGVsc2Uge1xuICAgICAgICB2YXIgeWUgPSB1W3hlIC0gMTVdLCBVID0geWUuaGlnaCwgRmUgPSB5ZS5sb3csIHllID0gKFUgPj4+IDEgfCBGZSA8PCAzMSkgXiAoVSA+Pj4gOCB8IEZlIDw8IDI0KSBeIFUgPj4+IDcsIEZlID0gKEZlID4+PiAxIHwgVSA8PCAzMSkgXiAoRmUgPj4+IDggfCBVIDw8IDI0KSBeIChGZSA+Pj4gNyB8IFUgPDwgMjUpLCBIZSA9IHVbeGUgLSAyXSwgVSA9IEhlLmhpZ2gsICQgPSBIZS5sb3csIEhlID0gKFUgPj4+IDE5IHwgJCA8PCAxMykgXiAoVSA8PCAzIHwgJCA+Pj4gMjkpIF4gVSA+Pj4gNiwgJCA9ICgkID4+PiAxOSB8IFUgPDwgMTMpIF4gKCQgPDwgMyB8IFUgPj4+IDI5KSBeICgkID4+PiA2IHwgVSA8PCAyNiksIFUgPSB1W3hlIC0gN10sIFFlID0gVS5oaWdoLCBJZSA9IHVbeGUgLSAxNl0sIGJlID0gSWUuaGlnaCwgSWUgPSBJZS5sb3csIFUgPSBGZSArIFUubG93LCB5ZSA9IHllICsgUWUgKyAoVSA+Pj4gMCA8IEZlID4+PiAwID8gMSA6IDApLCBVID0gVSArICQsIHllID0geWUgKyBIZSArIChVID4+PiAwIDwgJCA+Pj4gMCA/IDEgOiAwKSwgVSA9IFUgKyBJZSwgeWUgPSB5ZSArIGJlICsgKFUgPj4+IDAgPCBJZSA+Pj4gMCA/IDEgOiAwKTtcbiAgICAgICAgQ2UuaGlnaCA9IHllLCBDZS5sb3cgPSBVO1xuICAgICAgfVxuICAgICAgdmFyIFFlID0gTSAmIFEgXiB+TSAmIHBlLCBJZSA9IEcgJiBlZSBeIH5HICYgdGUsIENlID0gWiAmIHJlIF4gWiAmIGhlIF4gcmUgJiBoZSwgS3QgPSBYICYgbmUgXiBYICYgc2UgXiBuZSAmIHNlLCBGZSA9IChaID4+PiAyOCB8IFggPDwgNCkgXiAoWiA8PCAzMCB8IFggPj4+IDIpIF4gKFogPDwgMjUgfCBYID4+PiA3KSwgSGUgPSAoWCA+Pj4gMjggfCBaIDw8IDQpIF4gKFggPDwgMzAgfCBaID4+PiAyKSBeIChYIDw8IDI1IHwgWiA+Pj4gNyksICQgPSBoW3hlXSwgTHQgPSAkLmhpZ2gsIGN0ID0gJC5sb3csICQgPSBOZSArICgoRyA+Pj4gMTQgfCBNIDw8IDE4KSBeIChHID4+PiAxOCB8IE0gPDwgMTQpIF4gKEcgPDwgMjMgfCBNID4+PiA5KSksIGJlID0gTWUgKyAoKE0gPj4+IDE0IHwgRyA8PCAxOCkgXiAoTSA+Pj4gMTggfCBHIDw8IDE0KSBeIChNIDw8IDIzIHwgRyA+Pj4gOSkpICsgKCQgPj4+IDAgPCBOZSA+Pj4gMCA/IDEgOiAwKSwgJCA9ICQgKyBJZSwgYmUgPSBiZSArIFFlICsgKCQgPj4+IDAgPCBJZSA+Pj4gMCA/IDEgOiAwKSwgJCA9ICQgKyBjdCwgYmUgPSBiZSArIEx0ICsgKCQgPj4+IDAgPCBjdCA+Pj4gMCA/IDEgOiAwKSwgJCA9ICQgKyBVLCBiZSA9IGJlICsgeWUgKyAoJCA+Pj4gMCA8IFUgPj4+IDAgPyAxIDogMCksIFUgPSBIZSArIEt0LCBDZSA9IEZlICsgQ2UgKyAoVSA+Pj4gMCA8IEhlID4+PiAwID8gMSA6IDApLCBNZSA9IHBlLCBOZSA9IHRlLCBwZSA9IFEsIHRlID0gZWUsIFEgPSBNLCBlZSA9IEcsIEcgPSBjZSArICQgfCAwLCBNID0ga2UgKyBiZSArIChHID4+PiAwIDwgY2UgPj4+IDAgPyAxIDogMCkgfCAwLCBrZSA9IGhlLCBjZSA9IHNlLCBoZSA9IHJlLCBzZSA9IG5lLCByZSA9IFosIG5lID0gWCwgWCA9ICQgKyBVIHwgMCwgWiA9IGJlICsgQ2UgKyAoWCA+Pj4gMCA8ICQgPj4+IDAgPyAxIDogMCkgfCAwO1xuICAgIH1cbiAgICBBID0gdi5sb3cgPSBBICsgWCwgdi5oaWdoID0gRCArIFogKyAoQSA+Pj4gMCA8IFggPj4+IDAgPyAxIDogMCksIG0gPSBvLmxvdyA9IG0gKyBuZSwgby5oaWdoID0gSSArIHJlICsgKG0gPj4+IDAgPCBuZSA+Pj4gMCA/IDEgOiAwKSwgdyA9IGwubG93ID0gdyArIHNlLCBsLmhpZ2ggPSBFICsgaGUgKyAodyA+Pj4gMCA8IHNlID4+PiAwID8gMSA6IDApLCBGID0gZi5sb3cgPSBGICsgY2UsIGYuaGlnaCA9IHggKyBrZSArIChGID4+PiAwIDwgY2UgPj4+IDAgPyAxIDogMCksIFQgPSBkLmxvdyA9IFQgKyBHLCBkLmhpZ2ggPSBQICsgTSArIChUID4+PiAwIDwgRyA+Pj4gMCA/IDEgOiAwKSwgQyA9IGcubG93ID0gQyArIGVlLCBnLmhpZ2ggPSBIICsgUSArIChDID4+PiAwIDwgZWUgPj4+IDAgPyAxIDogMCksIE8gPSBTLmxvdyA9IE8gKyB0ZSwgUy5oaWdoID0gQiArIHBlICsgKE8gPj4+IDAgPCB0ZSA+Pj4gMCA/IDEgOiAwKSwgZmUgPSBiLmxvdyA9IGZlICsgTmUsIGIuaGlnaCA9IGogKyBNZSArIChmZSA+Pj4gMCA8IE5lID4+PiAwID8gMSA6IDApO1xuICB9LCBfZG9GaW5hbGl6ZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGMgPSB0aGlzLl9kYXRhLCB5ID0gYy53b3JkcywgdiA9IDggKiB0aGlzLl9uRGF0YUJ5dGVzLCBvID0gOCAqIGMuc2lnQnl0ZXM7XG4gICAgcmV0dXJuIHlbbyA+Pj4gNV0gfD0gMTI4IDw8IDI0IC0gbyAlIDMyLCB5WyhvICsgMTI4ID4+PiAxMCA8PCA1KSArIDMwXSA9IE1hdGguZmxvb3IodiAvIDQyOTQ5NjcyOTYpLCB5WyhvICsgMTI4ID4+PiAxMCA8PCA1KSArIDMxXSA9IHYsIGMuc2lnQnl0ZXMgPSA0ICogeS5sZW5ndGgsIHRoaXMuX3Byb2Nlc3MoKSwgdGhpcy5faGFzaC50b1gzMigpO1xuICB9LCBjbG9uZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGMgPSByLmNsb25lLmNhbGwodGhpcyk7XG4gICAgcmV0dXJuIGMuX2hhc2ggPSB0aGlzLl9oYXNoLmNsb25lKCksIGM7XG4gIH0sIGJsb2NrU2l6ZTogMzIgfSksIHQuU0hBNTEyID0gci5fY3JlYXRlSGVscGVyKG4pLCB0LkhtYWNTSEE1MTIgPSByLl9jcmVhdGVIbWFjSGVscGVyKG4pO1xufSkoKTtcbihmdW5jdGlvbigpIHtcbiAgdmFyIGUgPSBLLCBzID0gZS54NjQsIHQgPSBzLldvcmQsIHIgPSBzLldvcmRBcnJheSwgcyA9IGUuYWxnbywgaSA9IHMuU0hBNTEyLCBzID0gcy5TSEEzODQgPSBpLmV4dGVuZCh7IF9kb1Jlc2V0OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLl9oYXNoID0gbmV3IHIuaW5pdChbbmV3IHQuaW5pdCgzNDE4MDcwMzY1LCAzMjM4MzcxMDMyKSwgbmV3IHQuaW5pdCgxNjU0MjcwMjUwLCA5MTQxNTA2NjMpLCBuZXcgdC5pbml0KDI0Mzg1MjkzNzAsIDgxMjcwMjk5OSksIG5ldyB0LmluaXQoMzU1NDYyMzYwLCA0MTQ0OTEyNjk3KSwgbmV3IHQuaW5pdCgxNzMxNDA1NDE1LCA0MjkwNzc1ODU3KSwgbmV3IHQuaW5pdCgyMzk0MTgwMjMxLCAxNzUwNjAzMDI1KSwgbmV3IHQuaW5pdCgzNjc1MDA4NTI1LCAxNjk0MDc2ODM5KSwgbmV3IHQuaW5pdCgxMjAzMDYyODEzLCAzMjA0MDc1NDI4KV0pO1xuICB9LCBfZG9GaW5hbGl6ZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIG4gPSBpLl9kb0ZpbmFsaXplLmNhbGwodGhpcyk7XG4gICAgcmV0dXJuIG4uc2lnQnl0ZXMgLT0gMTYsIG47XG4gIH0gfSk7XG4gIGUuU0hBMzg0ID0gaS5fY3JlYXRlSGVscGVyKHMpLCBlLkhtYWNTSEEzODQgPSBpLl9jcmVhdGVIbWFjSGVscGVyKHMpO1xufSkoKTtcbihmdW5jdGlvbigpIHtcbiAgdmFyIGUgPSBLLCBjID0gZS5saWIsIHQgPSBjLldvcmRBcnJheSwgciA9IGMuSGFzaGVyLCBjID0gZS5hbGdvLCBpID0gdC5jcmVhdGUoWzAsIDEsIDIsIDMsIDQsIDUsIDYsIDcsIDgsIDksIDEwLCAxMSwgMTIsIDEzLCAxNCwgMTUsIDcsIDQsIDEzLCAxLCAxMCwgNiwgMTUsIDMsIDEyLCAwLCA5LCA1LCAyLCAxNCwgMTEsIDgsIDMsIDEwLCAxNCwgNCwgOSwgMTUsIDgsIDEsIDIsIDcsIDAsIDYsIDEzLCAxMSwgNSwgMTIsIDEsIDksIDExLCAxMCwgMCwgOCwgMTIsIDQsIDEzLCAzLCA3LCAxNSwgMTQsIDUsIDYsIDIsIDQsIDAsIDUsIDksIDcsIDEyLCAyLCAxMCwgMTQsIDEsIDMsIDgsIDExLCA2LCAxNSwgMTNdKSwgcyA9IHQuY3JlYXRlKFs1LCAxNCwgNywgMCwgOSwgMiwgMTEsIDQsIDEzLCA2LCAxNSwgOCwgMSwgMTAsIDMsIDEyLCA2LCAxMSwgMywgNywgMCwgMTMsIDUsIDEwLCAxNCwgMTUsIDgsIDEyLCA0LCA5LCAxLCAyLCAxNSwgNSwgMSwgMywgNywgMTQsIDYsIDksIDExLCA4LCAxMiwgMiwgMTAsIDAsIDQsIDEzLCA4LCA2LCA0LCAxLCAzLCAxMSwgMTUsIDAsIDUsIDEyLCAyLCAxMywgOSwgNywgMTAsIDE0LCAxMiwgMTUsIDEwLCA0LCAxLCA1LCA4LCA3LCA2LCAyLCAxMywgMTQsIDAsIDMsIDksIDExXSksIG4gPSB0LmNyZWF0ZShbXG4gICAgMTEsXG4gICAgMTQsXG4gICAgMTUsXG4gICAgMTIsXG4gICAgNSxcbiAgICA4LFxuICAgIDcsXG4gICAgOSxcbiAgICAxMSxcbiAgICAxMyxcbiAgICAxNCxcbiAgICAxNSxcbiAgICA2LFxuICAgIDcsXG4gICAgOSxcbiAgICA4LFxuICAgIDcsXG4gICAgNixcbiAgICA4LFxuICAgIDEzLFxuICAgIDExLFxuICAgIDksXG4gICAgNyxcbiAgICAxNSxcbiAgICA3LFxuICAgIDEyLFxuICAgIDE1LFxuICAgIDksXG4gICAgMTEsXG4gICAgNyxcbiAgICAxMyxcbiAgICAxMixcbiAgICAxMSxcbiAgICAxMyxcbiAgICA2LFxuICAgIDcsXG4gICAgMTQsXG4gICAgOSxcbiAgICAxMyxcbiAgICAxNSxcbiAgICAxNCxcbiAgICA4LFxuICAgIDEzLFxuICAgIDYsXG4gICAgNSxcbiAgICAxMixcbiAgICA3LFxuICAgIDUsXG4gICAgMTEsXG4gICAgMTIsXG4gICAgMTQsXG4gICAgMTUsXG4gICAgMTQsXG4gICAgMTUsXG4gICAgOSxcbiAgICA4LFxuICAgIDksXG4gICAgMTQsXG4gICAgNSxcbiAgICA2LFxuICAgIDgsXG4gICAgNixcbiAgICA1LFxuICAgIDEyLFxuICAgIDksXG4gICAgMTUsXG4gICAgNSxcbiAgICAxMSxcbiAgICA2LFxuICAgIDgsXG4gICAgMTMsXG4gICAgMTIsXG4gICAgNSxcbiAgICAxMixcbiAgICAxMyxcbiAgICAxNCxcbiAgICAxMSxcbiAgICA4LFxuICAgIDUsXG4gICAgNlxuICBdKSwgaCA9IHQuY3JlYXRlKFs4LCA5LCA5LCAxMSwgMTMsIDE1LCAxNSwgNSwgNywgNywgOCwgMTEsIDE0LCAxNCwgMTIsIDYsIDksIDEzLCAxNSwgNywgMTIsIDgsIDksIDExLCA3LCA3LCAxMiwgNywgNiwgMTUsIDEzLCAxMSwgOSwgNywgMTUsIDExLCA4LCA2LCA2LCAxNCwgMTIsIDEzLCA1LCAxNCwgMTMsIDEzLCA3LCA1LCAxNSwgNSwgOCwgMTEsIDE0LCAxNCwgNiwgMTQsIDYsIDksIDEyLCA5LCAxMiwgNSwgMTUsIDgsIDgsIDUsIDEyLCA5LCAxMiwgNSwgMTQsIDYsIDgsIDEzLCA2LCA1LCAxNSwgMTMsIDExLCAxMV0pLCB1ID0gdC5jcmVhdGUoWzAsIDE1MTg1MDAyNDksIDE4NTk3NzUzOTMsIDI0MDA5NTk3MDgsIDI4NDA4NTM4MzhdKSwgcCA9IHQuY3JlYXRlKFtcbiAgICAxMzUyODI5OTI2LFxuICAgIDE1NDg2MDM2ODQsXG4gICAgMTgzNjA3MjY5MSxcbiAgICAyMDUzOTk0MjE3LFxuICAgIDBcbiAgXSksIGMgPSBjLlJJUEVNRDE2MCA9IHIuZXh0ZW5kKHsgX2RvUmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX2hhc2ggPSB0LmNyZWF0ZShbMTczMjU4NDE5MywgNDAyMzIzMzQxNywgMjU2MjM4MzEwMiwgMjcxNzMzODc4LCAzMjg1Mzc3NTIwXSk7XG4gIH0sIF9kb1Byb2Nlc3NCbG9jazogZnVuY3Rpb24oeSwgdikge1xuICAgIGZvciAodmFyIG8gPSAwOyAxNiA+IG87IG8rKykge1xuICAgICAgdmFyIGwgPSB2ICsgbywgZiA9IHlbbF07XG4gICAgICB5W2xdID0gKGYgPDwgOCB8IGYgPj4+IDI0KSAmIDE2NzExOTM1IHwgKGYgPDwgMjQgfCBmID4+PiA4KSAmIDQyNzgyNTUzNjA7XG4gICAgfVxuICAgIHZhciBsID0gdGhpcy5faGFzaC53b3JkcywgZiA9IHUud29yZHMsIGQgPSBwLndvcmRzLCBnID0gaS53b3JkcywgUyA9IHMud29yZHMsIGIgPSBuLndvcmRzLCBEID0gaC53b3JkcywgQSwgSSwgbSwgRSwgdywgeCwgRiwgUCwgVCwgSDtcbiAgICB4ID0gQSA9IGxbMF0sIEYgPSBJID0gbFsxXSwgUCA9IG0gPSBsWzJdLCBUID0gRSA9IGxbM10sIEggPSB3ID0gbFs0XTtcbiAgICBmb3IgKHZhciBDLCBvID0gMDsgODAgPiBvOyBvICs9IDEpIEMgPSBBICsgeVt2ICsgZ1tvXV0gfCAwLCBDID0gMTYgPiBvID8gQyArICgoSSBeIG0gXiBFKSArIGZbMF0pIDogMzIgPiBvID8gQyArICgoSSAmIG0gfCB+SSAmIEUpICsgZlsxXSkgOiA0OCA+IG8gPyBDICsgKCgoSSB8IH5tKSBeIEUpICsgZlsyXSkgOiA2NCA+IG8gPyBDICsgKChJICYgRSB8IG0gJiB+RSkgKyBmWzNdKSA6IEMgKyAoKEkgXiAobSB8IH5FKSkgKyBmWzRdKSwgQyB8PSAwLCBDID0gQyA8PCBiW29dIHwgQyA+Pj4gMzIgLSBiW29dLCBDID0gQyArIHcgfCAwLCBBID0gdywgdyA9IEUsIEUgPSBtIDw8IDEwIHwgbSA+Pj4gMjIsIG0gPSBJLCBJID0gQywgQyA9IHggKyB5W3YgKyBTW29dXSB8IDAsIEMgPSAxNiA+IG8gPyBDICsgKChGIF4gKFAgfCB+VCkpICsgZFswXSkgOiAzMiA+IG8gPyBDICsgKChGICYgVCB8IFAgJiB+VCkgKyBkWzFdKSA6IDQ4ID4gbyA/IEMgKyAoKChGIHwgflApIF4gVCkgKyBkWzJdKSA6IDY0ID4gbyA/IEMgKyAoKEYgJiBQIHwgfkYgJiBUKSArIGRbM10pIDogQyArICgoRiBeIFAgXiBUKSArIGRbNF0pLCBDIHw9IDAsIEMgPSBDIDw8IERbb10gfCBDID4+PiAzMiAtIERbb10sIEMgPSBDICsgSCB8IDAsIHggPSBILCBIID0gVCwgVCA9IFAgPDwgMTAgfCBQID4+PiAyMiwgUCA9IEYsIEYgPSBDO1xuICAgIEMgPSBsWzFdICsgbSArIFQgfCAwLCBsWzFdID0gbFsyXSArIEUgKyBIIHwgMCwgbFsyXSA9IGxbM10gKyB3ICsgeCB8IDAsIGxbM10gPSBsWzRdICsgQSArIEYgfCAwLCBsWzRdID0gbFswXSArIEkgKyBQIHwgMCwgbFswXSA9IEM7XG4gIH0sIF9kb0ZpbmFsaXplOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgeSA9IHRoaXMuX2RhdGEsIHYgPSB5LndvcmRzLCBvID0gOCAqIHRoaXMuX25EYXRhQnl0ZXMsIGwgPSA4ICogeS5zaWdCeXRlcztcbiAgICBmb3IgKHZbbCA+Pj4gNV0gfD0gMTI4IDw8IDI0IC0gbCAlIDMyLCB2WyhsICsgNjQgPj4+IDkgPDwgNCkgKyAxNF0gPSAobyA8PCA4IHwgbyA+Pj4gMjQpICYgMTY3MTE5MzUgfCAobyA8PCAyNCB8IG8gPj4+IDgpICYgNDI3ODI1NTM2MCwgeS5zaWdCeXRlcyA9IDQgKiAodi5sZW5ndGggKyAxKSwgdGhpcy5fcHJvY2VzcygpLCB5ID0gdGhpcy5faGFzaCwgdiA9IHkud29yZHMsIG8gPSAwOyA1ID4gbzsgbysrKSBsID0gdltvXSwgdltvXSA9IChsIDw8IDggfCBsID4+PiAyNCkgJiAxNjcxMTkzNSB8IChsIDw8IDI0IHwgbCA+Pj4gOCkgJiA0Mjc4MjU1MzYwO1xuICAgIHJldHVybiB5O1xuICB9LCBjbG9uZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHkgPSByLmNsb25lLmNhbGwodGhpcyk7XG4gICAgcmV0dXJuIHkuX2hhc2ggPSB0aGlzLl9oYXNoLmNsb25lKCksIHk7XG4gIH0gfSk7XG4gIGUuUklQRU1EMTYwID0gci5fY3JlYXRlSGVscGVyKGMpLCBlLkhtYWNSSVBFTUQxNjAgPSByLl9jcmVhdGVIbWFjSGVscGVyKGMpO1xufSkoKTtcbihmdW5jdGlvbigpIHtcbiAgdmFyIGUgPSBLLCB0ID0gZS5lbmMuVXRmODtcbiAgZS5hbGdvLkhNQUMgPSBlLmxpYi5CYXNlLmV4dGVuZCh7IGluaXQ6IGZ1bmN0aW9uKHIsIGkpIHtcbiAgICByID0gdGhpcy5faGFzaGVyID0gbmV3IHIuaW5pdCgpLCB0eXBlb2YgaSA9PSBcInN0cmluZ1wiICYmIChpID0gdC5wYXJzZShpKSk7XG4gICAgdmFyIHMgPSByLmJsb2NrU2l6ZSwgbiA9IDQgKiBzO1xuICAgIGkuc2lnQnl0ZXMgPiBuICYmIChpID0gci5maW5hbGl6ZShpKSksIGkuY2xhbXAoKTtcbiAgICBmb3IgKHZhciBoID0gdGhpcy5fb0tleSA9IGkuY2xvbmUoKSwgdSA9IHRoaXMuX2lLZXkgPSBpLmNsb25lKCksIHAgPSBoLndvcmRzLCBjID0gdS53b3JkcywgeSA9IDA7IHkgPCBzOyB5KyspIHBbeV0gXj0gMTU0OTU1NjgyOCwgY1t5XSBePSA5MDk1MjI0ODY7XG4gICAgaC5zaWdCeXRlcyA9IHUuc2lnQnl0ZXMgPSBuLCB0aGlzLnJlc2V0KCk7XG4gIH0sIHJlc2V0OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgciA9IHRoaXMuX2hhc2hlcjtcbiAgICByLnJlc2V0KCksIHIudXBkYXRlKHRoaXMuX2lLZXkpO1xuICB9LCB1cGRhdGU6IGZ1bmN0aW9uKHIpIHtcbiAgICByZXR1cm4gdGhpcy5faGFzaGVyLnVwZGF0ZShyKSwgdGhpcztcbiAgfSwgZmluYWxpemU6IGZ1bmN0aW9uKHIpIHtcbiAgICB2YXIgaSA9IHRoaXMuX2hhc2hlcjtcbiAgICByZXR1cm4gciA9IGkuZmluYWxpemUociksIGkucmVzZXQoKSwgaS5maW5hbGl6ZSh0aGlzLl9vS2V5LmNsb25lKCkuY29uY2F0KHIpKTtcbiAgfSB9KTtcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XG4gIHZhciBlID0gSywgaSA9IGUubGliLCB0ID0gaS5CYXNlLCByID0gaS5Xb3JkQXJyYXksIGkgPSBlLmFsZ28sIHMgPSBpLkhNQUMsIG4gPSBpLlBCS0RGMiA9IHQuZXh0ZW5kKHsgY2ZnOiB0LmV4dGVuZCh7IGtleVNpemU6IDQsIGhhc2hlcjogaS5TSEExLCBpdGVyYXRpb25zOiAxIH0pLCBpbml0OiBmdW5jdGlvbihoKSB7XG4gICAgdGhpcy5jZmcgPSB0aGlzLmNmZy5leHRlbmQoaCk7XG4gIH0sIGNvbXB1dGU6IGZ1bmN0aW9uKGgsIHUpIHtcbiAgICBmb3IgKHZhciBmID0gdGhpcy5jZmcsIHAgPSBzLmNyZWF0ZShmLmhhc2hlciwgaCksIGMgPSByLmNyZWF0ZSgpLCB5ID0gci5jcmVhdGUoWzFdKSwgdiA9IGMud29yZHMsIG8gPSB5LndvcmRzLCBsID0gZi5rZXlTaXplLCBmID0gZi5pdGVyYXRpb25zOyB2Lmxlbmd0aCA8IGw7ICkge1xuICAgICAgdmFyIGQgPSBwLnVwZGF0ZSh1KS5maW5hbGl6ZSh5KTtcbiAgICAgIHAucmVzZXQoKTtcbiAgICAgIGZvciAodmFyIGcgPSBkLndvcmRzLCBTID0gZy5sZW5ndGgsIGIgPSBkLCBEID0gMTsgRCA8IGY7IEQrKykge1xuICAgICAgICBiID0gcC5maW5hbGl6ZShiKSwgcC5yZXNldCgpO1xuICAgICAgICBmb3IgKHZhciBBID0gYi53b3JkcywgSSA9IDA7IEkgPCBTOyBJKyspIGdbSV0gXj0gQVtJXTtcbiAgICAgIH1cbiAgICAgIGMuY29uY2F0KGQpLCBvWzBdKys7XG4gICAgfVxuICAgIHJldHVybiBjLnNpZ0J5dGVzID0gNCAqIGwsIGM7XG4gIH0gfSk7XG4gIGUuUEJLREYyID0gZnVuY3Rpb24oaCwgdSwgcCkge1xuICAgIHJldHVybiBuLmNyZWF0ZShwKS5jb21wdXRlKGgsIHUpO1xuICB9O1xufSkoKTtcbi8qISAoYykgVG9tIFd1IHwgaHR0cDovL3d3dy1jcy1zdHVkZW50cy5zdGFuZm9yZC5lZHUvfnRqdy9qc2JuL1xuICovXG52YXIgS2UgPSBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIiwgRXQgPSBcIj1cIjtcbmZ1bmN0aW9uIF9lKGUpIHtcbiAgdmFyIHQsIHIsIGkgPSBcIlwiO1xuICBmb3IgKHQgPSAwOyB0ICsgMyA8PSBlLmxlbmd0aDsgdCArPSAzKVxuICAgIHIgPSBwYXJzZUludChlLnN1YnN0cmluZyh0LCB0ICsgMyksIDE2KSwgaSArPSBLZS5jaGFyQXQociA+PiA2KSArIEtlLmNoYXJBdChyICYgNjMpO1xuICBmb3IgKHQgKyAxID09IGUubGVuZ3RoID8gKHIgPSBwYXJzZUludChlLnN1YnN0cmluZyh0LCB0ICsgMSksIDE2KSwgaSArPSBLZS5jaGFyQXQociA8PCAyKSkgOiB0ICsgMiA9PSBlLmxlbmd0aCAmJiAociA9IHBhcnNlSW50KGUuc3Vic3RyaW5nKHQsIHQgKyAyKSwgMTYpLCBpICs9IEtlLmNoYXJBdChyID4+IDIpICsgS2UuY2hhckF0KChyICYgMykgPDwgNCkpOyAoaS5sZW5ndGggJiAzKSA+IDA7IClcbiAgICBpICs9IEV0O1xuICByZXR1cm4gaTtcbn1cbmZ1bmN0aW9uIGl0KGUpIHtcbiAgdmFyIHQgPSBcIlwiLCByLCBpID0gMCwgcywgbjtcbiAgZm9yIChyID0gMDsgciA8IGUubGVuZ3RoICYmIGUuY2hhckF0KHIpICE9IEV0OyArK3IpXG4gICAgbiA9IEtlLmluZGV4T2YoZS5jaGFyQXQocikpLCAhKG4gPCAwKSAmJiAoaSA9PSAwID8gKHQgKz0gRGUobiA+PiAyKSwgcyA9IG4gJiAzLCBpID0gMSkgOiBpID09IDEgPyAodCArPSBEZShzIDw8IDIgfCBuID4+IDQpLCBzID0gbiAmIDE1LCBpID0gMikgOiBpID09IDIgPyAodCArPSBEZShzKSwgdCArPSBEZShuID4+IDIpLCBzID0gbiAmIDMsIGkgPSAzKSA6ICh0ICs9IERlKHMgPDwgMiB8IG4gPj4gNCksIHQgKz0gRGUobiAmIDE1KSwgaSA9IDApKTtcbiAgcmV0dXJuIGkgPT0gMSAmJiAodCArPSBEZShzIDw8IDIpKSwgdDtcbn1cbi8qISAoYykgVG9tIFd1IHwgaHR0cDovL3d3dy1jcy1zdHVkZW50cy5zdGFuZm9yZC5lZHUvfnRqdy9qc2JuL1xuKi9cbnZhciBUZTtcbmZ1bmN0aW9uIFIoZSwgdCwgcikge1xuICBlICE9IG51bGwgJiYgKHR5cGVvZiBlID09IFwibnVtYmVyXCIgPyB0aGlzLmZyb21OdW1iZXIoZSwgdCwgcikgOiB0ID09IG51bGwgJiYgdHlwZW9mIGUgIT0gXCJzdHJpbmdcIiA/IHRoaXMuZnJvbVN0cmluZyhlLCAyNTYpIDogdGhpcy5mcm9tU3RyaW5nKGUsIHQpKTtcbn1cbmZ1bmN0aW9uIF8oKSB7XG4gIHJldHVybiBuZXcgUihudWxsKTtcbn1cbmZ1bmN0aW9uIHF0KGUsIHQsIHIsIGksIHMsIG4pIHtcbiAgZm9yICg7IC0tbiA+PSAwOyApIHtcbiAgICB2YXIgaCA9IHQgKiB0aGlzW2UrK10gKyByW2ldICsgcztcbiAgICBzID0gTWF0aC5mbG9vcihoIC8gNjcxMDg4NjQpLCByW2krK10gPSBoICYgNjcxMDg4NjM7XG4gIH1cbiAgcmV0dXJuIHM7XG59XG5mdW5jdGlvbiBrdChlLCB0LCByLCBpLCBzLCBuKSB7XG4gIGZvciAodmFyIGggPSB0ICYgMzI3NjcsIHUgPSB0ID4+IDE1OyAtLW4gPj0gMDsgKSB7XG4gICAgdmFyIHAgPSB0aGlzW2VdICYgMzI3NjcsIGMgPSB0aGlzW2UrK10gPj4gMTUsIHkgPSB1ICogcCArIGMgKiBoO1xuICAgIHAgPSBoICogcCArICgoeSAmIDMyNzY3KSA8PCAxNSkgKyByW2ldICsgKHMgJiAxMDczNzQxODIzKSwgcyA9IChwID4+PiAzMCkgKyAoeSA+Pj4gMTUpICsgdSAqIGMgKyAocyA+Pj4gMzApLCByW2krK10gPSBwICYgMTA3Mzc0MTgyMztcbiAgfVxuICByZXR1cm4gcztcbn1cbmZ1bmN0aW9uIE10KGUsIHQsIHIsIGksIHMsIG4pIHtcbiAgZm9yICh2YXIgaCA9IHQgJiAxNjM4MywgdSA9IHQgPj4gMTQ7IC0tbiA+PSAwOyApIHtcbiAgICB2YXIgcCA9IHRoaXNbZV0gJiAxNjM4MywgYyA9IHRoaXNbZSsrXSA+PiAxNCwgeSA9IHUgKiBwICsgYyAqIGg7XG4gICAgcCA9IGggKiBwICsgKCh5ICYgMTYzODMpIDw8IDE0KSArIHJbaV0gKyBzLCBzID0gKHAgPj4gMjgpICsgKHkgPj4gMTQpICsgdSAqIGMsIHJbaSsrXSA9IHAgJiAyNjg0MzU0NTU7XG4gIH1cbiAgcmV0dXJuIHM7XG59XG5VZS5hcHBOYW1lID09IFwiTWljcm9zb2Z0IEludGVybmV0IEV4cGxvcmVyXCIgPyAoUi5wcm90b3R5cGUuYW0gPSBrdCwgVGUgPSAzMCkgOiBVZS5hcHBOYW1lICE9IFwiTmV0c2NhcGVcIiA/IChSLnByb3RvdHlwZS5hbSA9IHF0LCBUZSA9IDI2KSA6IChSLnByb3RvdHlwZS5hbSA9IE10LCBUZSA9IDI4KTtcblIucHJvdG90eXBlLkRCID0gVGU7XG5SLnByb3RvdHlwZS5ETSA9ICgxIDw8IFRlKSAtIDE7XG5SLnByb3RvdHlwZS5EViA9IDEgPDwgVGU7XG52YXIgbnQgPSA1MjtcblIucHJvdG90eXBlLkZWID0gTWF0aC5wb3coMiwgbnQpO1xuUi5wcm90b3R5cGUuRjEgPSBudCAtIFRlO1xuUi5wcm90b3R5cGUuRjIgPSAyICogVGUgLSBudDtcbnZhciBfdCA9IFwiMDEyMzQ1Njc4OWFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6XCIsICRlID0gbmV3IEFycmF5KCksIExlLCBtZTtcbkxlID0gNDg7XG5mb3IgKG1lID0gMDsgbWUgPD0gOTsgKyttZSlcbiAgJGVbTGUrK10gPSBtZTtcbkxlID0gOTc7XG5mb3IgKG1lID0gMTA7IG1lIDwgMzY7ICsrbWUpXG4gICRlW0xlKytdID0gbWU7XG5MZSA9IDY1O1xuZm9yIChtZSA9IDEwOyBtZSA8IDM2OyArK21lKVxuICAkZVtMZSsrXSA9IG1lO1xuZnVuY3Rpb24gRGUoZSkge1xuICByZXR1cm4gX3QuY2hhckF0KGUpO1xufVxuZnVuY3Rpb24gd3QoZSwgdCkge1xuICB2YXIgciA9ICRlW2UuY2hhckNvZGVBdCh0KV07XG4gIHJldHVybiByID8/IC0xO1xufVxuZnVuY3Rpb24gVXQoZSkge1xuICBmb3IgKHZhciB0ID0gdGhpcy50IC0gMTsgdCA+PSAwOyAtLXQpXG4gICAgZVt0XSA9IHRoaXNbdF07XG4gIGUudCA9IHRoaXMudCwgZS5zID0gdGhpcy5zO1xufVxuZnVuY3Rpb24genQoZSkge1xuICB0aGlzLnQgPSAxLCB0aGlzLnMgPSBlIDwgMCA/IC0xIDogMCwgZSA+IDAgPyB0aGlzWzBdID0gZSA6IGUgPCAtMSA/IHRoaXNbMF0gPSBlICsgdGhpcy5EViA6IHRoaXMudCA9IDA7XG59XG5mdW5jdGlvbiBSZShlKSB7XG4gIHZhciB0ID0gXygpO1xuICByZXR1cm4gdC5mcm9tSW50KGUpLCB0O1xufVxuZnVuY3Rpb24gR3QoZSwgdCkge1xuICB2YXIgcjtcbiAgaWYgKHQgPT0gMTYpXG4gICAgciA9IDQ7XG4gIGVsc2UgaWYgKHQgPT0gOClcbiAgICByID0gMztcbiAgZWxzZSBpZiAodCA9PSAyNTYpXG4gICAgciA9IDg7XG4gIGVsc2UgaWYgKHQgPT0gMilcbiAgICByID0gMTtcbiAgZWxzZSBpZiAodCA9PSAzMilcbiAgICByID0gNTtcbiAgZWxzZSBpZiAodCA9PSA0KVxuICAgIHIgPSAyO1xuICBlbHNlIHtcbiAgICB0aGlzLmZyb21SYWRpeChlLCB0KTtcbiAgICByZXR1cm47XG4gIH1cbiAgdGhpcy50ID0gMCwgdGhpcy5zID0gMDtcbiAgZm9yICh2YXIgaSA9IGUubGVuZ3RoLCBzID0gITEsIG4gPSAwOyAtLWkgPj0gMDsgKSB7XG4gICAgdmFyIGggPSByID09IDggPyBlW2ldICYgMjU1IDogd3QoZSwgaSk7XG4gICAgaWYgKGggPCAwKSB7XG4gICAgICBlLmNoYXJBdChpKSA9PSBcIi1cIiAmJiAocyA9ICEwKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBzID0gITEsIG4gPT0gMCA/IHRoaXNbdGhpcy50KytdID0gaCA6IG4gKyByID4gdGhpcy5EQiA/ICh0aGlzW3RoaXMudCAtIDFdIHw9IChoICYgKDEgPDwgdGhpcy5EQiAtIG4pIC0gMSkgPDwgbiwgdGhpc1t0aGlzLnQrK10gPSBoID4+IHRoaXMuREIgLSBuKSA6IHRoaXNbdGhpcy50IC0gMV0gfD0gaCA8PCBuLCBuICs9IHIsIG4gPj0gdGhpcy5EQiAmJiAobiAtPSB0aGlzLkRCKTtcbiAgfVxuICByID09IDggJiYgZVswXSAmIDEyOCAmJiAodGhpcy5zID0gLTEsIG4gPiAwICYmICh0aGlzW3RoaXMudCAtIDFdIHw9ICgxIDw8IHRoaXMuREIgLSBuKSAtIDEgPDwgbikpLCB0aGlzLmNsYW1wKCksIHMgJiYgUi5aRVJPLnN1YlRvKHRoaXMsIHRoaXMpO1xufVxuZnVuY3Rpb24gV3QoKSB7XG4gIGZvciAodmFyIGUgPSB0aGlzLnMgJiB0aGlzLkRNOyB0aGlzLnQgPiAwICYmIHRoaXNbdGhpcy50IC0gMV0gPT0gZTsgKVxuICAgIC0tdGhpcy50O1xufVxuZnVuY3Rpb24gWHQoZSkge1xuICBpZiAodGhpcy5zIDwgMClcbiAgICByZXR1cm4gXCItXCIgKyB0aGlzLm5lZ2F0ZSgpLnRvU3RyaW5nKGUpO1xuICB2YXIgdDtcbiAgaWYgKGUgPT0gMTYpXG4gICAgdCA9IDQ7XG4gIGVsc2UgaWYgKGUgPT0gOClcbiAgICB0ID0gMztcbiAgZWxzZSBpZiAoZSA9PSAyKVxuICAgIHQgPSAxO1xuICBlbHNlIGlmIChlID09IDMyKVxuICAgIHQgPSA1O1xuICBlbHNlIGlmIChlID09IDQpXG4gICAgdCA9IDI7XG4gIGVsc2VcbiAgICByZXR1cm4gdGhpcy50b1JhZGl4KGUpO1xuICB2YXIgciA9ICgxIDw8IHQpIC0gMSwgaSwgcyA9ICExLCBuID0gXCJcIiwgaCA9IHRoaXMudCwgdSA9IHRoaXMuREIgLSBoICogdGhpcy5EQiAlIHQ7XG4gIGlmIChoLS0gPiAwKVxuICAgIGZvciAodSA8IHRoaXMuREIgJiYgKGkgPSB0aGlzW2hdID4+IHUpID4gMCAmJiAocyA9ICEwLCBuID0gRGUoaSkpOyBoID49IDA7IClcbiAgICAgIHUgPCB0ID8gKGkgPSAodGhpc1toXSAmICgxIDw8IHUpIC0gMSkgPDwgdCAtIHUsIGkgfD0gdGhpc1stLWhdID4+ICh1ICs9IHRoaXMuREIgLSB0KSkgOiAoaSA9IHRoaXNbaF0gPj4gKHUgLT0gdCkgJiByLCB1IDw9IDAgJiYgKHUgKz0gdGhpcy5EQiwgLS1oKSksIGkgPiAwICYmIChzID0gITApLCBzICYmIChuICs9IERlKGkpKTtcbiAgcmV0dXJuIHMgPyBuIDogXCIwXCI7XG59XG5mdW5jdGlvbiBKdCgpIHtcbiAgdmFyIGUgPSBfKCk7XG4gIHJldHVybiBSLlpFUk8uc3ViVG8odGhpcywgZSksIGU7XG59XG5mdW5jdGlvbiAkdCgpIHtcbiAgcmV0dXJuIHRoaXMucyA8IDAgPyB0aGlzLm5lZ2F0ZSgpIDogdGhpcztcbn1cbmZ1bmN0aW9uIFl0KGUpIHtcbiAgdmFyIHQgPSB0aGlzLnMgLSBlLnM7XG4gIGlmICh0ICE9IDApXG4gICAgcmV0dXJuIHQ7XG4gIHZhciByID0gdGhpcy50O1xuICBpZiAodCA9IHIgLSBlLnQsIHQgIT0gMClcbiAgICByZXR1cm4gdGhpcy5zIDwgMCA/IC10IDogdDtcbiAgZm9yICg7IC0tciA+PSAwOyApXG4gICAgaWYgKCh0ID0gdGhpc1tyXSAtIGVbcl0pICE9IDApXG4gICAgICByZXR1cm4gdDtcbiAgcmV0dXJuIDA7XG59XG5mdW5jdGlvbiBZZShlKSB7XG4gIHZhciB0ID0gMSwgcjtcbiAgcmV0dXJuIChyID0gZSA+Pj4gMTYpICE9IDAgJiYgKGUgPSByLCB0ICs9IDE2KSwgKHIgPSBlID4+IDgpICE9IDAgJiYgKGUgPSByLCB0ICs9IDgpLCAociA9IGUgPj4gNCkgIT0gMCAmJiAoZSA9IHIsIHQgKz0gNCksIChyID0gZSA+PiAyKSAhPSAwICYmIChlID0gciwgdCArPSAyKSwgKHIgPSBlID4+IDEpICE9IDAgJiYgKGUgPSByLCB0ICs9IDEpLCB0O1xufVxuZnVuY3Rpb24gWnQoKSB7XG4gIHJldHVybiB0aGlzLnQgPD0gMCA/IDAgOiB0aGlzLkRCICogKHRoaXMudCAtIDEpICsgWWUodGhpc1t0aGlzLnQgLSAxXSBeIHRoaXMucyAmIHRoaXMuRE0pO1xufVxuZnVuY3Rpb24gUXQoZSwgdCkge1xuICB2YXIgcjtcbiAgZm9yIChyID0gdGhpcy50IC0gMTsgciA+PSAwOyAtLXIpXG4gICAgdFtyICsgZV0gPSB0aGlzW3JdO1xuICBmb3IgKHIgPSBlIC0gMTsgciA+PSAwOyAtLXIpXG4gICAgdFtyXSA9IDA7XG4gIHQudCA9IHRoaXMudCArIGUsIHQucyA9IHRoaXMucztcbn1cbmZ1bmN0aW9uIGVyKGUsIHQpIHtcbiAgZm9yICh2YXIgciA9IGU7IHIgPCB0aGlzLnQ7ICsrcilcbiAgICB0W3IgLSBlXSA9IHRoaXNbcl07XG4gIHQudCA9IE1hdGgubWF4KHRoaXMudCAtIGUsIDApLCB0LnMgPSB0aGlzLnM7XG59XG5mdW5jdGlvbiB0cihlLCB0KSB7XG4gIHZhciByID0gZSAlIHRoaXMuREIsIGkgPSB0aGlzLkRCIC0gciwgcyA9ICgxIDw8IGkpIC0gMSwgbiA9IE1hdGguZmxvb3IoZSAvIHRoaXMuREIpLCBoID0gdGhpcy5zIDw8IHIgJiB0aGlzLkRNLCB1O1xuICBmb3IgKHUgPSB0aGlzLnQgLSAxOyB1ID49IDA7IC0tdSlcbiAgICB0W3UgKyBuICsgMV0gPSB0aGlzW3VdID4+IGkgfCBoLCBoID0gKHRoaXNbdV0gJiBzKSA8PCByO1xuICBmb3IgKHUgPSBuIC0gMTsgdSA+PSAwOyAtLXUpXG4gICAgdFt1XSA9IDA7XG4gIHRbbl0gPSBoLCB0LnQgPSB0aGlzLnQgKyBuICsgMSwgdC5zID0gdGhpcy5zLCB0LmNsYW1wKCk7XG59XG5mdW5jdGlvbiBycihlLCB0KSB7XG4gIHQucyA9IHRoaXMucztcbiAgdmFyIHIgPSBNYXRoLmZsb29yKGUgLyB0aGlzLkRCKTtcbiAgaWYgKHIgPj0gdGhpcy50KSB7XG4gICAgdC50ID0gMDtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIGkgPSBlICUgdGhpcy5EQiwgcyA9IHRoaXMuREIgLSBpLCBuID0gKDEgPDwgaSkgLSAxO1xuICB0WzBdID0gdGhpc1tyXSA+PiBpO1xuICBmb3IgKHZhciBoID0gciArIDE7IGggPCB0aGlzLnQ7ICsraClcbiAgICB0W2ggLSByIC0gMV0gfD0gKHRoaXNbaF0gJiBuKSA8PCBzLCB0W2ggLSByXSA9IHRoaXNbaF0gPj4gaTtcbiAgaSA+IDAgJiYgKHRbdGhpcy50IC0gciAtIDFdIHw9ICh0aGlzLnMgJiBuKSA8PCBzKSwgdC50ID0gdGhpcy50IC0gciwgdC5jbGFtcCgpO1xufVxuZnVuY3Rpb24gaXIoZSwgdCkge1xuICBmb3IgKHZhciByID0gMCwgaSA9IDAsIHMgPSBNYXRoLm1pbihlLnQsIHRoaXMudCk7IHIgPCBzOyApXG4gICAgaSArPSB0aGlzW3JdIC0gZVtyXSwgdFtyKytdID0gaSAmIHRoaXMuRE0sIGkgPj49IHRoaXMuREI7XG4gIGlmIChlLnQgPCB0aGlzLnQpIHtcbiAgICBmb3IgKGkgLT0gZS5zOyByIDwgdGhpcy50OyApXG4gICAgICBpICs9IHRoaXNbcl0sIHRbcisrXSA9IGkgJiB0aGlzLkRNLCBpID4+PSB0aGlzLkRCO1xuICAgIGkgKz0gdGhpcy5zO1xuICB9IGVsc2Uge1xuICAgIGZvciAoaSArPSB0aGlzLnM7IHIgPCBlLnQ7IClcbiAgICAgIGkgLT0gZVtyXSwgdFtyKytdID0gaSAmIHRoaXMuRE0sIGkgPj49IHRoaXMuREI7XG4gICAgaSAtPSBlLnM7XG4gIH1cbiAgdC5zID0gaSA8IDAgPyAtMSA6IDAsIGkgPCAtMSA/IHRbcisrXSA9IHRoaXMuRFYgKyBpIDogaSA+IDAgJiYgKHRbcisrXSA9IGkpLCB0LnQgPSByLCB0LmNsYW1wKCk7XG59XG5mdW5jdGlvbiBucihlLCB0KSB7XG4gIHZhciByID0gdGhpcy5hYnMoKSwgaSA9IGUuYWJzKCksIHMgPSByLnQ7XG4gIGZvciAodC50ID0gcyArIGkudDsgLS1zID49IDA7IClcbiAgICB0W3NdID0gMDtcbiAgZm9yIChzID0gMDsgcyA8IGkudDsgKytzKVxuICAgIHRbcyArIHIudF0gPSByLmFtKDAsIGlbc10sIHQsIHMsIDAsIHIudCk7XG4gIHQucyA9IDAsIHQuY2xhbXAoKSwgdGhpcy5zICE9IGUucyAmJiBSLlpFUk8uc3ViVG8odCwgdCk7XG59XG5mdW5jdGlvbiBzcihlKSB7XG4gIGZvciAodmFyIHQgPSB0aGlzLmFicygpLCByID0gZS50ID0gMiAqIHQudDsgLS1yID49IDA7IClcbiAgICBlW3JdID0gMDtcbiAgZm9yIChyID0gMDsgciA8IHQudCAtIDE7ICsrcikge1xuICAgIHZhciBpID0gdC5hbShyLCB0W3JdLCBlLCAyICogciwgMCwgMSk7XG4gICAgKGVbciArIHQudF0gKz0gdC5hbShyICsgMSwgMiAqIHRbcl0sIGUsIDIgKiByICsgMSwgaSwgdC50IC0gciAtIDEpKSA+PSB0LkRWICYmIChlW3IgKyB0LnRdIC09IHQuRFYsIGVbciArIHQudCArIDFdID0gMSk7XG4gIH1cbiAgZS50ID4gMCAmJiAoZVtlLnQgLSAxXSArPSB0LmFtKHIsIHRbcl0sIGUsIDIgKiByLCAwLCAxKSksIGUucyA9IDAsIGUuY2xhbXAoKTtcbn1cbmZ1bmN0aW9uIGFyKGUsIHQsIHIpIHtcbiAgdmFyIGkgPSBlLmFicygpO1xuICBpZiAoIShpLnQgPD0gMCkpIHtcbiAgICB2YXIgcyA9IHRoaXMuYWJzKCk7XG4gICAgaWYgKHMudCA8IGkudCkge1xuICAgICAgdCAhPSBudWxsICYmIHQuZnJvbUludCgwKSwgciAhPSBudWxsICYmIHRoaXMuY29weVRvKHIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByID09IG51bGwgJiYgKHIgPSBfKCkpO1xuICAgIHZhciBuID0gXygpLCBoID0gdGhpcy5zLCB1ID0gZS5zLCBwID0gdGhpcy5EQiAtIFllKGlbaS50IC0gMV0pO1xuICAgIHAgPiAwID8gKGkubFNoaWZ0VG8ocCwgbiksIHMubFNoaWZ0VG8ocCwgcikpIDogKGkuY29weVRvKG4pLCBzLmNvcHlUbyhyKSk7XG4gICAgdmFyIGMgPSBuLnQsIHkgPSBuW2MgLSAxXTtcbiAgICBpZiAoeSAhPSAwKSB7XG4gICAgICB2YXIgdiA9IHkgKiAoMSA8PCB0aGlzLkYxKSArIChjID4gMSA/IG5bYyAtIDJdID4+IHRoaXMuRjIgOiAwKSwgbyA9IHRoaXMuRlYgLyB2LCBsID0gKDEgPDwgdGhpcy5GMSkgLyB2LCBmID0gMSA8PCB0aGlzLkYyLCBkID0gci50LCBnID0gZCAtIGMsIFMgPSB0ID8/IF8oKTtcbiAgICAgIGZvciAobi5kbFNoaWZ0VG8oZywgUyksIHIuY29tcGFyZVRvKFMpID49IDAgJiYgKHJbci50KytdID0gMSwgci5zdWJUbyhTLCByKSksIFIuT05FLmRsU2hpZnRUbyhjLCBTKSwgUy5zdWJUbyhuLCBuKTsgbi50IDwgYzsgKVxuICAgICAgICBuW24udCsrXSA9IDA7XG4gICAgICBmb3IgKDsgLS1nID49IDA7ICkge1xuICAgICAgICB2YXIgYiA9IHJbLS1kXSA9PSB5ID8gdGhpcy5ETSA6IE1hdGguZmxvb3IocltkXSAqIG8gKyAocltkIC0gMV0gKyBmKSAqIGwpO1xuICAgICAgICBpZiAoKHJbZF0gKz0gbi5hbSgwLCBiLCByLCBnLCAwLCBjKSkgPCBiKVxuICAgICAgICAgIGZvciAobi5kbFNoaWZ0VG8oZywgUyksIHIuc3ViVG8oUywgcik7IHJbZF0gPCAtLWI7IClcbiAgICAgICAgICAgIHIuc3ViVG8oUywgcik7XG4gICAgICB9XG4gICAgICB0ICE9IG51bGwgJiYgKHIuZHJTaGlmdFRvKGMsIHQpLCBoICE9IHUgJiYgUi5aRVJPLnN1YlRvKHQsIHQpKSwgci50ID0gYywgci5jbGFtcCgpLCBwID4gMCAmJiByLnJTaGlmdFRvKHAsIHIpLCBoIDwgMCAmJiBSLlpFUk8uc3ViVG8ociwgcik7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBvcihlKSB7XG4gIHZhciB0ID0gXygpO1xuICByZXR1cm4gdGhpcy5hYnMoKS5kaXZSZW1UbyhlLCBudWxsLCB0KSwgdGhpcy5zIDwgMCAmJiB0LmNvbXBhcmVUbyhSLlpFUk8pID4gMCAmJiBlLnN1YlRvKHQsIHQpLCB0O1xufVxuZnVuY3Rpb24gT2UoZSkge1xuICB0aGlzLm0gPSBlO1xufVxuZnVuY3Rpb24gdXIoZSkge1xuICByZXR1cm4gZS5zIDwgMCB8fCBlLmNvbXBhcmVUbyh0aGlzLm0pID49IDAgPyBlLm1vZCh0aGlzLm0pIDogZTtcbn1cbmZ1bmN0aW9uIGhyKGUpIHtcbiAgcmV0dXJuIGU7XG59XG5mdW5jdGlvbiBmcihlKSB7XG4gIGUuZGl2UmVtVG8odGhpcy5tLCBudWxsLCBlKTtcbn1cbmZ1bmN0aW9uIGNyKGUsIHQsIHIpIHtcbiAgZS5tdWx0aXBseVRvKHQsIHIpLCB0aGlzLnJlZHVjZShyKTtcbn1cbmZ1bmN0aW9uIGxyKGUsIHQpIHtcbiAgZS5zcXVhcmVUbyh0KSwgdGhpcy5yZWR1Y2UodCk7XG59XG5PZS5wcm90b3R5cGUuY29udmVydCA9IHVyO1xuT2UucHJvdG90eXBlLnJldmVydCA9IGhyO1xuT2UucHJvdG90eXBlLnJlZHVjZSA9IGZyO1xuT2UucHJvdG90eXBlLm11bFRvID0gY3I7XG5PZS5wcm90b3R5cGUuc3FyVG8gPSBscjtcbmZ1bmN0aW9uIGRyKCkge1xuICBpZiAodGhpcy50IDwgMSlcbiAgICByZXR1cm4gMDtcbiAgdmFyIGUgPSB0aGlzWzBdO1xuICBpZiAoIShlICYgMSkpXG4gICAgcmV0dXJuIDA7XG4gIHZhciB0ID0gZSAmIDM7XG4gIHJldHVybiB0ID0gdCAqICgyIC0gKGUgJiAxNSkgKiB0KSAmIDE1LCB0ID0gdCAqICgyIC0gKGUgJiAyNTUpICogdCkgJiAyNTUsIHQgPSB0ICogKDIgLSAoKGUgJiA2NTUzNSkgKiB0ICYgNjU1MzUpKSAmIDY1NTM1LCB0ID0gdCAqICgyIC0gZSAqIHQgJSB0aGlzLkRWKSAlIHRoaXMuRFYsIHQgPiAwID8gdGhpcy5EViAtIHQgOiAtdDtcbn1cbmZ1bmN0aW9uIGplKGUpIHtcbiAgdGhpcy5tID0gZSwgdGhpcy5tcCA9IGUuaW52RGlnaXQoKSwgdGhpcy5tcGwgPSB0aGlzLm1wICYgMzI3NjcsIHRoaXMubXBoID0gdGhpcy5tcCA+PiAxNSwgdGhpcy51bSA9ICgxIDw8IGUuREIgLSAxNSkgLSAxLCB0aGlzLm10MiA9IDIgKiBlLnQ7XG59XG5mdW5jdGlvbiBwcihlKSB7XG4gIHZhciB0ID0gXygpO1xuICByZXR1cm4gZS5hYnMoKS5kbFNoaWZ0VG8odGhpcy5tLnQsIHQpLCB0LmRpdlJlbVRvKHRoaXMubSwgbnVsbCwgdCksIGUucyA8IDAgJiYgdC5jb21wYXJlVG8oUi5aRVJPKSA+IDAgJiYgdGhpcy5tLnN1YlRvKHQsIHQpLCB0O1xufVxuZnVuY3Rpb24gdnIoZSkge1xuICB2YXIgdCA9IF8oKTtcbiAgcmV0dXJuIGUuY29weVRvKHQpLCB0aGlzLnJlZHVjZSh0KSwgdDtcbn1cbmZ1bmN0aW9uIGdyKGUpIHtcbiAgZm9yICg7IGUudCA8PSB0aGlzLm10MjsgKVxuICAgIGVbZS50KytdID0gMDtcbiAgZm9yICh2YXIgdCA9IDA7IHQgPCB0aGlzLm0udDsgKyt0KSB7XG4gICAgdmFyIHIgPSBlW3RdICYgMzI3NjcsIGkgPSByICogdGhpcy5tcGwgKyAoKHIgKiB0aGlzLm1waCArIChlW3RdID4+IDE1KSAqIHRoaXMubXBsICYgdGhpcy51bSkgPDwgMTUpICYgZS5ETTtcbiAgICBmb3IgKHIgPSB0ICsgdGhpcy5tLnQsIGVbcl0gKz0gdGhpcy5tLmFtKDAsIGksIGUsIHQsIDAsIHRoaXMubS50KTsgZVtyXSA+PSBlLkRWOyApXG4gICAgICBlW3JdIC09IGUuRFYsIGVbKytyXSsrO1xuICB9XG4gIGUuY2xhbXAoKSwgZS5kclNoaWZ0VG8odGhpcy5tLnQsIGUpLCBlLmNvbXBhcmVUbyh0aGlzLm0pID49IDAgJiYgZS5zdWJUbyh0aGlzLm0sIGUpO1xufVxuZnVuY3Rpb24geXIoZSwgdCkge1xuICBlLnNxdWFyZVRvKHQpLCB0aGlzLnJlZHVjZSh0KTtcbn1cbmZ1bmN0aW9uIG1yKGUsIHQsIHIpIHtcbiAgZS5tdWx0aXBseVRvKHQsIHIpLCB0aGlzLnJlZHVjZShyKTtcbn1cbmplLnByb3RvdHlwZS5jb252ZXJ0ID0gcHI7XG5qZS5wcm90b3R5cGUucmV2ZXJ0ID0gdnI7XG5qZS5wcm90b3R5cGUucmVkdWNlID0gZ3I7XG5qZS5wcm90b3R5cGUubXVsVG8gPSBtcjtcbmplLnByb3RvdHlwZS5zcXJUbyA9IHlyO1xuZnVuY3Rpb24geHIoKSB7XG4gIHJldHVybiAodGhpcy50ID4gMCA/IHRoaXNbMF0gJiAxIDogdGhpcy5zKSA9PSAwO1xufVxuZnVuY3Rpb24gU3IoZSwgdCkge1xuICBpZiAoZSA+IDQyOTQ5NjcyOTUgfHwgZSA8IDEpXG4gICAgcmV0dXJuIFIuT05FO1xuICB2YXIgciA9IF8oKSwgaSA9IF8oKSwgcyA9IHQuY29udmVydCh0aGlzKSwgbiA9IFllKGUpIC0gMTtcbiAgZm9yIChzLmNvcHlUbyhyKTsgLS1uID49IDA7IClcbiAgICBpZiAodC5zcXJUbyhyLCBpKSwgKGUgJiAxIDw8IG4pID4gMClcbiAgICAgIHQubXVsVG8oaSwgcywgcik7XG4gICAgZWxzZSB7XG4gICAgICB2YXIgaCA9IHI7XG4gICAgICByID0gaSwgaSA9IGg7XG4gICAgfVxuICByZXR1cm4gdC5yZXZlcnQocik7XG59XG5mdW5jdGlvbiBFcihlLCB0KSB7XG4gIHZhciByO1xuICByZXR1cm4gZSA8IDI1NiB8fCB0LmlzRXZlbigpID8gciA9IG5ldyBPZSh0KSA6IHIgPSBuZXcgamUodCksIHRoaXMuZXhwKGUsIHIpO1xufVxuUi5wcm90b3R5cGUuY29weVRvID0gVXQ7XG5SLnByb3RvdHlwZS5mcm9tSW50ID0genQ7XG5SLnByb3RvdHlwZS5mcm9tU3RyaW5nID0gR3Q7XG5SLnByb3RvdHlwZS5jbGFtcCA9IFd0O1xuUi5wcm90b3R5cGUuZGxTaGlmdFRvID0gUXQ7XG5SLnByb3RvdHlwZS5kclNoaWZ0VG8gPSBlcjtcblIucHJvdG90eXBlLmxTaGlmdFRvID0gdHI7XG5SLnByb3RvdHlwZS5yU2hpZnRUbyA9IHJyO1xuUi5wcm90b3R5cGUuc3ViVG8gPSBpcjtcblIucHJvdG90eXBlLm11bHRpcGx5VG8gPSBucjtcblIucHJvdG90eXBlLnNxdWFyZVRvID0gc3I7XG5SLnByb3RvdHlwZS5kaXZSZW1UbyA9IGFyO1xuUi5wcm90b3R5cGUuaW52RGlnaXQgPSBkcjtcblIucHJvdG90eXBlLmlzRXZlbiA9IHhyO1xuUi5wcm90b3R5cGUuZXhwID0gU3I7XG5SLnByb3RvdHlwZS50b1N0cmluZyA9IFh0O1xuUi5wcm90b3R5cGUubmVnYXRlID0gSnQ7XG5SLnByb3RvdHlwZS5hYnMgPSAkdDtcblIucHJvdG90eXBlLmNvbXBhcmVUbyA9IFl0O1xuUi5wcm90b3R5cGUuYml0TGVuZ3RoID0gWnQ7XG5SLnByb3RvdHlwZS5tb2QgPSBvcjtcblIucHJvdG90eXBlLm1vZFBvd0ludCA9IEVyO1xuUi5aRVJPID0gUmUoMCk7XG5SLk9ORSA9IFJlKDEpO1xuLyohIChjKSBUb20gV3UgfCBodHRwOi8vd3d3LWNzLXN0dWRlbnRzLnN0YW5mb3JkLmVkdS9+dGp3L2pzYm4vXG4gKi9cbmZ1bmN0aW9uIHdyKCkge1xuICB2YXIgZSA9IF8oKTtcbiAgcmV0dXJuIHRoaXMuY29weVRvKGUpLCBlO1xufVxuZnVuY3Rpb24gRnIoKSB7XG4gIGlmICh0aGlzLnMgPCAwKSB7XG4gICAgaWYgKHRoaXMudCA9PSAxKVxuICAgICAgcmV0dXJuIHRoaXNbMF0gLSB0aGlzLkRWO1xuICAgIGlmICh0aGlzLnQgPT0gMClcbiAgICAgIHJldHVybiAtMTtcbiAgfSBlbHNlIHtcbiAgICBpZiAodGhpcy50ID09IDEpXG4gICAgICByZXR1cm4gdGhpc1swXTtcbiAgICBpZiAodGhpcy50ID09IDApXG4gICAgICByZXR1cm4gMDtcbiAgfVxuICByZXR1cm4gKHRoaXNbMV0gJiAoMSA8PCAzMiAtIHRoaXMuREIpIC0gMSkgPDwgdGhpcy5EQiB8IHRoaXNbMF07XG59XG5mdW5jdGlvbiBicigpIHtcbiAgcmV0dXJuIHRoaXMudCA9PSAwID8gdGhpcy5zIDogdGhpc1swXSA8PCAyNCA+PiAyNDtcbn1cbmZ1bmN0aW9uIEFyKCkge1xuICByZXR1cm4gdGhpcy50ID09IDAgPyB0aGlzLnMgOiB0aGlzWzBdIDw8IDE2ID4+IDE2O1xufVxuZnVuY3Rpb24gRHIoZSkge1xuICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLkxOMiAqIHRoaXMuREIgLyBNYXRoLmxvZyhlKSk7XG59XG5mdW5jdGlvbiBQcigpIHtcbiAgcmV0dXJuIHRoaXMucyA8IDAgPyAtMSA6IHRoaXMudCA8PSAwIHx8IHRoaXMudCA9PSAxICYmIHRoaXNbMF0gPD0gMCA/IDAgOiAxO1xufVxuZnVuY3Rpb24gSXIoZSkge1xuICBpZiAoZSA9PSBudWxsICYmIChlID0gMTApLCB0aGlzLnNpZ251bSgpID09IDAgfHwgZSA8IDIgfHwgZSA+IDM2KVxuICAgIHJldHVybiBcIjBcIjtcbiAgdmFyIHQgPSB0aGlzLmNodW5rU2l6ZShlKSwgciA9IE1hdGgucG93KGUsIHQpLCBpID0gUmUociksIHMgPSBfKCksIG4gPSBfKCksIGggPSBcIlwiO1xuICBmb3IgKHRoaXMuZGl2UmVtVG8oaSwgcywgbik7IHMuc2lnbnVtKCkgPiAwOyApXG4gICAgaCA9IChyICsgbi5pbnRWYWx1ZSgpKS50b1N0cmluZyhlKS5zdWJzdHIoMSkgKyBoLCBzLmRpdlJlbVRvKGksIHMsIG4pO1xuICByZXR1cm4gbi5pbnRWYWx1ZSgpLnRvU3RyaW5nKGUpICsgaDtcbn1cbmZ1bmN0aW9uIENyKGUsIHQpIHtcbiAgdGhpcy5mcm9tSW50KDApLCB0ID09IG51bGwgJiYgKHQgPSAxMCk7XG4gIGZvciAodmFyIHIgPSB0aGlzLmNodW5rU2l6ZSh0KSwgaSA9IE1hdGgucG93KHQsIHIpLCBzID0gITEsIG4gPSAwLCBoID0gMCwgdSA9IDA7IHUgPCBlLmxlbmd0aDsgKyt1KSB7XG4gICAgdmFyIHAgPSB3dChlLCB1KTtcbiAgICBpZiAocCA8IDApIHtcbiAgICAgIGUuY2hhckF0KHUpID09IFwiLVwiICYmIHRoaXMuc2lnbnVtKCkgPT0gMCAmJiAocyA9ICEwKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBoID0gdCAqIGggKyBwLCArK24gPj0gciAmJiAodGhpcy5kTXVsdGlwbHkoaSksIHRoaXMuZEFkZE9mZnNldChoLCAwKSwgbiA9IDAsIGggPSAwKTtcbiAgfVxuICBuID4gMCAmJiAodGhpcy5kTXVsdGlwbHkoTWF0aC5wb3codCwgbikpLCB0aGlzLmRBZGRPZmZzZXQoaCwgMCkpLCBzICYmIFIuWkVSTy5zdWJUbyh0aGlzLCB0aGlzKTtcbn1cbmZ1bmN0aW9uIFJyKGUsIHQsIHIpIHtcbiAgaWYgKHR5cGVvZiB0ID09IFwibnVtYmVyXCIpXG4gICAgaWYgKGUgPCAyKVxuICAgICAgdGhpcy5mcm9tSW50KDEpO1xuICAgIGVsc2VcbiAgICAgIGZvciAodGhpcy5mcm9tTnVtYmVyKGUsIHIpLCB0aGlzLnRlc3RCaXQoZSAtIDEpIHx8IHRoaXMuYml0d2lzZVRvKFIuT05FLnNoaWZ0TGVmdChlIC0gMSksIHN0LCB0aGlzKSwgdGhpcy5pc0V2ZW4oKSAmJiB0aGlzLmRBZGRPZmZzZXQoMSwgMCk7ICF0aGlzLmlzUHJvYmFibGVQcmltZSh0KTsgKVxuICAgICAgICB0aGlzLmRBZGRPZmZzZXQoMiwgMCksIHRoaXMuYml0TGVuZ3RoKCkgPiBlICYmIHRoaXMuc3ViVG8oUi5PTkUuc2hpZnRMZWZ0KGUgLSAxKSwgdGhpcyk7XG4gIGVsc2Uge1xuICAgIHZhciBpID0gbmV3IEFycmF5KCksIHMgPSBlICYgNztcbiAgICBpLmxlbmd0aCA9IChlID4+IDMpICsgMSwgdC5uZXh0Qnl0ZXMoaSksIHMgPiAwID8gaVswXSAmPSAoMSA8PCBzKSAtIDEgOiBpWzBdID0gMCwgdGhpcy5mcm9tU3RyaW5nKGksIDI1Nik7XG4gIH1cbn1cbmZ1bmN0aW9uIFRyKCkge1xuICB2YXIgZSA9IHRoaXMudCwgdCA9IG5ldyBBcnJheSgpO1xuICB0WzBdID0gdGhpcy5zO1xuICB2YXIgciA9IHRoaXMuREIgLSBlICogdGhpcy5EQiAlIDgsIGksIHMgPSAwO1xuICBpZiAoZS0tID4gMClcbiAgICBmb3IgKHIgPCB0aGlzLkRCICYmIChpID0gdGhpc1tlXSA+PiByKSAhPSAodGhpcy5zICYgdGhpcy5ETSkgPj4gciAmJiAodFtzKytdID0gaSB8IHRoaXMucyA8PCB0aGlzLkRCIC0gcik7IGUgPj0gMDsgKVxuICAgICAgciA8IDggPyAoaSA9ICh0aGlzW2VdICYgKDEgPDwgcikgLSAxKSA8PCA4IC0gciwgaSB8PSB0aGlzWy0tZV0gPj4gKHIgKz0gdGhpcy5EQiAtIDgpKSA6IChpID0gdGhpc1tlXSA+PiAociAtPSA4KSAmIDI1NSwgciA8PSAwICYmIChyICs9IHRoaXMuREIsIC0tZSkpLCBpICYgMTI4ICYmIChpIHw9IC0yNTYpLCBzID09IDAgJiYgKHRoaXMucyAmIDEyOCkgIT0gKGkgJiAxMjgpICYmICsrcywgKHMgPiAwIHx8IGkgIT0gdGhpcy5zKSAmJiAodFtzKytdID0gaSk7XG4gIHJldHVybiB0O1xufVxuZnVuY3Rpb24gQnIoZSkge1xuICByZXR1cm4gdGhpcy5jb21wYXJlVG8oZSkgPT0gMDtcbn1cbmZ1bmN0aW9uIE5yKGUpIHtcbiAgcmV0dXJuIHRoaXMuY29tcGFyZVRvKGUpIDwgMCA/IHRoaXMgOiBlO1xufVxuZnVuY3Rpb24gSHIoZSkge1xuICByZXR1cm4gdGhpcy5jb21wYXJlVG8oZSkgPiAwID8gdGhpcyA6IGU7XG59XG5mdW5jdGlvbiBPcihlLCB0LCByKSB7XG4gIHZhciBpLCBzLCBuID0gTWF0aC5taW4oZS50LCB0aGlzLnQpO1xuICBmb3IgKGkgPSAwOyBpIDwgbjsgKytpKVxuICAgIHJbaV0gPSB0KHRoaXNbaV0sIGVbaV0pO1xuICBpZiAoZS50IDwgdGhpcy50KSB7XG4gICAgZm9yIChzID0gZS5zICYgdGhpcy5ETSwgaSA9IG47IGkgPCB0aGlzLnQ7ICsraSlcbiAgICAgIHJbaV0gPSB0KHRoaXNbaV0sIHMpO1xuICAgIHIudCA9IHRoaXMudDtcbiAgfSBlbHNlIHtcbiAgICBmb3IgKHMgPSB0aGlzLnMgJiB0aGlzLkRNLCBpID0gbjsgaSA8IGUudDsgKytpKVxuICAgICAgcltpXSA9IHQocywgZVtpXSk7XG4gICAgci50ID0gZS50O1xuICB9XG4gIHIucyA9IHQodGhpcy5zLCBlLnMpLCByLmNsYW1wKCk7XG59XG5mdW5jdGlvbiBqcihlLCB0KSB7XG4gIHJldHVybiBlICYgdDtcbn1cbmZ1bmN0aW9uIFZyKGUpIHtcbiAgdmFyIHQgPSBfKCk7XG4gIHJldHVybiB0aGlzLmJpdHdpc2VUbyhlLCBqciwgdCksIHQ7XG59XG5mdW5jdGlvbiBzdChlLCB0KSB7XG4gIHJldHVybiBlIHwgdDtcbn1cbmZ1bmN0aW9uIEtyKGUpIHtcbiAgdmFyIHQgPSBfKCk7XG4gIHJldHVybiB0aGlzLmJpdHdpc2VUbyhlLCBzdCwgdCksIHQ7XG59XG5mdW5jdGlvbiBGdChlLCB0KSB7XG4gIHJldHVybiBlIF4gdDtcbn1cbmZ1bmN0aW9uIExyKGUpIHtcbiAgdmFyIHQgPSBfKCk7XG4gIHJldHVybiB0aGlzLmJpdHdpc2VUbyhlLCBGdCwgdCksIHQ7XG59XG5mdW5jdGlvbiBidChlLCB0KSB7XG4gIHJldHVybiBlICYgfnQ7XG59XG5mdW5jdGlvbiBxcihlKSB7XG4gIHZhciB0ID0gXygpO1xuICByZXR1cm4gdGhpcy5iaXR3aXNlVG8oZSwgYnQsIHQpLCB0O1xufVxuZnVuY3Rpb24ga3IoKSB7XG4gIGZvciAodmFyIGUgPSBfKCksIHQgPSAwOyB0IDwgdGhpcy50OyArK3QpXG4gICAgZVt0XSA9IHRoaXMuRE0gJiB+dGhpc1t0XTtcbiAgcmV0dXJuIGUudCA9IHRoaXMudCwgZS5zID0gfnRoaXMucywgZTtcbn1cbmZ1bmN0aW9uIE1yKGUpIHtcbiAgdmFyIHQgPSBfKCk7XG4gIHJldHVybiBlIDwgMCA/IHRoaXMuclNoaWZ0VG8oLWUsIHQpIDogdGhpcy5sU2hpZnRUbyhlLCB0KSwgdDtcbn1cbmZ1bmN0aW9uIF9yKGUpIHtcbiAgdmFyIHQgPSBfKCk7XG4gIHJldHVybiBlIDwgMCA/IHRoaXMubFNoaWZ0VG8oLWUsIHQpIDogdGhpcy5yU2hpZnRUbyhlLCB0KSwgdDtcbn1cbmZ1bmN0aW9uIFVyKGUpIHtcbiAgaWYgKGUgPT0gMClcbiAgICByZXR1cm4gLTE7XG4gIHZhciB0ID0gMDtcbiAgcmV0dXJuIGUgJiA2NTUzNSB8fCAoZSA+Pj0gMTYsIHQgKz0gMTYpLCBlICYgMjU1IHx8IChlID4+PSA4LCB0ICs9IDgpLCBlICYgMTUgfHwgKGUgPj49IDQsIHQgKz0gNCksIGUgJiAzIHx8IChlID4+PSAyLCB0ICs9IDIpLCBlICYgMSB8fCArK3QsIHQ7XG59XG5mdW5jdGlvbiB6cigpIHtcbiAgZm9yICh2YXIgZSA9IDA7IGUgPCB0aGlzLnQ7ICsrZSlcbiAgICBpZiAodGhpc1tlXSAhPSAwKVxuICAgICAgcmV0dXJuIGUgKiB0aGlzLkRCICsgVXIodGhpc1tlXSk7XG4gIHJldHVybiB0aGlzLnMgPCAwID8gdGhpcy50ICogdGhpcy5EQiA6IC0xO1xufVxuZnVuY3Rpb24gR3IoZSkge1xuICBmb3IgKHZhciB0ID0gMDsgZSAhPSAwOyApXG4gICAgZSAmPSBlIC0gMSwgKyt0O1xuICByZXR1cm4gdDtcbn1cbmZ1bmN0aW9uIFdyKCkge1xuICBmb3IgKHZhciBlID0gMCwgdCA9IHRoaXMucyAmIHRoaXMuRE0sIHIgPSAwOyByIDwgdGhpcy50OyArK3IpXG4gICAgZSArPSBHcih0aGlzW3JdIF4gdCk7XG4gIHJldHVybiBlO1xufVxuZnVuY3Rpb24gWHIoZSkge1xuICB2YXIgdCA9IE1hdGguZmxvb3IoZSAvIHRoaXMuREIpO1xuICByZXR1cm4gdCA+PSB0aGlzLnQgPyB0aGlzLnMgIT0gMCA6ICh0aGlzW3RdICYgMSA8PCBlICUgdGhpcy5EQikgIT0gMDtcbn1cbmZ1bmN0aW9uIEpyKGUsIHQpIHtcbiAgdmFyIHIgPSBSLk9ORS5zaGlmdExlZnQoZSk7XG4gIHJldHVybiB0aGlzLmJpdHdpc2VUbyhyLCB0LCByKSwgcjtcbn1cbmZ1bmN0aW9uICRyKGUpIHtcbiAgcmV0dXJuIHRoaXMuY2hhbmdlQml0KGUsIHN0KTtcbn1cbmZ1bmN0aW9uIFlyKGUpIHtcbiAgcmV0dXJuIHRoaXMuY2hhbmdlQml0KGUsIGJ0KTtcbn1cbmZ1bmN0aW9uIFpyKGUpIHtcbiAgcmV0dXJuIHRoaXMuY2hhbmdlQml0KGUsIEZ0KTtcbn1cbmZ1bmN0aW9uIFFyKGUsIHQpIHtcbiAgZm9yICh2YXIgciA9IDAsIGkgPSAwLCBzID0gTWF0aC5taW4oZS50LCB0aGlzLnQpOyByIDwgczsgKVxuICAgIGkgKz0gdGhpc1tyXSArIGVbcl0sIHRbcisrXSA9IGkgJiB0aGlzLkRNLCBpID4+PSB0aGlzLkRCO1xuICBpZiAoZS50IDwgdGhpcy50KSB7XG4gICAgZm9yIChpICs9IGUuczsgciA8IHRoaXMudDsgKVxuICAgICAgaSArPSB0aGlzW3JdLCB0W3IrK10gPSBpICYgdGhpcy5ETSwgaSA+Pj0gdGhpcy5EQjtcbiAgICBpICs9IHRoaXMucztcbiAgfSBlbHNlIHtcbiAgICBmb3IgKGkgKz0gdGhpcy5zOyByIDwgZS50OyApXG4gICAgICBpICs9IGVbcl0sIHRbcisrXSA9IGkgJiB0aGlzLkRNLCBpID4+PSB0aGlzLkRCO1xuICAgIGkgKz0gZS5zO1xuICB9XG4gIHQucyA9IGkgPCAwID8gLTEgOiAwLCBpID4gMCA/IHRbcisrXSA9IGkgOiBpIDwgLTEgJiYgKHRbcisrXSA9IHRoaXMuRFYgKyBpKSwgdC50ID0gciwgdC5jbGFtcCgpO1xufVxuZnVuY3Rpb24gZWkoZSkge1xuICB2YXIgdCA9IF8oKTtcbiAgcmV0dXJuIHRoaXMuYWRkVG8oZSwgdCksIHQ7XG59XG5mdW5jdGlvbiB0aShlKSB7XG4gIHZhciB0ID0gXygpO1xuICByZXR1cm4gdGhpcy5zdWJUbyhlLCB0KSwgdDtcbn1cbmZ1bmN0aW9uIHJpKGUpIHtcbiAgdmFyIHQgPSBfKCk7XG4gIHJldHVybiB0aGlzLm11bHRpcGx5VG8oZSwgdCksIHQ7XG59XG5mdW5jdGlvbiBpaSgpIHtcbiAgdmFyIGUgPSBfKCk7XG4gIHJldHVybiB0aGlzLnNxdWFyZVRvKGUpLCBlO1xufVxuZnVuY3Rpb24gbmkoZSkge1xuICB2YXIgdCA9IF8oKTtcbiAgcmV0dXJuIHRoaXMuZGl2UmVtVG8oZSwgdCwgbnVsbCksIHQ7XG59XG5mdW5jdGlvbiBzaShlKSB7XG4gIHZhciB0ID0gXygpO1xuICByZXR1cm4gdGhpcy5kaXZSZW1UbyhlLCBudWxsLCB0KSwgdDtcbn1cbmZ1bmN0aW9uIGFpKGUpIHtcbiAgdmFyIHQgPSBfKCksIHIgPSBfKCk7XG4gIHJldHVybiB0aGlzLmRpdlJlbVRvKGUsIHQsIHIpLCBuZXcgQXJyYXkodCwgcik7XG59XG5mdW5jdGlvbiBvaShlKSB7XG4gIHRoaXNbdGhpcy50XSA9IHRoaXMuYW0oMCwgZSAtIDEsIHRoaXMsIDAsIDAsIHRoaXMudCksICsrdGhpcy50LCB0aGlzLmNsYW1wKCk7XG59XG5mdW5jdGlvbiB1aShlLCB0KSB7XG4gIGlmIChlICE9IDApIHtcbiAgICBmb3IgKDsgdGhpcy50IDw9IHQ7IClcbiAgICAgIHRoaXNbdGhpcy50KytdID0gMDtcbiAgICBmb3IgKHRoaXNbdF0gKz0gZTsgdGhpc1t0XSA+PSB0aGlzLkRWOyApXG4gICAgICB0aGlzW3RdIC09IHRoaXMuRFYsICsrdCA+PSB0aGlzLnQgJiYgKHRoaXNbdGhpcy50KytdID0gMCksICsrdGhpc1t0XTtcbiAgfVxufVxuZnVuY3Rpb24gemUoKSB7XG59XG5mdW5jdGlvbiBBdChlKSB7XG4gIHJldHVybiBlO1xufVxuZnVuY3Rpb24gaGkoZSwgdCwgcikge1xuICBlLm11bHRpcGx5VG8odCwgcik7XG59XG5mdW5jdGlvbiBmaShlLCB0KSB7XG4gIGUuc3F1YXJlVG8odCk7XG59XG56ZS5wcm90b3R5cGUuY29udmVydCA9IEF0O1xuemUucHJvdG90eXBlLnJldmVydCA9IEF0O1xuemUucHJvdG90eXBlLm11bFRvID0gaGk7XG56ZS5wcm90b3R5cGUuc3FyVG8gPSBmaTtcbmZ1bmN0aW9uIGNpKGUpIHtcbiAgcmV0dXJuIHRoaXMuZXhwKGUsIG5ldyB6ZSgpKTtcbn1cbmZ1bmN0aW9uIGxpKGUsIHQsIHIpIHtcbiAgdmFyIGkgPSBNYXRoLm1pbih0aGlzLnQgKyBlLnQsIHQpO1xuICBmb3IgKHIucyA9IDAsIHIudCA9IGk7IGkgPiAwOyApXG4gICAgclstLWldID0gMDtcbiAgdmFyIHM7XG4gIGZvciAocyA9IHIudCAtIHRoaXMudDsgaSA8IHM7ICsraSlcbiAgICByW2kgKyB0aGlzLnRdID0gdGhpcy5hbSgwLCBlW2ldLCByLCBpLCAwLCB0aGlzLnQpO1xuICBmb3IgKHMgPSBNYXRoLm1pbihlLnQsIHQpOyBpIDwgczsgKytpKVxuICAgIHRoaXMuYW0oMCwgZVtpXSwgciwgaSwgMCwgdCAtIGkpO1xuICByLmNsYW1wKCk7XG59XG5mdW5jdGlvbiBkaShlLCB0LCByKSB7XG4gIC0tdDtcbiAgdmFyIGkgPSByLnQgPSB0aGlzLnQgKyBlLnQgLSB0O1xuICBmb3IgKHIucyA9IDA7IC0taSA+PSAwOyApXG4gICAgcltpXSA9IDA7XG4gIGZvciAoaSA9IE1hdGgubWF4KHQgLSB0aGlzLnQsIDApOyBpIDwgZS50OyArK2kpXG4gICAgclt0aGlzLnQgKyBpIC0gdF0gPSB0aGlzLmFtKHQgLSBpLCBlW2ldLCByLCAwLCAwLCB0aGlzLnQgKyBpIC0gdCk7XG4gIHIuY2xhbXAoKSwgci5kclNoaWZ0VG8oMSwgcik7XG59XG5mdW5jdGlvbiBxZShlKSB7XG4gIHRoaXMucjIgPSBfKCksIHRoaXMucTMgPSBfKCksIFIuT05FLmRsU2hpZnRUbygyICogZS50LCB0aGlzLnIyKSwgdGhpcy5tdSA9IHRoaXMucjIuZGl2aWRlKGUpLCB0aGlzLm0gPSBlO1xufVxuZnVuY3Rpb24gcGkoZSkge1xuICBpZiAoZS5zIDwgMCB8fCBlLnQgPiAyICogdGhpcy5tLnQpXG4gICAgcmV0dXJuIGUubW9kKHRoaXMubSk7XG4gIGlmIChlLmNvbXBhcmVUbyh0aGlzLm0pIDwgMClcbiAgICByZXR1cm4gZTtcbiAgdmFyIHQgPSBfKCk7XG4gIHJldHVybiBlLmNvcHlUbyh0KSwgdGhpcy5yZWR1Y2UodCksIHQ7XG59XG5mdW5jdGlvbiB2aShlKSB7XG4gIHJldHVybiBlO1xufVxuZnVuY3Rpb24gZ2koZSkge1xuICBmb3IgKGUuZHJTaGlmdFRvKHRoaXMubS50IC0gMSwgdGhpcy5yMiksIGUudCA+IHRoaXMubS50ICsgMSAmJiAoZS50ID0gdGhpcy5tLnQgKyAxLCBlLmNsYW1wKCkpLCB0aGlzLm11Lm11bHRpcGx5VXBwZXJUbyh0aGlzLnIyLCB0aGlzLm0udCArIDEsIHRoaXMucTMpLCB0aGlzLm0ubXVsdGlwbHlMb3dlclRvKHRoaXMucTMsIHRoaXMubS50ICsgMSwgdGhpcy5yMik7IGUuY29tcGFyZVRvKHRoaXMucjIpIDwgMDsgKVxuICAgIGUuZEFkZE9mZnNldCgxLCB0aGlzLm0udCArIDEpO1xuICBmb3IgKGUuc3ViVG8odGhpcy5yMiwgZSk7IGUuY29tcGFyZVRvKHRoaXMubSkgPj0gMDsgKVxuICAgIGUuc3ViVG8odGhpcy5tLCBlKTtcbn1cbmZ1bmN0aW9uIHlpKGUsIHQpIHtcbiAgZS5zcXVhcmVUbyh0KSwgdGhpcy5yZWR1Y2UodCk7XG59XG5mdW5jdGlvbiBtaShlLCB0LCByKSB7XG4gIGUubXVsdGlwbHlUbyh0LCByKSwgdGhpcy5yZWR1Y2Uocik7XG59XG5xZS5wcm90b3R5cGUuY29udmVydCA9IHBpO1xucWUucHJvdG90eXBlLnJldmVydCA9IHZpO1xucWUucHJvdG90eXBlLnJlZHVjZSA9IGdpO1xucWUucHJvdG90eXBlLm11bFRvID0gbWk7XG5xZS5wcm90b3R5cGUuc3FyVG8gPSB5aTtcbmZ1bmN0aW9uIHhpKGUsIHQpIHtcbiAgdmFyIHIgPSBlLmJpdExlbmd0aCgpLCBpLCBzID0gUmUoMSksIG47XG4gIGlmIChyIDw9IDApXG4gICAgcmV0dXJuIHM7XG4gIHIgPCAxOCA/IGkgPSAxIDogciA8IDQ4ID8gaSA9IDMgOiByIDwgMTQ0ID8gaSA9IDQgOiByIDwgNzY4ID8gaSA9IDUgOiBpID0gNiwgciA8IDggPyBuID0gbmV3IE9lKHQpIDogdC5pc0V2ZW4oKSA/IG4gPSBuZXcgcWUodCkgOiBuID0gbmV3IGplKHQpO1xuICB2YXIgaCA9IG5ldyBBcnJheSgpLCB1ID0gMywgcCA9IGkgLSAxLCBjID0gKDEgPDwgaSkgLSAxO1xuICBpZiAoaFsxXSA9IG4uY29udmVydCh0aGlzKSwgaSA+IDEpIHtcbiAgICB2YXIgeSA9IF8oKTtcbiAgICBmb3IgKG4uc3FyVG8oaFsxXSwgeSk7IHUgPD0gYzsgKVxuICAgICAgaFt1XSA9IF8oKSwgbi5tdWxUbyh5LCBoW3UgLSAyXSwgaFt1XSksIHUgKz0gMjtcbiAgfVxuICB2YXIgdiA9IGUudCAtIDEsIG8sIGwgPSAhMCwgZiA9IF8oKSwgZDtcbiAgZm9yIChyID0gWWUoZVt2XSkgLSAxOyB2ID49IDA7ICkge1xuICAgIGZvciAociA+PSBwID8gbyA9IGVbdl0gPj4gciAtIHAgJiBjIDogKG8gPSAoZVt2XSAmICgxIDw8IHIgKyAxKSAtIDEpIDw8IHAgLSByLCB2ID4gMCAmJiAobyB8PSBlW3YgLSAxXSA+PiB0aGlzLkRCICsgciAtIHApKSwgdSA9IGk7ICEobyAmIDEpOyApXG4gICAgICBvID4+PSAxLCAtLXU7XG4gICAgaWYgKChyIC09IHUpIDwgMCAmJiAociArPSB0aGlzLkRCLCAtLXYpLCBsKVxuICAgICAgaFtvXS5jb3B5VG8ocyksIGwgPSAhMTtcbiAgICBlbHNlIHtcbiAgICAgIGZvciAoOyB1ID4gMTsgKVxuICAgICAgICBuLnNxclRvKHMsIGYpLCBuLnNxclRvKGYsIHMpLCB1IC09IDI7XG4gICAgICB1ID4gMCA/IG4uc3FyVG8ocywgZikgOiAoZCA9IHMsIHMgPSBmLCBmID0gZCksIG4ubXVsVG8oZiwgaFtvXSwgcyk7XG4gICAgfVxuICAgIGZvciAoOyB2ID49IDAgJiYgIShlW3ZdICYgMSA8PCByKTsgKVxuICAgICAgbi5zcXJUbyhzLCBmKSwgZCA9IHMsIHMgPSBmLCBmID0gZCwgLS1yIDwgMCAmJiAociA9IHRoaXMuREIgLSAxLCAtLXYpO1xuICB9XG4gIHJldHVybiBuLnJldmVydChzKTtcbn1cbmZ1bmN0aW9uIFNpKGUpIHtcbiAgdmFyIHQgPSB0aGlzLnMgPCAwID8gdGhpcy5uZWdhdGUoKSA6IHRoaXMuY2xvbmUoKSwgciA9IGUucyA8IDAgPyBlLm5lZ2F0ZSgpIDogZS5jbG9uZSgpO1xuICBpZiAodC5jb21wYXJlVG8ocikgPCAwKSB7XG4gICAgdmFyIGkgPSB0O1xuICAgIHQgPSByLCByID0gaTtcbiAgfVxuICB2YXIgcyA9IHQuZ2V0TG93ZXN0U2V0Qml0KCksIG4gPSByLmdldExvd2VzdFNldEJpdCgpO1xuICBpZiAobiA8IDApXG4gICAgcmV0dXJuIHQ7XG4gIGZvciAocyA8IG4gJiYgKG4gPSBzKSwgbiA+IDAgJiYgKHQuclNoaWZ0VG8obiwgdCksIHIuclNoaWZ0VG8obiwgcikpOyB0LnNpZ251bSgpID4gMDsgKVxuICAgIChzID0gdC5nZXRMb3dlc3RTZXRCaXQoKSkgPiAwICYmIHQuclNoaWZ0VG8ocywgdCksIChzID0gci5nZXRMb3dlc3RTZXRCaXQoKSkgPiAwICYmIHIuclNoaWZ0VG8ocywgciksIHQuY29tcGFyZVRvKHIpID49IDAgPyAodC5zdWJUbyhyLCB0KSwgdC5yU2hpZnRUbygxLCB0KSkgOiAoci5zdWJUbyh0LCByKSwgci5yU2hpZnRUbygxLCByKSk7XG4gIHJldHVybiBuID4gMCAmJiByLmxTaGlmdFRvKG4sIHIpLCByO1xufVxuZnVuY3Rpb24gRWkoZSkge1xuICBpZiAoZSA8PSAwKVxuICAgIHJldHVybiAwO1xuICB2YXIgdCA9IHRoaXMuRFYgJSBlLCByID0gdGhpcy5zIDwgMCA/IGUgLSAxIDogMDtcbiAgaWYgKHRoaXMudCA+IDApXG4gICAgaWYgKHQgPT0gMClcbiAgICAgIHIgPSB0aGlzWzBdICUgZTtcbiAgICBlbHNlXG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50IC0gMTsgaSA+PSAwOyAtLWkpXG4gICAgICAgIHIgPSAodCAqIHIgKyB0aGlzW2ldKSAlIGU7XG4gIHJldHVybiByO1xufVxuZnVuY3Rpb24gd2koZSkge1xuICB2YXIgdCA9IGUuaXNFdmVuKCk7XG4gIGlmICh0aGlzLmlzRXZlbigpICYmIHQgfHwgZS5zaWdudW0oKSA9PSAwKVxuICAgIHJldHVybiBSLlpFUk87XG4gIGZvciAodmFyIHIgPSBlLmNsb25lKCksIGkgPSB0aGlzLmNsb25lKCksIHMgPSBSZSgxKSwgbiA9IFJlKDApLCBoID0gUmUoMCksIHUgPSBSZSgxKTsgci5zaWdudW0oKSAhPSAwOyApIHtcbiAgICBmb3IgKDsgci5pc0V2ZW4oKTsgKVxuICAgICAgci5yU2hpZnRUbygxLCByKSwgdCA/ICgoIXMuaXNFdmVuKCkgfHwgIW4uaXNFdmVuKCkpICYmIChzLmFkZFRvKHRoaXMsIHMpLCBuLnN1YlRvKGUsIG4pKSwgcy5yU2hpZnRUbygxLCBzKSkgOiBuLmlzRXZlbigpIHx8IG4uc3ViVG8oZSwgbiksIG4uclNoaWZ0VG8oMSwgbik7XG4gICAgZm9yICg7IGkuaXNFdmVuKCk7IClcbiAgICAgIGkuclNoaWZ0VG8oMSwgaSksIHQgPyAoKCFoLmlzRXZlbigpIHx8ICF1LmlzRXZlbigpKSAmJiAoaC5hZGRUbyh0aGlzLCBoKSwgdS5zdWJUbyhlLCB1KSksIGguclNoaWZ0VG8oMSwgaCkpIDogdS5pc0V2ZW4oKSB8fCB1LnN1YlRvKGUsIHUpLCB1LnJTaGlmdFRvKDEsIHUpO1xuICAgIHIuY29tcGFyZVRvKGkpID49IDAgPyAoci5zdWJUbyhpLCByKSwgdCAmJiBzLnN1YlRvKGgsIHMpLCBuLnN1YlRvKHUsIG4pKSA6IChpLnN1YlRvKHIsIGkpLCB0ICYmIGguc3ViVG8ocywgaCksIHUuc3ViVG8obiwgdSkpO1xuICB9XG4gIGlmIChpLmNvbXBhcmVUbyhSLk9ORSkgIT0gMClcbiAgICByZXR1cm4gUi5aRVJPO1xuICBpZiAodS5jb21wYXJlVG8oZSkgPj0gMClcbiAgICByZXR1cm4gdS5zdWJ0cmFjdChlKTtcbiAgaWYgKHUuc2lnbnVtKCkgPCAwKVxuICAgIHUuYWRkVG8oZSwgdSk7XG4gIGVsc2VcbiAgICByZXR1cm4gdTtcbiAgcmV0dXJuIHUuc2lnbnVtKCkgPCAwID8gdS5hZGQoZSkgOiB1O1xufVxudmFyIGxlID0gWzIsIDMsIDUsIDcsIDExLCAxMywgMTcsIDE5LCAyMywgMjksIDMxLCAzNywgNDEsIDQzLCA0NywgNTMsIDU5LCA2MSwgNjcsIDcxLCA3MywgNzksIDgzLCA4OSwgOTcsIDEwMSwgMTAzLCAxMDcsIDEwOSwgMTEzLCAxMjcsIDEzMSwgMTM3LCAxMzksIDE0OSwgMTUxLCAxNTcsIDE2MywgMTY3LCAxNzMsIDE3OSwgMTgxLCAxOTEsIDE5MywgMTk3LCAxOTksIDIxMSwgMjIzLCAyMjcsIDIyOSwgMjMzLCAyMzksIDI0MSwgMjUxLCAyNTcsIDI2MywgMjY5LCAyNzEsIDI3NywgMjgxLCAyODMsIDI5MywgMzA3LCAzMTEsIDMxMywgMzE3LCAzMzEsIDMzNywgMzQ3LCAzNDksIDM1MywgMzU5LCAzNjcsIDM3MywgMzc5LCAzODMsIDM4OSwgMzk3LCA0MDEsIDQwOSwgNDE5LCA0MjEsIDQzMSwgNDMzLCA0MzksIDQ0MywgNDQ5LCA0NTcsIDQ2MSwgNDYzLCA0NjcsIDQ3OSwgNDg3LCA0OTEsIDQ5OSwgNTAzLCA1MDksIDUyMSwgNTIzLCA1NDEsIDU0NywgNTU3LCA1NjMsIDU2OSwgNTcxLCA1NzcsIDU4NywgNTkzLCA1OTksIDYwMSwgNjA3LCA2MTMsIDYxNywgNjE5LCA2MzEsIDY0MSwgNjQzLCA2NDcsIDY1MywgNjU5LCA2NjEsIDY3MywgNjc3LCA2ODMsIDY5MSwgNzAxLCA3MDksIDcxOSwgNzI3LCA3MzMsIDczOSwgNzQzLCA3NTEsIDc1NywgNzYxLCA3NjksIDc3MywgNzg3LCA3OTcsIDgwOSwgODExLCA4MjEsIDgyMywgODI3LCA4MjksIDgzOSwgODUzLCA4NTcsIDg1OSwgODYzLCA4NzcsIDg4MSwgODgzLCA4ODcsIDkwNywgOTExLCA5MTksIDkyOSwgOTM3LCA5NDEsIDk0NywgOTUzLCA5NjcsIDk3MSwgOTc3LCA5ODMsIDk5MSwgOTk3XSwgRmkgPSAoMSA8PCAyNikgLyBsZVtsZS5sZW5ndGggLSAxXTtcbmZ1bmN0aW9uIGJpKGUpIHtcbiAgdmFyIHQsIHIgPSB0aGlzLmFicygpO1xuICBpZiAoci50ID09IDEgJiYgclswXSA8PSBsZVtsZS5sZW5ndGggLSAxXSkge1xuICAgIGZvciAodCA9IDA7IHQgPCBsZS5sZW5ndGg7ICsrdClcbiAgICAgIGlmIChyWzBdID09IGxlW3RdKVxuICAgICAgICByZXR1cm4gITA7XG4gICAgcmV0dXJuICExO1xuICB9XG4gIGlmIChyLmlzRXZlbigpKVxuICAgIHJldHVybiAhMTtcbiAgZm9yICh0ID0gMTsgdCA8IGxlLmxlbmd0aDsgKSB7XG4gICAgZm9yICh2YXIgaSA9IGxlW3RdLCBzID0gdCArIDE7IHMgPCBsZS5sZW5ndGggJiYgaSA8IEZpOyApXG4gICAgICBpICo9IGxlW3MrK107XG4gICAgZm9yIChpID0gci5tb2RJbnQoaSk7IHQgPCBzOyApXG4gICAgICBpZiAoaSAlIGxlW3QrK10gPT0gMClcbiAgICAgICAgcmV0dXJuICExO1xuICB9XG4gIHJldHVybiByLm1pbGxlclJhYmluKGUpO1xufVxuZnVuY3Rpb24gQWkoZSkge1xuICB2YXIgdCA9IHRoaXMuc3VidHJhY3QoUi5PTkUpLCByID0gdC5nZXRMb3dlc3RTZXRCaXQoKTtcbiAgaWYgKHIgPD0gMClcbiAgICByZXR1cm4gITE7XG4gIHZhciBpID0gdC5zaGlmdFJpZ2h0KHIpO1xuICBlID0gZSArIDEgPj4gMSwgZSA+IGxlLmxlbmd0aCAmJiAoZSA9IGxlLmxlbmd0aCk7XG4gIGZvciAodmFyIHMgPSBfKCksIG4gPSAwOyBuIDwgZTsgKytuKSB7XG4gICAgcy5mcm9tSW50KGxlW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGxlLmxlbmd0aCldKTtcbiAgICB2YXIgaCA9IHMubW9kUG93KGksIHRoaXMpO1xuICAgIGlmIChoLmNvbXBhcmVUbyhSLk9ORSkgIT0gMCAmJiBoLmNvbXBhcmVUbyh0KSAhPSAwKSB7XG4gICAgICBmb3IgKHZhciB1ID0gMTsgdSsrIDwgciAmJiBoLmNvbXBhcmVUbyh0KSAhPSAwOyApXG4gICAgICAgIGlmIChoID0gaC5tb2RQb3dJbnQoMiwgdGhpcyksIGguY29tcGFyZVRvKFIuT05FKSA9PSAwKVxuICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgIGlmIChoLmNvbXBhcmVUbyh0KSAhPSAwKVxuICAgICAgICByZXR1cm4gITE7XG4gICAgfVxuICB9XG4gIHJldHVybiAhMDtcbn1cblIucHJvdG90eXBlLmNodW5rU2l6ZSA9IERyO1xuUi5wcm90b3R5cGUudG9SYWRpeCA9IElyO1xuUi5wcm90b3R5cGUuZnJvbVJhZGl4ID0gQ3I7XG5SLnByb3RvdHlwZS5mcm9tTnVtYmVyID0gUnI7XG5SLnByb3RvdHlwZS5iaXR3aXNlVG8gPSBPcjtcblIucHJvdG90eXBlLmNoYW5nZUJpdCA9IEpyO1xuUi5wcm90b3R5cGUuYWRkVG8gPSBRcjtcblIucHJvdG90eXBlLmRNdWx0aXBseSA9IG9pO1xuUi5wcm90b3R5cGUuZEFkZE9mZnNldCA9IHVpO1xuUi5wcm90b3R5cGUubXVsdGlwbHlMb3dlclRvID0gbGk7XG5SLnByb3RvdHlwZS5tdWx0aXBseVVwcGVyVG8gPSBkaTtcblIucHJvdG90eXBlLm1vZEludCA9IEVpO1xuUi5wcm90b3R5cGUubWlsbGVyUmFiaW4gPSBBaTtcblIucHJvdG90eXBlLmNsb25lID0gd3I7XG5SLnByb3RvdHlwZS5pbnRWYWx1ZSA9IEZyO1xuUi5wcm90b3R5cGUuYnl0ZVZhbHVlID0gYnI7XG5SLnByb3RvdHlwZS5zaG9ydFZhbHVlID0gQXI7XG5SLnByb3RvdHlwZS5zaWdudW0gPSBQcjtcblIucHJvdG90eXBlLnRvQnl0ZUFycmF5ID0gVHI7XG5SLnByb3RvdHlwZS5lcXVhbHMgPSBCcjtcblIucHJvdG90eXBlLm1pbiA9IE5yO1xuUi5wcm90b3R5cGUubWF4ID0gSHI7XG5SLnByb3RvdHlwZS5hbmQgPSBWcjtcblIucHJvdG90eXBlLm9yID0gS3I7XG5SLnByb3RvdHlwZS54b3IgPSBMcjtcblIucHJvdG90eXBlLmFuZE5vdCA9IHFyO1xuUi5wcm90b3R5cGUubm90ID0ga3I7XG5SLnByb3RvdHlwZS5zaGlmdExlZnQgPSBNcjtcblIucHJvdG90eXBlLnNoaWZ0UmlnaHQgPSBfcjtcblIucHJvdG90eXBlLmdldExvd2VzdFNldEJpdCA9IHpyO1xuUi5wcm90b3R5cGUuYml0Q291bnQgPSBXcjtcblIucHJvdG90eXBlLnRlc3RCaXQgPSBYcjtcblIucHJvdG90eXBlLnNldEJpdCA9ICRyO1xuUi5wcm90b3R5cGUuY2xlYXJCaXQgPSBZcjtcblIucHJvdG90eXBlLmZsaXBCaXQgPSBacjtcblIucHJvdG90eXBlLmFkZCA9IGVpO1xuUi5wcm90b3R5cGUuc3VidHJhY3QgPSB0aTtcblIucHJvdG90eXBlLm11bHRpcGx5ID0gcmk7XG5SLnByb3RvdHlwZS5kaXZpZGUgPSBuaTtcblIucHJvdG90eXBlLnJlbWFpbmRlciA9IHNpO1xuUi5wcm90b3R5cGUuZGl2aWRlQW5kUmVtYWluZGVyID0gYWk7XG5SLnByb3RvdHlwZS5tb2RQb3cgPSB4aTtcblIucHJvdG90eXBlLm1vZEludmVyc2UgPSB3aTtcblIucHJvdG90eXBlLnBvdyA9IGNpO1xuUi5wcm90b3R5cGUuZ2NkID0gU2k7XG5SLnByb3RvdHlwZS5pc1Byb2JhYmxlUHJpbWUgPSBiaTtcblIucHJvdG90eXBlLnNxdWFyZSA9IGlpO1xuLyohIChjKSBUb20gV3UgfCBodHRwOi8vd3d3LWNzLXN0dWRlbnRzLnN0YW5mb3JkLmVkdS9+dGp3L2pzYm4vXG4gKi9cbmZ1bmN0aW9uIGF0KCkge1xuICB0aGlzLmkgPSAwLCB0aGlzLmogPSAwLCB0aGlzLlMgPSBuZXcgQXJyYXkoKTtcbn1cbmZ1bmN0aW9uIERpKGUpIHtcbiAgdmFyIHQsIHIsIGk7XG4gIGZvciAodCA9IDA7IHQgPCAyNTY7ICsrdClcbiAgICB0aGlzLlNbdF0gPSB0O1xuICBmb3IgKHIgPSAwLCB0ID0gMDsgdCA8IDI1NjsgKyt0KVxuICAgIHIgPSByICsgdGhpcy5TW3RdICsgZVt0ICUgZS5sZW5ndGhdICYgMjU1LCBpID0gdGhpcy5TW3RdLCB0aGlzLlNbdF0gPSB0aGlzLlNbcl0sIHRoaXMuU1tyXSA9IGk7XG4gIHRoaXMuaSA9IDAsIHRoaXMuaiA9IDA7XG59XG5mdW5jdGlvbiBQaSgpIHtcbiAgdmFyIGU7XG4gIHJldHVybiB0aGlzLmkgPSB0aGlzLmkgKyAxICYgMjU1LCB0aGlzLmogPSB0aGlzLmogKyB0aGlzLlNbdGhpcy5pXSAmIDI1NSwgZSA9IHRoaXMuU1t0aGlzLmldLCB0aGlzLlNbdGhpcy5pXSA9IHRoaXMuU1t0aGlzLmpdLCB0aGlzLlNbdGhpcy5qXSA9IGUsIHRoaXMuU1tlICsgdGhpcy5TW3RoaXMuaV0gJiAyNTVdO1xufVxuYXQucHJvdG90eXBlLmluaXQgPSBEaTtcbmF0LnByb3RvdHlwZS5uZXh0ID0gUGk7XG5mdW5jdGlvbiBJaSgpIHtcbiAgcmV0dXJuIG5ldyBhdCgpO1xufVxudmFyIGV0ID0gMjU2O1xuLyohIChjKSBUb20gV3UgfCBodHRwOi8vd3d3LWNzLXN0dWRlbnRzLnN0YW5mb3JkLmVkdS9+dGp3L2pzYm4vXG4gKi9cbnZhciBXZSwgZ2UsIG9lO1xuZnVuY3Rpb24gQ2koZSkge1xuICBnZVtvZSsrXSBePSBlICYgMjU1LCBnZVtvZSsrXSBePSBlID4+IDggJiAyNTUsIGdlW29lKytdIF49IGUgPj4gMTYgJiAyNTUsIGdlW29lKytdIF49IGUgPj4gMjQgJiAyNTUsIG9lID49IGV0ICYmIChvZSAtPSBldCk7XG59XG5mdW5jdGlvbiBEdCgpIHtcbiAgQ2koKC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpKS5nZXRUaW1lKCkpO1xufVxuaWYgKGdlID09IG51bGwpIHtcbiAgZ2UgPSBuZXcgQXJyYXkoKSwgb2UgPSAwO1xuICB2YXIgU2U7XG4gIGlmIChWZSAhPT0gdm9pZCAwICYmIChWZS5jcnlwdG8gIT09IHZvaWQgMCB8fCBWZS5tc0NyeXB0byAhPT0gdm9pZCAwKSkge1xuICAgIHZhciBsdCA9IFZlLmNyeXB0byB8fCBWZS5tc0NyeXB0bztcbiAgICBpZiAobHQuZ2V0UmFuZG9tVmFsdWVzKSB7XG4gICAgICB2YXIgZHQgPSBuZXcgVWludDhBcnJheSgzMik7XG4gICAgICBmb3IgKGx0LmdldFJhbmRvbVZhbHVlcyhkdCksIFNlID0gMDsgU2UgPCAzMjsgKytTZSlcbiAgICAgICAgZ2Vbb2UrK10gPSBkdFtTZV07XG4gICAgfSBlbHNlIGlmIChVZS5hcHBOYW1lID09IFwiTmV0c2NhcGVcIiAmJiBVZS5hcHBWZXJzaW9uIDwgXCI1XCIpIHtcbiAgICAgIHZhciBwdCA9IFZlLmNyeXB0by5yYW5kb20oMzIpO1xuICAgICAgZm9yIChTZSA9IDA7IFNlIDwgcHQubGVuZ3RoOyArK1NlKVxuICAgICAgICBnZVtvZSsrXSA9IHB0LmNoYXJDb2RlQXQoU2UpICYgMjU1O1xuICAgIH1cbiAgfVxuICBmb3IgKDsgb2UgPCBldDsgKVxuICAgIFNlID0gTWF0aC5mbG9vcig2NTUzNiAqIE1hdGgucmFuZG9tKCkpLCBnZVtvZSsrXSA9IFNlID4+PiA4LCBnZVtvZSsrXSA9IFNlICYgMjU1O1xuICBvZSA9IDAsIER0KCk7XG59XG5mdW5jdGlvbiBSaSgpIHtcbiAgaWYgKFdlID09IG51bGwpIHtcbiAgICBmb3IgKER0KCksIFdlID0gSWkoKSwgV2UuaW5pdChnZSksIG9lID0gMDsgb2UgPCBnZS5sZW5ndGg7ICsrb2UpXG4gICAgICBnZVtvZV0gPSAwO1xuICAgIG9lID0gMDtcbiAgfVxuICByZXR1cm4gV2UubmV4dCgpO1xufVxuZnVuY3Rpb24gVGkoZSkge1xuICB2YXIgdDtcbiAgZm9yICh0ID0gMDsgdCA8IGUubGVuZ3RoOyArK3QpXG4gICAgZVt0XSA9IFJpKCk7XG59XG5mdW5jdGlvbiBHZSgpIHtcbn1cbkdlLnByb3RvdHlwZS5uZXh0Qnl0ZXMgPSBUaTtcbi8qISAoYykgVG9tIFd1IHwgaHR0cDovL3d3dy1jcy1zdHVkZW50cy5zdGFuZm9yZC5lZHUvfnRqdy9qc2JuL1xuICovXG5mdW5jdGlvbiB2ZShlLCB0KSB7XG4gIHJldHVybiBuZXcgUihlLCB0KTtcbn1cbmZ1bmN0aW9uIHEoKSB7XG4gIHRoaXMubiA9IG51bGwsIHRoaXMuZSA9IDAsIHRoaXMuZCA9IG51bGwsIHRoaXMucCA9IG51bGwsIHRoaXMucSA9IG51bGwsIHRoaXMuZG1wMSA9IG51bGwsIHRoaXMuZG1xMSA9IG51bGwsIHRoaXMuY29lZmYgPSBudWxsO1xufVxuZnVuY3Rpb24gQmkoZSwgdCkge1xuICBpZiAodGhpcy5pc1B1YmxpYyA9ICEwLCB0aGlzLmlzUHJpdmF0ZSA9ICExLCB0eXBlb2YgZSAhPSBcInN0cmluZ1wiKVxuICAgIHRoaXMubiA9IGUsIHRoaXMuZSA9IHQ7XG4gIGVsc2UgaWYgKGUgIT0gbnVsbCAmJiB0ICE9IG51bGwgJiYgZS5sZW5ndGggPiAwICYmIHQubGVuZ3RoID4gMClcbiAgICB0aGlzLm4gPSB2ZShlLCAxNiksIHRoaXMuZSA9IHBhcnNlSW50KHQsIDE2KTtcbiAgZWxzZVxuICAgIHRocm93IFwiSW52YWxpZCBSU0EgcHVibGljIGtleVwiO1xufVxuZnVuY3Rpb24gTmkoZSkge1xuICByZXR1cm4gZS5tb2RQb3dJbnQodGhpcy5lLCB0aGlzLm4pO1xufVxucS5wcm90b3R5cGUuZG9QdWJsaWMgPSBOaTtcbnEucHJvdG90eXBlLnNldFB1YmxpYyA9IEJpO1xucS5wcm90b3R5cGUudHlwZSA9IFwiUlNBXCI7XG5mdW5jdGlvbiBIaShlLCB0LCByKSB7XG4gIGlmICh0aGlzLmlzUHJpdmF0ZSA9ICEwLCB0eXBlb2YgZSAhPSBcInN0cmluZ1wiKVxuICAgIHRoaXMubiA9IGUsIHRoaXMuZSA9IHQsIHRoaXMuZCA9IHI7XG4gIGVsc2UgaWYgKGUgIT0gbnVsbCAmJiB0ICE9IG51bGwgJiYgZS5sZW5ndGggPiAwICYmIHQubGVuZ3RoID4gMClcbiAgICB0aGlzLm4gPSB2ZShlLCAxNiksIHRoaXMuZSA9IHBhcnNlSW50KHQsIDE2KSwgdGhpcy5kID0gdmUociwgMTYpO1xuICBlbHNlXG4gICAgdGhyb3cgXCJJbnZhbGlkIFJTQSBwcml2YXRlIGtleVwiO1xufVxuZnVuY3Rpb24gT2koZSwgdCwgciwgaSwgcywgbiwgaCwgdSkge1xuICBpZiAodGhpcy5pc1ByaXZhdGUgPSAhMCwgdGhpcy5pc1B1YmxpYyA9ICExLCBlID09IG51bGwpXG4gICAgdGhyb3cgXCJSU0FTZXRQcml2YXRlRXggTiA9PSBudWxsXCI7XG4gIGlmICh0ID09IG51bGwpXG4gICAgdGhyb3cgXCJSU0FTZXRQcml2YXRlRXggRSA9PSBudWxsXCI7XG4gIGlmIChlLmxlbmd0aCA9PSAwKVxuICAgIHRocm93IFwiUlNBU2V0UHJpdmF0ZUV4IE4ubGVuZ3RoID09IDBcIjtcbiAgaWYgKHQubGVuZ3RoID09IDApXG4gICAgdGhyb3cgXCJSU0FTZXRQcml2YXRlRXggRS5sZW5ndGggPT0gMFwiO1xuICBpZiAoZSAhPSBudWxsICYmIHQgIT0gbnVsbCAmJiBlLmxlbmd0aCA+IDAgJiYgdC5sZW5ndGggPiAwKVxuICAgIHRoaXMubiA9IHZlKGUsIDE2KSwgdGhpcy5lID0gcGFyc2VJbnQodCwgMTYpLCB0aGlzLmQgPSB2ZShyLCAxNiksIHRoaXMucCA9IHZlKGksIDE2KSwgdGhpcy5xID0gdmUocywgMTYpLCB0aGlzLmRtcDEgPSB2ZShuLCAxNiksIHRoaXMuZG1xMSA9IHZlKGgsIDE2KSwgdGhpcy5jb2VmZiA9IHZlKHUsIDE2KTtcbiAgZWxzZVxuICAgIHRocm93IFwiSW52YWxpZCBSU0EgcHJpdmF0ZSBrZXkgaW4gUlNBU2V0UHJpdmF0ZUV4XCI7XG59XG5mdW5jdGlvbiBqaShlLCB0KSB7XG4gIHZhciByID0gbmV3IEdlKCksIGkgPSBlID4+IDE7XG4gIHRoaXMuZSA9IHBhcnNlSW50KHQsIDE2KTtcbiAgZm9yICh2YXIgcyA9IG5ldyBSKHQsIDE2KSwgbiA9IGUgLyAyIC0gMTAwLCBoID0gUi5PTkUuc2hpZnRMZWZ0KG4pOyA7ICkge1xuICAgIGZvciAoOyB0aGlzLnAgPSBuZXcgUihlIC0gaSwgMSwgciksICEodGhpcy5wLnN1YnRyYWN0KFIuT05FKS5nY2QocykuY29tcGFyZVRvKFIuT05FKSA9PSAwICYmIHRoaXMucC5pc1Byb2JhYmxlUHJpbWUoMTApKTsgKVxuICAgICAgO1xuICAgIGZvciAoOyB0aGlzLnEgPSBuZXcgUihpLCAxLCByKSwgISh0aGlzLnEuc3VidHJhY3QoUi5PTkUpLmdjZChzKS5jb21wYXJlVG8oUi5PTkUpID09IDAgJiYgdGhpcy5xLmlzUHJvYmFibGVQcmltZSgxMCkpOyApXG4gICAgICA7XG4gICAgaWYgKHRoaXMucC5jb21wYXJlVG8odGhpcy5xKSA8PSAwKSB7XG4gICAgICB2YXIgdSA9IHRoaXMucDtcbiAgICAgIHRoaXMucCA9IHRoaXMucSwgdGhpcy5xID0gdTtcbiAgICB9XG4gICAgdmFyIHAgPSB0aGlzLnEuc3VidHJhY3QodGhpcy5wKS5hYnMoKTtcbiAgICBpZiAoIShwLmJpdExlbmd0aCgpIDwgbiB8fCBwLmNvbXBhcmVUbyhoKSA8PSAwKSkge1xuICAgICAgdmFyIGMgPSB0aGlzLnAuc3VidHJhY3QoUi5PTkUpLCB5ID0gdGhpcy5xLnN1YnRyYWN0KFIuT05FKSwgdiA9IGMubXVsdGlwbHkoeSk7XG4gICAgICBpZiAodi5nY2QocykuY29tcGFyZVRvKFIuT05FKSA9PSAwICYmICh0aGlzLm4gPSB0aGlzLnAubXVsdGlwbHkodGhpcy5xKSwgdGhpcy5uLmJpdExlbmd0aCgpID09IGUpKSB7XG4gICAgICAgIHRoaXMuZCA9IHMubW9kSW52ZXJzZSh2KSwgdGhpcy5kbXAxID0gdGhpcy5kLm1vZChjKSwgdGhpcy5kbXExID0gdGhpcy5kLm1vZCh5KSwgdGhpcy5jb2VmZiA9IHRoaXMucS5tb2RJbnZlcnNlKHRoaXMucCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICB0aGlzLmlzUHJpdmF0ZSA9ICEwO1xufVxuZnVuY3Rpb24gVmkoZSkge1xuICBpZiAodGhpcy5wID09IG51bGwgfHwgdGhpcy5xID09IG51bGwpXG4gICAgcmV0dXJuIGUubW9kUG93KHRoaXMuZCwgdGhpcy5uKTtcbiAgZm9yICh2YXIgdCA9IGUubW9kKHRoaXMucCkubW9kUG93KHRoaXMuZG1wMSwgdGhpcy5wKSwgciA9IGUubW9kKHRoaXMucSkubW9kUG93KHRoaXMuZG1xMSwgdGhpcy5xKTsgdC5jb21wYXJlVG8ocikgPCAwOyApXG4gICAgdCA9IHQuYWRkKHRoaXMucCk7XG4gIHJldHVybiB0LnN1YnRyYWN0KHIpLm11bHRpcGx5KHRoaXMuY29lZmYpLm1vZCh0aGlzLnApLm11bHRpcGx5KHRoaXMucSkuYWRkKHIpO1xufVxucS5wcm90b3R5cGUuZG9Qcml2YXRlID0gVmk7XG5xLnByb3RvdHlwZS5zZXRQcml2YXRlID0gSGk7XG5xLnByb3RvdHlwZS5zZXRQcml2YXRlRXggPSBPaTtcbnEucHJvdG90eXBlLmdlbmVyYXRlID0gamk7XG4vKiEgKGMpIFRvbSBXdSB8IGh0dHA6Ly93d3ctY3Mtc3R1ZGVudHMuc3RhbmZvcmQuZWR1L350ancvanNibi9cbiAqL1xuZnVuY3Rpb24gdWUoZSwgdCkge1xuICB0aGlzLnggPSB0LCB0aGlzLnEgPSBlO1xufVxuZnVuY3Rpb24gS2koZSkge1xuICByZXR1cm4gZSA9PSB0aGlzID8gITAgOiB0aGlzLnEuZXF1YWxzKGUucSkgJiYgdGhpcy54LmVxdWFscyhlLngpO1xufVxuZnVuY3Rpb24gTGkoKSB7XG4gIHJldHVybiB0aGlzLng7XG59XG5mdW5jdGlvbiBxaSgpIHtcbiAgcmV0dXJuIG5ldyB1ZSh0aGlzLnEsIHRoaXMueC5uZWdhdGUoKS5tb2QodGhpcy5xKSk7XG59XG5mdW5jdGlvbiBraShlKSB7XG4gIHJldHVybiBuZXcgdWUodGhpcy5xLCB0aGlzLnguYWRkKGUudG9CaWdJbnRlZ2VyKCkpLm1vZCh0aGlzLnEpKTtcbn1cbmZ1bmN0aW9uIE1pKGUpIHtcbiAgcmV0dXJuIG5ldyB1ZSh0aGlzLnEsIHRoaXMueC5zdWJ0cmFjdChlLnRvQmlnSW50ZWdlcigpKS5tb2QodGhpcy5xKSk7XG59XG5mdW5jdGlvbiBfaShlKSB7XG4gIHJldHVybiBuZXcgdWUodGhpcy5xLCB0aGlzLngubXVsdGlwbHkoZS50b0JpZ0ludGVnZXIoKSkubW9kKHRoaXMucSkpO1xufVxuZnVuY3Rpb24gVWkoKSB7XG4gIHJldHVybiBuZXcgdWUodGhpcy5xLCB0aGlzLnguc3F1YXJlKCkubW9kKHRoaXMucSkpO1xufVxuZnVuY3Rpb24gemkoZSkge1xuICByZXR1cm4gbmV3IHVlKHRoaXMucSwgdGhpcy54Lm11bHRpcGx5KGUudG9CaWdJbnRlZ2VyKCkubW9kSW52ZXJzZSh0aGlzLnEpKS5tb2QodGhpcy5xKSk7XG59XG51ZS5wcm90b3R5cGUuZXF1YWxzID0gS2k7XG51ZS5wcm90b3R5cGUudG9CaWdJbnRlZ2VyID0gTGk7XG51ZS5wcm90b3R5cGUubmVnYXRlID0gcWk7XG51ZS5wcm90b3R5cGUuYWRkID0ga2k7XG51ZS5wcm90b3R5cGUuc3VidHJhY3QgPSBNaTtcbnVlLnByb3RvdHlwZS5tdWx0aXBseSA9IF9pO1xudWUucHJvdG90eXBlLnNxdWFyZSA9IFVpO1xudWUucHJvdG90eXBlLmRpdmlkZSA9IHppO1xudWUucHJvdG90eXBlLnNxcnQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyB1ZSh0aGlzLnEsIHRoaXMueC5zcXJ0KCkubW9kKHRoaXMucSkpO1xufTtcbmZ1bmN0aW9uIHooZSwgdCwgciwgaSkge1xuICB0aGlzLmN1cnZlID0gZSwgdGhpcy54ID0gdCwgdGhpcy55ID0gciwgaSA9PSBudWxsID8gdGhpcy56ID0gUi5PTkUgOiB0aGlzLnogPSBpLCB0aGlzLnppbnYgPSBudWxsO1xufVxuZnVuY3Rpb24gR2koKSB7XG4gIHJldHVybiB0aGlzLnppbnYgPT0gbnVsbCAmJiAodGhpcy56aW52ID0gdGhpcy56Lm1vZEludmVyc2UodGhpcy5jdXJ2ZS5xKSksIHRoaXMuY3VydmUuZnJvbUJpZ0ludGVnZXIodGhpcy54LnRvQmlnSW50ZWdlcigpLm11bHRpcGx5KHRoaXMuemludikubW9kKHRoaXMuY3VydmUucSkpO1xufVxuZnVuY3Rpb24gV2koKSB7XG4gIHJldHVybiB0aGlzLnppbnYgPT0gbnVsbCAmJiAodGhpcy56aW52ID0gdGhpcy56Lm1vZEludmVyc2UodGhpcy5jdXJ2ZS5xKSksIHRoaXMuY3VydmUuZnJvbUJpZ0ludGVnZXIodGhpcy55LnRvQmlnSW50ZWdlcigpLm11bHRpcGx5KHRoaXMuemludikubW9kKHRoaXMuY3VydmUucSkpO1xufVxuZnVuY3Rpb24gWGkoZSkge1xuICBpZiAoZSA9PSB0aGlzKVxuICAgIHJldHVybiAhMDtcbiAgaWYgKHRoaXMuaXNJbmZpbml0eSgpKVxuICAgIHJldHVybiBlLmlzSW5maW5pdHkoKTtcbiAgaWYgKGUuaXNJbmZpbml0eSgpKVxuICAgIHJldHVybiB0aGlzLmlzSW5maW5pdHkoKTtcbiAgdmFyIHQsIHI7XG4gIHJldHVybiB0ID0gZS55LnRvQmlnSW50ZWdlcigpLm11bHRpcGx5KHRoaXMueikuc3VidHJhY3QodGhpcy55LnRvQmlnSW50ZWdlcigpLm11bHRpcGx5KGUueikpLm1vZCh0aGlzLmN1cnZlLnEpLCB0LmVxdWFscyhSLlpFUk8pID8gKHIgPSBlLngudG9CaWdJbnRlZ2VyKCkubXVsdGlwbHkodGhpcy56KS5zdWJ0cmFjdCh0aGlzLngudG9CaWdJbnRlZ2VyKCkubXVsdGlwbHkoZS56KSkubW9kKHRoaXMuY3VydmUucSksIHIuZXF1YWxzKFIuWkVSTykpIDogITE7XG59XG5mdW5jdGlvbiBKaSgpIHtcbiAgcmV0dXJuIHRoaXMueCA9PSBudWxsICYmIHRoaXMueSA9PSBudWxsID8gITAgOiB0aGlzLnouZXF1YWxzKFIuWkVSTykgJiYgIXRoaXMueS50b0JpZ0ludGVnZXIoKS5lcXVhbHMoUi5aRVJPKTtcbn1cbmZ1bmN0aW9uICRpKCkge1xuICByZXR1cm4gbmV3IHoodGhpcy5jdXJ2ZSwgdGhpcy54LCB0aGlzLnkubmVnYXRlKCksIHRoaXMueik7XG59XG5mdW5jdGlvbiBZaShlKSB7XG4gIGlmICh0aGlzLmlzSW5maW5pdHkoKSlcbiAgICByZXR1cm4gZTtcbiAgaWYgKGUuaXNJbmZpbml0eSgpKVxuICAgIHJldHVybiB0aGlzO1xuICB2YXIgdCA9IGUueS50b0JpZ0ludGVnZXIoKS5tdWx0aXBseSh0aGlzLnopLnN1YnRyYWN0KHRoaXMueS50b0JpZ0ludGVnZXIoKS5tdWx0aXBseShlLnopKS5tb2QodGhpcy5jdXJ2ZS5xKSwgciA9IGUueC50b0JpZ0ludGVnZXIoKS5tdWx0aXBseSh0aGlzLnopLnN1YnRyYWN0KHRoaXMueC50b0JpZ0ludGVnZXIoKS5tdWx0aXBseShlLnopKS5tb2QodGhpcy5jdXJ2ZS5xKTtcbiAgaWYgKFIuWkVSTy5lcXVhbHMocikpXG4gICAgcmV0dXJuIFIuWkVSTy5lcXVhbHModCkgPyB0aGlzLnR3aWNlKCkgOiB0aGlzLmN1cnZlLmdldEluZmluaXR5KCk7XG4gIHZhciBpID0gbmV3IFIoXCIzXCIpLCBzID0gdGhpcy54LnRvQmlnSW50ZWdlcigpLCBuID0gdGhpcy55LnRvQmlnSW50ZWdlcigpO1xuICBlLngudG9CaWdJbnRlZ2VyKCksIGUueS50b0JpZ0ludGVnZXIoKTtcbiAgdmFyIGggPSByLnNxdWFyZSgpLCB1ID0gaC5tdWx0aXBseShyKSwgcCA9IHMubXVsdGlwbHkoaCksIGMgPSB0LnNxdWFyZSgpLm11bHRpcGx5KHRoaXMueiksIHkgPSBjLnN1YnRyYWN0KHAuc2hpZnRMZWZ0KDEpKS5tdWx0aXBseShlLnopLnN1YnRyYWN0KHUpLm11bHRpcGx5KHIpLm1vZCh0aGlzLmN1cnZlLnEpLCB2ID0gcC5tdWx0aXBseShpKS5tdWx0aXBseSh0KS5zdWJ0cmFjdChuLm11bHRpcGx5KHUpKS5zdWJ0cmFjdChjLm11bHRpcGx5KHQpKS5tdWx0aXBseShlLnopLmFkZCh0Lm11bHRpcGx5KHUpKS5tb2QodGhpcy5jdXJ2ZS5xKSwgbyA9IHUubXVsdGlwbHkodGhpcy56KS5tdWx0aXBseShlLnopLm1vZCh0aGlzLmN1cnZlLnEpO1xuICByZXR1cm4gbmV3IHoodGhpcy5jdXJ2ZSwgdGhpcy5jdXJ2ZS5mcm9tQmlnSW50ZWdlcih5KSwgdGhpcy5jdXJ2ZS5mcm9tQmlnSW50ZWdlcih2KSwgbyk7XG59XG5mdW5jdGlvbiBaaSgpIHtcbiAgaWYgKHRoaXMuaXNJbmZpbml0eSgpKVxuICAgIHJldHVybiB0aGlzO1xuICBpZiAodGhpcy55LnRvQmlnSW50ZWdlcigpLnNpZ251bSgpID09IDApXG4gICAgcmV0dXJuIHRoaXMuY3VydmUuZ2V0SW5maW5pdHkoKTtcbiAgdmFyIGUgPSBuZXcgUihcIjNcIiksIHQgPSB0aGlzLngudG9CaWdJbnRlZ2VyKCksIHIgPSB0aGlzLnkudG9CaWdJbnRlZ2VyKCksIGkgPSByLm11bHRpcGx5KHRoaXMueiksIHMgPSBpLm11bHRpcGx5KHIpLm1vZCh0aGlzLmN1cnZlLnEpLCBuID0gdGhpcy5jdXJ2ZS5hLnRvQmlnSW50ZWdlcigpLCBoID0gdC5zcXVhcmUoKS5tdWx0aXBseShlKTtcbiAgUi5aRVJPLmVxdWFscyhuKSB8fCAoaCA9IGguYWRkKHRoaXMuei5zcXVhcmUoKS5tdWx0aXBseShuKSkpLCBoID0gaC5tb2QodGhpcy5jdXJ2ZS5xKTtcbiAgdmFyIHUgPSBoLnNxdWFyZSgpLnN1YnRyYWN0KHQuc2hpZnRMZWZ0KDMpLm11bHRpcGx5KHMpKS5zaGlmdExlZnQoMSkubXVsdGlwbHkoaSkubW9kKHRoaXMuY3VydmUucSksIHAgPSBoLm11bHRpcGx5KGUpLm11bHRpcGx5KHQpLnN1YnRyYWN0KHMuc2hpZnRMZWZ0KDEpKS5zaGlmdExlZnQoMikubXVsdGlwbHkocykuc3VidHJhY3QoaC5zcXVhcmUoKS5tdWx0aXBseShoKSkubW9kKHRoaXMuY3VydmUucSksIGMgPSBpLnNxdWFyZSgpLm11bHRpcGx5KGkpLnNoaWZ0TGVmdCgzKS5tb2QodGhpcy5jdXJ2ZS5xKTtcbiAgcmV0dXJuIG5ldyB6KHRoaXMuY3VydmUsIHRoaXMuY3VydmUuZnJvbUJpZ0ludGVnZXIodSksIHRoaXMuY3VydmUuZnJvbUJpZ0ludGVnZXIocCksIGMpO1xufVxuZnVuY3Rpb24gUWkoZSkge1xuICBpZiAodGhpcy5pc0luZmluaXR5KCkpXG4gICAgcmV0dXJuIHRoaXM7XG4gIGlmIChlLnNpZ251bSgpID09IDApXG4gICAgcmV0dXJuIHRoaXMuY3VydmUuZ2V0SW5maW5pdHkoKTtcbiAgdmFyIHQgPSBlLCByID0gdC5tdWx0aXBseShuZXcgUihcIjNcIikpLCBpID0gdGhpcy5uZWdhdGUoKSwgcyA9IHRoaXMsIG4gPSB0aGlzLmN1cnZlLnEuc3VidHJhY3QoZSksIGggPSBuLm11bHRpcGx5KG5ldyBSKFwiM1wiKSksIHUgPSBuZXcgeih0aGlzLmN1cnZlLCB0aGlzLngsIHRoaXMueSksIHAgPSB1Lm5lZ2F0ZSgpLCBjO1xuICBmb3IgKGMgPSByLmJpdExlbmd0aCgpIC0gMjsgYyA+IDA7IC0tYykge1xuICAgIHMgPSBzLnR3aWNlKCk7XG4gICAgdmFyIHkgPSByLnRlc3RCaXQoYyksIHYgPSB0LnRlc3RCaXQoYyk7XG4gICAgeSAhPSB2ICYmIChzID0gcy5hZGQoeSA/IHRoaXMgOiBpKSk7XG4gIH1cbiAgZm9yIChjID0gaC5iaXRMZW5ndGgoKSAtIDI7IGMgPiAwOyAtLWMpIHtcbiAgICB1ID0gdS50d2ljZSgpO1xuICAgIHZhciBvID0gaC50ZXN0Qml0KGMpLCBsID0gbi50ZXN0Qml0KGMpO1xuICAgIG8gIT0gbCAmJiAodSA9IHUuYWRkKG8gPyB1IDogcCkpO1xuICB9XG4gIHJldHVybiBzO1xufVxuZnVuY3Rpb24gZW4oZSwgdCwgcikge1xuICB2YXIgaTtcbiAgZS5iaXRMZW5ndGgoKSA+IHIuYml0TGVuZ3RoKCkgPyBpID0gZS5iaXRMZW5ndGgoKSAtIDEgOiBpID0gci5iaXRMZW5ndGgoKSAtIDE7XG4gIGZvciAodmFyIHMgPSB0aGlzLmN1cnZlLmdldEluZmluaXR5KCksIG4gPSB0aGlzLmFkZCh0KTsgaSA+PSAwOyApXG4gICAgcyA9IHMudHdpY2UoKSwgZS50ZXN0Qml0KGkpID8gci50ZXN0Qml0KGkpID8gcyA9IHMuYWRkKG4pIDogcyA9IHMuYWRkKHRoaXMpIDogci50ZXN0Qml0KGkpICYmIChzID0gcy5hZGQodCkpLCAtLWk7XG4gIHJldHVybiBzO1xufVxuei5wcm90b3R5cGUuZ2V0WCA9IEdpO1xuei5wcm90b3R5cGUuZ2V0WSA9IFdpO1xuei5wcm90b3R5cGUuZXF1YWxzID0gWGk7XG56LnByb3RvdHlwZS5pc0luZmluaXR5ID0gSmk7XG56LnByb3RvdHlwZS5uZWdhdGUgPSAkaTtcbnoucHJvdG90eXBlLmFkZCA9IFlpO1xuei5wcm90b3R5cGUudHdpY2UgPSBaaTtcbnoucHJvdG90eXBlLm11bHRpcGx5ID0gUWk7XG56LnByb3RvdHlwZS5tdWx0aXBseVR3byA9IGVuO1xuZnVuY3Rpb24gQmUoZSwgdCwgcikge1xuICB0aGlzLnEgPSBlLCB0aGlzLmEgPSB0aGlzLmZyb21CaWdJbnRlZ2VyKHQpLCB0aGlzLmIgPSB0aGlzLmZyb21CaWdJbnRlZ2VyKHIpLCB0aGlzLmluZmluaXR5ID0gbmV3IHoodGhpcywgbnVsbCwgbnVsbCk7XG59XG5mdW5jdGlvbiB0bigpIHtcbiAgcmV0dXJuIHRoaXMucTtcbn1cbmZ1bmN0aW9uIHJuKCkge1xuICByZXR1cm4gdGhpcy5hO1xufVxuZnVuY3Rpb24gbm4oKSB7XG4gIHJldHVybiB0aGlzLmI7XG59XG5mdW5jdGlvbiBzbihlKSB7XG4gIHJldHVybiBlID09IHRoaXMgPyAhMCA6IHRoaXMucS5lcXVhbHMoZS5xKSAmJiB0aGlzLmEuZXF1YWxzKGUuYSkgJiYgdGhpcy5iLmVxdWFscyhlLmIpO1xufVxuZnVuY3Rpb24gYW4oKSB7XG4gIHJldHVybiB0aGlzLmluZmluaXR5O1xufVxuZnVuY3Rpb24gb24oZSkge1xuICByZXR1cm4gbmV3IHVlKHRoaXMucSwgZSk7XG59XG5mdW5jdGlvbiB1bihlKSB7XG4gIHN3aXRjaCAocGFyc2VJbnQoZS5zdWJzdHIoMCwgMiksIDE2KSkge1xuICAgIGNhc2UgMDpcbiAgICAgIHJldHVybiB0aGlzLmluZmluaXR5O1xuICAgIGNhc2UgMjpcbiAgICBjYXNlIDM6XG4gICAgICB2YXIgdCA9IGUuc3Vic3RyKDAsIDIpO1xuICAgICAgZS5zdWJzdHIoMik7XG4gICAgICB2YXIgciA9IHRoaXMuZnJvbUJpZ0ludGVnZXIobmV3IFIocCwgMTYpKSwgaSA9IHRoaXMuZ2V0QSgpLCBzID0gdGhpcy5nZXRCKCksIG4gPSByLnNxdWFyZSgpLmFkZChpKS5tdWx0aXBseShyKS5hZGQocyksIGggPSBuLnNxcnQoKTtcbiAgICAgIHJldHVybiB0ID09IFwiMDNcIiAmJiAoaCA9IGgubmVnYXRlKCkpLCBuZXcgeih0aGlzLCByLCBoKTtcbiAgICBjYXNlIDQ6XG4gICAgY2FzZSA2OlxuICAgIGNhc2UgNzpcbiAgICAgIHZhciB1ID0gKGUubGVuZ3RoIC0gMikgLyAyLCBwID0gZS5zdWJzdHIoMiwgdSksIGMgPSBlLnN1YnN0cih1ICsgMiwgdSk7XG4gICAgICByZXR1cm4gbmV3IHoodGhpcywgdGhpcy5mcm9tQmlnSW50ZWdlcihuZXcgUihwLCAxNikpLCB0aGlzLmZyb21CaWdJbnRlZ2VyKG5ldyBSKGMsIDE2KSkpO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuQmUucHJvdG90eXBlLmdldFEgPSB0bjtcbkJlLnByb3RvdHlwZS5nZXRBID0gcm47XG5CZS5wcm90b3R5cGUuZ2V0QiA9IG5uO1xuQmUucHJvdG90eXBlLmVxdWFscyA9IHNuO1xuQmUucHJvdG90eXBlLmdldEluZmluaXR5ID0gYW47XG5CZS5wcm90b3R5cGUuZnJvbUJpZ0ludGVnZXIgPSBvbjtcbkJlLnByb3RvdHlwZS5kZWNvZGVQb2ludEhleCA9IHVuO1xuLyohIChjKSBTdGVmYW4gVGhvbWFzIHwgaHR0cHM6Ly9naXRodWIuY29tL2JpdGNvaW5qcy9iaXRjb2luanMtbGliXG4gKi9cbnVlLnByb3RvdHlwZS5nZXRCeXRlTGVuZ3RoID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBNYXRoLmZsb29yKCh0aGlzLnRvQmlnSW50ZWdlcigpLmJpdExlbmd0aCgpICsgNykgLyA4KTtcbn07XG56LnByb3RvdHlwZS5nZXRFbmNvZGVkID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IGZ1bmN0aW9uKG4sIGgpIHtcbiAgICB2YXIgdSA9IG4udG9CeXRlQXJyYXlVbnNpZ25lZCgpO1xuICAgIGlmIChoIDwgdS5sZW5ndGgpXG4gICAgICB1ID0gdS5zbGljZSh1Lmxlbmd0aCAtIGgpO1xuICAgIGVsc2VcbiAgICAgIGZvciAoOyBoID4gdS5sZW5ndGg7IClcbiAgICAgICAgdS51bnNoaWZ0KDApO1xuICAgIHJldHVybiB1O1xuICB9LCByID0gdGhpcy5nZXRYKCkudG9CaWdJbnRlZ2VyKCksIGkgPSB0aGlzLmdldFkoKS50b0JpZ0ludGVnZXIoKSwgcyA9IHQociwgMzIpO1xuICByZXR1cm4gZSA/IGkuaXNFdmVuKCkgPyBzLnVuc2hpZnQoMikgOiBzLnVuc2hpZnQoMykgOiAocy51bnNoaWZ0KDQpLCBzID0gcy5jb25jYXQodChpLCAzMikpKSwgcztcbn07XG56LmRlY29kZUZyb20gPSBmdW5jdGlvbihlLCB0KSB7XG4gIHRbMF07XG4gIHZhciByID0gdC5sZW5ndGggLSAxLCBpID0gdC5zbGljZSgxLCAxICsgciAvIDIpLCBzID0gdC5zbGljZSgxICsgciAvIDIsIDEgKyByKTtcbiAgaS51bnNoaWZ0KDApLCBzLnVuc2hpZnQoMCk7XG4gIHZhciBuID0gbmV3IFIoaSksIGggPSBuZXcgUihzKTtcbiAgcmV0dXJuIG5ldyB6KGUsIGUuZnJvbUJpZ0ludGVnZXIobiksIGUuZnJvbUJpZ0ludGVnZXIoaCkpO1xufTtcbnouZGVjb2RlRnJvbUhleCA9IGZ1bmN0aW9uKGUsIHQpIHtcbiAgdC5zdWJzdHIoMCwgMik7XG4gIHZhciByID0gdC5sZW5ndGggLSAyLCBpID0gdC5zdWJzdHIoMiwgciAvIDIpLCBzID0gdC5zdWJzdHIoMiArIHIgLyAyLCByIC8gMiksIG4gPSBuZXcgUihpLCAxNiksIGggPSBuZXcgUihzLCAxNik7XG4gIHJldHVybiBuZXcgeihlLCBlLmZyb21CaWdJbnRlZ2VyKG4pLCBlLmZyb21CaWdJbnRlZ2VyKGgpKTtcbn07XG56LnByb3RvdHlwZS5hZGQyRCA9IGZ1bmN0aW9uKGUpIHtcbiAgaWYgKHRoaXMuaXNJbmZpbml0eSgpKVxuICAgIHJldHVybiBlO1xuICBpZiAoZS5pc0luZmluaXR5KCkpXG4gICAgcmV0dXJuIHRoaXM7XG4gIGlmICh0aGlzLnguZXF1YWxzKGUueCkpXG4gICAgcmV0dXJuIHRoaXMueS5lcXVhbHMoZS55KSA/IHRoaXMudHdpY2UoKSA6IHRoaXMuY3VydmUuZ2V0SW5maW5pdHkoKTtcbiAgdmFyIHQgPSBlLnguc3VidHJhY3QodGhpcy54KSwgciA9IGUueS5zdWJ0cmFjdCh0aGlzLnkpLCBpID0gci5kaXZpZGUodCksIHMgPSBpLnNxdWFyZSgpLnN1YnRyYWN0KHRoaXMueCkuc3VidHJhY3QoZS54KSwgbiA9IGkubXVsdGlwbHkodGhpcy54LnN1YnRyYWN0KHMpKS5zdWJ0cmFjdCh0aGlzLnkpO1xuICByZXR1cm4gbmV3IHoodGhpcy5jdXJ2ZSwgcywgbik7XG59O1xuei5wcm90b3R5cGUudHdpY2UyRCA9IGZ1bmN0aW9uKCkge1xuICBpZiAodGhpcy5pc0luZmluaXR5KCkpXG4gICAgcmV0dXJuIHRoaXM7XG4gIGlmICh0aGlzLnkudG9CaWdJbnRlZ2VyKCkuc2lnbnVtKCkgPT0gMClcbiAgICByZXR1cm4gdGhpcy5jdXJ2ZS5nZXRJbmZpbml0eSgpO1xuICB2YXIgZSA9IHRoaXMuY3VydmUuZnJvbUJpZ0ludGVnZXIoUi52YWx1ZU9mKDIpKSwgdCA9IHRoaXMuY3VydmUuZnJvbUJpZ0ludGVnZXIoUi52YWx1ZU9mKDMpKSwgciA9IHRoaXMueC5zcXVhcmUoKS5tdWx0aXBseSh0KS5hZGQodGhpcy5jdXJ2ZS5hKS5kaXZpZGUodGhpcy55Lm11bHRpcGx5KGUpKSwgaSA9IHIuc3F1YXJlKCkuc3VidHJhY3QodGhpcy54Lm11bHRpcGx5KGUpKSwgcyA9IHIubXVsdGlwbHkodGhpcy54LnN1YnRyYWN0KGkpKS5zdWJ0cmFjdCh0aGlzLnkpO1xuICByZXR1cm4gbmV3IHoodGhpcy5jdXJ2ZSwgaSwgcyk7XG59O1xuei5wcm90b3R5cGUubXVsdGlwbHkyRCA9IGZ1bmN0aW9uKGUpIHtcbiAgaWYgKHRoaXMuaXNJbmZpbml0eSgpKVxuICAgIHJldHVybiB0aGlzO1xuICBpZiAoZS5zaWdudW0oKSA9PSAwKVxuICAgIHJldHVybiB0aGlzLmN1cnZlLmdldEluZmluaXR5KCk7XG4gIHZhciB0ID0gZSwgciA9IHQubXVsdGlwbHkobmV3IFIoXCIzXCIpKSwgaSA9IHRoaXMubmVnYXRlKCksIHMgPSB0aGlzLCBuO1xuICBmb3IgKG4gPSByLmJpdExlbmd0aCgpIC0gMjsgbiA+IDA7IC0tbikge1xuICAgIHMgPSBzLnR3aWNlKCk7XG4gICAgdmFyIGggPSByLnRlc3RCaXQobiksIHUgPSB0LnRlc3RCaXQobik7XG4gICAgaCAhPSB1ICYmIChzID0gcy5hZGQyRChoID8gdGhpcyA6IGkpKTtcbiAgfVxuICByZXR1cm4gcztcbn07XG56LnByb3RvdHlwZS5pc09uQ3VydmUgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGUgPSB0aGlzLmdldFgoKS50b0JpZ0ludGVnZXIoKSwgdCA9IHRoaXMuZ2V0WSgpLnRvQmlnSW50ZWdlcigpLCByID0gdGhpcy5jdXJ2ZS5nZXRBKCkudG9CaWdJbnRlZ2VyKCksIGkgPSB0aGlzLmN1cnZlLmdldEIoKS50b0JpZ0ludGVnZXIoKSwgcyA9IHRoaXMuY3VydmUuZ2V0USgpLCBuID0gdC5tdWx0aXBseSh0KS5tb2QocyksIGggPSBlLm11bHRpcGx5KGUpLm11bHRpcGx5KGUpLmFkZChyLm11bHRpcGx5KGUpKS5hZGQoaSkubW9kKHMpO1xuICByZXR1cm4gbi5lcXVhbHMoaCk7XG59O1xuei5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFwiKFwiICsgdGhpcy5nZXRYKCkudG9CaWdJbnRlZ2VyKCkudG9TdHJpbmcoKSArIFwiLFwiICsgdGhpcy5nZXRZKCkudG9CaWdJbnRlZ2VyKCkudG9TdHJpbmcoKSArIFwiKVwiO1xufTtcbnoucHJvdG90eXBlLnZhbGlkYXRlID0gZnVuY3Rpb24oKSB7XG4gIHZhciBlID0gdGhpcy5jdXJ2ZS5nZXRRKCk7XG4gIGlmICh0aGlzLmlzSW5maW5pdHkoKSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJQb2ludCBpcyBhdCBpbmZpbml0eS5cIik7XG4gIHZhciB0ID0gdGhpcy5nZXRYKCkudG9CaWdJbnRlZ2VyKCksIHIgPSB0aGlzLmdldFkoKS50b0JpZ0ludGVnZXIoKTtcbiAgaWYgKHQuY29tcGFyZVRvKFIuT05FKSA8IDAgfHwgdC5jb21wYXJlVG8oZS5zdWJ0cmFjdChSLk9ORSkpID4gMClcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJ4IGNvb3JkaW5hdGUgb3V0IG9mIGJvdW5kc1wiKTtcbiAgaWYgKHIuY29tcGFyZVRvKFIuT05FKSA8IDAgfHwgci5jb21wYXJlVG8oZS5zdWJ0cmFjdChSLk9ORSkpID4gMClcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJ5IGNvb3JkaW5hdGUgb3V0IG9mIGJvdW5kc1wiKTtcbiAgaWYgKCF0aGlzLmlzT25DdXJ2ZSgpKVxuICAgIHRocm93IG5ldyBFcnJvcihcIlBvaW50IGlzIG5vdCBvbiB0aGUgY3VydmUuXCIpO1xuICBpZiAodGhpcy5tdWx0aXBseShlKS5pc0luZmluaXR5KCkpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiUG9pbnQgaXMgbm90IGEgc2NhbGFyIG11bHRpcGxlIG9mIEcuXCIpO1xuICByZXR1cm4gITA7XG59O1xuLyohIE1pa2UgU2FtdWVsIChjKSAyMDA5IHwgY29kZS5nb29nbGUuY29tL3AvanNvbi1zYW5zLWV2YWxcbiAqL1xudmFyIFB0ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBlID0gXCIoPzotP1xcXFxiKD86MHxbMS05XVswLTldKikoPzpcXFxcLlswLTldKyk/KD86W2VFXVsrLV0/WzAtOV0rKT9cXFxcYilcIiwgdCA9ICcoPzpbXlxcXFwwLVxcXFx4MDhcXFxceDBhLVxcXFx4MWZcIlxcXFxcXFxcXXxcXFxcXFxcXCg/OltcIi9cXFxcXFxcXGJmbnJ0XXx1WzAtOUEtRmEtZl17NH0pKScsIHIgPSAnKD86XCInICsgdCArICcqXCIpJywgaSA9IG5ldyBSZWdFeHAoXCIoPzpmYWxzZXx0cnVlfG51bGx8W1xcXFx7XFxcXH1cXFxcW1xcXFxdXXxcIiArIGUgKyBcInxcIiArIHIgKyBcIilcIiwgXCJnXCIpLCBzID0gbmV3IFJlZ0V4cChcIlxcXFxcXFxcKD86KFtedV0pfHUoLns0fSkpXCIsIFwiZ1wiKSwgbiA9IHsgJ1wiJzogJ1wiJywgXCIvXCI6IFwiL1wiLCBcIlxcXFxcIjogXCJcXFxcXCIsIGI6IFwiXFxiXCIsIGY6IFwiXFxmXCIsIG46IGBcbmAsIHI6IFwiXFxyXCIsIHQ6IFwiXHRcIiB9O1xuICBmdW5jdGlvbiBoKHksIHYsIG8pIHtcbiAgICByZXR1cm4gdiA/IG5bdl0gOiBTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KG8sIDE2KSk7XG4gIH1cbiAgdmFyIHUgPSBuZXcgU3RyaW5nKFwiXCIpLCBwID0gXCJcXFxcXCIsIGMgPSBPYmplY3QuaGFzT3duUHJvcGVydHk7XG4gIHJldHVybiBmdW5jdGlvbih5LCB2KSB7XG4gICAgdmFyIG8gPSB5Lm1hdGNoKGkpLCBsLCBmID0gb1swXSwgZCA9ICExO1xuICAgIGYgPT09IFwie1wiID8gbCA9IHt9IDogZiA9PT0gXCJbXCIgPyBsID0gW10gOiAobCA9IFtdLCBkID0gITApO1xuICAgIGZvciAodmFyIGcsIFMgPSBbbF0sIGIgPSAxIC0gZCwgRCA9IG8ubGVuZ3RoOyBiIDwgRDsgKytiKSB7XG4gICAgICBmID0gb1tiXTtcbiAgICAgIHZhciBBO1xuICAgICAgc3dpdGNoIChmLmNoYXJDb2RlQXQoMCkpIHtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBBID0gU1swXSwgQVtnIHx8IEEubGVuZ3RoXSA9ICtmLCBnID0gdm9pZCAwO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM0OlxuICAgICAgICAgIGlmIChmID0gZi5zdWJzdHJpbmcoMSwgZi5sZW5ndGggLSAxKSwgZi5pbmRleE9mKHApICE9PSAtMSAmJiAoZiA9IGYucmVwbGFjZShzLCBoKSksIEEgPSBTWzBdLCAhZylcbiAgICAgICAgICAgIGlmIChBIGluc3RhbmNlb2YgQXJyYXkpXG4gICAgICAgICAgICAgIGcgPSBBLmxlbmd0aDtcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICBnID0gZiB8fCB1O1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBBW2ddID0gZiwgZyA9IHZvaWQgMDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA5MTpcbiAgICAgICAgICBBID0gU1swXSwgUy51bnNoaWZ0KEFbZyB8fCBBLmxlbmd0aF0gPSBbXSksIGcgPSB2b2lkIDA7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgOTM6XG4gICAgICAgICAgUy5zaGlmdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEwMjpcbiAgICAgICAgICBBID0gU1swXSwgQVtnIHx8IEEubGVuZ3RoXSA9ICExLCBnID0gdm9pZCAwO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDExMDpcbiAgICAgICAgICBBID0gU1swXSwgQVtnIHx8IEEubGVuZ3RoXSA9IG51bGwsIGcgPSB2b2lkIDA7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTE2OlxuICAgICAgICAgIEEgPSBTWzBdLCBBW2cgfHwgQS5sZW5ndGhdID0gITAsIGcgPSB2b2lkIDA7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTIzOlxuICAgICAgICAgIEEgPSBTWzBdLCBTLnVuc2hpZnQoQVtnIHx8IEEubGVuZ3RoXSA9IHt9KSwgZyA9IHZvaWQgMDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMjU6XG4gICAgICAgICAgUy5zaGlmdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZCkge1xuICAgICAgaWYgKFMubGVuZ3RoICE9PSAxKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICAgIGwgPSBsWzBdO1xuICAgIH0gZWxzZSBpZiAoUy5sZW5ndGgpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICBpZiAodikge1xuICAgICAgdmFyIEkgPSBmdW5jdGlvbihtLCBFKSB7XG4gICAgICAgIHZhciB3ID0gbVtFXTtcbiAgICAgICAgaWYgKHcgJiYgdHlwZW9mIHcgPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgIHZhciB4ID0gbnVsbDtcbiAgICAgICAgICBmb3IgKHZhciBGIGluIHcpXG4gICAgICAgICAgICBpZiAoYy5jYWxsKHcsIEYpICYmIHcgIT09IG0pIHtcbiAgICAgICAgICAgICAgdmFyIFAgPSBJKHcsIEYpO1xuICAgICAgICAgICAgICBQICE9PSB2b2lkIDAgPyB3W0ZdID0gUCA6ICh4IHx8ICh4ID0gW10pLCB4LnB1c2goRikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIGlmICh4KVxuICAgICAgICAgICAgZm9yICh2YXIgVCA9IHgubGVuZ3RoOyAtLVQgPj0gMDsgKVxuICAgICAgICAgICAgICBkZWxldGUgd1t4W1RdXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdi5jYWxsKG0sIEUsIHcpO1xuICAgICAgfTtcbiAgICAgIGwgPSBJKHsgXCJcIjogbCB9LCBcIlwiKTtcbiAgICB9XG4gICAgcmV0dXJuIGw7XG4gIH07XG59KCk7XG4odHlwZW9mIGEgPiBcInVcIiB8fCAhYSkgJiYgKGEgPSB7fSk7XG4odHlwZW9mIGEuYXNuMSA+IFwidVwiIHx8ICFhLmFzbjEpICYmIChhLmFzbjEgPSB7fSk7XG5hLmFzbjEuQVNOMVV0aWwgPSBuZXcgZnVuY3Rpb24oKSB7XG4gIHRoaXMuaW50ZWdlclRvQnl0ZUhleCA9IGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgdCA9IGUudG9TdHJpbmcoMTYpO1xuICAgIHJldHVybiB0Lmxlbmd0aCAlIDIgPT0gMSAmJiAodCA9IFwiMFwiICsgdCksIHQ7XG4gIH0sIHRoaXMuYmlnSW50VG9NaW5Ud29zQ29tcGxlbWVudHNIZXggPSBmdW5jdGlvbihlKSB7XG4gICAgcmV0dXJuIFplKGUpO1xuICB9LCB0aGlzLmdldFBFTVN0cmluZ0Zyb21IZXggPSBmdW5jdGlvbihlLCB0KSB7XG4gICAgcmV0dXJuIGRlKGUsIHQpO1xuICB9LCB0aGlzLm5ld09iamVjdCA9IGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgdCA9IGEsIHIgPSB0LmFzbjEsIGkgPSByLkFTTjFPYmplY3QsIHMgPSByLkRFUkJvb2xlYW4sIG4gPSByLkRFUkludGVnZXIsIGggPSByLkRFUkJpdFN0cmluZywgdSA9IHIuREVST2N0ZXRTdHJpbmcsIHAgPSByLkRFUk51bGwsIGMgPSByLkRFUk9iamVjdElkZW50aWZpZXIsIHkgPSByLkRFUkVudW1lcmF0ZWQsIHYgPSByLkRFUlVURjhTdHJpbmcsIG8gPSByLkRFUk51bWVyaWNTdHJpbmcsIGwgPSByLkRFUlByaW50YWJsZVN0cmluZywgZiA9IHIuREVSVGVsZXRleFN0cmluZywgZCA9IHIuREVSSUE1U3RyaW5nLCBnID0gci5ERVJVVENUaW1lLCBTID0gci5ERVJHZW5lcmFsaXplZFRpbWUsIGIgPSByLkRFUlZpc2libGVTdHJpbmcsIEQgPSByLkRFUkJNUFN0cmluZywgQSA9IHIuREVSU2VxdWVuY2UsIEkgPSByLkRFUlNldCwgbSA9IHIuREVSVGFnZ2VkT2JqZWN0LCBFID0gci5BU04xVXRpbC5uZXdPYmplY3Q7XG4gICAgaWYgKGUgaW5zdGFuY2VvZiByLkFTTjFPYmplY3QpXG4gICAgICByZXR1cm4gZTtcbiAgICB2YXIgdyA9IE9iamVjdC5rZXlzKGUpO1xuICAgIGlmICh3Lmxlbmd0aCAhPSAxKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwia2V5IG9mIHBhcmFtIHNoYWxsIGJlIG9ubHkgb25lLlwiKTtcbiAgICB2YXIgeCA9IHdbMF07XG4gICAgaWYgKFwiOmFzbjE6Ym9vbDppbnQ6Yml0c3RyOm9jdHN0cjpudWxsOm9pZDplbnVtOnV0ZjhzdHI6bnVtc3RyOnBybnN0cjp0ZWxzdHI6aWE1c3RyOnV0Y3RpbWU6Z2VudGltZTp2aXNzdHI6Ym1wc3RyOnNlcTpzZXQ6dGFnOlwiLmluZGV4T2YoXCI6XCIgKyB4ICsgXCI6XCIpID09IC0xKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5kZWZpbmVkIGtleTogXCIgKyB4KTtcbiAgICBpZiAoeCA9PSBcImJvb2xcIilcbiAgICAgIHJldHVybiBuZXcgcyhlW3hdKTtcbiAgICBpZiAoeCA9PSBcImludFwiKVxuICAgICAgcmV0dXJuIG5ldyBuKGVbeF0pO1xuICAgIGlmICh4ID09IFwiYml0c3RyXCIpXG4gICAgICByZXR1cm4gbmV3IGgoZVt4XSk7XG4gICAgaWYgKHggPT0gXCJvY3RzdHJcIilcbiAgICAgIHJldHVybiBuZXcgdShlW3hdKTtcbiAgICBpZiAoeCA9PSBcIm51bGxcIilcbiAgICAgIHJldHVybiBuZXcgcChlW3hdKTtcbiAgICBpZiAoeCA9PSBcIm9pZFwiKVxuICAgICAgcmV0dXJuIG5ldyBjKGVbeF0pO1xuICAgIGlmICh4ID09IFwiZW51bVwiKVxuICAgICAgcmV0dXJuIG5ldyB5KGVbeF0pO1xuICAgIGlmICh4ID09IFwidXRmOHN0clwiKVxuICAgICAgcmV0dXJuIG5ldyB2KGVbeF0pO1xuICAgIGlmICh4ID09IFwibnVtc3RyXCIpXG4gICAgICByZXR1cm4gbmV3IG8oZVt4XSk7XG4gICAgaWYgKHggPT0gXCJwcm5zdHJcIilcbiAgICAgIHJldHVybiBuZXcgbChlW3hdKTtcbiAgICBpZiAoeCA9PSBcInRlbHN0clwiKVxuICAgICAgcmV0dXJuIG5ldyBmKGVbeF0pO1xuICAgIGlmICh4ID09IFwiaWE1c3RyXCIpXG4gICAgICByZXR1cm4gbmV3IGQoZVt4XSk7XG4gICAgaWYgKHggPT0gXCJ1dGN0aW1lXCIpXG4gICAgICByZXR1cm4gbmV3IGcoZVt4XSk7XG4gICAgaWYgKHggPT0gXCJnZW50aW1lXCIpXG4gICAgICByZXR1cm4gbmV3IFMoZVt4XSk7XG4gICAgaWYgKHggPT0gXCJ2aXNzdHJcIilcbiAgICAgIHJldHVybiBuZXcgYihlW3hdKTtcbiAgICBpZiAoeCA9PSBcImJtcHN0clwiKVxuICAgICAgcmV0dXJuIG5ldyBEKGVbeF0pO1xuICAgIGlmICh4ID09IFwiYXNuMVwiKVxuICAgICAgcmV0dXJuIG5ldyBpKGVbeF0pO1xuICAgIGlmICh4ID09IFwic2VxXCIpIHtcbiAgICAgIGZvciAodmFyIEYgPSBlW3hdLCBQID0gW10sIFQgPSAwOyBUIDwgRi5sZW5ndGg7IFQrKykge1xuICAgICAgICB2YXIgSCA9IEUoRltUXSk7XG4gICAgICAgIFAucHVzaChIKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgQSh7IGFycmF5OiBQIH0pO1xuICAgIH1cbiAgICBpZiAoeCA9PSBcInNldFwiKSB7XG4gICAgICBmb3IgKHZhciBGID0gZVt4XSwgUCA9IFtdLCBUID0gMDsgVCA8IEYubGVuZ3RoOyBUKyspIHtcbiAgICAgICAgdmFyIEggPSBFKEZbVF0pO1xuICAgICAgICBQLnB1c2goSCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IEkoeyBhcnJheTogUCB9KTtcbiAgICB9XG4gICAgaWYgKHggPT0gXCJ0YWdcIikge1xuICAgICAgdmFyIEMgPSBlW3hdO1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChDKSA9PT0gXCJbb2JqZWN0IEFycmF5XVwiICYmIEMubGVuZ3RoID09IDMpIHtcbiAgICAgICAgdmFyIEIgPSBFKENbMl0pO1xuICAgICAgICByZXR1cm4gbmV3IG0oeyB0YWc6IENbMF0sIGV4cGxpY2l0OiBDWzFdLCBvYmo6IEIgfSk7XG4gICAgICB9IGVsc2VcbiAgICAgICAgcmV0dXJuIG5ldyBtKEMpO1xuICAgIH1cbiAgfSwgdGhpcy5qc29uVG9BU04xSEVYID0gZnVuY3Rpb24oZSkge1xuICAgIHZhciB0ID0gdGhpcy5uZXdPYmplY3QoZSk7XG4gICAgcmV0dXJuIHQudG9oZXgoKTtcbiAgfTtcbn0oKTtcbmEuYXNuMS5BU04xVXRpbC5vaWRIZXhUb0ludCA9IGZ1bmN0aW9uKGUpIHtcbiAgZm9yICh2YXIgcyA9IFwiXCIsIHQgPSBwYXJzZUludChlLnN1YnN0cigwLCAyKSwgMTYpLCByID0gTWF0aC5mbG9vcih0IC8gNDApLCBpID0gdCAlIDQwLCBzID0gciArIFwiLlwiICsgaSwgbiA9IFwiXCIsIGggPSAyOyBoIDwgZS5sZW5ndGg7IGggKz0gMikge1xuICAgIHZhciB1ID0gcGFyc2VJbnQoZS5zdWJzdHIoaCwgMiksIDE2KSwgcCA9IChcIjAwMDAwMDAwXCIgKyB1LnRvU3RyaW5nKDIpKS5zbGljZSgtOCk7XG4gICAgaWYgKG4gPSBuICsgcC5zdWJzdHIoMSwgNyksIHAuc3Vic3RyKDAsIDEpID09IFwiMFwiKSB7XG4gICAgICB2YXIgYyA9IG5ldyBSKG4sIDIpO1xuICAgICAgcyA9IHMgKyBcIi5cIiArIGMudG9TdHJpbmcoMTApLCBuID0gXCJcIjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHM7XG59O1xuYS5hc24xLkFTTjFVdGlsLm9pZEludFRvSGV4ID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IGZ1bmN0aW9uKHUpIHtcbiAgICB2YXIgcCA9IHUudG9TdHJpbmcoMTYpO1xuICAgIHJldHVybiBwLmxlbmd0aCA9PSAxICYmIChwID0gXCIwXCIgKyBwKSwgcDtcbiAgfSwgciA9IGZ1bmN0aW9uKHUpIHtcbiAgICB2YXIgcCA9IFwiXCIsIGMgPSBuZXcgUih1LCAxMCksIHkgPSBjLnRvU3RyaW5nKDIpLCB2ID0gNyAtIHkubGVuZ3RoICUgNztcbiAgICB2ID09IDcgJiYgKHYgPSAwKTtcbiAgICBmb3IgKHZhciBvID0gXCJcIiwgbCA9IDA7IGwgPCB2OyBsKyspXG4gICAgICBvICs9IFwiMFwiO1xuICAgIHkgPSBvICsgeTtcbiAgICBmb3IgKHZhciBsID0gMDsgbCA8IHkubGVuZ3RoIC0gMTsgbCArPSA3KSB7XG4gICAgICB2YXIgZiA9IHkuc3Vic3RyKGwsIDcpO1xuICAgICAgbCAhPSB5Lmxlbmd0aCAtIDcgJiYgKGYgPSBcIjFcIiArIGYpLCBwICs9IHQocGFyc2VJbnQoZiwgMikpO1xuICAgIH1cbiAgICByZXR1cm4gcDtcbiAgfTtcbiAgaWYgKCFlLm1hdGNoKC9eWzAtOS5dKyQvKSlcbiAgICB0aHJvdyBcIm1hbGZvcm1lZCBvaWQgc3RyaW5nOiBcIiArIGU7XG4gIHZhciBpID0gXCJcIiwgcyA9IGUuc3BsaXQoXCIuXCIpLCBuID0gcGFyc2VJbnQoc1swXSkgKiA0MCArIHBhcnNlSW50KHNbMV0pO1xuICBpICs9IHQobiksIHMuc3BsaWNlKDAsIDIpO1xuICBmb3IgKHZhciBoID0gMDsgaCA8IHMubGVuZ3RoOyBoKyspXG4gICAgaSArPSByKHNbaF0pO1xuICByZXR1cm4gaTtcbn07XG5hLmFzbjEuQVNOMU9iamVjdCA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBcIlwiO1xuICB0aGlzLnBhcmFtcyA9IG51bGwsIHRoaXMuZ2V0TGVuZ3RoSGV4RnJvbVZhbHVlID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHR5cGVvZiB0aGlzLmhWID4gXCJ1XCIgfHwgdGhpcy5oViA9PSBudWxsKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwidGhpcy5oViBpcyBudWxsIG9yIHVuZGVmaW5lZFwiKTtcbiAgICBpZiAodGhpcy5oVi5sZW5ndGggJSAyID09IDEpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ2YWx1ZSBoZXggbXVzdCBiZSBldmVuIGxlbmd0aDogbj1cIiArIHQubGVuZ3RoICsgXCIsdj1cIiArIHRoaXMuaFYpO1xuICAgIHZhciByID0gdGhpcy5oVi5sZW5ndGggLyAyLCBpID0gci50b1N0cmluZygxNik7XG4gICAgaWYgKGkubGVuZ3RoICUgMiA9PSAxICYmIChpID0gXCIwXCIgKyBpKSwgciA8IDEyOClcbiAgICAgIHJldHVybiBpO1xuICAgIHZhciBzID0gaS5sZW5ndGggLyAyO1xuICAgIGlmIChzID4gMTUpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBU04uMSBsZW5ndGggdG9vIGxvbmcgdG8gcmVwcmVzZW50IGJ5IDh4OiBuID0gXCIgKyByLnRvU3RyaW5nKDE2KSk7XG4gICAgdmFyIG4gPSAxMjggKyBzO1xuICAgIHJldHVybiBuLnRvU3RyaW5nKDE2KSArIGk7XG4gIH0sIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gKHRoaXMuaFRMViA9PSBudWxsIHx8IHRoaXMuaXNNb2RpZmllZCkgJiYgKHRoaXMuaFYgPSB0aGlzLmdldEZyZXNoVmFsdWVIZXgoKSwgdGhpcy5oTCA9IHRoaXMuZ2V0TGVuZ3RoSGV4RnJvbVZhbHVlKCksIHRoaXMuaFRMViA9IHRoaXMuaFQgKyB0aGlzLmhMICsgdGhpcy5oViwgdGhpcy5pc01vZGlmaWVkID0gITEpLCB0aGlzLmhUTFY7XG4gIH0sIHRoaXMuZ2V0RW5jb2RlZEhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvaGV4KCk7XG4gIH0sIHRoaXMuZ2V0VmFsdWVIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b2hleCgpLCB0aGlzLmhWO1xuICB9LCB0aGlzLmdldEZyZXNoVmFsdWVIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gXCJcIjtcbiAgfSwgdGhpcy5zZXRCeVBhcmFtID0gZnVuY3Rpb24ocikge1xuICAgIHRoaXMucGFyYW1zID0gcjtcbiAgfSwgZSAhPSBudWxsICYmIGUudGx2ICE9IG51bGwgJiYgKHRoaXMuaFRMViA9IGUudGx2LCB0aGlzLmlzTW9kaWZpZWQgPSAhMSk7XG59O1xuYS5hc24xLkRFUkFic3RyYWN0U3RyaW5nID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEuREVSQWJzdHJhY3RTdHJpbmcuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLCB0aGlzLmdldFN0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnM7XG4gIH0sIHRoaXMuc2V0U3RyaW5nID0gZnVuY3Rpb24odCkge1xuICAgIHRoaXMuaFRMViA9IG51bGwsIHRoaXMuaXNNb2RpZmllZCA9ICEwLCB0aGlzLnMgPSB0LCB0aGlzLmhWID0gaHQodGhpcy5zKS50b0xvd2VyQ2FzZSgpO1xuICB9LCB0aGlzLnNldFN0cmluZ0hleCA9IGZ1bmN0aW9uKHQpIHtcbiAgICB0aGlzLmhUTFYgPSBudWxsLCB0aGlzLmlzTW9kaWZpZWQgPSAhMCwgdGhpcy5zID0gbnVsbCwgdGhpcy5oViA9IHQ7XG4gIH0sIHRoaXMuZ2V0RnJlc2hWYWx1ZUhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmhWO1xuICB9LCB0eXBlb2YgZSA8IFwidVwiICYmICh0eXBlb2YgZSA9PSBcInN0cmluZ1wiID8gdGhpcy5zZXRTdHJpbmcoZSkgOiB0eXBlb2YgZS5zdHIgPCBcInVcIiA/IHRoaXMuc2V0U3RyaW5nKGUuc3RyKSA6IHR5cGVvZiBlLmhleCA8IFwidVwiICYmIHRoaXMuc2V0U3RyaW5nSGV4KGUuaGV4KSk7XG59O1xuTihhLmFzbjEuREVSQWJzdHJhY3RTdHJpbmcsIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS5ERVJBYnN0cmFjdFRpbWUgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS5ERVJBYnN0cmFjdFRpbWUuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLCB0aGlzLmxvY2FsRGF0ZVRvVVRDID0gZnVuY3Rpb24odCkge1xuICAgIHZhciByID0gdC5nZXRUaW1lKCkgKyB0LmdldFRpbWV6b25lT2Zmc2V0KCkgKiA2ZTQsIGkgPSBuZXcgRGF0ZShyKTtcbiAgICByZXR1cm4gaTtcbiAgfSwgdGhpcy5mb3JtYXREYXRlID0gZnVuY3Rpb24odCwgciwgaSkge1xuICAgIHZhciBzID0gdGhpcy56ZXJvUGFkZGluZywgbiA9IHRoaXMubG9jYWxEYXRlVG9VVEModCksIGggPSBTdHJpbmcobi5nZXRGdWxsWWVhcigpKTtcbiAgICByID09IFwidXRjXCIgJiYgKGggPSBoLnN1YnN0cigyLCAyKSk7XG4gICAgdmFyIHUgPSBzKFN0cmluZyhuLmdldE1vbnRoKCkgKyAxKSwgMiksIHAgPSBzKFN0cmluZyhuLmdldERhdGUoKSksIDIpLCBjID0gcyhTdHJpbmcobi5nZXRIb3VycygpKSwgMiksIHkgPSBzKFN0cmluZyhuLmdldE1pbnV0ZXMoKSksIDIpLCB2ID0gcyhTdHJpbmcobi5nZXRTZWNvbmRzKCkpLCAyKSwgbyA9IGggKyB1ICsgcCArIGMgKyB5ICsgdjtcbiAgICBpZiAoaSA9PT0gITApIHtcbiAgICAgIHZhciBsID0gbi5nZXRNaWxsaXNlY29uZHMoKTtcbiAgICAgIGlmIChsICE9IDApIHtcbiAgICAgICAgdmFyIGYgPSBzKFN0cmluZyhsKSwgMyk7XG4gICAgICAgIGYgPSBmLnJlcGxhY2UoL1swXSskLywgXCJcIiksIG8gPSBvICsgXCIuXCIgKyBmO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbyArIFwiWlwiO1xuICB9LCB0aGlzLnplcm9QYWRkaW5nID0gZnVuY3Rpb24odCwgcikge1xuICAgIHJldHVybiB0Lmxlbmd0aCA+PSByID8gdCA6IG5ldyBBcnJheShyIC0gdC5sZW5ndGggKyAxKS5qb2luKFwiMFwiKSArIHQ7XG4gIH0sIHRoaXMuc2V0QnlQYXJhbSA9IGZ1bmN0aW9uKHQpIHtcbiAgICB0aGlzLmhWID0gbnVsbCwgdGhpcy5oVExWID0gbnVsbCwgdGhpcy5wYXJhbXMgPSB0O1xuICB9LCB0aGlzLmdldFN0cmluZyA9IGZ1bmN0aW9uKCkge1xuICB9LCB0aGlzLnNldFN0cmluZyA9IGZ1bmN0aW9uKHQpIHtcbiAgICB0aGlzLmhUTFYgPSBudWxsLCB0aGlzLmlzTW9kaWZpZWQgPSAhMCwgdGhpcy5wYXJhbXMgPT0gbnVsbCAmJiAodGhpcy5wYXJhbXMgPSB7fSksIHRoaXMucGFyYW1zLnN0ciA9IHQ7XG4gIH0sIHRoaXMuc2V0QnlEYXRlID0gZnVuY3Rpb24odCkge1xuICAgIHRoaXMuaFRMViA9IG51bGwsIHRoaXMuaXNNb2RpZmllZCA9ICEwLCB0aGlzLnBhcmFtcyA9PSBudWxsICYmICh0aGlzLnBhcmFtcyA9IHt9KSwgdGhpcy5wYXJhbXMuZGF0ZSA9IHQ7XG4gIH0sIHRoaXMuc2V0QnlEYXRlVmFsdWUgPSBmdW5jdGlvbih0LCByLCBpLCBzLCBuLCBoKSB7XG4gICAgdmFyIHUgPSBuZXcgRGF0ZShEYXRlLlVUQyh0LCByIC0gMSwgaSwgcywgbiwgaCwgMCkpO1xuICAgIHRoaXMuc2V0QnlEYXRlKHUpO1xuICB9LCB0aGlzLmdldEZyZXNoVmFsdWVIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5oVjtcbiAgfTtcbn07XG5OKGEuYXNuMS5ERVJBYnN0cmFjdFRpbWUsIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS5ERVJBYnN0cmFjdFN0cnVjdHVyZWQgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS5ERVJBYnN0cmFjdFN0cmluZy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksIHRoaXMuc2V0QnlBU04xT2JqZWN0QXJyYXkgPSBmdW5jdGlvbih0KSB7XG4gICAgdGhpcy5oVExWID0gbnVsbCwgdGhpcy5pc01vZGlmaWVkID0gITAsIHRoaXMuYXNuMUFycmF5ID0gdDtcbiAgfSwgdGhpcy5hcHBlbmRBU04xT2JqZWN0ID0gZnVuY3Rpb24odCkge1xuICAgIHRoaXMuaFRMViA9IG51bGwsIHRoaXMuaXNNb2RpZmllZCA9ICEwLCB0aGlzLmFzbjFBcnJheS5wdXNoKHQpO1xuICB9LCB0aGlzLmFzbjFBcnJheSA9IG5ldyBBcnJheSgpLCB0eXBlb2YgZSA8IFwidVwiICYmIHR5cGVvZiBlLmFycmF5IDwgXCJ1XCIgJiYgKHRoaXMuYXNuMUFycmF5ID0gZS5hcnJheSk7XG59O1xuTihhLmFzbjEuREVSQWJzdHJhY3RTdHJ1Y3R1cmVkLCBhLmFzbjEuQVNOMU9iamVjdCk7XG5hLmFzbjEuREVSQm9vbGVhbiA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLkRFUkJvb2xlYW4uc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLCB0aGlzLmhUID0gXCIwMVwiLCBlID09ICExID8gdGhpcy5oVExWID0gXCIwMTAxMDBcIiA6IHRoaXMuaFRMViA9IFwiMDEwMWZmXCI7XG59O1xuTihhLmFzbjEuREVSQm9vbGVhbiwgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLkRFUkludGVnZXIgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS5ERVJJbnRlZ2VyLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSwgdGhpcy5oVCA9IFwiMDJcIiwgdGhpcy5wYXJhbXMgPSBudWxsO1xuICB2YXIgdCA9IFplO1xuICB0aGlzLnNldEJ5QmlnSW50ZWdlciA9IGZ1bmN0aW9uKHIpIHtcbiAgICB0aGlzLmlzTW9kaWZpZWQgPSAhMCwgdGhpcy5wYXJhbXMgPSB7IGJpZ2ludDogciB9O1xuICB9LCB0aGlzLnNldEJ5SW50ZWdlciA9IGZ1bmN0aW9uKHIpIHtcbiAgICB0aGlzLmlzTW9kaWZpZWQgPSAhMCwgdGhpcy5wYXJhbXMgPSByO1xuICB9LCB0aGlzLnNldFZhbHVlSGV4ID0gZnVuY3Rpb24ocikge1xuICAgIHRoaXMuaXNNb2RpZmllZCA9ICEwLCB0aGlzLnBhcmFtcyA9IHsgaGV4OiByIH07XG4gIH0sIHRoaXMuZ2V0RnJlc2hWYWx1ZUhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciByID0gdGhpcy5wYXJhbXMsIGkgPSBudWxsO1xuICAgIGlmIChyID09IG51bGwpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ2YWx1ZSBub3Qgc2V0XCIpO1xuICAgIGlmICh0eXBlb2YgciA9PSBcIm9iamVjdFwiICYmIHIuaGV4ICE9IG51bGwpXG4gICAgICByZXR1cm4gdGhpcy5oViA9IHIuaGV4LCB0aGlzLmhWO1xuICAgIGlmICh0eXBlb2YgciA9PSBcIm51bWJlclwiKVxuICAgICAgaSA9IG5ldyBSKFN0cmluZyhyKSwgMTApO1xuICAgIGVsc2UgaWYgKHIuaW50ICE9IG51bGwpXG4gICAgICBpID0gbmV3IFIoU3RyaW5nKHIuaW50KSwgMTApO1xuICAgIGVsc2UgaWYgKHIuYmlnaW50ICE9IG51bGwpXG4gICAgICBpID0gci5iaWdpbnQ7XG4gICAgZWxzZVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwid3JvbmcgcGFyYW1ldGVyXCIpO1xuICAgIHJldHVybiB0aGlzLmhWID0gdChpKSwgdGhpcy5oVjtcbiAgfSwgZSAhPSBudWxsICYmICh0aGlzLnBhcmFtcyA9IGUpO1xufTtcbk4oYS5hc24xLkRFUkludGVnZXIsIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS5ERVJCaXRTdHJpbmcgPSBmdW5jdGlvbihlKSB7XG4gIGlmIChlICE9PSB2b2lkIDAgJiYgdHlwZW9mIGUub2JqIDwgXCJ1XCIpIHtcbiAgICB2YXIgdCA9IGEuYXNuMS5BU04xVXRpbC5uZXdPYmplY3QoZS5vYmopO1xuICAgIGUuaGV4ID0gXCIwMFwiICsgdC50b2hleCgpO1xuICB9XG4gIGEuYXNuMS5ERVJCaXRTdHJpbmcuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLCB0aGlzLmhUID0gXCIwM1wiLCB0aGlzLnNldEhleFZhbHVlSW5jbHVkaW5nVW51c2VkQml0cyA9IGZ1bmN0aW9uKHIpIHtcbiAgICB0aGlzLmhUTFYgPSBudWxsLCB0aGlzLmlzTW9kaWZpZWQgPSAhMCwgdGhpcy5oViA9IHI7XG4gIH0sIHRoaXMuc2V0VW51c2VkQml0c0FuZEhleFZhbHVlID0gZnVuY3Rpb24ociwgaSkge1xuICAgIGlmIChyIDwgMCB8fCA3IDwgcilcbiAgICAgIHRocm93IFwidW51c2VkIGJpdHMgc2hhbGwgYmUgZnJvbSAwIHRvIDc6IHUgPSBcIiArIHI7XG4gICAgdmFyIHMgPSBcIjBcIiArIHI7XG4gICAgdGhpcy5oVExWID0gbnVsbCwgdGhpcy5pc01vZGlmaWVkID0gITAsIHRoaXMuaFYgPSBzICsgaTtcbiAgfSwgdGhpcy5zZXRCeUJpbmFyeVN0cmluZyA9IGZ1bmN0aW9uKHIpIHtcbiAgICByID0gci5yZXBsYWNlKC8wKyQvLCBcIlwiKTtcbiAgICB2YXIgaSA9IDggLSByLmxlbmd0aCAlIDg7XG4gICAgaSA9PSA4ICYmIChpID0gMCksIHIgKz0gXCIwMDAwMDAwXCIuc3Vic3RyKDAsIGkpO1xuICAgIGZvciAodmFyIHMgPSBcIlwiLCBuID0gMDsgbiA8IHIubGVuZ3RoIC0gMTsgbiArPSA4KSB7XG4gICAgICB2YXIgaCA9IHIuc3Vic3RyKG4sIDgpLCB1ID0gcGFyc2VJbnQoaCwgMikudG9TdHJpbmcoMTYpO1xuICAgICAgdS5sZW5ndGggPT0gMSAmJiAodSA9IFwiMFwiICsgdSksIHMgKz0gdTtcbiAgICB9XG4gICAgdGhpcy5oVExWID0gbnVsbCwgdGhpcy5pc01vZGlmaWVkID0gITAsIHRoaXMuaFYgPSBcIjBcIiArIGkgKyBzO1xuICB9LCB0aGlzLnNldEJ5Qm9vbGVhbkFycmF5ID0gZnVuY3Rpb24ocikge1xuICAgIGZvciAodmFyIGkgPSBcIlwiLCBzID0gMDsgcyA8IHIubGVuZ3RoOyBzKyspXG4gICAgICByW3NdID09ICEwID8gaSArPSBcIjFcIiA6IGkgKz0gXCIwXCI7XG4gICAgdGhpcy5zZXRCeUJpbmFyeVN0cmluZyhpKTtcbiAgfSwgdGhpcy5uZXdGYWxzZUFycmF5ID0gZnVuY3Rpb24ocikge1xuICAgIGZvciAodmFyIGkgPSBuZXcgQXJyYXkociksIHMgPSAwOyBzIDwgcjsgcysrKVxuICAgICAgaVtzXSA9ICExO1xuICAgIHJldHVybiBpO1xuICB9LCB0aGlzLmdldEZyZXNoVmFsdWVIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5oVjtcbiAgfSwgdHlwZW9mIGUgPCBcInVcIiAmJiAodHlwZW9mIGUgPT0gXCJzdHJpbmdcIiAmJiBlLnRvTG93ZXJDYXNlKCkubWF0Y2goL15bMC05YS1mXSskLykgPyB0aGlzLnNldEhleFZhbHVlSW5jbHVkaW5nVW51c2VkQml0cyhlKSA6IHR5cGVvZiBlLmhleCA8IFwidVwiID8gdGhpcy5zZXRIZXhWYWx1ZUluY2x1ZGluZ1VudXNlZEJpdHMoZS5oZXgpIDogdHlwZW9mIGUuYmluIDwgXCJ1XCIgPyB0aGlzLnNldEJ5QmluYXJ5U3RyaW5nKGUuYmluKSA6IHR5cGVvZiBlLmFycmF5IDwgXCJ1XCIgJiYgdGhpcy5zZXRCeUJvb2xlYW5BcnJheShlLmFycmF5KSk7XG59O1xuTihhLmFzbjEuREVSQml0U3RyaW5nLCBhLmFzbjEuQVNOMU9iamVjdCk7XG5hLmFzbjEuREVST2N0ZXRTdHJpbmcgPSBmdW5jdGlvbihlKSB7XG4gIGlmIChlICE9PSB2b2lkIDAgJiYgdHlwZW9mIGUub2JqIDwgXCJ1XCIpIHtcbiAgICB2YXIgdCA9IGEuYXNuMS5BU04xVXRpbC5uZXdPYmplY3QoZS5vYmopO1xuICAgIGUuaGV4ID0gdC50b2hleCgpO1xuICB9XG4gIGEuYXNuMS5ERVJPY3RldFN0cmluZy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgZSksIHRoaXMuaFQgPSBcIjA0XCI7XG59O1xuTihhLmFzbjEuREVST2N0ZXRTdHJpbmcsIGEuYXNuMS5ERVJBYnN0cmFjdFN0cmluZyk7XG5hLmFzbjEuREVSTnVsbCA9IGZ1bmN0aW9uKCkge1xuICBhLmFzbjEuREVSTnVsbC5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksIHRoaXMuaFQgPSBcIjA1XCIsIHRoaXMuaFRMViA9IFwiMDUwMFwiO1xufTtcbk4oYS5hc24xLkRFUk51bGwsIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS5ERVJPYmplY3RJZGVudGlmaWVyID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEuREVST2JqZWN0SWRlbnRpZmllci5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksIHRoaXMuaFQgPSBcIjA2XCIsIHRoaXMuc2V0VmFsdWVIZXggPSBmdW5jdGlvbih0KSB7XG4gICAgdGhpcy5oVExWID0gbnVsbCwgdGhpcy5pc01vZGlmaWVkID0gITAsIHRoaXMucyA9IG51bGwsIHRoaXMuaFYgPSB0O1xuICB9LCB0aGlzLnNldFZhbHVlT2lkU3RyaW5nID0gZnVuY3Rpb24odCkge1xuICAgIHZhciByID0gbW4odCk7XG4gICAgaWYgKHIgPT0gbnVsbClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm1hbGZvcm1lZCBvaWQgc3RyaW5nOiBcIiArIHQpO1xuICAgIHRoaXMuaFRMViA9IG51bGwsIHRoaXMuaXNNb2RpZmllZCA9ICEwLCB0aGlzLnMgPSBudWxsLCB0aGlzLmhWID0gcjtcbiAgfSwgdGhpcy5zZXRWYWx1ZU5hbWUgPSBmdW5jdGlvbih0KSB7XG4gICAgdmFyIHIgPSBhLmFzbjEueDUwOS5PSUQubmFtZTJvaWQodCk7XG4gICAgaWYgKHIgIT09IFwiXCIpXG4gICAgICB0aGlzLnNldFZhbHVlT2lkU3RyaW5nKHIpO1xuICAgIGVsc2VcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkRFUk9iamVjdElkZW50aWZpZXIgb2lkTmFtZSB1bmRlZmluZWQ6IFwiICsgdCk7XG4gIH0sIHRoaXMuc2V0VmFsdWVOYW1lT3JPaWQgPSBmdW5jdGlvbih0KSB7XG4gICAgdC5tYXRjaCgvXlswLTJdLlswLTkuXSskLykgPyB0aGlzLnNldFZhbHVlT2lkU3RyaW5nKHQpIDogdGhpcy5zZXRWYWx1ZU5hbWUodCk7XG4gIH0sIHRoaXMuZ2V0RnJlc2hWYWx1ZUhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmhWO1xuICB9LCB0aGlzLnNldEJ5UGFyYW0gPSBmdW5jdGlvbih0KSB7XG4gICAgdHlwZW9mIHQgPT0gXCJzdHJpbmdcIiA/IHRoaXMuc2V0VmFsdWVOYW1lT3JPaWQodCkgOiB0Lm9pZCAhPT0gdm9pZCAwID8gdGhpcy5zZXRWYWx1ZU5hbWVPck9pZCh0Lm9pZCkgOiB0Lm5hbWUgIT09IHZvaWQgMCA/IHRoaXMuc2V0VmFsdWVOYW1lT3JPaWQodC5uYW1lKSA6IHQuaGV4ICE9PSB2b2lkIDAgJiYgdGhpcy5zZXRWYWx1ZUhleCh0LmhleCk7XG4gIH0sIGUgIT09IHZvaWQgMCAmJiB0aGlzLnNldEJ5UGFyYW0oZSk7XG59O1xuTihhLmFzbjEuREVST2JqZWN0SWRlbnRpZmllciwgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLkRFUkVudW1lcmF0ZWQgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS5ERVJFbnVtZXJhdGVkLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSwgdGhpcy5oVCA9IFwiMGFcIiwgdGhpcy5zZXRCeUJpZ0ludGVnZXIgPSBmdW5jdGlvbih0KSB7XG4gICAgdGhpcy5oVExWID0gbnVsbCwgdGhpcy5pc01vZGlmaWVkID0gITAsIHRoaXMuaFYgPSBaZSh0KTtcbiAgfSwgdGhpcy5zZXRCeUludGVnZXIgPSBmdW5jdGlvbih0KSB7XG4gICAgdmFyIHIgPSBuZXcgUihTdHJpbmcodCksIDEwKTtcbiAgICB0aGlzLnNldEJ5QmlnSW50ZWdlcihyKTtcbiAgfSwgdGhpcy5zZXRWYWx1ZUhleCA9IGZ1bmN0aW9uKHQpIHtcbiAgICB0aGlzLmhWID0gdDtcbiAgfSwgdGhpcy5nZXRGcmVzaFZhbHVlSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuaFY7XG4gIH0sIHR5cGVvZiBlIDwgXCJ1XCIgJiYgKHR5cGVvZiBlLmludCA8IFwidVwiID8gdGhpcy5zZXRCeUludGVnZXIoZS5pbnQpIDogdHlwZW9mIGUgPT0gXCJudW1iZXJcIiA/IHRoaXMuc2V0QnlJbnRlZ2VyKGUpIDogdHlwZW9mIGUuaGV4IDwgXCJ1XCIgJiYgdGhpcy5zZXRWYWx1ZUhleChlLmhleCkpO1xufTtcbk4oYS5hc24xLkRFUkVudW1lcmF0ZWQsIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS5ERVJVVEY4U3RyaW5nID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEuREVSVVRGOFN0cmluZy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgZSksIHRoaXMuaFQgPSBcIjBjXCI7XG59O1xuTihhLmFzbjEuREVSVVRGOFN0cmluZywgYS5hc24xLkRFUkFic3RyYWN0U3RyaW5nKTtcbmEuYXNuMS5ERVJOdW1lcmljU3RyaW5nID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEuREVSTnVtZXJpY1N0cmluZy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgZSksIHRoaXMuaFQgPSBcIjEyXCI7XG59O1xuTihhLmFzbjEuREVSTnVtZXJpY1N0cmluZywgYS5hc24xLkRFUkFic3RyYWN0U3RyaW5nKTtcbmEuYXNuMS5ERVJQcmludGFibGVTdHJpbmcgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS5ERVJQcmludGFibGVTdHJpbmcuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIGUpLCB0aGlzLmhUID0gXCIxM1wiO1xufTtcbk4oYS5hc24xLkRFUlByaW50YWJsZVN0cmluZywgYS5hc24xLkRFUkFic3RyYWN0U3RyaW5nKTtcbmEuYXNuMS5ERVJUZWxldGV4U3RyaW5nID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEuREVSVGVsZXRleFN0cmluZy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgZSksIHRoaXMuaFQgPSBcIjE0XCI7XG59O1xuTihhLmFzbjEuREVSVGVsZXRleFN0cmluZywgYS5hc24xLkRFUkFic3RyYWN0U3RyaW5nKTtcbmEuYXNuMS5ERVJJQTVTdHJpbmcgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS5ERVJJQTVTdHJpbmcuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIGUpLCB0aGlzLmhUID0gXCIxNlwiO1xufTtcbk4oYS5hc24xLkRFUklBNVN0cmluZywgYS5hc24xLkRFUkFic3RyYWN0U3RyaW5nKTtcbmEuYXNuMS5ERVJWaXNpYmxlU3RyaW5nID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEuREVSSUE1U3RyaW5nLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBlKSwgdGhpcy5oVCA9IFwiMWFcIjtcbn07XG5OKGEuYXNuMS5ERVJWaXNpYmxlU3RyaW5nLCBhLmFzbjEuREVSQWJzdHJhY3RTdHJpbmcpO1xuYS5hc24xLkRFUkJNUFN0cmluZyA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLkRFUkJNUFN0cmluZy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgZSksIHRoaXMuaFQgPSBcIjFlXCI7XG59O1xuTihhLmFzbjEuREVSQk1QU3RyaW5nLCBhLmFzbjEuREVSQWJzdHJhY3RTdHJpbmcpO1xuYS5hc24xLkRFUlVUQ1RpbWUgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS5ERVJVVENUaW1lLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBlKSwgdGhpcy5oVCA9IFwiMTdcIiwgdGhpcy5wYXJhbXMgPSB2b2lkIDAsIHRoaXMuZ2V0RnJlc2hWYWx1ZUhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB0ID0gdGhpcy5wYXJhbXM7XG4gICAgaWYgKHRoaXMucGFyYW1zID09IG51bGwgJiYgKHQgPSB7IGRhdGU6IC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpIH0pLCB0eXBlb2YgdCA9PSBcInN0cmluZ1wiKVxuICAgICAgaWYgKHQubWF0Y2goL15bMC05XXsxMn1aJC8pIHx8IHQubWF0Y2goL15bMC05XXsxMn1cXC5bMC05XStaJC8pKVxuICAgICAgICB0aGlzLmhWID0gRWUodCk7XG4gICAgICBlbHNlXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIm1hbGZvcm1lZCBzdHJpbmcgZm9yIFVUQ1RpbWU6IFwiICsgdCk7XG4gICAgZWxzZSBpZiAodC5zdHIgIT0gbnVsbClcbiAgICAgIHRoaXMuaFYgPSBFZSh0LnN0cik7XG4gICAgZWxzZSBpZiAodC5kYXRlID09IG51bGwgJiYgdC5taWxsaXMgPT0gITApIHtcbiAgICAgIHZhciByID0gLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCk7XG4gICAgICB0aGlzLmhWID0gRWUodGhpcy5mb3JtYXREYXRlKHIsIFwidXRjXCIsICEwKSk7XG4gICAgfSBlbHNlIGlmICh0LmRhdGUgIT0gbnVsbCAmJiB0LmRhdGUgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICB2YXIgaSA9IHQubWlsbGlzID09PSAhMDtcbiAgICAgIHRoaXMuaFYgPSBFZSh0aGlzLmZvcm1hdERhdGUodC5kYXRlLCBcInV0Y1wiLCBpKSk7XG4gICAgfSBlbHNlXG4gICAgICB0IGluc3RhbmNlb2YgRGF0ZSAmJiAodGhpcy5oViA9IEVlKHRoaXMuZm9ybWF0RGF0ZSh0LCBcInV0Y1wiKSkpO1xuICAgIGlmICh0aGlzLmhWID09IG51bGwpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJwYXJhbWV0ZXIgbm90IHNwZWNpZmllZCBwcm9wZXJseSBmb3IgVVRDVGltZVwiKTtcbiAgICByZXR1cm4gdGhpcy5oVjtcbiAgfSwgZSAhPSBudWxsICYmIHRoaXMuc2V0QnlQYXJhbShlKTtcbn07XG5OKGEuYXNuMS5ERVJVVENUaW1lLCBhLmFzbjEuREVSQWJzdHJhY3RUaW1lKTtcbmEuYXNuMS5ERVJHZW5lcmFsaXplZFRpbWUgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS5ERVJHZW5lcmFsaXplZFRpbWUuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIGUpLCB0aGlzLmhUID0gXCIxOFwiLCB0aGlzLnBhcmFtcyA9IGUsIHRoaXMuZ2V0RnJlc2hWYWx1ZUhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB0ID0gdGhpcy5wYXJhbXM7XG4gICAgaWYgKHRoaXMucGFyYW1zID09IG51bGwgJiYgKHQgPSB7IGRhdGU6IC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpIH0pLCB0eXBlb2YgdCA9PSBcInN0cmluZ1wiKVxuICAgICAgaWYgKHQubWF0Y2goL15bMC05XXsxNH1aJC8pIHx8IHQubWF0Y2goL15bMC05XXsxNH1cXC5bMC05XStaJC8pKVxuICAgICAgICB0aGlzLmhWID0gRWUodCk7XG4gICAgICBlbHNlXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIm1hbGZvcm1lZCBzdHJpbmcgZm9yIEdlbmVyYWxpemVkVGltZTogXCIgKyB0KTtcbiAgICBlbHNlIGlmICh0LnN0ciAhPSBudWxsKVxuICAgICAgdGhpcy5oViA9IEVlKHQuc3RyKTtcbiAgICBlbHNlIGlmICh0LmRhdGUgPT0gbnVsbCAmJiB0Lm1pbGxpcyA9PSAhMCkge1xuICAgICAgdmFyIHIgPSAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKTtcbiAgICAgIHRoaXMuaFYgPSBFZSh0aGlzLmZvcm1hdERhdGUociwgXCJnZW5cIiwgITApKTtcbiAgICB9IGVsc2UgaWYgKHQuZGF0ZSAhPSBudWxsICYmIHQuZGF0ZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgIHZhciBpID0gdC5taWxsaXMgPT09ICEwO1xuICAgICAgdGhpcy5oViA9IEVlKHRoaXMuZm9ybWF0RGF0ZSh0LmRhdGUsIFwiZ2VuXCIsIGkpKTtcbiAgICB9IGVsc2VcbiAgICAgIHQgaW5zdGFuY2VvZiBEYXRlICYmICh0aGlzLmhWID0gRWUodGhpcy5mb3JtYXREYXRlKHQsIFwiZ2VuXCIpKSk7XG4gICAgaWYgKHRoaXMuaFYgPT0gbnVsbClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInBhcmFtZXRlciBub3Qgc3BlY2lmaWVkIHByb3Blcmx5IGZvciBHZW5lcmFsaXplZFRpbWVcIik7XG4gICAgcmV0dXJuIHRoaXMuaFY7XG4gIH0sIGUgIT0gbnVsbCAmJiB0aGlzLnNldEJ5UGFyYW0oZSk7XG59O1xuTihhLmFzbjEuREVSR2VuZXJhbGl6ZWRUaW1lLCBhLmFzbjEuREVSQWJzdHJhY3RUaW1lKTtcbmEuYXNuMS5ERVJTZXF1ZW5jZSA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLkRFUlNlcXVlbmNlLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBlKSwgdGhpcy5oVCA9IFwiMzBcIiwgdGhpcy5nZXRGcmVzaFZhbHVlSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgZm9yICh2YXIgdCA9IFwiXCIsIHIgPSAwOyByIDwgdGhpcy5hc24xQXJyYXkubGVuZ3RoOyByKyspIHtcbiAgICAgIHZhciBpID0gdGhpcy5hc24xQXJyYXlbcl07XG4gICAgICB0ICs9IGkudG9oZXgoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuaFYgPSB0LCB0aGlzLmhWO1xuICB9O1xufTtcbk4oYS5hc24xLkRFUlNlcXVlbmNlLCBhLmFzbjEuREVSQWJzdHJhY3RTdHJ1Y3R1cmVkKTtcbmEuYXNuMS5ERVJTZXQgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS5ERVJTZXQuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIGUpLCB0aGlzLmhUID0gXCIzMVwiLCB0aGlzLnNvcnRGbGFnID0gITAsIHRoaXMuZ2V0RnJlc2hWYWx1ZUhleCA9IGZ1bmN0aW9uKCkge1xuICAgIGZvciAodmFyIHQgPSBuZXcgQXJyYXkoKSwgciA9IDA7IHIgPCB0aGlzLmFzbjFBcnJheS5sZW5ndGg7IHIrKykge1xuICAgICAgdmFyIGkgPSB0aGlzLmFzbjFBcnJheVtyXTtcbiAgICAgIHQucHVzaChpLnRvaGV4KCkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zb3J0RmxhZyA9PSAhMCAmJiB0LnNvcnQoKSwgdGhpcy5oViA9IHQuam9pbihcIlwiKSwgdGhpcy5oVjtcbiAgfSwgdHlwZW9mIGUgPCBcInVcIiAmJiB0eXBlb2YgZS5zb3J0ZmxhZyA8IFwidVwiICYmIGUuc29ydGZsYWcgPT0gITEgJiYgKHRoaXMuc29ydEZsYWcgPSAhMSk7XG59O1xuTihhLmFzbjEuREVSU2V0LCBhLmFzbjEuREVSQWJzdHJhY3RTdHJ1Y3R1cmVkKTtcbmEuYXNuMS5ERVJUYWdnZWRPYmplY3QgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS5ERVJUYWdnZWRPYmplY3Quc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO1xuICB2YXIgdCA9IGEuYXNuMSwgciA9IFYsIGkgPSByLmdldFY7XG4gIHIuaXNBU04xSEVYO1xuICB2YXIgcyA9IHQuQVNOMVV0aWwubmV3T2JqZWN0O1xuICB0aGlzLmhUID0gXCJhMFwiLCB0aGlzLmhWID0gXCJcIiwgdGhpcy5pc0V4cGxpY2l0ID0gITAsIHRoaXMuYXNuMU9iamVjdCA9IG51bGwsIHRoaXMucGFyYW1zID0geyB0YWc6IFwiYTBcIiwgZXhwbGljaXQ6ICEwIH0sIHRoaXMuc2V0QVNOMU9iamVjdCA9IGZ1bmN0aW9uKG4sIGgsIHUpIHtcbiAgICB0aGlzLnBhcmFtcyA9IHsgdGFnOiBoLCBleHBsaWNpdDogbiwgb2JqOiB1IH07XG4gIH0sIHRoaXMuZ2V0RnJlc2hWYWx1ZUhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBuID0gdGhpcy5wYXJhbXM7XG4gICAgaWYgKG4uZXhwbGljaXQgPT0gbnVsbCAmJiAobi5leHBsaWNpdCA9ICEwKSwgbi50YWdlICE9IG51bGwgJiYgKG4udGFnID0gbi50YWdlLCBuLmV4cGxpY2l0ID0gITApLCBuLnRhZ2kgIT0gbnVsbCAmJiAobi50YWcgPSBuLnRhZ2ksIG4uZXhwbGljaXQgPSAhMSksIG4uc3RyICE9IG51bGwpXG4gICAgICB0aGlzLmhWID0gaHQobi5zdHIpO1xuICAgIGVsc2UgaWYgKG4uaGV4ICE9IG51bGwpXG4gICAgICB0aGlzLmhWID0gbi5oZXg7XG4gICAgZWxzZSBpZiAobi5vYmogIT0gbnVsbCkge1xuICAgICAgdmFyIGg7XG4gICAgICBuLm9iaiBpbnN0YW5jZW9mIHQuQVNOMU9iamVjdCA/IGggPSBuLm9iai50b2hleCgpIDogdHlwZW9mIG4ub2JqID09IFwib2JqZWN0XCIgJiYgKGggPSBzKG4ub2JqKS50b2hleCgpKSwgbi5leHBsaWNpdCA/IHRoaXMuaFYgPSBoIDogdGhpcy5oViA9IGkoaCwgMCk7XG4gICAgfSBlbHNlXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJzdHIsIGhleCBub3Igb2JqIG5vdCBzcGVjaWZpZWRcIik7XG4gICAgcmV0dXJuIG4udGFnID09IG51bGwgJiYgKG4udGFnID0gXCJhMFwiKSwgdGhpcy5oVCA9IG4udGFnLCB0aGlzLmhUTFYgPSBudWxsLCB0aGlzLmlzTW9kaWZpZWQgPSAhMCwgdGhpcy5oVjtcbiAgfSwgdGhpcy5zZXRCeVBhcmFtID0gZnVuY3Rpb24obikge1xuICAgIHRoaXMucGFyYW1zID0gbjtcbiAgfSwgZSAhPT0gdm9pZCAwICYmIHRoaXMuc2V0QnlQYXJhbShlKTtcbn07XG5OKGEuYXNuMS5ERVJUYWdnZWRPYmplY3QsIGEuYXNuMS5BU04xT2JqZWN0KTtcbnZhciBWID0gbmV3IGZ1bmN0aW9uKCkge1xufSgpO1xuVi5nZXRMYmxlbiA9IGZ1bmN0aW9uKGUsIHQpIHtcbiAgaWYgKGUuc3Vic3RyKHQgKyAyLCAxKSAhPSBcIjhcIilcbiAgICByZXR1cm4gMTtcbiAgdmFyIHIgPSBwYXJzZUludChlLnN1YnN0cih0ICsgMywgMSkpO1xuICByZXR1cm4gciA9PSAwID8gLTEgOiAwIDwgciAmJiByIDwgMTAgPyByICsgMSA6IC0yO1xufTtcblYuZ2V0TCA9IGZ1bmN0aW9uKGUsIHQpIHtcbiAgdmFyIHIgPSBWLmdldExibGVuKGUsIHQpO1xuICByZXR1cm4gciA8IDEgPyBcIlwiIDogZS5zdWJzdHIodCArIDIsIHIgKiAyKTtcbn07XG5WLmdldFZibGVuID0gZnVuY3Rpb24oZSwgdCkge1xuICB2YXIgciwgaTtcbiAgcmV0dXJuIHIgPSBWLmdldEwoZSwgdCksIHIgPT0gXCJcIiA/IC0xIDogKHIuc3Vic3RyKDAsIDEpID09PSBcIjhcIiA/IGkgPSBuZXcgUihyLnN1YnN0cigyKSwgMTYpIDogaSA9IG5ldyBSKHIsIDE2KSwgaS5pbnRWYWx1ZSgpKTtcbn07XG5WLmdldFZpZHggPSBmdW5jdGlvbihlLCB0KSB7XG4gIHZhciByID0gVi5nZXRMYmxlbihlLCB0KTtcbiAgcmV0dXJuIHIgPCAwID8gciA6IHQgKyAociArIDEpICogMjtcbn07XG5WLmdldFYgPSBmdW5jdGlvbihlLCB0KSB7XG4gIHZhciByID0gVi5nZXRWaWR4KGUsIHQpLCBpID0gVi5nZXRWYmxlbihlLCB0KTtcbiAgcmV0dXJuIGUuc3Vic3RyKHIsIGkgKiAyKTtcbn07XG5WLmdldFRMViA9IGZ1bmN0aW9uKGUsIHQpIHtcbiAgcmV0dXJuIGUuc3Vic3RyKHQsIDIpICsgVi5nZXRMKGUsIHQpICsgVi5nZXRWKGUsIHQpO1xufTtcblYuZ2V0VExWYmxlbiA9IGZ1bmN0aW9uKGUsIHQpIHtcbiAgcmV0dXJuIDIgKyBWLmdldExibGVuKGUsIHQpICogMiArIFYuZ2V0VmJsZW4oZSwgdCkgKiAyO1xufTtcblYuZ2V0TmV4dFNpYmxpbmdJZHggPSBmdW5jdGlvbihlLCB0KSB7XG4gIHZhciByID0gVi5nZXRWaWR4KGUsIHQpLCBpID0gVi5nZXRWYmxlbihlLCB0KTtcbiAgcmV0dXJuIHIgKyBpICogMjtcbn07XG5WLmdldENoaWxkSWR4ID0gZnVuY3Rpb24oZSwgdCkge1xuICB2YXIgciA9IFYsIGkgPSBbXSwgcywgbiwgaDtcbiAgcyA9IHIuZ2V0VmlkeChlLCB0KSwgbiA9IHIuZ2V0VmJsZW4oZSwgdCkgKiAyLCBlLnN1YnN0cih0LCAyKSA9PSBcIjAzXCIgJiYgKHMgKz0gMiwgbiAtPSAyKSwgaCA9IDA7XG4gIGZvciAodmFyIHUgPSBzOyBoIDw9IG47ICkge1xuICAgIHZhciBwID0gci5nZXRUTFZibGVuKGUsIHUpO1xuICAgIGlmIChoICs9IHAsIGggPD0gbiAmJiBpLnB1c2godSksIHUgKz0gcCwgaCA+PSBuKVxuICAgICAgYnJlYWs7XG4gIH1cbiAgcmV0dXJuIGk7XG59O1xuVi5nZXROdGhDaGlsZElkeCA9IGZ1bmN0aW9uKGUsIHQsIHIpIHtcbiAgdmFyIGkgPSBWLmdldENoaWxkSWR4KGUsIHQpO1xuICByZXR1cm4gaVtyXTtcbn07XG5WLmdldElkeGJ5TGlzdCA9IGZ1bmN0aW9uKGUsIHQsIHIsIGkpIHtcbiAgdmFyIHMgPSBWLCBuLCBoO1xuICByZXR1cm4gci5sZW5ndGggPT0gMCA/IGkgIT09IHZvaWQgMCAmJiBlLnN1YnN0cih0LCAyKSAhPT0gaSA/IC0xIDogdCA6IChuID0gci5zaGlmdCgpLCBoID0gcy5nZXRDaGlsZElkeChlLCB0KSwgbiA+PSBoLmxlbmd0aCA/IC0xIDogcy5nZXRJZHhieUxpc3QoZSwgaFtuXSwgciwgaSkpO1xufTtcblYuZ2V0SWR4YnlMaXN0RXggPSBmdW5jdGlvbihlLCB0LCByLCBpKSB7XG4gIHZhciBzID0gViwgbiwgaDtcbiAgaWYgKHIubGVuZ3RoID09IDApXG4gICAgcmV0dXJuIGkgIT09IHZvaWQgMCAmJiBlLnN1YnN0cih0LCAyKSAhPT0gaSA/IC0xIDogdDtcbiAgbiA9IHIuc2hpZnQoKSwgaCA9IHMuZ2V0Q2hpbGRJZHgoZSwgdCk7XG4gIGZvciAodmFyIHUgPSAwLCBwID0gMDsgcCA8IGgubGVuZ3RoOyBwKyspIHtcbiAgICB2YXIgYyA9IGUuc3Vic3RyKGhbcF0sIDIpO1xuICAgIGlmICh0eXBlb2YgbiA9PSBcIm51bWJlclwiICYmICFzLmlzQ29udGV4dFRhZyhjKSAmJiB1ID09IG4gfHwgdHlwZW9mIG4gPT0gXCJzdHJpbmdcIiAmJiBzLmlzQ29udGV4dFRhZyhjLCBuKSlcbiAgICAgIHJldHVybiBzLmdldElkeGJ5TGlzdEV4KGUsIGhbcF0sIHIsIGkpO1xuICAgIHMuaXNDb250ZXh0VGFnKGMpIHx8IHUrKztcbiAgfVxuICByZXR1cm4gLTE7XG59O1xuVi5nZXRUTFZieUxpc3QgPSBmdW5jdGlvbihlLCB0LCByLCBpKSB7XG4gIHZhciBzID0gViwgbiA9IHMuZ2V0SWR4YnlMaXN0KGUsIHQsIHIsIGkpO1xuICByZXR1cm4gbiA9PSAtMSB8fCBuID49IGUubGVuZ3RoID8gbnVsbCA6IHMuZ2V0VExWKGUsIG4pO1xufTtcblYuZ2V0VExWYnlMaXN0RXggPSBmdW5jdGlvbihlLCB0LCByLCBpKSB7XG4gIHZhciBzID0gViwgbiA9IHMuZ2V0SWR4YnlMaXN0RXgoZSwgdCwgciwgaSk7XG4gIHJldHVybiBuID09IC0xID8gbnVsbCA6IHMuZ2V0VExWKGUsIG4pO1xufTtcblYuZ2V0VmJ5TGlzdCA9IGZ1bmN0aW9uKGUsIHQsIHIsIGksIHMpIHtcbiAgdmFyIG4gPSBWLCBoLCB1O1xuICByZXR1cm4gaCA9IG4uZ2V0SWR4YnlMaXN0KGUsIHQsIHIsIGkpLCBoID09IC0xIHx8IGggPj0gZS5sZW5ndGggPyBudWxsIDogKHUgPSBuLmdldFYoZSwgaCksIHMgPT09ICEwICYmICh1ID0gdS5zdWJzdHIoMikpLCB1KTtcbn07XG5WLmdldFZieUxpc3RFeCA9IGZ1bmN0aW9uKGUsIHQsIHIsIGksIHMpIHtcbiAgdmFyIG4gPSBWLCBoLCB1O1xuICByZXR1cm4gaCA9IG4uZ2V0SWR4YnlMaXN0RXgoZSwgdCwgciwgaSksIGggPT0gLTEgPyBudWxsIDogKHUgPSBuLmdldFYoZSwgaCksIGUuc3Vic3RyKGgsIDIpID09IFwiMDNcIiAmJiBzICE9PSAhMSAmJiAodSA9IHUuc3Vic3RyKDIpKSwgdSk7XG59O1xuVi5nZXRJbnQgPSBmdW5jdGlvbihlLCB0LCByKSB7XG4gIHIgPT0gbnVsbCAmJiAociA9IC0xKTtcbiAgdHJ5IHtcbiAgICB2YXIgaSA9IGUuc3Vic3RyKHQsIDIpO1xuICAgIGlmIChpICE9IFwiMDJcIiAmJiBpICE9IFwiMDNcIilcbiAgICAgIHJldHVybiByO1xuICAgIHZhciBzID0gVi5nZXRWKGUsIHQpO1xuICAgIHJldHVybiBpID09IFwiMDJcIiA/IHBhcnNlSW50KHMsIDE2KSA6IFNuKHMpO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gcjtcbiAgfVxufTtcblYuZ2V0T0lEID0gZnVuY3Rpb24oZSwgdCwgcikge1xuICByID09IG51bGwgJiYgKHIgPSBudWxsKTtcbiAgdHJ5IHtcbiAgICBpZiAoZS5zdWJzdHIodCwgMikgIT0gXCIwNlwiKVxuICAgICAgcmV0dXJuIHI7XG4gICAgdmFyIGkgPSBWLmdldFYoZSwgdCk7XG4gICAgcmV0dXJuIGZ0KGkpO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gcjtcbiAgfVxufTtcblYuZ2V0T0lETmFtZSA9IGZ1bmN0aW9uKGUsIHQsIHIpIHtcbiAgciA9PSBudWxsICYmIChyID0gbnVsbCk7XG4gIHRyeSB7XG4gICAgdmFyIGkgPSBWLmdldE9JRChlLCB0LCByKTtcbiAgICBpZiAoaSA9PSByKVxuICAgICAgcmV0dXJuIHI7XG4gICAgdmFyIHMgPSBhLmFzbjEueDUwOS5PSUQub2lkMm5hbWUoaSk7XG4gICAgcmV0dXJuIHMgPT0gXCJcIiA/IGkgOiBzO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gcjtcbiAgfVxufTtcblYuZ2V0U3RyaW5nID0gZnVuY3Rpb24oZSwgdCwgcikge1xuICByID09IG51bGwgJiYgKHIgPSBudWxsKTtcbiAgdHJ5IHtcbiAgICB2YXIgaSA9IFYuZ2V0VihlLCB0KTtcbiAgICByZXR1cm4gQWUoaSk7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiByO1xuICB9XG59O1xuVi5oZXh0b29pZHN0ciA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBmdW5jdGlvbih2LCBvKSB7XG4gICAgcmV0dXJuIHYubGVuZ3RoID49IG8gPyB2IDogbmV3IEFycmF5KG8gLSB2Lmxlbmd0aCArIDEpLmpvaW4oXCIwXCIpICsgdjtcbiAgfSwgciA9IFtdLCBpID0gZS5zdWJzdHIoMCwgMiksIHMgPSBwYXJzZUludChpLCAxNik7XG4gIHJbMF0gPSBuZXcgU3RyaW5nKE1hdGguZmxvb3IocyAvIDQwKSksIHJbMV0gPSBuZXcgU3RyaW5nKHMgJSA0MCk7XG4gIGZvciAodmFyIG4gPSBlLnN1YnN0cigyKSwgaCA9IFtdLCB1ID0gMDsgdSA8IG4ubGVuZ3RoIC8gMjsgdSsrKVxuICAgIGgucHVzaChwYXJzZUludChuLnN1YnN0cih1ICogMiwgMiksIDE2KSk7XG4gIGZvciAodmFyIHAgPSBbXSwgYyA9IFwiXCIsIHUgPSAwOyB1IDwgaC5sZW5ndGg7IHUrKylcbiAgICBoW3VdICYgMTI4ID8gYyA9IGMgKyB0KChoW3VdICYgMTI3KS50b1N0cmluZygyKSwgNykgOiAoYyA9IGMgKyB0KChoW3VdICYgMTI3KS50b1N0cmluZygyKSwgNyksIHAucHVzaChuZXcgU3RyaW5nKHBhcnNlSW50KGMsIDIpKSksIGMgPSBcIlwiKTtcbiAgdmFyIHkgPSByLmpvaW4oXCIuXCIpO1xuICByZXR1cm4gcC5sZW5ndGggPiAwICYmICh5ID0geSArIFwiLlwiICsgcC5qb2luKFwiLlwiKSksIHk7XG59O1xuVi5kdW1wID0gZnVuY3Rpb24oZSwgdCwgciwgaSkge1xuICB2YXIgcyA9IFYsIG4gPSBzLmdldFYsIGggPSBzLmR1bXAsIHUgPSBzLmdldENoaWxkSWR4LCBwID0gZTtcbiAgZSBpbnN0YW5jZW9mIGEuYXNuMS5BU04xT2JqZWN0ICYmIChwID0gZS50b2hleCgpKTtcbiAgdmFyIGMgPSBmdW5jdGlvbihFLCB3KSB7XG4gICAgaWYgKEUubGVuZ3RoIDw9IHcgKiAyKVxuICAgICAgcmV0dXJuIEU7XG4gICAgdmFyIHggPSBFLnN1YnN0cigwLCB3KSArIFwiLi4odG90YWwgXCIgKyBFLmxlbmd0aCAvIDIgKyBcImJ5dGVzKS4uXCIgKyBFLnN1YnN0cihFLmxlbmd0aCAtIHcsIHcpO1xuICAgIHJldHVybiB4O1xuICB9O1xuICB0ID09PSB2b2lkIDAgJiYgKHQgPSB7IG9tbWl0X2xvbmdfb2N0ZXQ6IDMyIH0pLCByID09PSB2b2lkIDAgJiYgKHIgPSAwKSwgaSA9PT0gdm9pZCAwICYmIChpID0gXCJcIik7XG4gIHZhciB5ID0gdC5vbW1pdF9sb25nX29jdGV0LCBJID0gcC5zdWJzdHIociwgMik7XG4gIGlmIChJID09IFwiMDFcIikge1xuICAgIHZhciB2ID0gbihwLCByKTtcbiAgICByZXR1cm4gdiA9PSBcIjAwXCIgPyBpICsgYEJPT0xFQU4gRkFMU0VcbmAgOiBpICsgYEJPT0xFQU4gVFJVRVxuYDtcbiAgfVxuICBpZiAoSSA9PSBcIjAyXCIpIHtcbiAgICB2YXIgdiA9IG4ocCwgcik7XG4gICAgcmV0dXJuIGkgKyBcIklOVEVHRVIgXCIgKyBjKHYsIHkpICsgYFxuYDtcbiAgfVxuICBpZiAoSSA9PSBcIjAzXCIpIHtcbiAgICB2YXIgdiA9IG4ocCwgcik7XG4gICAgaWYgKHMuaXNBU04xSEVYKHYuc3Vic3RyKDIpKSkge1xuICAgICAgdmFyIG8gPSBpICsgYEJJVFNUUklORywgZW5jYXBzdWxhdGVzXG5gO1xuICAgICAgcmV0dXJuIG8gPSBvICsgaCh2LnN1YnN0cigyKSwgdCwgMCwgaSArIFwiICBcIiksIG87XG4gICAgfSBlbHNlXG4gICAgICByZXR1cm4gaSArIFwiQklUU1RSSU5HIFwiICsgYyh2LCB5KSArIGBcbmA7XG4gIH1cbiAgaWYgKEkgPT0gXCIwNFwiKSB7XG4gICAgdmFyIHYgPSBuKHAsIHIpO1xuICAgIGlmIChzLmlzQVNOMUhFWCh2KSkge1xuICAgICAgdmFyIG8gPSBpICsgYE9DVEVUU1RSSU5HLCBlbmNhcHN1bGF0ZXNcbmA7XG4gICAgICByZXR1cm4gbyA9IG8gKyBoKHYsIHQsIDAsIGkgKyBcIiAgXCIpLCBvO1xuICAgIH0gZWxzZVxuICAgICAgcmV0dXJuIGkgKyBcIk9DVEVUU1RSSU5HIFwiICsgYyh2LCB5KSArIGBcbmA7XG4gIH1cbiAgaWYgKEkgPT0gXCIwNVwiKVxuICAgIHJldHVybiBpICsgYE5VTExcbmA7XG4gIGlmIChJID09IFwiMDZcIikge1xuICAgIHZhciBsID0gbihwLCByKSwgZiA9IGEuYXNuMS5BU04xVXRpbC5vaWRIZXhUb0ludChsKSwgZCA9IGEuYXNuMS54NTA5Lk9JRC5vaWQybmFtZShmKSwgZyA9IGYucmVwbGFjZSgvXFwuL2csIFwiIFwiKTtcbiAgICByZXR1cm4gZCAhPSBcIlwiID8gaSArIFwiT2JqZWN0SWRlbnRpZmllciBcIiArIGQgKyBcIiAoXCIgKyBnICsgYClcbmAgOiBpICsgXCJPYmplY3RJZGVudGlmaWVyIChcIiArIGcgKyBgKVxuYDtcbiAgfVxuICBpZiAoSSA9PSBcIjBhXCIpXG4gICAgcmV0dXJuIGkgKyBcIkVOVU1FUkFURUQgXCIgKyBwYXJzZUludChuKHAsIHIpKSArIGBcbmA7XG4gIGlmIChJID09IFwiMGNcIilcbiAgICByZXR1cm4gaSArIFwiVVRGOFN0cmluZyAnXCIgKyBXKG4ocCwgcikpICsgYCdcbmA7XG4gIGlmIChJID09IFwiMTNcIilcbiAgICByZXR1cm4gaSArIFwiUHJpbnRhYmxlU3RyaW5nICdcIiArIFcobihwLCByKSkgKyBgJ1xuYDtcbiAgaWYgKEkgPT0gXCIxNFwiKVxuICAgIHJldHVybiBpICsgXCJUZWxldGV4U3RyaW5nICdcIiArIFcobihwLCByKSkgKyBgJ1xuYDtcbiAgaWYgKEkgPT0gXCIxNlwiKVxuICAgIHJldHVybiBpICsgXCJJQTVTdHJpbmcgJ1wiICsgVyhuKHAsIHIpKSArIGAnXG5gO1xuICBpZiAoSSA9PSBcIjE3XCIpXG4gICAgcmV0dXJuIGkgKyBcIlVUQ1RpbWUgXCIgKyBXKG4ocCwgcikpICsgYFxuYDtcbiAgaWYgKEkgPT0gXCIxOFwiKVxuICAgIHJldHVybiBpICsgXCJHZW5lcmFsaXplZFRpbWUgXCIgKyBXKG4ocCwgcikpICsgYFxuYDtcbiAgaWYgKEkgPT0gXCIxYVwiKVxuICAgIHJldHVybiBpICsgXCJWaXN1YWxTdHJpbmcgJ1wiICsgVyhuKHAsIHIpKSArIGAnXG5gO1xuICBpZiAoSSA9PSBcIjFlXCIpXG4gICAgcmV0dXJuIGkgKyBcIkJNUFN0cmluZyAnXCIgKyBUdChuKHAsIHIpKSArIGAnXG5gO1xuICBpZiAoSSA9PSBcIjMwXCIpIHtcbiAgICBpZiAocC5zdWJzdHIociwgNCkgPT0gXCIzMDAwXCIpXG4gICAgICByZXR1cm4gaSArIGBTRVFVRU5DRSB7fVxuYDtcbiAgICB2YXIgbyA9IGkgKyBgU0VRVUVOQ0VcbmAsIFMgPSB1KHAsIHIpLCBiID0gdDtcbiAgICBpZiAoKFMubGVuZ3RoID09IDIgfHwgUy5sZW5ndGggPT0gMykgJiYgcC5zdWJzdHIoU1swXSwgMikgPT0gXCIwNlwiICYmIHAuc3Vic3RyKFNbUy5sZW5ndGggLSAxXSwgMikgPT0gXCIwNFwiKSB7XG4gICAgICB2YXIgZCA9IHMub2lkbmFtZShuKHAsIFNbMF0pKSwgRCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodCkpO1xuICAgICAgRC54NTA5RXh0TmFtZSA9IGQsIGIgPSBEO1xuICAgIH1cbiAgICBmb3IgKHZhciBBID0gMDsgQSA8IFMubGVuZ3RoOyBBKyspXG4gICAgICBvID0gbyArIGgocCwgYiwgU1tBXSwgaSArIFwiICBcIik7XG4gICAgcmV0dXJuIG87XG4gIH1cbiAgaWYgKEkgPT0gXCIzMVwiKSB7XG4gICAgZm9yICh2YXIgbyA9IGkgKyBgU0VUXG5gLCBTID0gdShwLCByKSwgQSA9IDA7IEEgPCBTLmxlbmd0aDsgQSsrKVxuICAgICAgbyA9IG8gKyBoKHAsIHQsIFNbQV0sIGkgKyBcIiAgXCIpO1xuICAgIHJldHVybiBvO1xuICB9XG4gIHZhciBJID0gcGFyc2VJbnQoSSwgMTYpO1xuICBpZiAoSSAmIDEyOCkge1xuICAgIHZhciBtID0gSSAmIDMxO1xuICAgIGlmIChJICYgMzIpIHtcbiAgICAgIGZvciAodmFyIG8gPSBpICsgXCJbXCIgKyBtICsgYF1cbmAsIFMgPSB1KHAsIHIpLCBBID0gMDsgQSA8IFMubGVuZ3RoOyBBKyspXG4gICAgICAgIG8gPSBvICsgaChwLCB0LCBTW0FdLCBpICsgXCIgIFwiKTtcbiAgICAgIHJldHVybiBvO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdiA9IG4ocCwgcik7XG4gICAgICBpZiAoVi5pc0FTTjFIRVgodikpIHtcbiAgICAgICAgdmFyIG8gPSBpICsgXCJbXCIgKyBtICsgYF1cbmA7XG4gICAgICAgIHJldHVybiBvID0gbyArIGgodiwgdCwgMCwgaSArIFwiICBcIiksIG87XG4gICAgICB9IGVsc2VcbiAgICAgICAgKHYuc3Vic3RyKDAsIDgpID09IFwiNjg3NDc0NzBcIiB8fCB0Lng1MDlFeHROYW1lID09PSBcInN1YmplY3RBbHROYW1lXCIgJiYgbSA9PSAyKSAmJiAodiA9IFcodikpO1xuICAgICAgdmFyIG8gPSBpICsgXCJbXCIgKyBtICsgXCJdIFwiICsgdiArIGBcbmA7XG4gICAgICByZXR1cm4gbztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGkgKyBcIlVOS05PV04oXCIgKyBJICsgXCIpIFwiICsgbihwLCByKSArIGBcbmA7XG59O1xuVi5wYXJzZSA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBWLCByID0gdC5wYXJzZSwgaSA9IHQuaXNBU04xSEVYLCBzID0gdC5nZXRWLCBuID0gdC5nZXRUTFYsIGggPSB0LmdldENoaWxkSWR4LCB1ID0gYS5hc24xLCBwID0gdS5BU04xVXRpbC5vaWRIZXhUb0ludCwgYyA9IHUueDUwOS5PSUQub2lkMm5hbWUsIHkgPSBXLCB2ID0gVHQsIG8gPSBmbiwgbCA9IHsgXCIwY1wiOiBcInV0ZjhzdHJcIiwgMTI6IFwibnVtc3RyXCIsIDEzOiBcInBybnN0clwiLCAxNDogXCJ0ZWxzdHJcIiwgMTY6IFwiaWE1c3RyXCIsIDE3OiBcInV0Y3RpbWVcIiwgMTg6IFwiZ2VudGltZVwiLCBcIjFhXCI6IFwidmlzc3RyXCIsIFwiMWVcIjogXCJibXBzdHJcIiwgMzA6IFwic2VxXCIsIDMxOiBcInNldFwiIH0sIGYgPSBmdW5jdGlvbih4KSB7XG4gICAgZm9yICh2YXIgRiA9IFtdLCBQID0gaCh4LCAwKSwgVCA9IDA7IFQgPCBQLmxlbmd0aDsgVCsrKSB7XG4gICAgICB2YXIgSCA9IFBbVF0sIEMgPSBuKHgsIEgpLCBCID0gcihDKTtcbiAgICAgIEYucHVzaChCKTtcbiAgICB9XG4gICAgcmV0dXJuIEY7XG4gIH0sIGQgPSBlLnN1YnN0cigwLCAyKSwgZyA9IHt9LCBTID0gcyhlLCAwKTtcbiAgaWYgKGQgPT0gXCIwMVwiKVxuICAgIHJldHVybiBlID09IFwiMDEwMWZmXCIgPyB7IGJvb2w6ICEwIH0gOiB7IGJvb2w6ICExIH07XG4gIGlmIChkID09IFwiMDJcIilcbiAgICByZXR1cm4geyBpbnQ6IHsgaGV4OiBTIH0gfTtcbiAgaWYgKGQgPT0gXCIwM1wiKVxuICAgIHRyeSB7XG4gICAgICBpZiAoUy5zdWJzdHIoMCwgMikgIT0gXCIwMFwiKVxuICAgICAgICB0aHJvdyBcIm5vdCBlbmNhcFwiO1xuICAgICAgdmFyIGIgPSBTLnN1YnN0cigyKTtcbiAgICAgIGlmICghaShiKSlcbiAgICAgICAgdGhyb3cgXCJub3QgZW5jYXBcIjtcbiAgICAgIHJldHVybiB7IGJpdHN0cjogeyBvYmo6IHIoYikgfSB9O1xuICAgIH0gY2F0Y2gge1xuICAgICAgdmFyIEQgPSBudWxsO1xuICAgICAgcmV0dXJuIFMubGVuZ3RoIDw9IDEwICYmIChEID0gRW4oUykpLCBEID09IG51bGwgPyB7IGJpdHN0cjogeyBoZXg6IFMgfSB9IDogeyBiaXRzdHI6IHsgYmluOiBEIH0gfTtcbiAgICB9XG4gIGVsc2UgaWYgKGQgPT0gXCIwNFwiKVxuICAgIHRyeSB7XG4gICAgICBpZiAoIWkoUykpXG4gICAgICAgIHRocm93IFwibm90IGVuY2FwXCI7XG4gICAgICByZXR1cm4geyBvY3RzdHI6IHsgb2JqOiByKFMpIH0gfTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiB7IG9jdHN0cjogeyBoZXg6IFMgfSB9O1xuICAgIH1cbiAgZWxzZSB7XG4gICAgaWYgKGQgPT0gXCIwNVwiKVxuICAgICAgcmV0dXJuIHsgbnVsbDogXCJcIiB9O1xuICAgIGlmIChkID09IFwiMDZcIikge1xuICAgICAgdmFyIEEgPSBwKFMpLCBJID0gYyhBKTtcbiAgICAgIHJldHVybiBJID09IFwiXCIgPyB7IG9pZDogQSB9IDogeyBvaWQ6IEkgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGQgPT0gXCIwYVwiKVxuICAgICAgICByZXR1cm4gUy5sZW5ndGggPiA0ID8geyBlbnVtOiB7IGhleDogUyB9IH0gOiB7IGVudW06IHBhcnNlSW50KFMsIDE2KSB9O1xuICAgICAgaWYgKGQgPT0gXCIzMFwiIHx8IGQgPT0gXCIzMVwiKVxuICAgICAgICByZXR1cm4gZ1tsW2RdXSA9IGYoZSksIGc7XG4gICAgICBpZiAoZCA9PSBcIjE0XCIpIHtcbiAgICAgICAgdmFyIG0gPSBvKFMpO1xuICAgICAgICByZXR1cm4gZ1tsW2RdXSA9IHsgc3RyOiBtIH0sIGc7XG4gICAgICB9IGVsc2UgaWYgKGQgPT0gXCIxZVwiKSB7XG4gICAgICAgIHZhciBtID0gdihTKTtcbiAgICAgICAgcmV0dXJuIGdbbFtkXV0gPSB7IHN0cjogbSB9LCBnO1xuICAgICAgfSBlbHNlIGlmIChcIjowYzoxMjoxMzoxNjoxNzoxODoxYTpcIi5pbmRleE9mKGQpICE9IC0xKSB7XG4gICAgICAgIHZhciBtID0geShTKTtcbiAgICAgICAgcmV0dXJuIGdbbFtkXV0gPSB7IHN0cjogbSB9LCBnO1xuICAgICAgfSBlbHNlIGlmIChkLm1hdGNoKC9eOFswLTldJC8pKSB7XG4gICAgICAgIHZhciBtID0geShTKTtcbiAgICAgICAgcmV0dXJuIG0gPT0gbnVsbCB8IG0gPT0gXCJcIiA/IHsgdGFnOiB7IHRhZzogZCwgZXhwbGljaXQ6ICExLCBoZXg6IFMgfSB9IDogbS5tYXRjaCgvW1xceDAwLVxceDFGXFx4N0YtXFx4OUZdLykgIT0gbnVsbCB8fCBtLm1hdGNoKC9bXFx1MDAwMC1cXHUwMDFGXFx1MDA4MOKAk1xcdTAwOUZdLykgIT0gbnVsbCA/IHsgdGFnOiB7IHRhZzogZCwgZXhwbGljaXQ6ICExLCBoZXg6IFMgfSB9IDogeyB0YWc6IHsgdGFnOiBkLCBleHBsaWNpdDogITEsIHN0cjogbSB9IH07XG4gICAgICB9IGVsc2UgaWYgKGQubWF0Y2goL15hWzAtOV0kLykpXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKCFpKFMpKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm90IGVuY2FwXCIpO1xuICAgICAgICAgIHJldHVybiB7IHRhZzogeyB0YWc6IGQsIGV4cGxpY2l0OiAhMCwgb2JqOiByKFMpIH0gfTtcbiAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgcmV0dXJuIHsgdGFnOiB7IHRhZzogZCwgZXhwbGljaXQ6ICEwLCBoZXg6IFMgfSB9O1xuICAgICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdmFyIEUgPSBuZXcgYS5hc24xLkFTTjFPYmplY3QoKTtcbiAgICAgICAgRS5oViA9IFM7XG4gICAgICAgIHZhciB3ID0gRS5nZXRMZW5ndGhIZXhGcm9tVmFsdWUoKTtcbiAgICAgICAgcmV0dXJuIHsgYXNuMTogeyB0bHY6IGQgKyB3ICsgUyB9IH07XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuVi5pc0NvbnRleHRUYWcgPSBmdW5jdGlvbihlLCB0KSB7XG4gIGUgPSBlLnRvTG93ZXJDYXNlKCk7XG4gIHZhciByLCBpO1xuICB0cnkge1xuICAgIHIgPSBwYXJzZUludChlLCAxNik7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiAtMTtcbiAgfVxuICBpZiAodCA9PT0gdm9pZCAwKVxuICAgIHJldHVybiAociAmIDE5MikgPT0gMTI4O1xuICB0cnkge1xuICAgIHZhciBzID0gdC5tYXRjaCgvXlxcW1swLTldK1xcXSQvKTtcbiAgICByZXR1cm4gcyA9PSBudWxsIHx8IChpID0gcGFyc2VJbnQodC5zdWJzdHIoMSwgdC5sZW5ndGggLSAxKSwgMTApLCBpID4gMzEpID8gITEgOiAociAmIDE5MikgPT0gMTI4ICYmIChyICYgMzEpID09IGk7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiAhMTtcbiAgfVxufTtcblYuaXNBU04xSEVYID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IFY7XG4gIGlmIChlLmxlbmd0aCAlIDIgPT0gMSlcbiAgICByZXR1cm4gITE7XG4gIHZhciByID0gdC5nZXRWYmxlbihlLCAwKSwgaSA9IGUuc3Vic3RyKDAsIDIpLCBzID0gdC5nZXRMKGUsIDApLCBuID0gZS5sZW5ndGggLSBpLmxlbmd0aCAtIHMubGVuZ3RoO1xuICByZXR1cm4gbiA9PSByICogMjtcbn07XG5WLmNoZWNrU3RyaWN0REVSID0gZnVuY3Rpb24oZSwgdCwgciwgaSwgcykge1xuICB2YXIgbiA9IFY7XG4gIGlmIChyID09PSB2b2lkIDApIHtcbiAgICBpZiAodHlwZW9mIGUgIT0gXCJzdHJpbmdcIilcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vdCBoZXggc3RyaW5nXCIpO1xuICAgIGlmIChlID0gZS50b0xvd2VyQ2FzZSgpLCAhYS5sYW5nLlN0cmluZy5pc0hleChlKSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vdCBoZXggc3RyaW5nXCIpO1xuICAgIHIgPSBlLmxlbmd0aCwgaSA9IGUubGVuZ3RoIC8gMiwgaSA8IDEyOCA/IHMgPSAxIDogcyA9IE1hdGguY2VpbChpLnRvU3RyaW5nKDE2KSkgKyAxO1xuICB9XG4gIHZhciBoID0gbi5nZXRMKGUsIHQpO1xuICBpZiAoaC5sZW5ndGggPiBzICogMilcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJMIG9mIFRMViB0b28gbG9uZzogaWR4PVwiICsgdCk7XG4gIHZhciB1ID0gbi5nZXRWYmxlbihlLCB0KTtcbiAgaWYgKHUgPiBpKVxuICAgIHRocm93IG5ldyBFcnJvcihcInZhbHVlIG9mIEwgdG9vIGxvbmcgdGhhbiBoZXg6IGlkeD1cIiArIHQpO1xuICB2YXIgcCA9IG4uZ2V0VExWKGUsIHQpLCBjID0gcC5sZW5ndGggLSAyIC0gbi5nZXRMKGUsIHQpLmxlbmd0aDtcbiAgaWYgKGMgIT09IHUgKiAyKVxuICAgIHRocm93IG5ldyBFcnJvcihcIlYgc3RyaW5nIGxlbmd0aCBhbmQgTCdzIHZhbHVlIG5vdCB0aGUgc2FtZTpcIiArIGMgKyBcIi9cIiArIHUgKiAyKTtcbiAgaWYgKHQgPT09IDAgJiYgZS5sZW5ndGggIT0gcC5sZW5ndGgpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwidG90YWwgbGVuZ3RoIGFuZCBUTFYgbGVuZ3RoIHVubWF0Y2g6XCIgKyBlLmxlbmd0aCArIFwiIT1cIiArIHAubGVuZ3RoKTtcbiAgdmFyIHkgPSBlLnN1YnN0cih0LCAyKTtcbiAgaWYgKHkgPT09IFwiMDJcIikge1xuICAgIHZhciB2ID0gbi5nZXRWaWR4KGUsIHQpO1xuICAgIGlmIChlLnN1YnN0cih2LCAyKSA9PSBcIjAwXCIgJiYgZS5jaGFyQ29kZUF0KHYgKyAyKSA8IDU2KVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm90IGxlYXN0IHplcm9zIGZvciBERVIgSU5URUdFUlwiKTtcbiAgfVxuICBpZiAocGFyc2VJbnQoeSwgMTYpICYgMzIpIHtcbiAgICBmb3IgKHZhciBvID0gbi5nZXRWYmxlbihlLCB0KSwgbCA9IDAsIGYgPSBuLmdldENoaWxkSWR4KGUsIHQpLCBkID0gMDsgZCA8IGYubGVuZ3RoOyBkKyspIHtcbiAgICAgIHZhciBnID0gbi5nZXRUTFYoZSwgZltkXSk7XG4gICAgICBsICs9IGcubGVuZ3RoLCBuLmNoZWNrU3RyaWN0REVSKGUsIGZbZF0sIHIsIGksIHMpO1xuICAgIH1cbiAgICBpZiAobyAqIDIgIT0gbClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInN1bSBvZiBjaGlsZHJlbidzIFRMViBsZW5ndGggYW5kIEwgdW5tYXRjaDogXCIgKyBvICogMiArIFwiIT1cIiArIGwpO1xuICB9XG59O1xuVi5vaWRuYW1lID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IGEuYXNuMTtcbiAgYS5sYW5nLlN0cmluZy5pc0hleChlKSAmJiAoZSA9IHQuQVNOMVV0aWwub2lkSGV4VG9JbnQoZSkpO1xuICB2YXIgciA9IHQueDUwOS5PSUQub2lkMm5hbWUoZSk7XG4gIHJldHVybiByID09PSBcIlwiICYmIChyID0gZSksIHI7XG59O1xuKHR5cGVvZiBhID4gXCJ1XCIgfHwgIWEpICYmIChhID0ge30pO1xuKHR5cGVvZiBhLmFzbjEgPiBcInVcIiB8fCAhYS5hc24xKSAmJiAoYS5hc24xID0ge30pO1xuKHR5cGVvZiBhLmFzbjEueDUwOSA+IFwidVwiIHx8ICFhLmFzbjEueDUwOSkgJiYgKGEuYXNuMS54NTA5ID0ge30pO1xuYS5hc24xLng1MDkuQ2VydGlmaWNhdGUgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS54NTA5LkNlcnRpZmljYXRlLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTtcbiAgdmFyIHQgPSBhLCByID0gdC5hc24xLCBpID0gci5ERVJCaXRTdHJpbmcsIHMgPSByLkRFUlNlcXVlbmNlLCBuID0gci54NTA5LCBoID0gbi5UQlNDZXJ0aWZpY2F0ZSwgdSA9IG4uQWxnb3JpdGhtSWRlbnRpZmllcjtcbiAgdGhpcy5wYXJhbXMgPSB2b2lkIDAsIHRoaXMuc2V0QnlQYXJhbSA9IGZ1bmN0aW9uKHApIHtcbiAgICB0aGlzLnBhcmFtcyA9IHA7XG4gIH0sIHRoaXMuc2lnbiA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBwID0gdGhpcy5wYXJhbXMsIGMgPSBwLnNpZ2FsZztcbiAgICBwLnNpZ2FsZy5uYW1lICE9IG51bGwgJiYgKGMgPSBwLnNpZ2FsZy5uYW1lKTtcbiAgICB2YXIgeSA9IHAudGJzb2JqLnRvaGV4KCksIHYgPSBuZXcgYS5jcnlwdG8uU2lnbmF0dXJlKHsgYWxnOiBjIH0pO1xuICAgIHYuaW5pdChwLmNha2V5KSwgdi51cGRhdGVIZXgoeSksIHAuc2lnaGV4ID0gdi5zaWduKCk7XG4gIH0sIHRoaXMuZ2V0UEVNID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGRlKHRoaXMudG9oZXgoKSwgXCJDRVJUSUZJQ0FURVwiKTtcbiAgfSwgdGhpcy50b2hleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBwID0gdGhpcy5wYXJhbXM7XG4gICAgaWYgKChwLnRic29iaiA9PSBudWxsIHx8IHAudGJzb2JqID09IG51bGwpICYmIChwLnRic29iaiA9IG5ldyBoKHApKSwgcC5zaWdoZXggPT0gbnVsbCAmJiBwLmNha2V5ICE9IG51bGwgJiYgdGhpcy5zaWduKCksIHAuc2lnaGV4ID09IG51bGwpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJzaWdoZXggb3IgY2FrZXkgcGFyYW1ldGVyIG5vdCBkZWZpbmVkXCIpO1xuICAgIHZhciBjID0gW107XG4gICAgYy5wdXNoKHAudGJzb2JqKSwgYy5wdXNoKG5ldyB1KHsgbmFtZTogcC5zaWdhbGcgfSkpLCBjLnB1c2gobmV3IGkoeyBoZXg6IFwiMDBcIiArIHAuc2lnaGV4IH0pKTtcbiAgICB2YXIgeSA9IG5ldyBzKHsgYXJyYXk6IGMgfSk7XG4gICAgcmV0dXJuIHkudG9oZXgoKTtcbiAgfSwgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9oZXgoKTtcbiAgfSwgZSAhPSBudWxsICYmICh0aGlzLnBhcmFtcyA9IGUpO1xufTtcbk4oYS5hc24xLng1MDkuQ2VydGlmaWNhdGUsIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS54NTA5LlRCU0NlcnRpZmljYXRlID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEueDUwOS5UQlNDZXJ0aWZpY2F0ZS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7XG4gIHZhciB0ID0gYSwgciA9IHQuYXNuMSwgaSA9IHIueDUwOSwgcyA9IHIuREVSVGFnZ2VkT2JqZWN0LCBuID0gci5ERVJJbnRlZ2VyLCBoID0gci5ERVJTZXF1ZW5jZSwgdSA9IGkuQWxnb3JpdGhtSWRlbnRpZmllciwgcCA9IGkuVGltZSwgYyA9IGkuWDUwME5hbWUsIHkgPSBpLkV4dGVuc2lvbnMsIHYgPSBpLlN1YmplY3RQdWJsaWNLZXlJbmZvO1xuICB0aGlzLnBhcmFtcyA9IG51bGwsIHRoaXMuc2V0QnlQYXJhbSA9IGZ1bmN0aW9uKG8pIHtcbiAgICB0aGlzLnBhcmFtcyA9IG87XG4gIH0sIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbyA9IFtdLCBsID0gdGhpcy5wYXJhbXM7XG4gICAgaWYgKGwudmVyc2lvbiAhPSBudWxsIHx8IGwudmVyc2lvbiAhPSAxKSB7XG4gICAgICB2YXIgZiA9IDI7XG4gICAgICBsLnZlcnNpb24gIT0gbnVsbCAmJiAoZiA9IGwudmVyc2lvbiAtIDEpO1xuICAgICAgdmFyIGQgPSBuZXcgcyh7IG9iajogbmV3IG4oeyBpbnQ6IGYgfSkgfSk7XG4gICAgICBvLnB1c2goZCk7XG4gICAgfVxuICAgIG8ucHVzaChuZXcgbihsLnNlcmlhbCkpLCBvLnB1c2gobmV3IHUoeyBuYW1lOiBsLnNpZ2FsZyB9KSksIG8ucHVzaChuZXcgYyhsLmlzc3VlcikpLCBvLnB1c2gobmV3IGgoeyBhcnJheTogW25ldyBwKGwubm90YmVmb3JlKSwgbmV3IHAobC5ub3RhZnRlcildIH0pKSwgby5wdXNoKG5ldyBjKGwuc3ViamVjdCkpLCBvLnB1c2gobmV3IHYoay5nZXRLZXkobC5zYmpwdWJrZXkpKSksIGwuZXh0ICE9PSB2b2lkIDAgJiYgbC5leHQubGVuZ3RoID4gMCAmJiBvLnB1c2gobmV3IHMoeyB0YWc6IFwiYTNcIiwgb2JqOiBuZXcgeShsLmV4dCkgfSkpO1xuICAgIHZhciBnID0gbmV3IGEuYXNuMS5ERVJTZXF1ZW5jZSh7IGFycmF5OiBvIH0pO1xuICAgIHJldHVybiBnLnRvaGV4KCk7XG4gIH0sIHRoaXMuZ2V0RW5jb2RlZEhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvaGV4KCk7XG4gIH0sIGUgIT09IHZvaWQgMCAmJiB0aGlzLnNldEJ5UGFyYW0oZSk7XG59O1xuTihhLmFzbjEueDUwOS5UQlNDZXJ0aWZpY2F0ZSwgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLng1MDkuRXh0ZW5zaW9ucyA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLng1MDkuRXh0ZW5zaW9ucy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7XG4gIHZhciB0ID0gYSwgciA9IHQuYXNuMSwgaSA9IHIuREVSU2VxdWVuY2UsIHMgPSByLng1MDk7XG4gIHRoaXMuYVBhcmFtID0gW10sIHRoaXMuc2V0QnlQYXJhbSA9IGZ1bmN0aW9uKG4pIHtcbiAgICB0aGlzLmFQYXJhbSA9IG47XG4gIH0sIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICBmb3IgKHZhciBuID0gW10sIGggPSAwOyBoIDwgdGhpcy5hUGFyYW0ubGVuZ3RoOyBoKyspIHtcbiAgICAgIHZhciB1ID0gdGhpcy5hUGFyYW1baF0sIHAgPSB1LmV4dG5hbWUsIGMgPSBudWxsO1xuICAgICAgaWYgKHUuZXh0biAhPSBudWxsKVxuICAgICAgICBjID0gbmV3IHMuUHJpdmF0ZUV4dGVuc2lvbih1KTtcbiAgICAgIGVsc2UgaWYgKHAgPT0gXCJzdWJqZWN0S2V5SWRlbnRpZmllclwiKVxuICAgICAgICBjID0gbmV3IHMuU3ViamVjdEtleUlkZW50aWZpZXIodSk7XG4gICAgICBlbHNlIGlmIChwID09IFwia2V5VXNhZ2VcIilcbiAgICAgICAgYyA9IG5ldyBzLktleVVzYWdlKHUpO1xuICAgICAgZWxzZSBpZiAocCA9PSBcInN1YmplY3RBbHROYW1lXCIpXG4gICAgICAgIGMgPSBuZXcgcy5TdWJqZWN0QWx0TmFtZSh1KTtcbiAgICAgIGVsc2UgaWYgKHAgPT0gXCJpc3N1ZXJBbHROYW1lXCIpXG4gICAgICAgIGMgPSBuZXcgcy5Jc3N1ZXJBbHROYW1lKHUpO1xuICAgICAgZWxzZSBpZiAocCA9PSBcImJhc2ljQ29uc3RyYWludHNcIilcbiAgICAgICAgYyA9IG5ldyBzLkJhc2ljQ29uc3RyYWludHModSk7XG4gICAgICBlbHNlIGlmIChwID09IFwibmFtZUNvbnN0cmFpbnRzXCIpXG4gICAgICAgIGMgPSBuZXcgcy5OYW1lQ29uc3RyYWludHModSk7XG4gICAgICBlbHNlIGlmIChwID09IFwiY1JMRGlzdHJpYnV0aW9uUG9pbnRzXCIpXG4gICAgICAgIGMgPSBuZXcgcy5DUkxEaXN0cmlidXRpb25Qb2ludHModSk7XG4gICAgICBlbHNlIGlmIChwID09IFwiY2VydGlmaWNhdGVQb2xpY2llc1wiKVxuICAgICAgICBjID0gbmV3IHMuQ2VydGlmaWNhdGVQb2xpY2llcyh1KTtcbiAgICAgIGVsc2UgaWYgKHAgPT0gXCJwb2xpY3lNYXBwaW5nc1wiKVxuICAgICAgICBjID0gbmV3IHMuUG9saWN5TWFwcGluZ3ModSk7XG4gICAgICBlbHNlIGlmIChwID09IFwicG9saWN5Q29uc3RyYWludHNcIilcbiAgICAgICAgYyA9IG5ldyBzLlBvbGljeUNvbnN0cmFpbnRzKHUpO1xuICAgICAgZWxzZSBpZiAocCA9PSBcImluaGliaXRBbnlQb2xpY3lcIilcbiAgICAgICAgYyA9IG5ldyBzLkluaGliaXRBbnlQb2xpY3kodSk7XG4gICAgICBlbHNlIGlmIChwID09IFwiYXV0aG9yaXR5S2V5SWRlbnRpZmllclwiKVxuICAgICAgICBjID0gbmV3IHMuQXV0aG9yaXR5S2V5SWRlbnRpZmllcih1KTtcbiAgICAgIGVsc2UgaWYgKHAgPT0gXCJleHRLZXlVc2FnZVwiKVxuICAgICAgICBjID0gbmV3IHMuRXh0S2V5VXNhZ2UodSk7XG4gICAgICBlbHNlIGlmIChwID09IFwiYXV0aG9yaXR5SW5mb0FjY2Vzc1wiKVxuICAgICAgICBjID0gbmV3IHMuQXV0aG9yaXR5SW5mb0FjY2Vzcyh1KTtcbiAgICAgIGVsc2UgaWYgKHAgPT0gXCJjUkxOdW1iZXJcIilcbiAgICAgICAgYyA9IG5ldyBzLkNSTE51bWJlcih1KTtcbiAgICAgIGVsc2UgaWYgKHAgPT0gXCJjUkxSZWFzb25cIilcbiAgICAgICAgYyA9IG5ldyBzLkNSTFJlYXNvbih1KTtcbiAgICAgIGVsc2UgaWYgKHAgPT0gXCJvY3NwTm9uY2VcIilcbiAgICAgICAgYyA9IG5ldyBzLk9DU1BOb25jZSh1KTtcbiAgICAgIGVsc2UgaWYgKHAgPT0gXCJvY3NwTm9DaGVja1wiKVxuICAgICAgICBjID0gbmV3IHMuT0NTUE5vQ2hlY2sodSk7XG4gICAgICBlbHNlIGlmIChwID09IFwiYWRvYmVUaW1lU3RhbXBcIilcbiAgICAgICAgYyA9IG5ldyBzLkFkb2JlVGltZVN0YW1wKHUpO1xuICAgICAgZWxzZSBpZiAocCA9PSBcInN1YmplY3REaXJlY3RvcnlBdHRyaWJ1dGVzXCIpXG4gICAgICAgIGMgPSBuZXcgcy5TdWJqZWN0RGlyZWN0b3J5QXR0cmlidXRlcyh1KTtcbiAgICAgIGVsc2VcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZXh0ZW5zaW9uIG5vdCBzdXBwb3J0ZWQ6XCIgKyBKU09OLnN0cmluZ2lmeSh1KSk7XG4gICAgICBjICE9IG51bGwgJiYgbi5wdXNoKGMpO1xuICAgIH1cbiAgICB2YXIgeSA9IG5ldyBpKHsgYXJyYXk6IG4gfSk7XG4gICAgcmV0dXJuIHkudG9oZXgoKTtcbiAgfSwgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9oZXgoKTtcbiAgfSwgZSAhPSBudWxsICYmIHRoaXMuc2V0QnlQYXJhbShlKTtcbn07XG5OKGEuYXNuMS54NTA5LkV4dGVuc2lvbnMsIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS54NTA5LkV4dGVuc2lvbiA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLng1MDkuRXh0ZW5zaW9uLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTtcbiAgdmFyIHQgPSBhLCByID0gdC5hc24xLCBpID0gci5ERVJPYmplY3RJZGVudGlmaWVyLCBzID0gci5ERVJPY3RldFN0cmluZztcbiAgci5ERVJCaXRTdHJpbmc7XG4gIHZhciBuID0gci5ERVJCb29sZWFuLCBoID0gci5ERVJTZXF1ZW5jZTtcbiAgdGhpcy50b2hleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB1ID0gbmV3IGkoeyBvaWQ6IHRoaXMub2lkIH0pLCBwID0gbmV3IHMoeyBoZXg6IHRoaXMuZ2V0RXh0blZhbHVlSGV4KCkgfSksIGMgPSBuZXcgQXJyYXkoKTtcbiAgICBjLnB1c2godSksIHRoaXMuY3JpdGljYWwgJiYgYy5wdXNoKG5ldyBuKCkpLCBjLnB1c2gocCk7XG4gICAgdmFyIHkgPSBuZXcgaCh7IGFycmF5OiBjIH0pO1xuICAgIHJldHVybiB5LnRvaGV4KCk7XG4gIH0sIHRoaXMuZ2V0RW5jb2RlZEhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvaGV4KCk7XG4gIH0sIHRoaXMuY3JpdGljYWwgPSAhMSwgZSAhPT0gdm9pZCAwICYmIGUuY3JpdGljYWwgIT09IHZvaWQgMCAmJiAodGhpcy5jcml0aWNhbCA9IGUuY3JpdGljYWwpO1xufTtcbk4oYS5hc24xLng1MDkuRXh0ZW5zaW9uLCBhLmFzbjEuQVNOMU9iamVjdCk7XG5hLmFzbjEueDUwOS5LZXlVc2FnZSA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLng1MDkuS2V5VXNhZ2Uuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIGUpO1xuICB2YXIgdCA9IEVycm9yLCByID0geyBkaWdpdGFsU2lnbmF0dXJlOiAwLCBub25SZXB1ZGlhdGlvbjogMSwga2V5RW5jaXBoZXJtZW50OiAyLCBkYXRhRW5jaXBoZXJtZW50OiAzLCBrZXlBZ3JlZW1lbnQ6IDQsIGtleUNlcnRTaWduOiA1LCBjUkxTaWduOiA2LCBlbmNpcGhlck9ubHk6IDcsIGRlY2lwaGVyT25seTogOCB9O1xuICB0aGlzLmdldEV4dG5WYWx1ZUhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpID0gdGhpcy5nZXRCaW5WYWx1ZSgpO1xuICAgIHJldHVybiB0aGlzLmFzbjFFeHRuVmFsdWUgPSBuZXcgYS5hc24xLkRFUkJpdFN0cmluZyh7IGJpbjogaSB9KSwgdGhpcy5hc24xRXh0blZhbHVlLnRvaGV4KCk7XG4gIH0sIHRoaXMuZ2V0QmluVmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaSA9IHRoaXMucGFyYW1zO1xuICAgIGlmICh0eXBlb2YgaSAhPSBcIm9iamVjdFwiIHx8IHR5cGVvZiBpLm5hbWVzICE9IFwib2JqZWN0XCIgJiYgdHlwZW9mIGkuYmluICE9IFwic3RyaW5nXCIpXG4gICAgICB0aHJvdyBuZXcgdChcInBhcmFtZXRlciBub3QgeWV0IHNldFwiKTtcbiAgICBpZiAoaS5uYW1lcyAhPSBudWxsKVxuICAgICAgcmV0dXJuIHJ0KGkubmFtZXMsIHIpO1xuICAgIGlmIChpLmJpbiAhPSBudWxsKVxuICAgICAgcmV0dXJuIGkuYmluO1xuICAgIHRocm93IG5ldyB0KFwicGFyYW1ldGVyIG5vdCBzZXQgcHJvcGVybHlcIik7XG4gIH0sIHRoaXMub2lkID0gXCIyLjUuMjkuMTVcIiwgZSAhPT0gdm9pZCAwICYmICh0aGlzLnBhcmFtcyA9IGUpO1xufTtcbk4oYS5hc24xLng1MDkuS2V5VXNhZ2UsIGEuYXNuMS54NTA5LkV4dGVuc2lvbik7XG5hLmFzbjEueDUwOS5CYXNpY0NvbnN0cmFpbnRzID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEueDUwOS5CYXNpY0NvbnN0cmFpbnRzLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBlKTtcbiAgdmFyIHQgPSBhLmFzbjEsIHIgPSB0LkRFUkJvb2xlYW4sIGkgPSB0LkRFUkludGVnZXIsIHMgPSB0LkRFUlNlcXVlbmNlO1xuICB0aGlzLmdldEV4dG5WYWx1ZUhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBuID0gbmV3IEFycmF5KCk7XG4gICAgdGhpcy5jQSAmJiBuLnB1c2gobmV3IHIoKSksIHRoaXMucGF0aExlbiA+IC0xICYmIG4ucHVzaChuZXcgaSh7IGludDogdGhpcy5wYXRoTGVuIH0pKTtcbiAgICB2YXIgaCA9IG5ldyBzKHsgYXJyYXk6IG4gfSk7XG4gICAgcmV0dXJuIHRoaXMuYXNuMUV4dG5WYWx1ZSA9IGgsIHRoaXMuYXNuMUV4dG5WYWx1ZS50b2hleCgpO1xuICB9LCB0aGlzLm9pZCA9IFwiMi41LjI5LjE5XCIsIHRoaXMuY0EgPSAhMSwgdGhpcy5wYXRoTGVuID0gLTEsIGUgIT09IHZvaWQgMCAmJiAoZS5jQSAhPT0gdm9pZCAwICYmICh0aGlzLmNBID0gZS5jQSksIGUucGF0aExlbiAhPT0gdm9pZCAwICYmICh0aGlzLnBhdGhMZW4gPSBlLnBhdGhMZW4pKTtcbn07XG5OKGEuYXNuMS54NTA5LkJhc2ljQ29uc3RyYWludHMsIGEuYXNuMS54NTA5LkV4dGVuc2lvbik7XG5hLmFzbjEueDUwOS5DUkxEaXN0cmlidXRpb25Qb2ludHMgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS54NTA5LkNSTERpc3RyaWJ1dGlvblBvaW50cy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgZSk7XG4gIHZhciB0ID0gYSwgciA9IHQuYXNuMSwgaSA9IHIueDUwOTtcbiAgdGhpcy5nZXRFeHRuVmFsdWVIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5hc24xRXh0blZhbHVlLnRvaGV4KCk7XG4gIH0sIHRoaXMuc2V0QnlEUEFycmF5ID0gZnVuY3Rpb24ocykge1xuICAgIGZvciAodmFyIG4gPSBbXSwgaCA9IDA7IGggPCBzLmxlbmd0aDsgaCsrKVxuICAgICAgaWYgKHNbaF0gaW5zdGFuY2VvZiBhLmFzbjEuQVNOMU9iamVjdClcbiAgICAgICAgbi5wdXNoKHNbaF0pO1xuICAgICAgZWxzZSB7XG4gICAgICAgIHZhciB1ID0gbmV3IGkuRGlzdHJpYnV0aW9uUG9pbnQoc1toXSk7XG4gICAgICAgIG4ucHVzaCh1KTtcbiAgICAgIH1cbiAgICB0aGlzLmFzbjFFeHRuVmFsdWUgPSBuZXcgci5ERVJTZXF1ZW5jZSh7IGFycmF5OiBuIH0pO1xuICB9LCB0aGlzLnNldEJ5T25lVVJJID0gZnVuY3Rpb24ocykge1xuICAgIHZhciBuID0gbmV3IGkuRGlzdHJpYnV0aW9uUG9pbnQoeyBmdWxsdXJpOiBzIH0pO1xuICAgIHRoaXMuc2V0QnlEUEFycmF5KFtuXSk7XG4gIH0sIHRoaXMub2lkID0gXCIyLjUuMjkuMzFcIiwgZSAhPT0gdm9pZCAwICYmIChlLmFycmF5ICE9PSB2b2lkIDAgPyB0aGlzLnNldEJ5RFBBcnJheShlLmFycmF5KSA6IGUudXJpICE9PSB2b2lkIDAgJiYgdGhpcy5zZXRCeU9uZVVSSShlLnVyaSkpO1xufTtcbk4oYS5hc24xLng1MDkuQ1JMRGlzdHJpYnV0aW9uUG9pbnRzLCBhLmFzbjEueDUwOS5FeHRlbnNpb24pO1xuYS5hc24xLng1MDkuRGlzdHJpYnV0aW9uUG9pbnQgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS54NTA5LkRpc3RyaWJ1dGlvblBvaW50LnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTtcbiAgdmFyIHQgPSBhLCByID0gdC5hc24xLCBpID0gci54NTA5LkRpc3RyaWJ1dGlvblBvaW50TmFtZTtcbiAgdGhpcy50b2hleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzID0gbmV3IHIuREVSU2VxdWVuY2UoKTtcbiAgICBpZiAodGhpcy5hc24xRFAgIT0gbnVsbCkge1xuICAgICAgdmFyIG4gPSBuZXcgci5ERVJUYWdnZWRPYmplY3QoeyBleHBsaWNpdDogITAsIHRhZzogXCJhMFwiLCBvYmo6IHRoaXMuYXNuMURQIH0pO1xuICAgICAgcy5hcHBlbmRBU04xT2JqZWN0KG4pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5oVExWID0gcy50b2hleCgpLCB0aGlzLmhUTFY7XG4gIH0sIHRoaXMuZ2V0RW5jb2RlZEhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvaGV4KCk7XG4gIH0sIGUgIT09IHZvaWQgMCAmJiAoZS5kcG9iaiAhPT0gdm9pZCAwID8gdGhpcy5hc24xRFAgPSBlLmRwb2JqIDogZS5kcG5hbWUgIT09IHZvaWQgMCA/IHRoaXMuYXNuMURQID0gbmV3IGkoZS5kcG5hbWUpIDogZS5mdWxsdXJpICE9PSB2b2lkIDAgJiYgKHRoaXMuYXNuMURQID0gbmV3IGkoeyBmdWxsOiBbeyB1cmk6IGUuZnVsbHVyaSB9XSB9KSkpO1xufTtcbk4oYS5hc24xLng1MDkuRGlzdHJpYnV0aW9uUG9pbnQsIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS54NTA5LkRpc3RyaWJ1dGlvblBvaW50TmFtZSA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLng1MDkuRGlzdHJpYnV0aW9uUG9pbnROYW1lLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTtcbiAgdmFyIHQgPSBhLCByID0gdC5hc24xLCBpID0gci5ERVJUYWdnZWRPYmplY3Q7XG4gIGlmICh0aGlzLnRvaGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMudHlwZSAhPSBcImZ1bGxcIilcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImN1cnJlbnRseSB0eXBlIHNoYWxsIGJlICdmdWxsJzogXCIgKyB0aGlzLnR5cGUpO1xuICAgIHJldHVybiB0aGlzLmFzbjFPYmogPSBuZXcgaSh7IGV4cGxpY2l0OiAhMSwgdGFnOiB0aGlzLnRhZywgb2JqOiB0aGlzLmFzbjFWIH0pLCB0aGlzLmhUTFYgPSB0aGlzLmFzbjFPYmoudG9oZXgoKSwgdGhpcy5oVExWO1xuICB9LCB0aGlzLmdldEVuY29kZWRIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b2hleCgpO1xuICB9LCBlICE9PSB2b2lkIDApXG4gICAgaWYgKHIueDUwOS5HZW5lcmFsTmFtZXMucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoZSkpXG4gICAgICB0aGlzLnR5cGUgPSBcImZ1bGxcIiwgdGhpcy50YWcgPSBcImEwXCIsIHRoaXMuYXNuMVYgPSBlO1xuICAgIGVsc2UgaWYgKGUuZnVsbCAhPT0gdm9pZCAwKVxuICAgICAgdGhpcy50eXBlID0gXCJmdWxsXCIsIHRoaXMudGFnID0gXCJhMFwiLCB0aGlzLmFzbjFWID0gbmV3IHIueDUwOS5HZW5lcmFsTmFtZXMoZS5mdWxsKTtcbiAgICBlbHNlXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIGNsYXNzIHN1cHBvcnRzIEdlbmVyYWxOYW1lcyBvbmx5IGFzIGFyZ3VtZW50XCIpO1xufTtcbk4oYS5hc24xLng1MDkuRGlzdHJpYnV0aW9uUG9pbnROYW1lLCBhLmFzbjEuQVNOMU9iamVjdCk7XG5hLmFzbjEueDUwOS5DZXJ0aWZpY2F0ZVBvbGljaWVzID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEueDUwOS5DZXJ0aWZpY2F0ZVBvbGljaWVzLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBlKTtcbiAgdmFyIHQgPSBhLCByID0gdC5hc24xLCBpID0gci54NTA5LCBzID0gci5ERVJTZXF1ZW5jZSwgbiA9IGkuUG9saWN5SW5mb3JtYXRpb247XG4gIHRoaXMucGFyYW1zID0gbnVsbCwgdGhpcy5nZXRFeHRuVmFsdWVIZXggPSBmdW5jdGlvbigpIHtcbiAgICBmb3IgKHZhciBoID0gW10sIHUgPSAwOyB1IDwgdGhpcy5wYXJhbXMuYXJyYXkubGVuZ3RoOyB1KyspXG4gICAgICBoLnB1c2gobmV3IG4odGhpcy5wYXJhbXMuYXJyYXlbdV0pKTtcbiAgICB2YXIgcCA9IG5ldyBzKHsgYXJyYXk6IGggfSk7XG4gICAgcmV0dXJuIHRoaXMuYXNuMUV4dG5WYWx1ZSA9IHAsIHRoaXMuYXNuMUV4dG5WYWx1ZS50b2hleCgpO1xuICB9LCB0aGlzLm9pZCA9IFwiMi41LjI5LjMyXCIsIGUgIT09IHZvaWQgMCAmJiAodGhpcy5wYXJhbXMgPSBlKTtcbn07XG5OKGEuYXNuMS54NTA5LkNlcnRpZmljYXRlUG9saWNpZXMsIGEuYXNuMS54NTA5LkV4dGVuc2lvbik7XG5hLmFzbjEueDUwOS5Qb2xpY3lJbmZvcm1hdGlvbiA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLng1MDkuUG9saWN5SW5mb3JtYXRpb24uc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIGUpO1xuICB2YXIgdCA9IGEuYXNuMSwgciA9IHQuREVSU2VxdWVuY2UsIGkgPSB0LkRFUk9iamVjdElkZW50aWZpZXIsIHMgPSB0Lng1MDkuUG9saWN5UXVhbGlmaWVySW5mbztcbiAgdGhpcy5wYXJhbXMgPSBudWxsLCB0aGlzLnRvaGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMucGFyYW1zLnBvbGljeW9pZCA9PT0gdm9pZCAwICYmIHRoaXMucGFyYW1zLmFycmF5ID09PSB2b2lkIDApXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJwYXJhbWV0ZXIgb2lkIGFuZCBhcnJheSBtaXNzaW5nXCIpO1xuICAgIHZhciBuID0gW25ldyBpKHRoaXMucGFyYW1zLnBvbGljeW9pZCldO1xuICAgIGlmICh0aGlzLnBhcmFtcy5hcnJheSAhPT0gdm9pZCAwKSB7XG4gICAgICBmb3IgKHZhciBoID0gW10sIHUgPSAwOyB1IDwgdGhpcy5wYXJhbXMuYXJyYXkubGVuZ3RoOyB1KyspXG4gICAgICAgIGgucHVzaChuZXcgcyh0aGlzLnBhcmFtcy5hcnJheVt1XSkpO1xuICAgICAgaC5sZW5ndGggPiAwICYmIG4ucHVzaChuZXcgcih7IGFycmF5OiBoIH0pKTtcbiAgICB9XG4gICAgdmFyIHAgPSBuZXcgcih7IGFycmF5OiBuIH0pO1xuICAgIHJldHVybiBwLnRvaGV4KCk7XG4gIH0sIHRoaXMuZ2V0RW5jb2RlZEhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvaGV4KCk7XG4gIH0sIGUgIT09IHZvaWQgMCAmJiAodGhpcy5wYXJhbXMgPSBlKTtcbn07XG5OKGEuYXNuMS54NTA5LlBvbGljeUluZm9ybWF0aW9uLCBhLmFzbjEuQVNOMU9iamVjdCk7XG5hLmFzbjEueDUwOS5Qb2xpY3lRdWFsaWZpZXJJbmZvID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEueDUwOS5Qb2xpY3lRdWFsaWZpZXJJbmZvLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBlKTtcbiAgdmFyIHQgPSBhLmFzbjEsIHIgPSB0LkRFUlNlcXVlbmNlLCBpID0gdC5ERVJJQTVTdHJpbmcsIHMgPSB0LkRFUk9iamVjdElkZW50aWZpZXIsIG4gPSB0Lng1MDkuVXNlck5vdGljZTtcbiAgdGhpcy5wYXJhbXMgPSBudWxsLCB0aGlzLnRvaGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMucGFyYW1zLmNwcyAhPT0gdm9pZCAwKSB7XG4gICAgICB2YXIgaCA9IG5ldyByKHsgYXJyYXk6IFtuZXcgcyh7IG9pZDogXCIxLjMuNi4xLjUuNS43LjIuMVwiIH0pLCBuZXcgaSh7IHN0cjogdGhpcy5wYXJhbXMuY3BzIH0pXSB9KTtcbiAgICAgIHJldHVybiBoLnRvaGV4KCk7XG4gICAgfVxuICAgIGlmICh0aGlzLnBhcmFtcy51bm90aWNlICE9IG51bGwpIHtcbiAgICAgIHZhciBoID0gbmV3IHIoeyBhcnJheTogW25ldyBzKHsgb2lkOiBcIjEuMy42LjEuNS41LjcuMi4yXCIgfSksIG5ldyBuKHRoaXMucGFyYW1zLnVub3RpY2UpXSB9KTtcbiAgICAgIHJldHVybiBoLnRvaGV4KCk7XG4gICAgfVxuICB9LCB0aGlzLmdldEVuY29kZWRIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b2hleCgpO1xuICB9LCBlICE9PSB2b2lkIDAgJiYgKHRoaXMucGFyYW1zID0gZSk7XG59O1xuTihhLmFzbjEueDUwOS5Qb2xpY3lRdWFsaWZpZXJJbmZvLCBhLmFzbjEuQVNOMU9iamVjdCk7XG5hLmFzbjEueDUwOS5Vc2VyTm90aWNlID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEueDUwOS5Vc2VyTm90aWNlLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBlKTtcbiAgdmFyIHQgPSBhLmFzbjEuREVSU2VxdWVuY2U7XG4gIGEuYXNuMS5ERVJJbnRlZ2VyO1xuICB2YXIgciA9IGEuYXNuMS54NTA5LkRpc3BsYXlUZXh0LCBpID0gYS5hc24xLng1MDkuTm90aWNlUmVmZXJlbmNlO1xuICB0aGlzLnBhcmFtcyA9IG51bGwsIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcyA9IFtdO1xuICAgIHRoaXMucGFyYW1zLm5vdGljZXJlZiAhPT0gdm9pZCAwICYmIHMucHVzaChuZXcgaSh0aGlzLnBhcmFtcy5ub3RpY2VyZWYpKSwgdGhpcy5wYXJhbXMuZXhwdGV4dCAhPT0gdm9pZCAwICYmIHMucHVzaChuZXcgcih0aGlzLnBhcmFtcy5leHB0ZXh0KSk7XG4gICAgdmFyIG4gPSBuZXcgdCh7IGFycmF5OiBzIH0pO1xuICAgIHJldHVybiBuLnRvaGV4KCk7XG4gIH0sIHRoaXMuZ2V0RW5jb2RlZEhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvaGV4KCk7XG4gIH0sIGUgIT09IHZvaWQgMCAmJiAodGhpcy5wYXJhbXMgPSBlKTtcbn07XG5OKGEuYXNuMS54NTA5LlVzZXJOb3RpY2UsIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS54NTA5Lk5vdGljZVJlZmVyZW5jZSA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLng1MDkuTm90aWNlUmVmZXJlbmNlLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBlKTtcbiAgdmFyIHQgPSBhLmFzbjEuREVSU2VxdWVuY2UsIHIgPSBhLmFzbjEuREVSSW50ZWdlciwgaSA9IGEuYXNuMS54NTA5LkRpc3BsYXlUZXh0O1xuICB0aGlzLnBhcmFtcyA9IG51bGwsIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcyA9IFtdO1xuICAgIGlmICh0aGlzLnBhcmFtcy5vcmcgIT09IHZvaWQgMCAmJiBzLnB1c2gobmV3IGkodGhpcy5wYXJhbXMub3JnKSksIHRoaXMucGFyYW1zLm5vdGljZW51bSAhPT0gdm9pZCAwKSB7XG4gICAgICBmb3IgKHZhciBuID0gW10sIGggPSB0aGlzLnBhcmFtcy5ub3RpY2VudW0sIHUgPSAwOyB1IDwgaC5sZW5ndGg7IHUrKylcbiAgICAgICAgbi5wdXNoKG5ldyByKGhbdV0pKTtcbiAgICAgIHMucHVzaChuZXcgdCh7IGFycmF5OiBuIH0pKTtcbiAgICB9XG4gICAgaWYgKHMubGVuZ3RoID09IDApXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJwYXJhbWV0ZXIgaXMgZW1wdHlcIik7XG4gICAgdmFyIHAgPSBuZXcgdCh7IGFycmF5OiBzIH0pO1xuICAgIHJldHVybiBwLnRvaGV4KCk7XG4gIH0sIHRoaXMuZ2V0RW5jb2RlZEhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvaGV4KCk7XG4gIH0sIGUgIT09IHZvaWQgMCAmJiAodGhpcy5wYXJhbXMgPSBlKTtcbn07XG5OKGEuYXNuMS54NTA5Lk5vdGljZVJlZmVyZW5jZSwgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLng1MDkuRGlzcGxheVRleHQgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS54NTA5LkRpc3BsYXlUZXh0LnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBlKSwgdGhpcy5oVCA9IFwiMGNcIiwgZSAhPT0gdm9pZCAwICYmIChlLnR5cGUgPT09IFwiaWE1XCIgPyB0aGlzLmhUID0gXCIxNlwiIDogZS50eXBlID09PSBcInZpc1wiID8gdGhpcy5oVCA9IFwiMWFcIiA6IGUudHlwZSA9PT0gXCJibXBcIiAmJiAodGhpcy5oVCA9IFwiMWVcIikpO1xufTtcbk4oYS5hc24xLng1MDkuRGlzcGxheVRleHQsIGEuYXNuMS5ERVJBYnN0cmFjdFN0cmluZyk7XG5hLmFzbjEueDUwOS5Qb2xpY3lNYXBwaW5ncyA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLng1MDkuUG9saWN5TWFwcGluZ3Muc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIGUpO1xuICB2YXIgdCA9IGEsIHIgPSB0LmFzbjE7XG4gIHIueDUwOTtcbiAgdmFyIGkgPSByLkFTTjFVdGlsLm5ld09iamVjdDtcbiAgdGhpcy5wYXJhbXMgPSBudWxsLCB0aGlzLmdldEV4dG5WYWx1ZUhleCA9IGZ1bmN0aW9uKCkge1xuICAgIGZvciAodmFyIHMgPSB0aGlzLnBhcmFtcywgbiA9IFtdLCBoID0gMDsgaCA8IHMuYXJyYXkubGVuZ3RoOyBoKyspIHtcbiAgICAgIHZhciB1ID0gcy5hcnJheVtoXTtcbiAgICAgIG4ucHVzaCh7IHNlcTogW3sgb2lkOiB1WzBdIH0sIHsgb2lkOiB1WzFdIH1dIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5hc24xRXh0blZhbHVlID0gaSh7IHNlcTogbiB9KSwgdGhpcy5hc24xRXh0blZhbHVlLnRvaGV4KCk7XG4gIH0sIHRoaXMub2lkID0gXCIyLjUuMjkuMzNcIiwgZSAhPT0gdm9pZCAwICYmICh0aGlzLnBhcmFtcyA9IGUpO1xufTtcbk4oYS5hc24xLng1MDkuUG9saWN5TWFwcGluZ3MsIGEuYXNuMS54NTA5LkV4dGVuc2lvbik7XG5hLmFzbjEueDUwOS5Qb2xpY3lDb25zdHJhaW50cyA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLng1MDkuUG9saWN5Q29uc3RyYWludHMuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIGUpO1xuICB2YXIgdCA9IGEsIHIgPSB0LmFzbjE7XG4gIHIueDUwOTtcbiAgdmFyIGkgPSByLkFTTjFVdGlsLm5ld09iamVjdDtcbiAgdGhpcy5wYXJhbXMgPSBudWxsLCB0aGlzLmdldEV4dG5WYWx1ZUhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzID0gdGhpcy5wYXJhbXMsIG4gPSBbXTtcbiAgICByZXR1cm4gcy5yZXFleHAgIT0gbnVsbCAmJiBuLnB1c2goeyB0YWc6IHsgdGFnaTogXCI4MFwiLCBvYmo6IHsgaW50OiBzLnJlcWV4cCB9IH0gfSksIHMuaW5oaWJpdCAhPSBudWxsICYmIG4ucHVzaCh7IHRhZzogeyB0YWdpOiBcIjgxXCIsIG9iajogeyBpbnQ6IHMuaW5oaWJpdCB9IH0gfSksIHRoaXMuYXNuMUV4dG5WYWx1ZSA9IGkoeyBzZXE6IG4gfSksIHRoaXMuYXNuMUV4dG5WYWx1ZS50b2hleCgpO1xuICB9LCB0aGlzLm9pZCA9IFwiMi41LjI5LjM2XCIsIGUgIT09IHZvaWQgMCAmJiAodGhpcy5wYXJhbXMgPSBlKTtcbn07XG5OKGEuYXNuMS54NTA5LlBvbGljeUNvbnN0cmFpbnRzLCBhLmFzbjEueDUwOS5FeHRlbnNpb24pO1xuYS5hc24xLng1MDkuSW5oaWJpdEFueVBvbGljeSA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLng1MDkuSW5oaWJpdEFueVBvbGljeS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgZSk7XG4gIHZhciB0ID0gYSwgciA9IHQuYXNuMTtcbiAgci54NTA5O1xuICB2YXIgaSA9IHIuQVNOMVV0aWwubmV3T2JqZWN0O1xuICB0aGlzLnBhcmFtcyA9IG51bGwsIHRoaXMuZ2V0RXh0blZhbHVlSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuYXNuMUV4dG5WYWx1ZSA9IGkoeyBpbnQ6IHRoaXMucGFyYW1zLnNraXAgfSksIHRoaXMuYXNuMUV4dG5WYWx1ZS50b2hleCgpO1xuICB9LCB0aGlzLm9pZCA9IFwiMi41LjI5LjU0XCIsIGUgIT09IHZvaWQgMCAmJiAodGhpcy5wYXJhbXMgPSBlKTtcbn07XG5OKGEuYXNuMS54NTA5LkluaGliaXRBbnlQb2xpY3ksIGEuYXNuMS54NTA5LkV4dGVuc2lvbik7XG5hLmFzbjEueDUwOS5OYW1lQ29uc3RyYWludHMgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS54NTA5Lk5hbWVDb25zdHJhaW50cy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgZSk7XG4gIHZhciB0ID0gYSwgciA9IHQuYXNuMSwgaSA9IHIueDUwOSwgcyA9IHIuQVNOMVV0aWwubmV3T2JqZWN0LCBuID0gaS5HZW5lcmFsU3VidHJlZTtcbiAgdGhpcy5wYXJhbXMgPSBudWxsLCB0aGlzLmdldEV4dG5WYWx1ZUhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBoID0gdGhpcy5wYXJhbXMsIHUgPSBbXTtcbiAgICBpZiAoaC5wZXJtaXQgIT0gbnVsbCAmJiBoLnBlcm1pdC5sZW5ndGggIT0gbnVsbCkge1xuICAgICAgZm9yICh2YXIgcCA9IFtdLCBjID0gMDsgYyA8IGgucGVybWl0Lmxlbmd0aDsgYysrKVxuICAgICAgICBwLnB1c2gobmV3IG4oaC5wZXJtaXRbY10pKTtcbiAgICAgIHUucHVzaCh7IHRhZzogeyB0YWdpOiBcImEwXCIsIG9iajogeyBzZXE6IHAgfSB9IH0pO1xuICAgIH1cbiAgICBpZiAoaC5leGNsdWRlICE9IG51bGwgJiYgaC5leGNsdWRlLmxlbmd0aCAhPSBudWxsKSB7XG4gICAgICBmb3IgKHZhciB5ID0gW10sIGMgPSAwOyBjIDwgaC5leGNsdWRlLmxlbmd0aDsgYysrKVxuICAgICAgICB5LnB1c2gobmV3IG4oaC5leGNsdWRlW2NdKSk7XG4gICAgICB1LnB1c2goeyB0YWc6IHsgdGFnaTogXCJhMVwiLCBvYmo6IHsgc2VxOiB5IH0gfSB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuYXNuMUV4dG5WYWx1ZSA9IHMoeyBzZXE6IHUgfSksIHRoaXMuYXNuMUV4dG5WYWx1ZS50b2hleCgpO1xuICB9LCB0aGlzLm9pZCA9IFwiMi41LjI5LjMwXCIsIGUgIT09IHZvaWQgMCAmJiAodGhpcy5wYXJhbXMgPSBlKTtcbn07XG5OKGEuYXNuMS54NTA5Lk5hbWVDb25zdHJhaW50cywgYS5hc24xLng1MDkuRXh0ZW5zaW9uKTtcbmEuYXNuMS54NTA5LkdlbmVyYWxTdWJ0cmVlID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEueDUwOS5HZW5lcmFsU3VidHJlZS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7XG4gIHZhciB0ID0gYS5hc24xLCByID0gdC54NTA5LCBpID0gci5HZW5lcmFsTmFtZSwgcyA9IHQuQVNOMVV0aWwubmV3T2JqZWN0O1xuICB0aGlzLnBhcmFtcyA9IG51bGwsIHRoaXMuc2V0QnlQYXJhbSA9IGZ1bmN0aW9uKG4pIHtcbiAgICB0aGlzLnBhcmFtcyA9IG47XG4gIH0sIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbiA9IHRoaXMucGFyYW1zLCBoID0gW25ldyBpKG4pXTtcbiAgICBuLm1pbiAhPSBudWxsICYmIGgucHVzaCh7IHRhZzogeyB0YWdpOiBcIjgwXCIsIG9iajogeyBpbnQ6IG4ubWluIH0gfSB9KSwgbi5tYXggIT0gbnVsbCAmJiBoLnB1c2goeyB0YWc6IHsgdGFnaTogXCI4MVwiLCBvYmo6IHsgaW50OiBuLm1heCB9IH0gfSk7XG4gICAgdmFyIHUgPSBzKHsgc2VxOiBoIH0pO1xuICAgIHJldHVybiB1LnRvaGV4KCk7XG4gIH0sIHRoaXMuZ2V0RW5jb2RlZEhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvaGV4KCk7XG4gIH0sIGUgIT09IHZvaWQgMCAmJiB0aGlzLnNldEJ5UGFyYW0oZSk7XG59O1xuTihhLmFzbjEueDUwOS5HZW5lcmFsU3VidHJlZSwgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLng1MDkuRXh0S2V5VXNhZ2UgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS54NTA5LkV4dEtleVVzYWdlLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBlKTtcbiAgdmFyIHQgPSBhLCByID0gdC5hc24xO1xuICB0aGlzLnNldFB1cnBvc2VBcnJheSA9IGZ1bmN0aW9uKGkpIHtcbiAgICB0aGlzLmFzbjFFeHRuVmFsdWUgPSBuZXcgci5ERVJTZXF1ZW5jZSgpO1xuICAgIGZvciAodmFyIHMgPSAwOyBzIDwgaS5sZW5ndGg7IHMrKykge1xuICAgICAgdmFyIG4gPSBuZXcgci5ERVJPYmplY3RJZGVudGlmaWVyKGlbc10pO1xuICAgICAgdGhpcy5hc24xRXh0blZhbHVlLmFwcGVuZEFTTjFPYmplY3Qobik7XG4gICAgfVxuICB9LCB0aGlzLmdldEV4dG5WYWx1ZUhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmFzbjFFeHRuVmFsdWUudG9oZXgoKTtcbiAgfSwgdGhpcy5vaWQgPSBcIjIuNS4yOS4zN1wiLCBlICE9PSB2b2lkIDAgJiYgZS5hcnJheSAhPT0gdm9pZCAwICYmIHRoaXMuc2V0UHVycG9zZUFycmF5KGUuYXJyYXkpO1xufTtcbk4oYS5hc24xLng1MDkuRXh0S2V5VXNhZ2UsIGEuYXNuMS54NTA5LkV4dGVuc2lvbik7XG5hLmFzbjEueDUwOS5BdXRob3JpdHlLZXlJZGVudGlmaWVyID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEueDUwOS5BdXRob3JpdHlLZXlJZGVudGlmaWVyLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBlKTtcbiAgdmFyIHQgPSBhLCByID0gdC5hc24xLCBpID0gci5ERVJUYWdnZWRPYmplY3QsIHMgPSByLng1MDkuR2VuZXJhbE5hbWVzO1xuICB0LmNyeXB0by5VdGlsLmlzS2V5LCB0aGlzLmFzbjFLSUQgPSBudWxsLCB0aGlzLmFzbjFDZXJ0SXNzdWVyID0gbnVsbCwgdGhpcy5hc24xQ2VydFNOID0gbnVsbCwgdGhpcy5nZXRFeHRuVmFsdWVIZXggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbiA9IG5ldyBBcnJheSgpO1xuICAgIHRoaXMuYXNuMUtJRCAmJiBuLnB1c2gobmV3IGkoeyBleHBsaWNpdDogITEsIHRhZzogXCI4MFwiLCBvYmo6IHRoaXMuYXNuMUtJRCB9KSksIHRoaXMuYXNuMUNlcnRJc3N1ZXIgJiYgbi5wdXNoKG5ldyBpKHsgZXhwbGljaXQ6ICExLCB0YWc6IFwiYTFcIiwgb2JqOiBuZXcgcyhbeyBkbjogdGhpcy5hc24xQ2VydElzc3VlciB9XSkgfSkpLCB0aGlzLmFzbjFDZXJ0U04gJiYgbi5wdXNoKG5ldyBpKHsgZXhwbGljaXQ6ICExLCB0YWc6IFwiODJcIiwgb2JqOiB0aGlzLmFzbjFDZXJ0U04gfSkpO1xuICAgIHZhciBoID0gbmV3IHIuREVSU2VxdWVuY2UoeyBhcnJheTogbiB9KTtcbiAgICByZXR1cm4gdGhpcy5hc24xRXh0blZhbHVlID0gaCwgdGhpcy5hc24xRXh0blZhbHVlLnRvaGV4KCk7XG4gIH0sIHRoaXMuc2V0S0lEQnlQYXJhbSA9IGZ1bmN0aW9uKG4pIHtcbiAgICBpZiAobi5zdHIgIT09IHZvaWQgMCB8fCBuLmhleCAhPT0gdm9pZCAwKVxuICAgICAgdGhpcy5hc24xS0lEID0gbmV3IGEuYXNuMS5ERVJPY3RldFN0cmluZyhuKTtcbiAgICBlbHNlIGlmICh0eXBlb2YgbiA9PSBcIm9iamVjdFwiICYmIGEuY3J5cHRvLlV0aWwuaXNLZXkobikgfHwgdHlwZW9mIG4gPT0gXCJzdHJpbmdcIiAmJiBuLmluZGV4T2YoXCJCRUdJTiBcIikgIT0gLTEpIHtcbiAgICAgIHZhciBoID0gbjtcbiAgICAgIHR5cGVvZiBuID09IFwic3RyaW5nXCIgJiYgKGggPSBrLmdldEtleShuKSk7XG4gICAgICB2YXIgdSA9IGsuZ2V0S2V5SUQoaCk7XG4gICAgICB0aGlzLmFzbjFLSUQgPSBuZXcgYS5hc24xLkRFUk9jdGV0U3RyaW5nKHsgaGV4OiB1IH0pO1xuICAgIH1cbiAgfSwgdGhpcy5zZXRDZXJ0SXNzdWVyQnlQYXJhbSA9IGZ1bmN0aW9uKG4pIHtcbiAgICBuLnN0ciAhPT0gdm9pZCAwIHx8IG4ubGRhcHN0ciAhPT0gdm9pZCAwIHx8IG4uaGV4ICE9PSB2b2lkIDAgfHwgbi5jZXJ0c3ViamVjdCAhPT0gdm9pZCAwIHx8IG4uY2VydGlzc3VlciAhPT0gdm9pZCAwID8gdGhpcy5hc24xQ2VydElzc3VlciA9IG5ldyBhLmFzbjEueDUwOS5YNTAwTmFtZShuKSA6IHR5cGVvZiBuID09IFwic3RyaW5nXCIgJiYgbi5pbmRleE9mKFwiQkVHSU4gXCIpICE9IC0xICYmIG4uaW5kZXhPZihcIkNFUlRJRklDQVRFXCIpICE9IC0xICYmICh0aGlzLmFzbjFDZXJ0SXNzdWVyID0gbmV3IGEuYXNuMS54NTA5Llg1MDBOYW1lKHsgY2VydGlzc3VlcjogbiB9KSk7XG4gIH0sIHRoaXMuc2V0Q2VydFNOQnlQYXJhbSA9IGZ1bmN0aW9uKG4pIHtcbiAgICBpZiAobi5zdHIgIT09IHZvaWQgMCB8fCBuLmJpZ2ludCAhPT0gdm9pZCAwIHx8IG4uaGV4ICE9PSB2b2lkIDApXG4gICAgICB0aGlzLmFzbjFDZXJ0U04gPSBuZXcgYS5hc24xLkRFUkludGVnZXIobik7XG4gICAgZWxzZSBpZiAodHlwZW9mIG4gPT0gXCJzdHJpbmdcIiAmJiBuLmluZGV4T2YoXCJCRUdJTiBcIikgIT0gLTEgJiYgbi5pbmRleE9mKFwiQ0VSVElGSUNBVEVcIikpIHtcbiAgICAgIHZhciBoID0gbmV3IEwoKTtcbiAgICAgIGgucmVhZENlcnRQRU0obik7XG4gICAgICB2YXIgdSA9IGguZ2V0U2VyaWFsTnVtYmVySGV4KCk7XG4gICAgICB0aGlzLmFzbjFDZXJ0U04gPSBuZXcgYS5hc24xLkRFUkludGVnZXIoeyBoZXg6IHUgfSk7XG4gICAgfVxuICB9LCB0aGlzLm9pZCA9IFwiMi41LjI5LjM1XCIsIGUgIT09IHZvaWQgMCAmJiAoZS5raWQgIT09IHZvaWQgMCAmJiB0aGlzLnNldEtJREJ5UGFyYW0oZS5raWQpLCBlLmlzc3VlciAhPT0gdm9pZCAwICYmIHRoaXMuc2V0Q2VydElzc3VlckJ5UGFyYW0oZS5pc3N1ZXIpLCBlLnNuICE9PSB2b2lkIDAgJiYgdGhpcy5zZXRDZXJ0U05CeVBhcmFtKGUuc24pLCBlLmlzc3VlcnNuICE9PSB2b2lkIDAgJiYgdHlwZW9mIGUuaXNzdWVyc24gPT0gXCJzdHJpbmdcIiAmJiBlLmlzc3VlcnNuLmluZGV4T2YoXCJCRUdJTiBcIikgIT0gLTEgJiYgZS5pc3N1ZXJzbi5pbmRleE9mKFwiQ0VSVElGSUNBVEVcIikgJiYgKHRoaXMuc2V0Q2VydFNOQnlQYXJhbShlLmlzc3VlcnNuKSwgdGhpcy5zZXRDZXJ0SXNzdWVyQnlQYXJhbShlLmlzc3VlcnNuKSkpO1xufTtcbk4oYS5hc24xLng1MDkuQXV0aG9yaXR5S2V5SWRlbnRpZmllciwgYS5hc24xLng1MDkuRXh0ZW5zaW9uKTtcbmEuYXNuMS54NTA5LlN1YmplY3RLZXlJZGVudGlmaWVyID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEueDUwOS5TdWJqZWN0S2V5SWRlbnRpZmllci5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgZSk7XG4gIHZhciB0ID0gYSwgciA9IHQuYXNuMSwgaSA9IHIuREVST2N0ZXRTdHJpbmc7XG4gIHRoaXMuYXNuMUtJRCA9IG51bGwsIHRoaXMuZ2V0RXh0blZhbHVlSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuYXNuMUV4dG5WYWx1ZSA9IHRoaXMuYXNuMUtJRCwgdGhpcy5hc24xRXh0blZhbHVlLnRvaGV4KCk7XG4gIH0sIHRoaXMuc2V0S0lEQnlQYXJhbSA9IGZ1bmN0aW9uKHMpIHtcbiAgICBpZiAocy5zdHIgIT09IHZvaWQgMCB8fCBzLmhleCAhPT0gdm9pZCAwKVxuICAgICAgdGhpcy5hc24xS0lEID0gbmV3IGkocyk7XG4gICAgZWxzZSBpZiAodHlwZW9mIHMgPT0gXCJvYmplY3RcIiAmJiBhLmNyeXB0by5VdGlsLmlzS2V5KHMpIHx8IHR5cGVvZiBzID09IFwic3RyaW5nXCIgJiYgcy5pbmRleE9mKFwiQkVHSU5cIikgIT0gLTEpIHtcbiAgICAgIHZhciBuID0gcztcbiAgICAgIHR5cGVvZiBzID09IFwic3RyaW5nXCIgJiYgKG4gPSBrLmdldEtleShzKSk7XG4gICAgICB2YXIgaCA9IGsuZ2V0S2V5SUQobik7XG4gICAgICB0aGlzLmFzbjFLSUQgPSBuZXcgYS5hc24xLkRFUk9jdGV0U3RyaW5nKHsgaGV4OiBoIH0pO1xuICAgIH1cbiAgfSwgdGhpcy5vaWQgPSBcIjIuNS4yOS4xNFwiLCBlICE9PSB2b2lkIDAgJiYgZS5raWQgIT09IHZvaWQgMCAmJiB0aGlzLnNldEtJREJ5UGFyYW0oZS5raWQpO1xufTtcbk4oYS5hc24xLng1MDkuU3ViamVjdEtleUlkZW50aWZpZXIsIGEuYXNuMS54NTA5LkV4dGVuc2lvbik7XG5hLmFzbjEueDUwOS5BdXRob3JpdHlJbmZvQWNjZXNzID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEueDUwOS5BdXRob3JpdHlJbmZvQWNjZXNzLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBlKSwgdGhpcy5zZXRBY2Nlc3NEZXNjcmlwdGlvbkFycmF5ID0gZnVuY3Rpb24odCkge1xuICAgIGZvciAodmFyIHIgPSBuZXcgQXJyYXkoKSwgaSA9IGEsIHMgPSBpLmFzbjEsIG4gPSBzLkRFUlNlcXVlbmNlLCBoID0gcy5ERVJPYmplY3RJZGVudGlmaWVyLCB1ID0gcy54NTA5LkdlbmVyYWxOYW1lLCBwID0gMDsgcCA8IHQubGVuZ3RoOyBwKyspIHtcbiAgICAgIHZhciBjLCB5ID0gdFtwXTtcbiAgICAgIGlmICh5Lm9jc3AgIT09IHZvaWQgMClcbiAgICAgICAgYyA9IG5ldyBuKHsgYXJyYXk6IFtuZXcgaCh7IG9pZDogXCIxLjMuNi4xLjUuNS43LjQ4LjFcIiB9KSwgbmV3IHUoeyB1cmk6IHkub2NzcCB9KV0gfSk7XG4gICAgICBlbHNlIGlmICh5LmNhaXNzdWVyICE9PSB2b2lkIDApXG4gICAgICAgIGMgPSBuZXcgbih7IGFycmF5OiBbbmV3IGgoeyBvaWQ6IFwiMS4zLjYuMS41LjUuNy40OC4yXCIgfSksIG5ldyB1KHsgdXJpOiB5LmNhaXNzdWVyIH0pXSB9KTtcbiAgICAgIGVsc2VcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5rbm93biBBY2Nlc3NNZXRob2QgcGFyYW1ldGVyOiBcIiArIEpTT04uc3RyaW5naWZ5KHkpKTtcbiAgICAgIHIucHVzaChjKTtcbiAgICB9XG4gICAgdGhpcy5hc24xRXh0blZhbHVlID0gbmV3IG4oeyBhcnJheTogciB9KTtcbiAgfSwgdGhpcy5nZXRFeHRuVmFsdWVIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5hc24xRXh0blZhbHVlLnRvaGV4KCk7XG4gIH0sIHRoaXMub2lkID0gXCIxLjMuNi4xLjUuNS43LjEuMVwiLCBlICE9PSB2b2lkIDAgJiYgZS5hcnJheSAhPT0gdm9pZCAwICYmIHRoaXMuc2V0QWNjZXNzRGVzY3JpcHRpb25BcnJheShlLmFycmF5KTtcbn07XG5OKGEuYXNuMS54NTA5LkF1dGhvcml0eUluZm9BY2Nlc3MsIGEuYXNuMS54NTA5LkV4dGVuc2lvbik7XG5hLmFzbjEueDUwOS5TdWJqZWN0QWx0TmFtZSA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLng1MDkuU3ViamVjdEFsdE5hbWUuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIGUpLCB0aGlzLnNldE5hbWVBcnJheSA9IGZ1bmN0aW9uKHQpIHtcbiAgICB0aGlzLmFzbjFFeHRuVmFsdWUgPSBuZXcgYS5hc24xLng1MDkuR2VuZXJhbE5hbWVzKHQpO1xuICB9LCB0aGlzLmdldEV4dG5WYWx1ZUhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmFzbjFFeHRuVmFsdWUudG9oZXgoKTtcbiAgfSwgdGhpcy5vaWQgPSBcIjIuNS4yOS4xN1wiLCBlICE9PSB2b2lkIDAgJiYgZS5hcnJheSAhPT0gdm9pZCAwICYmIHRoaXMuc2V0TmFtZUFycmF5KGUuYXJyYXkpO1xufTtcbk4oYS5hc24xLng1MDkuU3ViamVjdEFsdE5hbWUsIGEuYXNuMS54NTA5LkV4dGVuc2lvbik7XG5hLmFzbjEueDUwOS5Jc3N1ZXJBbHROYW1lID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEueDUwOS5Jc3N1ZXJBbHROYW1lLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBlKSwgdGhpcy5zZXROYW1lQXJyYXkgPSBmdW5jdGlvbih0KSB7XG4gICAgdGhpcy5hc24xRXh0blZhbHVlID0gbmV3IGEuYXNuMS54NTA5LkdlbmVyYWxOYW1lcyh0KTtcbiAgfSwgdGhpcy5nZXRFeHRuVmFsdWVIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5hc24xRXh0blZhbHVlLnRvaGV4KCk7XG4gIH0sIHRoaXMub2lkID0gXCIyLjUuMjkuMThcIiwgZSAhPT0gdm9pZCAwICYmIGUuYXJyYXkgIT09IHZvaWQgMCAmJiB0aGlzLnNldE5hbWVBcnJheShlLmFycmF5KTtcbn07XG5OKGEuYXNuMS54NTA5Lklzc3VlckFsdE5hbWUsIGEuYXNuMS54NTA5LkV4dGVuc2lvbik7XG5hLmFzbjEueDUwOS5TdWJqZWN0RGlyZWN0b3J5QXR0cmlidXRlcyA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLng1MDkuU3ViamVjdERpcmVjdG9yeUF0dHJpYnV0ZXMuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIGUpO1xuICB2YXIgdCA9IGEuYXNuMSwgciA9IHQuREVSU2VxdWVuY2UsIGkgPSB0LkFTTjFVdGlsLm5ld09iamVjdCwgcyA9IHQueDUwOS5PSUQubmFtZTJvaWQ7XG4gIHRoaXMucGFyYW1zID0gbnVsbCwgdGhpcy5nZXRFeHRuVmFsdWVIZXggPSBmdW5jdGlvbigpIHtcbiAgICBmb3IgKHZhciBuID0gW10sIGggPSAwOyBoIDwgdGhpcy5wYXJhbXMuYXJyYXkubGVuZ3RoOyBoKyspIHtcbiAgICAgIHZhciB1ID0gdGhpcy5wYXJhbXMuYXJyYXlbaF07XG4gICAgICBpZiAodS5hdHRyICE9IG51bGwgJiYgdS5hcnJheSAhPSBudWxsKSB7XG4gICAgICAgIHZhciBwID0geyBzZXE6IFt7IG9pZDogdS5hdHRyIH0sIHsgc2V0OiB1LmFycmF5IH1dIH07XG4gICAgICAgIG4ucHVzaChpKHApKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB2YXIgYyA9IHsgc2VxOiBbeyBvaWQ6IFwiMS4yLjMuNFwiIH0sIHsgc2V0OiBbeyB1dGY4c3RyOiBcIkRFXCIgfV0gfV0gfTtcbiAgICAgIGlmICh1LmF0dHIgPT0gXCJkYXRlT2ZCaXJ0aFwiKVxuICAgICAgICBjLnNlcVswXS5vaWQgPSBzKHUuYXR0ciksIGMuc2VxWzFdLnNldFswXSA9IHsgZ2VudGltZTogdS5zdHIgfTtcbiAgICAgIGVsc2UgaWYgKHUuYXR0ciA9PSBcInBsYWNlT2ZCaXJ0aFwiKVxuICAgICAgICBjLnNlcVswXS5vaWQgPSBzKHUuYXR0ciksIGMuc2VxWzFdLnNldFswXSA9IHsgdXRmOHN0cjogdS5zdHIgfTtcbiAgICAgIGVsc2UgaWYgKHUuYXR0ciA9PSBcImdlbmRlclwiKVxuICAgICAgICBjLnNlcVswXS5vaWQgPSBzKHUuYXR0ciksIGMuc2VxWzFdLnNldFswXSA9IHsgcHJuc3RyOiB1LnN0ciB9O1xuICAgICAgZWxzZSBpZiAodS5hdHRyID09IFwiY291bnRyeU9mQ2l0aXplbnNoaXBcIilcbiAgICAgICAgYy5zZXFbMF0ub2lkID0gcyh1LmF0dHIpLCBjLnNlcVsxXS5zZXRbMF0gPSB7IHBybnN0cjogdS5zdHIgfTtcbiAgICAgIGVsc2UgaWYgKHUuYXR0ciA9PSBcImNvdW50cnlPZlJlc2lkZW5jZVwiKVxuICAgICAgICBjLnNlcVswXS5vaWQgPSBzKHUuYXR0ciksIGMuc2VxWzFdLnNldFswXSA9IHsgcHJuc3RyOiB1LnN0ciB9O1xuICAgICAgZWxzZVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1bnN1cHBvcnRlZCBhdHRyaWJ1dGU6IFwiICsgdS5hdHRyKTtcbiAgICAgIG4ucHVzaChuZXcgaShjKSk7XG4gICAgfVxuICAgIHZhciB5ID0gbmV3IHIoeyBhcnJheTogbiB9KTtcbiAgICByZXR1cm4gdGhpcy5hc24xRXh0blZhbHVlID0geSwgdGhpcy5hc24xRXh0blZhbHVlLnRvaGV4KCk7XG4gIH0sIHRoaXMub2lkID0gXCIyLjUuMjkuOVwiLCBlICE9PSB2b2lkIDAgJiYgKHRoaXMucGFyYW1zID0gZSk7XG59O1xuTihhLmFzbjEueDUwOS5TdWJqZWN0RGlyZWN0b3J5QXR0cmlidXRlcywgYS5hc24xLng1MDkuRXh0ZW5zaW9uKTtcbmEuYXNuMS54NTA5LlByaXZhdGVFeHRlbnNpb24gPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS54NTA5LlByaXZhdGVFeHRlbnNpb24uc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIGUpO1xuICB2YXIgdCA9IGEsIHIgPSB0LmxhbmcuU3RyaW5nLmlzSGV4LCBpID0gdC5hc24xLCBzID0gaS54NTA5Lk9JRC5uYW1lMm9pZCwgbiA9IGkuQVNOMVV0aWwubmV3T2JqZWN0O1xuICB0aGlzLnBhcmFtcyA9IG51bGwsIHRoaXMuc2V0QnlQYXJhbSA9IGZ1bmN0aW9uKGgpIHtcbiAgICB0aGlzLm9pZCA9IHMoaC5leHRuYW1lKSwgdGhpcy5wYXJhbXMgPSBoO1xuICB9LCB0aGlzLmdldEV4dG5WYWx1ZUhleCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLnBhcmFtcy5leHRuYW1lID09IG51bGwgfHwgdGhpcy5wYXJhbXMuZXh0biA9PSBudWxsKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZXh0bmFtZSBvciBleHRuaGV4IG5vdCBzcGVjaWZpZWRcIik7XG4gICAgdmFyIGggPSB0aGlzLnBhcmFtcy5leHRuO1xuICAgIGlmICh0eXBlb2YgaCA9PSBcInN0cmluZ1wiICYmIHIoaCkpXG4gICAgICByZXR1cm4gaDtcbiAgICBpZiAodHlwZW9mIGggPT0gXCJvYmplY3RcIilcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBuKGgpLnRvaGV4KCk7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1bnN1cHBvcnRlZCBleHRuIHZhbHVlXCIpO1xuICB9LCBlICE9IG51bGwgJiYgdGhpcy5zZXRCeVBhcmFtKGUpO1xufTtcbk4oYS5hc24xLng1MDkuUHJpdmF0ZUV4dGVuc2lvbiwgYS5hc24xLng1MDkuRXh0ZW5zaW9uKTtcbmEuYXNuMS54NTA5LkNSTCA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLng1MDkuQ1JMLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTtcbiAgdmFyIHQgPSBhLCByID0gdC5hc24xLCBpID0gci5ERVJTZXF1ZW5jZSwgcyA9IHIuREVSQml0U3RyaW5nLCBuID0gci54NTA5LCBoID0gbi5BbGdvcml0aG1JZGVudGlmaWVyLCB1ID0gbi5UQlNDZXJ0TGlzdDtcbiAgdGhpcy5wYXJhbXMgPSB2b2lkIDAsIHRoaXMuc2V0QnlQYXJhbSA9IGZ1bmN0aW9uKHApIHtcbiAgICB0aGlzLnBhcmFtcyA9IHA7XG4gIH0sIHRoaXMuc2lnbiA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBwID0gbmV3IHUodGhpcy5wYXJhbXMpLnRvaGV4KCksIGMgPSBuZXcgYS5jcnlwdG8uU2lnbmF0dXJlKHsgYWxnOiB0aGlzLnBhcmFtcy5zaWdhbGcgfSk7XG4gICAgYy5pbml0KHRoaXMucGFyYW1zLmNha2V5KSwgYy51cGRhdGVIZXgocCk7XG4gICAgdmFyIHkgPSBjLnNpZ24oKTtcbiAgICB0aGlzLnBhcmFtcy5zaWdoZXggPSB5O1xuICB9LCB0aGlzLmdldFBFTSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBkZSh0aGlzLnRvaGV4KCksIFwiWDUwOSBDUkxcIik7XG4gIH0sIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcCA9IHRoaXMucGFyYW1zO1xuICAgIGlmIChwLnRic29iaiA9PSBudWxsICYmIChwLnRic29iaiA9IG5ldyB1KHApKSwgcC5zaWdoZXggPT0gbnVsbCAmJiBwLmNha2V5ICE9IG51bGwgJiYgdGhpcy5zaWduKCksIHAuc2lnaGV4ID09IG51bGwpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJzaWdoZXggb3IgY2FrZXkgcGFyYW1ldGVyIG5vdCBkZWZpbmVkXCIpO1xuICAgIHZhciBjID0gW107XG4gICAgYy5wdXNoKHAudGJzb2JqKSwgYy5wdXNoKG5ldyBoKHsgbmFtZTogcC5zaWdhbGcgfSkpLCBjLnB1c2gobmV3IHMoeyBoZXg6IFwiMDBcIiArIHAuc2lnaGV4IH0pKTtcbiAgICB2YXIgeSA9IG5ldyBpKHsgYXJyYXk6IGMgfSk7XG4gICAgcmV0dXJuIHkudG9oZXgoKTtcbiAgfSwgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9oZXgoKTtcbiAgfSwgZSAhPSBudWxsICYmICh0aGlzLnBhcmFtcyA9IGUpO1xufTtcbk4oYS5hc24xLng1MDkuQ1JMLCBhLmFzbjEuQVNOMU9iamVjdCk7XG5hLmFzbjEueDUwOS5UQlNDZXJ0TGlzdCA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLng1MDkuVEJTQ2VydExpc3Quc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO1xuICB2YXIgdCA9IGEsIHIgPSB0LmFzbjEsIGkgPSByLkRFUkludGVnZXIsIHMgPSByLkRFUlNlcXVlbmNlLCBuID0gci5ERVJUYWdnZWRPYmplY3Q7XG4gIHIuREVST2JqZWN0SWRlbnRpZmllcjtcbiAgdmFyIGggPSByLng1MDksIHUgPSBoLkFsZ29yaXRobUlkZW50aWZpZXIsIHAgPSBoLlRpbWUsIGMgPSBoLkV4dGVuc2lvbnMsIHkgPSBoLlg1MDBOYW1lO1xuICB0aGlzLnBhcmFtcyA9IG51bGwsIHRoaXMuc2V0QnlQYXJhbSA9IGZ1bmN0aW9uKHYpIHtcbiAgICB0aGlzLnBhcmFtcyA9IHY7XG4gIH0sIHRoaXMuZ2V0UmV2Q2VydFNlcXVlbmNlID0gZnVuY3Rpb24oKSB7XG4gICAgZm9yICh2YXIgdiA9IFtdLCBvID0gdGhpcy5wYXJhbXMucmV2Y2VydCwgbCA9IDA7IGwgPCBvLmxlbmd0aDsgbCsrKSB7XG4gICAgICB2YXIgZiA9IFtuZXcgaShvW2xdLnNuKSwgbmV3IHAob1tsXS5kYXRlKV07XG4gICAgICBvW2xdLmV4dCAhPSBudWxsICYmIGYucHVzaChuZXcgYyhvW2xdLmV4dCkpLCB2LnB1c2gobmV3IHMoeyBhcnJheTogZiB9KSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgcyh7IGFycmF5OiB2IH0pO1xuICB9LCB0aGlzLnRvaGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHYgPSBbXSwgbyA9IHRoaXMucGFyYW1zO1xuICAgIGlmIChvLnZlcnNpb24gIT0gbnVsbCkge1xuICAgICAgdmFyIGwgPSBvLnZlcnNpb24gLSAxLCBmID0gbmV3IGkoeyBpbnQ6IGwgfSk7XG4gICAgICB2LnB1c2goZik7XG4gICAgfVxuICAgIGlmICh2LnB1c2gobmV3IHUoeyBuYW1lOiBvLnNpZ2FsZyB9KSksIHYucHVzaChuZXcgeShvLmlzc3VlcikpLCB2LnB1c2gobmV3IHAoby50aGlzdXBkYXRlKSksIG8ubmV4dHVwZGF0ZSAhPSBudWxsICYmIHYucHVzaChuZXcgcChvLm5leHR1cGRhdGUpKSwgby5yZXZjZXJ0ICE9IG51bGwgJiYgdi5wdXNoKHRoaXMuZ2V0UmV2Q2VydFNlcXVlbmNlKCkpLCBvLmV4dCAhPSBudWxsKSB7XG4gICAgICB2YXIgZCA9IG5ldyBjKG8uZXh0KTtcbiAgICAgIHYucHVzaChuZXcgbih7IHRhZzogXCJhMFwiLCBleHBsaWNpdDogITAsIG9iajogZCB9KSk7XG4gICAgfVxuICAgIHZhciBnID0gbmV3IHMoeyBhcnJheTogdiB9KTtcbiAgICByZXR1cm4gZy50b2hleCgpO1xuICB9LCB0aGlzLmdldEVuY29kZWRIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b2hleCgpO1xuICB9LCBlICE9PSB2b2lkIDAgJiYgdGhpcy5zZXRCeVBhcmFtKGUpO1xufTtcbk4oYS5hc24xLng1MDkuVEJTQ2VydExpc3QsIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS54NTA5LkNSTEVudHJ5ID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEueDUwOS5DUkxFbnRyeS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7XG4gIHZhciB0ID0gYSwgciA9IHQuYXNuMTtcbiAgdGhpcy5zZXRDZXJ0U2VyaWFsID0gZnVuY3Rpb24oaSkge1xuICAgIHRoaXMuc24gPSBuZXcgci5ERVJJbnRlZ2VyKGkpO1xuICB9LCB0aGlzLnNldFJldm9jYXRpb25EYXRlID0gZnVuY3Rpb24oaSkge1xuICAgIHRoaXMudGltZSA9IG5ldyByLng1MDkuVGltZShpKTtcbiAgfSwgdGhpcy50b2hleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpID0gbmV3IHIuREVSU2VxdWVuY2UoeyBhcnJheTogW3RoaXMuc24sIHRoaXMudGltZV0gfSk7XG4gICAgcmV0dXJuIHRoaXMuVExWID0gaS50b2hleCgpLCB0aGlzLlRMVjtcbiAgfSwgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9oZXgoKTtcbiAgfSwgZSAhPT0gdm9pZCAwICYmIChlLnRpbWUgIT09IHZvaWQgMCAmJiB0aGlzLnNldFJldm9jYXRpb25EYXRlKGUudGltZSksIGUuc24gIT09IHZvaWQgMCAmJiB0aGlzLnNldENlcnRTZXJpYWwoZS5zbikpO1xufTtcbk4oYS5hc24xLng1MDkuQ1JMRW50cnksIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS54NTA5LkNSTE51bWJlciA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLng1MDkuQ1JMTnVtYmVyLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBlKSwgdGhpcy5wYXJhbXMgPSB2b2lkIDAsIHRoaXMuZ2V0RXh0blZhbHVlSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuYXNuMUV4dG5WYWx1ZSA9IG5ldyBhLmFzbjEuREVSSW50ZWdlcih0aGlzLnBhcmFtcy5udW0pLCB0aGlzLmFzbjFFeHRuVmFsdWUudG9oZXgoKTtcbiAgfSwgdGhpcy5vaWQgPSBcIjIuNS4yOS4yMFwiLCBlICE9IG51bGwgJiYgKHRoaXMucGFyYW1zID0gZSk7XG59O1xuTihhLmFzbjEueDUwOS5DUkxOdW1iZXIsIGEuYXNuMS54NTA5LkV4dGVuc2lvbik7XG5hLmFzbjEueDUwOS5DUkxSZWFzb24gPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS54NTA5LkNSTFJlYXNvbi5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgZSksIHRoaXMucGFyYW1zID0gdm9pZCAwLCB0aGlzLmdldEV4dG5WYWx1ZUhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmFzbjFFeHRuVmFsdWUgPSBuZXcgYS5hc24xLkRFUkVudW1lcmF0ZWQodGhpcy5wYXJhbXMuY29kZSksIHRoaXMuYXNuMUV4dG5WYWx1ZS50b2hleCgpO1xuICB9LCB0aGlzLm9pZCA9IFwiMi41LjI5LjIxXCIsIGUgIT0gbnVsbCAmJiAodGhpcy5wYXJhbXMgPSBlKTtcbn07XG5OKGEuYXNuMS54NTA5LkNSTFJlYXNvbiwgYS5hc24xLng1MDkuRXh0ZW5zaW9uKTtcbmEuYXNuMS54NTA5Lk9DU1BOb25jZSA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLng1MDkuT0NTUE5vbmNlLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBlKSwgdGhpcy5wYXJhbXMgPSB2b2lkIDAsIHRoaXMuZ2V0RXh0blZhbHVlSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuYXNuMUV4dG5WYWx1ZSA9IG5ldyBhLmFzbjEuREVST2N0ZXRTdHJpbmcodGhpcy5wYXJhbXMpLCB0aGlzLmFzbjFFeHRuVmFsdWUudG9oZXgoKTtcbiAgfSwgdGhpcy5vaWQgPSBcIjEuMy42LjEuNS41LjcuNDguMS4yXCIsIGUgIT0gbnVsbCAmJiAodGhpcy5wYXJhbXMgPSBlKTtcbn07XG5OKGEuYXNuMS54NTA5Lk9DU1BOb25jZSwgYS5hc24xLng1MDkuRXh0ZW5zaW9uKTtcbmEuYXNuMS54NTA5Lk9DU1BOb0NoZWNrID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEueDUwOS5PQ1NQTm9DaGVjay5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgZSksIHRoaXMucGFyYW1zID0gdm9pZCAwLCB0aGlzLmdldEV4dG5WYWx1ZUhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmFzbjFFeHRuVmFsdWUgPSBuZXcgYS5hc24xLkRFUk51bGwoKSwgdGhpcy5hc24xRXh0blZhbHVlLnRvaGV4KCk7XG4gIH0sIHRoaXMub2lkID0gXCIxLjMuNi4xLjUuNS43LjQ4LjEuNVwiLCBlICE9IG51bGwgJiYgKHRoaXMucGFyYW1zID0gZSk7XG59O1xuTihhLmFzbjEueDUwOS5PQ1NQTm9DaGVjaywgYS5hc24xLng1MDkuRXh0ZW5zaW9uKTtcbmEuYXNuMS54NTA5LkFkb2JlVGltZVN0YW1wID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEueDUwOS5BZG9iZVRpbWVTdGFtcC5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgZSk7XG4gIHZhciB0ID0gYSwgciA9IHQuYXNuMSwgaSA9IHIuREVSSW50ZWdlciwgcyA9IHIuREVSQm9vbGVhbiwgbiA9IHIuREVSU2VxdWVuY2UsIGggPSByLng1MDkuR2VuZXJhbE5hbWU7XG4gIHRoaXMucGFyYW1zID0gbnVsbCwgdGhpcy5nZXRFeHRuVmFsdWVIZXggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgdSA9IHRoaXMucGFyYW1zLCBwID0gW25ldyBpKDEpXTtcbiAgICByZXR1cm4gcC5wdXNoKG5ldyBoKHsgdXJpOiB1LnVyaSB9KSksIHUucmVxYXV0aCAhPSBudWxsICYmIHAucHVzaChuZXcgcyh1LnJlcWF1dGgpKSwgdGhpcy5hc24xRXh0blZhbHVlID0gbmV3IG4oeyBhcnJheTogcCB9KSwgdGhpcy5hc24xRXh0blZhbHVlLnRvaGV4KCk7XG4gIH0sIHRoaXMub2lkID0gXCIxLjIuODQwLjExMzU4My4xLjEuOS4xXCIsIGUgIT09IHZvaWQgMCAmJiB0aGlzLnNldEJ5UGFyYW0oZSk7XG59O1xuTihhLmFzbjEueDUwOS5BZG9iZVRpbWVTdGFtcCwgYS5hc24xLng1MDkuRXh0ZW5zaW9uKTtcbmEuYXNuMS54NTA5Llg1MDBOYW1lID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEueDUwOS5YNTAwTmFtZS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksIHRoaXMuYXNuMUFycmF5ID0gW10sIHRoaXMucGFyYW1BcnJheSA9IFtdLCB0aGlzLnNSdWxlID0gXCJ1dGY4XCI7XG4gIHZhciB0ID0gYSwgciA9IHQuYXNuMSwgaSA9IHIueDUwOSwgcyA9IGkuUkROO1xuICB0aGlzLnNldEJ5U3RyaW5nID0gZnVuY3Rpb24obiwgaCkge1xuICAgIGggIT09IHZvaWQgMCAmJiAodGhpcy5zUnVsZSA9IGgpO1xuICAgIHZhciB1ID0gbi5zcGxpdChcIi9cIik7XG4gICAgdS5zaGlmdCgpO1xuICAgIGZvciAodmFyIHAgPSBbXSwgYyA9IDA7IGMgPCB1Lmxlbmd0aDsgYysrKVxuICAgICAgaWYgKHVbY10ubWF0Y2goL15bXj1dKz0uKyQvKSlcbiAgICAgICAgcC5wdXNoKHVbY10pO1xuICAgICAgZWxzZSB7XG4gICAgICAgIHZhciB5ID0gcC5sZW5ndGggLSAxO1xuICAgICAgICBwW3ldID0gcFt5XSArIFwiL1wiICsgdVtjXTtcbiAgICAgIH1cbiAgICBmb3IgKHZhciBjID0gMDsgYyA8IHAubGVuZ3RoOyBjKyspXG4gICAgICB0aGlzLmFzbjFBcnJheS5wdXNoKG5ldyBzKHsgc3RyOiBwW2NdLCBydWxlOiB0aGlzLnNSdWxlIH0pKTtcbiAgfSwgdGhpcy5zZXRCeUxkYXBTdHJpbmcgPSBmdW5jdGlvbihuLCBoKSB7XG4gICAgaCAhPT0gdm9pZCAwICYmICh0aGlzLnNSdWxlID0gaCk7XG4gICAgdmFyIHUgPSBpLlg1MDBOYW1lLmxkYXBUb0NvbXBhdChuKTtcbiAgICB0aGlzLnNldEJ5U3RyaW5nKHUsIGgpO1xuICB9LCB0aGlzLnNldEJ5T2JqZWN0ID0gZnVuY3Rpb24obiwgaCkge1xuICAgIGggIT09IHZvaWQgMCAmJiAodGhpcy5zUnVsZSA9IGgpO1xuICAgIGZvciAodmFyIHUgaW4gbilcbiAgICAgIGlmIChuLmhhc093blByb3BlcnR5KHUpKSB7XG4gICAgICAgIHZhciBwID0gbmV3IHMoeyBzdHI6IHUgKyBcIj1cIiArIG5bdV0sIHJ1bGU6IHRoaXMuc1J1bGUgfSk7XG4gICAgICAgIHRoaXMuYXNuMUFycmF5ID8gdGhpcy5hc24xQXJyYXkucHVzaChwKSA6IHRoaXMuYXNuMUFycmF5ID0gW3BdO1xuICAgICAgfVxuICB9LCB0aGlzLnNldEJ5UGFyYW0gPSBmdW5jdGlvbihuKSB7XG4gICAgaWYgKG4ucnVsZSAhPT0gdm9pZCAwICYmICh0aGlzLnNSdWxlID0gbi5ydWxlKSwgbi5hcnJheSAhPT0gdm9pZCAwKVxuICAgICAgdGhpcy5wYXJhbUFycmF5ID0gbi5hcnJheTtcbiAgICBlbHNlIGlmIChuLnN0ciAhPT0gdm9pZCAwKVxuICAgICAgdGhpcy5zZXRCeVN0cmluZyhuLnN0cik7XG4gICAgZWxzZSBpZiAobi5sZGFwc3RyICE9PSB2b2lkIDApXG4gICAgICB0aGlzLnNldEJ5TGRhcFN0cmluZyhuLmxkYXBzdHIpO1xuICAgIGVsc2UgaWYgKG4uaGV4ICE9PSB2b2lkIDApXG4gICAgICB0aGlzLmhUTFYgPSBuLmhleDtcbiAgICBlbHNlIGlmIChuLmNlcnRpc3N1ZXIgIT09IHZvaWQgMCkge1xuICAgICAgdmFyIGggPSBuZXcgTCgpO1xuICAgICAgaC5yZWFkQ2VydFBFTShuLmNlcnRpc3N1ZXIpLCB0aGlzLmhUTFYgPSBoLmdldElzc3VlckhleCgpO1xuICAgIH0gZWxzZSBpZiAobi5jZXJ0c3ViamVjdCAhPT0gdm9pZCAwKSB7XG4gICAgICB2YXIgaCA9IG5ldyBMKCk7XG4gICAgICBoLnJlYWRDZXJ0UEVNKG4uY2VydHN1YmplY3QpLCB0aGlzLmhUTFYgPSBoLmdldFN1YmplY3RIZXgoKTtcbiAgICB9IGVsc2VcbiAgICAgIHR5cGVvZiBuID09IFwib2JqZWN0XCIgJiYgbi5jZXJ0c3ViamVjdCA9PT0gdm9pZCAwICYmIG4uY2VydGlzc3VlciA9PT0gdm9pZCAwICYmIHRoaXMuc2V0QnlPYmplY3Qobik7XG4gIH0sIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodHlwZW9mIHRoaXMuaFRMViA9PSBcInN0cmluZ1wiKVxuICAgICAgcmV0dXJuIHRoaXMuaFRMVjtcbiAgICBpZiAodGhpcy5hc24xQXJyYXkubGVuZ3RoID09IDAgJiYgdGhpcy5wYXJhbUFycmF5Lmxlbmd0aCA+IDApXG4gICAgICBmb3IgKHZhciBuID0gMDsgbiA8IHRoaXMucGFyYW1BcnJheS5sZW5ndGg7IG4rKykge1xuICAgICAgICB2YXIgaCA9IHsgYXJyYXk6IHRoaXMucGFyYW1BcnJheVtuXSB9O1xuICAgICAgICB0aGlzLnNSdWxlICE9IFwidXRmOFwiICYmIChoLnJ1bGUgPSB0aGlzLnNSdWxlKTtcbiAgICAgICAgdmFyIHUgPSBuZXcgcyhoKTtcbiAgICAgICAgdGhpcy5hc24xQXJyYXkucHVzaCh1KTtcbiAgICAgIH1cbiAgICB2YXIgcCA9IG5ldyByLkRFUlNlcXVlbmNlKHsgYXJyYXk6IHRoaXMuYXNuMUFycmF5IH0pO1xuICAgIHJldHVybiB0aGlzLmhUTFYgPSBwLnRvaGV4KCksIHRoaXMuaFRMVjtcbiAgfSwgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9oZXgoKTtcbiAgfSwgZSAhPT0gdm9pZCAwICYmIHRoaXMuc2V0QnlQYXJhbShlKTtcbn07XG5OKGEuYXNuMS54NTA5Llg1MDBOYW1lLCBhLmFzbjEuQVNOMU9iamVjdCk7XG5hLmFzbjEueDUwOS5YNTAwTmFtZS5jb21wYXRUb0xEQVAgPSBmdW5jdGlvbihlKSB7XG4gIGlmIChlLnN1YnN0cigwLCAxKSAhPT0gXCIvXCIpXG4gICAgdGhyb3cgXCJtYWxmb3JtZWQgaW5wdXRcIjtcbiAgZSA9IGUuc3Vic3RyKDEpO1xuICB2YXIgdCA9IGUuc3BsaXQoXCIvXCIpO1xuICByZXR1cm4gdC5yZXZlcnNlKCksIHQgPSB0Lm1hcChmdW5jdGlvbihyKSB7XG4gICAgcmV0dXJuIHIucmVwbGFjZSgvLC8sIFwiXFxcXCxcIik7XG4gIH0pLCB0LmpvaW4oXCIsXCIpO1xufTtcbmEuYXNuMS54NTA5Llg1MDBOYW1lLm9uZWxpbmVUb0xEQVAgPSBmdW5jdGlvbihlKSB7XG4gIHJldHVybiBhLmFzbjEueDUwOS5YNTAwTmFtZS5jb21wYXRUb0xEQVAoZSk7XG59O1xuYS5hc24xLng1MDkuWDUwME5hbWUubGRhcFRvQ29tcGF0ID0gZnVuY3Rpb24oZSkge1xuICBmb3IgKHZhciB0ID0gZS5zcGxpdChcIixcIiksIHIgPSAhMSwgaSA9IFtdLCBzID0gMDsgdC5sZW5ndGggPiAwOyBzKyspIHtcbiAgICB2YXIgbiA9IHQuc2hpZnQoKTtcbiAgICBpZiAociA9PT0gITApIHtcbiAgICAgIHZhciBoID0gaS5wb3AoKSwgdSA9IChoICsgXCIsXCIgKyBuKS5yZXBsYWNlKC9cXFxcLC9nLCBcIixcIik7XG4gICAgICBpLnB1c2godSksIHIgPSAhMTtcbiAgICB9IGVsc2VcbiAgICAgIGkucHVzaChuKTtcbiAgICBuLnN1YnN0cigtMSwgMSkgPT09IFwiXFxcXFwiICYmIChyID0gITApO1xuICB9XG4gIHJldHVybiBpID0gaS5tYXAoZnVuY3Rpb24ocCkge1xuICAgIHJldHVybiBwLnJlcGxhY2UoXCIvXCIsIFwiXFxcXC9cIik7XG4gIH0pLCBpLnJldmVyc2UoKSwgXCIvXCIgKyBpLmpvaW4oXCIvXCIpO1xufTtcbmEuYXNuMS54NTA5Llg1MDBOYW1lLmxkYXBUb09uZWxpbmUgPSBmdW5jdGlvbihlKSB7XG4gIHJldHVybiBhLmFzbjEueDUwOS5YNTAwTmFtZS5sZGFwVG9Db21wYXQoZSk7XG59O1xuYS5hc24xLng1MDkuUkROID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEueDUwOS5SRE4uc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLCB0aGlzLmFzbjFBcnJheSA9IFtdLCB0aGlzLnBhcmFtQXJyYXkgPSBbXSwgdGhpcy5zUnVsZSA9IFwidXRmOFwiO1xuICB2YXIgdCA9IGEuYXNuMS54NTA5LkF0dHJpYnV0ZVR5cGVBbmRWYWx1ZTtcbiAgdGhpcy5zZXRCeVBhcmFtID0gZnVuY3Rpb24ocikge1xuICAgIHIucnVsZSAhPT0gdm9pZCAwICYmICh0aGlzLnNSdWxlID0gci5ydWxlKSwgci5zdHIgIT09IHZvaWQgMCAmJiB0aGlzLmFkZEJ5TXVsdGlWYWx1ZWRTdHJpbmcoci5zdHIpLCByLmFycmF5ICE9PSB2b2lkIDAgJiYgKHRoaXMucGFyYW1BcnJheSA9IHIuYXJyYXkpO1xuICB9LCB0aGlzLmFkZEJ5U3RyaW5nID0gZnVuY3Rpb24ocikge1xuICAgIHRoaXMuYXNuMUFycmF5LnB1c2gobmV3IGEuYXNuMS54NTA5LkF0dHJpYnV0ZVR5cGVBbmRWYWx1ZSh7IHN0cjogciwgcnVsZTogdGhpcy5zUnVsZSB9KSk7XG4gIH0sIHRoaXMuYWRkQnlNdWx0aVZhbHVlZFN0cmluZyA9IGZ1bmN0aW9uKHIpIHtcbiAgICBmb3IgKHZhciBpID0gYS5hc24xLng1MDkuUkROLnBhcnNlU3RyaW5nKHIpLCBzID0gMDsgcyA8IGkubGVuZ3RoOyBzKyspXG4gICAgICB0aGlzLmFkZEJ5U3RyaW5nKGlbc10pO1xuICB9LCB0aGlzLnRvaGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuYXNuMUFycmF5Lmxlbmd0aCA9PSAwICYmIHRoaXMucGFyYW1BcnJheS5sZW5ndGggPiAwKVxuICAgICAgZm9yICh2YXIgciA9IDA7IHIgPCB0aGlzLnBhcmFtQXJyYXkubGVuZ3RoOyByKyspIHtcbiAgICAgICAgdmFyIGkgPSB0aGlzLnBhcmFtQXJyYXlbcl07XG4gICAgICAgIGkucnVsZSAhPT0gdm9pZCAwICYmIHRoaXMuc1J1bGUgIT0gXCJ1dGY4XCIgJiYgKGkucnVsZSA9IHRoaXMuc1J1bGUpO1xuICAgICAgICB2YXIgcyA9IG5ldyB0KGkpO1xuICAgICAgICB0aGlzLmFzbjFBcnJheS5wdXNoKHMpO1xuICAgICAgfVxuICAgIHZhciBuID0gbmV3IGEuYXNuMS5ERVJTZXQoeyBhcnJheTogdGhpcy5hc24xQXJyYXkgfSk7XG4gICAgcmV0dXJuIHRoaXMuVExWID0gbi50b2hleCgpLCB0aGlzLlRMVjtcbiAgfSwgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9oZXgoKTtcbiAgfSwgZSAhPT0gdm9pZCAwICYmIHRoaXMuc2V0QnlQYXJhbShlKTtcbn07XG5OKGEuYXNuMS54NTA5LlJETiwgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLng1MDkuUkROLnBhcnNlU3RyaW5nID0gZnVuY3Rpb24oZSkge1xuICBmb3IgKHZhciB0ID0gZS5zcGxpdCgvXFwrLyksIHIgPSAhMSwgaSA9IFtdLCBzID0gMDsgdC5sZW5ndGggPiAwOyBzKyspIHtcbiAgICB2YXIgbiA9IHQuc2hpZnQoKTtcbiAgICBpZiAociA9PT0gITApIHtcbiAgICAgIHZhciBoID0gaS5wb3AoKSwgdSA9IChoICsgXCIrXCIgKyBuKS5yZXBsYWNlKC9cXFxcXFwrL2csIFwiK1wiKTtcbiAgICAgIGkucHVzaCh1KSwgciA9ICExO1xuICAgIH0gZWxzZVxuICAgICAgaS5wdXNoKG4pO1xuICAgIG4uc3Vic3RyKC0xLCAxKSA9PT0gXCJcXFxcXCIgJiYgKHIgPSAhMCk7XG4gIH1cbiAgZm9yICh2YXIgcCA9ICExLCBjID0gW10sIHMgPSAwOyBpLmxlbmd0aCA+IDA7IHMrKykge1xuICAgIHZhciBuID0gaS5zaGlmdCgpO1xuICAgIGlmIChwID09PSAhMCkge1xuICAgICAgdmFyIHkgPSBjLnBvcCgpO1xuICAgICAgaWYgKG4ubWF0Y2goL1wiJC8pKSB7XG4gICAgICAgIHZhciB1ID0gKHkgKyBcIitcIiArIG4pLnJlcGxhY2UoL14oW149XSspPVwiKC4qKVwiJC8sIFwiJDE9JDJcIik7XG4gICAgICAgIGMucHVzaCh1KSwgcCA9ICExO1xuICAgICAgfSBlbHNlXG4gICAgICAgIGMucHVzaCh5ICsgXCIrXCIgKyBuKTtcbiAgICB9IGVsc2VcbiAgICAgIGMucHVzaChuKTtcbiAgICBuLm1hdGNoKC9eW149XSs9XCIvKSAmJiAocCA9ICEwKTtcbiAgfVxuICByZXR1cm4gYztcbn07XG5hLmFzbjEueDUwOS5BdHRyaWJ1dGVUeXBlQW5kVmFsdWUgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS54NTA5LkF0dHJpYnV0ZVR5cGVBbmRWYWx1ZS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksIHRoaXMuc1J1bGUgPSBcInV0ZjhcIiwgdGhpcy5zVHlwZSA9IG51bGwsIHRoaXMuc1ZhbHVlID0gbnVsbCwgdGhpcy5kc1R5cGUgPSBudWxsO1xuICB2YXIgdCA9IGEsIHIgPSB0LmFzbjEsIGkgPSByLkRFUlNlcXVlbmNlLCBzID0gci5ERVJVVEY4U3RyaW5nLCBuID0gci5ERVJQcmludGFibGVTdHJpbmcsIGggPSByLkRFUlRlbGV0ZXhTdHJpbmcsIHUgPSByLkRFUklBNVN0cmluZywgcCA9IHIuREVSVmlzaWJsZVN0cmluZywgYyA9IHIuREVSQk1QU3RyaW5nLCB5ID0gdC5sYW5nLlN0cmluZy5pc01haWwsIHYgPSB0LmxhbmcuU3RyaW5nLmlzUHJpbnRhYmxlO1xuICB0aGlzLnNldEJ5UGFyYW0gPSBmdW5jdGlvbihvKSB7XG4gICAgaWYgKG8ucnVsZSAhPT0gdm9pZCAwICYmICh0aGlzLnNSdWxlID0gby5ydWxlKSwgby5kcyAhPT0gdm9pZCAwICYmICh0aGlzLmRzVHlwZSA9IG8uZHMpLCBvLnZhbHVlID09PSB2b2lkIDAgJiYgby5zdHIgIT09IHZvaWQgMCkge1xuICAgICAgdmFyIGwgPSBvLnN0ciwgZiA9IGwubWF0Y2goL14oW149XSspPSguKykkLyk7XG4gICAgICBpZiAoZilcbiAgICAgICAgdGhpcy5zVHlwZSA9IGZbMV0sIHRoaXMuc1ZhbHVlID0gZlsyXTtcbiAgICAgIGVsc2VcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibWFsZm9ybWVkIGF0dHJUeXBlQW5kVmFsdWVTdHI6IFwiICsgYXR0clR5cGVBbmRWYWx1ZVN0cik7XG4gICAgfSBlbHNlXG4gICAgICB0aGlzLnNUeXBlID0gby50eXBlLCB0aGlzLnNWYWx1ZSA9IG8udmFsdWU7XG4gIH0sIHRoaXMuc2V0QnlTdHJpbmcgPSBmdW5jdGlvbihvLCBsKSB7XG4gICAgbCAhPT0gdm9pZCAwICYmICh0aGlzLnNSdWxlID0gbCk7XG4gICAgdmFyIGYgPSBvLm1hdGNoKC9eKFtePV0rKT0oLispJC8pO1xuICAgIGlmIChmKVxuICAgICAgdGhpcy5zZXRCeUF0dHJUeXBlQW5kVmFsdWVTdHIoZlsxXSwgZlsyXSk7XG4gICAgZWxzZVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwibWFsZm9ybWVkIGF0dHJUeXBlQW5kVmFsdWVTdHI6IFwiICsgYXR0clR5cGVBbmRWYWx1ZVN0cik7XG4gIH0sIHRoaXMuX2dldERzVHlwZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBvID0gdGhpcy5zVHlwZSwgbCA9IHRoaXMuc1ZhbHVlLCBmID0gdGhpcy5zUnVsZTtcbiAgICByZXR1cm4gZiA9PT0gXCJwcm5cIiA/IG8gPT0gXCJDTlwiICYmIHkobCkgPyBcImlhNVwiIDogdihsKSA/IFwicHJuXCIgOiBcInV0ZjhcIiA6IGYgPT09IFwidXRmOFwiID8gbyA9PSBcIkNOXCIgJiYgeShsKSA/IFwiaWE1XCIgOiBvID09IFwiQ1wiID8gXCJwcm5cIiA6IFwidXRmOFwiIDogXCJ1dGY4XCI7XG4gIH0sIHRoaXMuc2V0QnlBdHRyVHlwZUFuZFZhbHVlU3RyID0gZnVuY3Rpb24obywgbCwgZikge1xuICAgIGYgIT09IHZvaWQgMCAmJiAodGhpcy5zUnVsZSA9IGYpLCB0aGlzLnNUeXBlID0gbywgdGhpcy5zVmFsdWUgPSBsO1xuICB9LCB0aGlzLmdldFZhbHVlT2JqID0gZnVuY3Rpb24obywgbCkge1xuICAgIGlmIChvID09IFwidXRmOFwiKVxuICAgICAgcmV0dXJuIG5ldyBzKHsgc3RyOiBsIH0pO1xuICAgIGlmIChvID09IFwicHJuXCIpXG4gICAgICByZXR1cm4gbmV3IG4oeyBzdHI6IGwgfSk7XG4gICAgaWYgKG8gPT0gXCJ0ZWxcIilcbiAgICAgIHJldHVybiBuZXcgaCh7IHN0cjogbCB9KTtcbiAgICBpZiAobyA9PSBcImlhNVwiKVxuICAgICAgcmV0dXJuIG5ldyB1KHsgc3RyOiBsIH0pO1xuICAgIGlmIChvID09IFwidmlzXCIpXG4gICAgICByZXR1cm4gbmV3IHAoeyBzdHI6IGwgfSk7XG4gICAgaWYgKG8gPT0gXCJibXBcIilcbiAgICAgIHJldHVybiBuZXcgYyh7IHN0cjogbCB9KTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1bnN1cHBvcnRlZCBkaXJlY3Rvcnkgc3RyaW5nIHR5cGU6IHR5cGU9XCIgKyBvICsgXCIgdmFsdWU9XCIgKyBsKTtcbiAgfSwgdGhpcy50b2hleCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuZHNUeXBlID09IG51bGwgJiYgKHRoaXMuZHNUeXBlID0gdGhpcy5fZ2V0RHNUeXBlKCkpO1xuICAgIHZhciBvID0gYS5hc24xLng1MDkuT0lELmF0eXBlMm9iaih0aGlzLnNUeXBlKSwgbCA9IHRoaXMuZ2V0VmFsdWVPYmoodGhpcy5kc1R5cGUsIHRoaXMuc1ZhbHVlKSwgZiA9IG5ldyBpKHsgYXJyYXk6IFtvLCBsXSB9KTtcbiAgICByZXR1cm4gdGhpcy5UTFYgPSBmLnRvaGV4KCksIHRoaXMuVExWO1xuICB9LCB0aGlzLmdldEVuY29kZWRIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b2hleCgpO1xuICB9LCBlICE9PSB2b2lkIDAgJiYgdGhpcy5zZXRCeVBhcmFtKGUpO1xufTtcbk4oYS5hc24xLng1MDkuQXR0cmlidXRlVHlwZUFuZFZhbHVlLCBhLmFzbjEuQVNOMU9iamVjdCk7XG5hLmFzbjEueDUwOS5TdWJqZWN0UHVibGljS2V5SW5mbyA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLng1MDkuU3ViamVjdFB1YmxpY0tleUluZm8uc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO1xuICB2YXIgdCA9IGEsIHIgPSB0LmFzbjEsIGkgPSByLkRFUkludGVnZXIsIHMgPSByLkRFUkJpdFN0cmluZywgbiA9IHIuREVST2JqZWN0SWRlbnRpZmllciwgaCA9IHIuREVSU2VxdWVuY2UsIHUgPSByLkFTTjFVdGlsLm5ld09iamVjdCwgcCA9IHIueDUwOSwgYyA9IHAuQWxnb3JpdGhtSWRlbnRpZmllciwgeSA9IHQuY3J5cHRvO1xuICB5LkVDRFNBLCB5LkRTQSwgdGhpcy5nZXRBU04xT2JqZWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuYXNuMUFsZ0lkID09IG51bGwgfHwgdGhpcy5hc24xU3VialBLZXkgPT0gbnVsbClcbiAgICAgIHRocm93IFwiYWxnSWQgYW5kL29yIHN1YmpQdWJLZXkgbm90IHNldFwiO1xuICAgIHZhciB2ID0gbmV3IGgoeyBhcnJheTogW3RoaXMuYXNuMUFsZ0lkLCB0aGlzLmFzbjFTdWJqUEtleV0gfSk7XG4gICAgcmV0dXJuIHY7XG4gIH0sIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgdiA9IHRoaXMuZ2V0QVNOMU9iamVjdCgpO1xuICAgIHJldHVybiB0aGlzLmhUTFYgPSB2LnRvaGV4KCksIHRoaXMuaFRMVjtcbiAgfSwgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9oZXgoKTtcbiAgfSwgdGhpcy5zZXRQdWJLZXkgPSBmdW5jdGlvbih2KSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICh2IGluc3RhbmNlb2YgcSkge1xuICAgICAgICB2YXIgbyA9IHUoeyBzZXE6IFt7IGludDogeyBiaWdpbnQ6IHYubiB9IH0sIHsgaW50OiB7IGludDogdi5lIH0gfV0gfSksIGwgPSBvLnRvaGV4KCk7XG4gICAgICAgIHRoaXMuYXNuMUFsZ0lkID0gbmV3IGMoeyBuYW1lOiBcInJzYUVuY3J5cHRpb25cIiB9KSwgdGhpcy5hc24xU3VialBLZXkgPSBuZXcgcyh7IGhleDogXCIwMFwiICsgbCB9KTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIHtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGlmICh2IGluc3RhbmNlb2YgYS5jcnlwdG8uRUNEU0EpIHtcbiAgICAgICAgdmFyIGYgPSBuZXcgbih7IG5hbWU6IHYuY3VydmVOYW1lIH0pO1xuICAgICAgICB0aGlzLmFzbjFBbGdJZCA9IG5ldyBjKHsgbmFtZTogXCJlY1B1YmxpY0tleVwiLCBhc24xcGFyYW1zOiBmIH0pLCB0aGlzLmFzbjFTdWJqUEtleSA9IG5ldyBzKHsgaGV4OiBcIjAwXCIgKyB2LnB1YktleUhleCB9KTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIHtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGlmICh2IGluc3RhbmNlb2YgYS5jcnlwdG8uRFNBKSB7XG4gICAgICAgIHZhciBmID0gbmV3IHUoeyBzZXE6IFt7IGludDogeyBiaWdpbnQ6IHYucCB9IH0sIHsgaW50OiB7IGJpZ2ludDogdi5xIH0gfSwgeyBpbnQ6IHsgYmlnaW50OiB2LmcgfSB9XSB9KTtcbiAgICAgICAgdGhpcy5hc24xQWxnSWQgPSBuZXcgYyh7IG5hbWU6IFwiZHNhXCIsIGFzbjFwYXJhbXM6IGYgfSk7XG4gICAgICAgIHZhciBkID0gbmV3IGkoeyBiaWdpbnQ6IHYueSB9KTtcbiAgICAgICAgdGhpcy5hc24xU3VialBLZXkgPSBuZXcgcyh7IGhleDogXCIwMFwiICsgZC50b2hleCgpIH0pO1xuICAgICAgfVxuICAgIH0gY2F0Y2gge1xuICAgIH1cbiAgfSwgZSAhPT0gdm9pZCAwICYmIHRoaXMuc2V0UHViS2V5KGUpO1xufTtcbk4oYS5hc24xLng1MDkuU3ViamVjdFB1YmxpY0tleUluZm8sIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS54NTA5LlRpbWUgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS54NTA5LlRpbWUuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO1xuICB2YXIgdCA9IGEsIHIgPSB0LmFzbjEsIGkgPSByLkRFUlVUQ1RpbWUsIHMgPSByLkRFUkdlbmVyYWxpemVkVGltZTtcbiAgdGhpcy5wYXJhbXMgPSBudWxsLCB0aGlzLnR5cGUgPSBudWxsLCB0aGlzLnNldFRpbWVQYXJhbXMgPSBmdW5jdGlvbihuKSB7XG4gICAgdGhpcy50aW1lUGFyYW1zID0gbjtcbiAgfSwgdGhpcy5zZXRCeVBhcmFtID0gZnVuY3Rpb24obikge1xuICAgIHRoaXMucGFyYW1zID0gbjtcbiAgfSwgdGhpcy5nZXRUeXBlID0gZnVuY3Rpb24obikge1xuICAgIHJldHVybiBuLm1hdGNoKC9eWzAtOV17MTJ9WiQvKSA/IFwidXRjXCIgOiBuLm1hdGNoKC9eWzAtOV17MTR9WiQvKSA/IFwiZ2VuXCIgOiBuLm1hdGNoKC9eWzAtOV17MTJ9XFwuWzAtOV0rWiQvKSA/IFwidXRjXCIgOiBuLm1hdGNoKC9eWzAtOV17MTR9XFwuWzAtOV0rWiQvKSA/IFwiZ2VuXCIgOiBudWxsO1xuICB9LCB0aGlzLnRvaGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG4gPSB0aGlzLnBhcmFtcywgaCA9IG51bGw7XG4gICAgaWYgKHR5cGVvZiBuID09IFwic3RyaW5nXCIgJiYgKG4gPSB7IHN0cjogbiB9KSwgbiAhPSBudWxsICYmIG4uc3RyICYmIChuLnR5cGUgPT0gbnVsbCB8fCBuLnR5cGUgPT0gbnVsbCkgJiYgKG4udHlwZSA9IHRoaXMuZ2V0VHlwZShuLnN0cikpLCBuICE9IG51bGwgJiYgbi5zdHIgPyAobi50eXBlID09IFwidXRjXCIgJiYgKGggPSBuZXcgaShuLnN0cikpLCBuLnR5cGUgPT0gXCJnZW5cIiAmJiAoaCA9IG5ldyBzKG4uc3RyKSkpIDogdGhpcy50eXBlID09IFwiZ2VuXCIgPyBoID0gbmV3IHMoKSA6IGggPSBuZXcgaSgpLCBoID09IG51bGwpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ3cm9uZyBzZXR0aW5nIGZvciBUaW1lXCIpO1xuICAgIHJldHVybiB0aGlzLlRMViA9IGgudG9oZXgoKSwgdGhpcy5UTFY7XG4gIH0sIHRoaXMuZ2V0RW5jb2RlZEhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvaGV4KCk7XG4gIH0sIGUgIT0gbnVsbCAmJiB0aGlzLnNldEJ5UGFyYW0oZSk7XG59O1xuYS5hc24xLng1MDkuVGltZV9iYWsgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS54NTA5LlRpbWVfYmFrLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTtcbiAgdmFyIHQgPSBhLCByID0gdC5hc24xLCBpID0gci5ERVJVVENUaW1lLCBzID0gci5ERVJHZW5lcmFsaXplZFRpbWU7XG4gIHRoaXMuc2V0VGltZVBhcmFtcyA9IGZ1bmN0aW9uKG4pIHtcbiAgICB0aGlzLnRpbWVQYXJhbXMgPSBuO1xuICB9LCB0aGlzLnRvaGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG4gPSBudWxsO1xuICAgIHJldHVybiB0aGlzLnRpbWVQYXJhbXMgIT0gbnVsbCA/IHRoaXMudHlwZSA9PSBcInV0Y1wiID8gbiA9IG5ldyBpKHRoaXMudGltZVBhcmFtcykgOiBuID0gbmV3IHModGhpcy50aW1lUGFyYW1zKSA6IHRoaXMudHlwZSA9PSBcInV0Y1wiID8gbiA9IG5ldyBpKCkgOiBuID0gbmV3IHMoKSwgdGhpcy5UTFYgPSBuLnRvaGV4KCksIHRoaXMuVExWO1xuICB9LCB0aGlzLmdldEVuY29kZWRIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b2hleCgpO1xuICB9LCB0aGlzLnR5cGUgPSBcInV0Y1wiLCBlICE9PSB2b2lkIDAgJiYgKGUudHlwZSAhPT0gdm9pZCAwID8gdGhpcy50eXBlID0gZS50eXBlIDogZS5zdHIgIT09IHZvaWQgMCAmJiAoZS5zdHIubWF0Y2goL15bMC05XXsxMn1aJC8pICYmICh0aGlzLnR5cGUgPSBcInV0Y1wiKSwgZS5zdHIubWF0Y2goL15bMC05XXsxNH1aJC8pICYmICh0aGlzLnR5cGUgPSBcImdlblwiKSksIHRoaXMudGltZVBhcmFtcyA9IGUpO1xufTtcbk4oYS5hc24xLng1MDkuVGltZSwgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLng1MDkuQWxnb3JpdGhtSWRlbnRpZmllciA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLng1MDkuQWxnb3JpdGhtSWRlbnRpZmllci5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksIHRoaXMubmFtZUFsZyA9IG51bGwsIHRoaXMuYXNuMUFsZyA9IG51bGwsIHRoaXMuYXNuMVBhcmFtcyA9IG51bGwsIHRoaXMucGFyYW1FbXB0eSA9ICExO1xuICB2YXIgdCA9IGEsIHIgPSB0LmFzbjEsIGkgPSByLng1MDkuQWxnb3JpdGhtSWRlbnRpZmllci5QU1NOQU1FMkFTTjFUTFY7XG4gIGlmICh0aGlzLnRvaGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMubmFtZUFsZyA9PT0gbnVsbCAmJiB0aGlzLmFzbjFBbGcgPT09IG51bGwpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJhbGdvcml0aG0gbm90IHNwZWNpZmllZFwiKTtcbiAgICBpZiAodGhpcy5uYW1lQWxnICE9PSBudWxsKSB7XG4gICAgICB2YXIgbiA9IG51bGw7XG4gICAgICBmb3IgKHZhciBoIGluIGkpXG4gICAgICAgIGggPT09IHRoaXMubmFtZUFsZyAmJiAobiA9IGlbaF0pO1xuICAgICAgaWYgKG4gIT09IG51bGwpXG4gICAgICAgIHJldHVybiB0aGlzLmhUTFYgPSBuLCB0aGlzLmhUTFY7XG4gICAgfVxuICAgIHRoaXMubmFtZUFsZyAhPT0gbnVsbCAmJiB0aGlzLmFzbjFBbGcgPT09IG51bGwgJiYgKHRoaXMuYXNuMUFsZyA9IHIueDUwOS5PSUQubmFtZTJvYmoodGhpcy5uYW1lQWxnKSk7XG4gICAgdmFyIHUgPSBbdGhpcy5hc24xQWxnXTtcbiAgICB0aGlzLmFzbjFQYXJhbXMgIT09IG51bGwgJiYgdS5wdXNoKHRoaXMuYXNuMVBhcmFtcyk7XG4gICAgdmFyIHAgPSBuZXcgci5ERVJTZXF1ZW5jZSh7IGFycmF5OiB1IH0pO1xuICAgIHJldHVybiB0aGlzLmhUTFYgPSBwLnRvaGV4KCksIHRoaXMuaFRMVjtcbiAgfSwgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9oZXgoKTtcbiAgfSwgZSAhPT0gdm9pZCAwICYmIChlLm5hbWUgIT09IHZvaWQgMCAmJiAodGhpcy5uYW1lQWxnID0gZS5uYW1lKSwgZS5hc24xcGFyYW1zICE9PSB2b2lkIDAgJiYgKHRoaXMuYXNuMVBhcmFtcyA9IGUuYXNuMXBhcmFtcyksIGUucGFyYW1lbXB0eSAhPT0gdm9pZCAwICYmICh0aGlzLnBhcmFtRW1wdHkgPSBlLnBhcmFtZW1wdHkpKSwgdGhpcy5hc24xUGFyYW1zID09PSBudWxsICYmIHRoaXMucGFyYW1FbXB0eSA9PT0gITEgJiYgdGhpcy5uYW1lQWxnICE9PSBudWxsKSB7XG4gICAgdGhpcy5uYW1lQWxnLm5hbWUgIT09IHZvaWQgMCAmJiAodGhpcy5uYW1lQWxnID0gdGhpcy5uYW1lQWxnLm5hbWUpO1xuICAgIHZhciBzID0gdGhpcy5uYW1lQWxnLnRvTG93ZXJDYXNlKCk7XG4gICAgcy5zdWJzdHIoLTcsIDcpICE9PSBcIndpdGhkc2FcIiAmJiBzLnN1YnN0cigtOSwgOSkgIT09IFwid2l0aGVjZHNhXCIgJiYgKHRoaXMuYXNuMVBhcmFtcyA9IG5ldyByLkRFUk51bGwoKSk7XG4gIH1cbn07XG5OKGEuYXNuMS54NTA5LkFsZ29yaXRobUlkZW50aWZpZXIsIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS54NTA5LkFsZ29yaXRobUlkZW50aWZpZXIuUFNTTkFNRTJBU04xVExWID0geyBTSEF3aXRoUlNBYW5kTUdGMTogXCIzMDBkMDYwOTJhODY0ODg2ZjcwZDAxMDEwYTMwMDBcIiwgU0hBMjU2d2l0aFJTQWFuZE1HRjE6IFwiMzAzZDA2MDkyYTg2NDg4NmY3MGQwMTAxMGEzMDMwYTAwZDMwMGIwNjA5NjA4NjQ4MDE2NTAzMDQwMjAxYTExYTMwMTgwNjA5MmE4NjQ4ODZmNzBkMDEwMTA4MzAwYjA2MDk2MDg2NDgwMTY1MDMwNDAyMDFhMjAzMDIwMTIwXCIsIFNIQTM4NHdpdGhSU0FhbmRNR0YxOiBcIjMwM2QwNjA5MmE4NjQ4ODZmNzBkMDEwMTBhMzAzMGEwMGQzMDBiMDYwOTYwODY0ODAxNjUwMzA0MDIwMmExMWEzMDE4MDYwOTJhODY0ODg2ZjcwZDAxMDEwODMwMGIwNjA5NjA4NjQ4MDE2NTAzMDQwMjAyYTIwMzAyMDEzMFwiLCBTSEE1MTJ3aXRoUlNBYW5kTUdGMTogXCIzMDNkMDYwOTJhODY0ODg2ZjcwZDAxMDEwYTMwMzBhMDBkMzAwYjA2MDk2MDg2NDgwMTY1MDMwNDAyMDNhMTFhMzAxODA2MDkyYTg2NDg4NmY3MGQwMTAxMDgzMDBiMDYwOTYwODY0ODAxNjUwMzA0MDIwM2EyMDMwMjAxNDBcIiB9O1xuYS5hc24xLng1MDkuR2VuZXJhbE5hbWUgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS54NTA5LkdlbmVyYWxOYW1lLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTtcbiAgdmFyIHQgPSBhLCByID0gdC5hc24xLCBpID0gci54NTA5LCBzID0gaS5YNTAwTmFtZSwgbiA9IGkuT3RoZXJOYW1lLCBoID0gci5ERVJJQTVTdHJpbmc7XG4gIHIuREVSUHJpbnRhYmxlU3RyaW5nO1xuICB2YXIgdSA9IHIuREVST2N0ZXRTdHJpbmcsIHAgPSByLkRFUlRhZ2dlZE9iamVjdCwgYyA9IHIuQVNOMU9iamVjdCwgeSA9IEVycm9yO1xuICB0aGlzLnBhcmFtcyA9IG51bGwsIHRoaXMuc2V0QnlQYXJhbSA9IGZ1bmN0aW9uKHYpIHtcbiAgICB0aGlzLnBhcmFtcyA9IHY7XG4gIH0sIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgdiA9IHRoaXMucGFyYW1zLCBvLCBmLCBsLCBmID0gITE7XG4gICAgaWYgKHYub3RoZXIgIT09IHZvaWQgMClcbiAgICAgIG8gPSBcImEwXCIsIGwgPSBuZXcgbih2Lm90aGVyKTtcbiAgICBlbHNlIGlmICh2LnJmYzgyMiAhPT0gdm9pZCAwKVxuICAgICAgbyA9IFwiODFcIiwgbCA9IG5ldyBoKHsgc3RyOiB2LnJmYzgyMiB9KTtcbiAgICBlbHNlIGlmICh2LmRucyAhPT0gdm9pZCAwKVxuICAgICAgbyA9IFwiODJcIiwgbCA9IG5ldyBoKHsgc3RyOiB2LmRucyB9KTtcbiAgICBlbHNlIGlmICh2LmRuICE9PSB2b2lkIDApXG4gICAgICBvID0gXCJhNFwiLCBmID0gITAsIHR5cGVvZiB2LmRuID09IFwic3RyaW5nXCIgPyBsID0gbmV3IHMoeyBzdHI6IHYuZG4gfSkgOiB2LmRuIGluc3RhbmNlb2YgYS5hc24xLng1MDkuWDUwME5hbWUgPyBsID0gdi5kbiA6IGwgPSBuZXcgcyh2LmRuKTtcbiAgICBlbHNlIGlmICh2LmxkYXBkbiAhPT0gdm9pZCAwKVxuICAgICAgbyA9IFwiYTRcIiwgZiA9ICEwLCBsID0gbmV3IHMoeyBsZGFwc3RyOiB2LmxkYXBkbiB9KTtcbiAgICBlbHNlIGlmICh2LmNlcnRpc3N1ZXIgIT09IHZvaWQgMCB8fCB2LmNlcnRzdWJqICE9PSB2b2lkIDApIHtcbiAgICAgIG8gPSBcImE0XCIsIGYgPSAhMDtcbiAgICAgIHZhciBkLCBnLCBTID0gbnVsbDtcbiAgICAgIGlmICh2LmNlcnRzdWJqICE9PSB2b2lkIDAgPyAoZCA9ICExLCBnID0gdi5jZXJ0c3ViaikgOiAoZCA9ICEwLCBnID0gdi5jZXJ0aXNzdWVyKSwgZy5tYXRjaCgvXlswLTlBLUZhLWZdKyQvKSwgZy5pbmRleE9mKFwiLS0tLS1CRUdJTiBcIikgIT0gLTEgJiYgKFMgPSBpZShnKSksIFMgPT0gbnVsbClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiY2VydHN1YmovY2VydGlzc3VlciBub3QgY2VydFwiKTtcbiAgICAgIHZhciBiID0gbmV3IEwoKTtcbiAgICAgIGIuaGV4ID0gUztcbiAgICAgIHZhciBEO1xuICAgICAgZCA/IEQgPSBiLmdldElzc3VlckhleCgpIDogRCA9IGIuZ2V0U3ViamVjdEhleCgpLCBsID0gbmV3IGMoKSwgbC5oVExWID0gRDtcbiAgICB9IGVsc2UgaWYgKHYudXJpICE9PSB2b2lkIDApXG4gICAgICBvID0gXCI4NlwiLCBsID0gbmV3IGgoeyBzdHI6IHYudXJpIH0pO1xuICAgIGVsc2UgaWYgKHYuaXAgIT09IHZvaWQgMCkge1xuICAgICAgbyA9IFwiODdcIjtcbiAgICAgIHZhciBBLCBJID0gdi5pcDtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChJLm1hdGNoKC9eWzAtOWEtZl0rJC8pKSB7XG4gICAgICAgICAgdmFyIG0gPSBJLmxlbmd0aDtcbiAgICAgICAgICBpZiAobSA9PSA4IHx8IG0gPT0gMTYgfHwgbSA9PSAzMiB8fCBtID09IDY0KVxuICAgICAgICAgICAgQSA9IEk7XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhyb3cgXCJlcnJcIjtcbiAgICAgICAgfSBlbHNlXG4gICAgICAgICAgQSA9IFJ0KEkpO1xuICAgICAgfSBjYXRjaCAodykge1xuICAgICAgICB0aHJvdyBuZXcgeShcIm1hbGZvcm1lZCBJUCBhZGRyZXNzOiBcIiArIHYuaXAgKyBcIjpcIiArIHcubWVzc2FnZSk7XG4gICAgICB9XG4gICAgICBsID0gbmV3IHUoeyBoZXg6IEEgfSk7XG4gICAgfSBlbHNlXG4gICAgICB0aHJvdyBuZXcgeShcImltcHJvcGVyIHBhcmFtc1wiKTtcbiAgICB2YXIgRSA9IG5ldyBwKHsgdGFnOiBvLCBleHBsaWNpdDogZiwgb2JqOiBsIH0pO1xuICAgIHJldHVybiBFLnRvaGV4KCk7XG4gIH0sIHRoaXMuZ2V0RW5jb2RlZEhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvaGV4KCk7XG4gIH0sIGUgIT09IHZvaWQgMCAmJiB0aGlzLnNldEJ5UGFyYW0oZSk7XG59O1xuTihhLmFzbjEueDUwOS5HZW5lcmFsTmFtZSwgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLng1MDkuR2VuZXJhbE5hbWVzID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEueDUwOS5HZW5lcmFsTmFtZXMuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO1xuICB2YXIgdCA9IGEsIHIgPSB0LmFzbjE7XG4gIHRoaXMuc2V0QnlQYXJhbUFycmF5ID0gZnVuY3Rpb24oaSkge1xuICAgIGZvciAodmFyIHMgPSAwOyBzIDwgaS5sZW5ndGg7IHMrKykge1xuICAgICAgdmFyIG4gPSBuZXcgci54NTA5LkdlbmVyYWxOYW1lKGlbc10pO1xuICAgICAgdGhpcy5hc24xQXJyYXkucHVzaChuKTtcbiAgICB9XG4gIH0sIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaSA9IG5ldyByLkRFUlNlcXVlbmNlKHsgYXJyYXk6IHRoaXMuYXNuMUFycmF5IH0pO1xuICAgIHJldHVybiBpLnRvaGV4KCk7XG4gIH0sIHRoaXMuZ2V0RW5jb2RlZEhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvaGV4KCk7XG4gIH0sIHRoaXMuYXNuMUFycmF5ID0gbmV3IEFycmF5KCksIHR5cGVvZiBlIDwgXCJ1XCIgJiYgdGhpcy5zZXRCeVBhcmFtQXJyYXkoZSk7XG59O1xuTihhLmFzbjEueDUwOS5HZW5lcmFsTmFtZXMsIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS54NTA5Lk90aGVyTmFtZSA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLng1MDkuT3RoZXJOYW1lLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTtcbiAgdmFyIHQgPSBhLCByID0gdC5hc24xLCBpID0gci5ERVJPYmplY3RJZGVudGlmaWVyLCBzID0gci5ERVJTZXF1ZW5jZSwgbiA9IHIuQVNOMVV0aWwubmV3T2JqZWN0O1xuICB0aGlzLnBhcmFtcyA9IG51bGwsIHRoaXMuc2V0QnlQYXJhbSA9IGZ1bmN0aW9uKGgpIHtcbiAgICB0aGlzLnBhcmFtcyA9IGg7XG4gIH0sIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaCA9IHRoaXMucGFyYW1zO1xuICAgIGlmIChoLm9pZCA9PSBudWxsIHx8IGgudmFsdWUgPT0gbnVsbClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm9pZCBvciB2YWx1ZSBub3Qgc3BlY2lmaWVkXCIpO1xuICAgIHZhciB1ID0gbmV3IGkoeyBvaWQ6IGgub2lkIH0pLCBwID0gbih7IHRhZzogeyB0YWc6IFwiYTBcIiwgZXhwbGljaXQ6ICEwLCBvYmo6IGgudmFsdWUgfSB9KSwgYyA9IG5ldyBzKHsgYXJyYXk6IFt1LCBwXSB9KTtcbiAgICByZXR1cm4gYy50b2hleCgpO1xuICB9LCB0aGlzLmdldEVuY29kZWRIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b2hleCgpO1xuICB9LCBlICE9PSB2b2lkIDAgJiYgdGhpcy5zZXRCeVBhcmFtKGUpO1xufTtcbk4oYS5hc24xLng1MDkuT3RoZXJOYW1lLCBhLmFzbjEuQVNOMU9iamVjdCk7XG5hLmFzbjEueDUwOS5PSUQgPSBuZXcgZnVuY3Rpb24oKSB7XG4gIHZhciBlID0gYS5hc24xLkRFUk9iamVjdElkZW50aWZpZXI7XG4gIHRoaXMubmFtZTJvaWRMaXN0ID0geyBcImFlczEyOC1DQkNcIjogXCIyLjE2Ljg0MC4xLjEwMS4zLjQuMS4yXCIsIFwiYWVzMjU2LUNCQ1wiOiBcIjIuMTYuODQwLjEuMTAxLjMuNC4xLjQyXCIsIHNoYTE6IFwiMS4zLjE0LjMuMi4yNlwiLCBzaGEyNTY6IFwiMi4xNi44NDAuMS4xMDEuMy40LjIuMVwiLCBzaGEzODQ6IFwiMi4xNi44NDAuMS4xMDEuMy40LjIuMlwiLCBzaGE1MTI6IFwiMi4xNi44NDAuMS4xMDEuMy40LjIuM1wiLCBzaGEyMjQ6IFwiMi4xNi44NDAuMS4xMDEuMy40LjIuNFwiLCBtZDU6IFwiMS4yLjg0MC4xMTM1NDkuMi41XCIsIG1kMjogXCIxLjMuMTQuNy4yLjIuMVwiLCByaXBlbWQxNjA6IFwiMS4zLjM2LjMuMi4xXCIsIGhtYWNXaXRoU0hBMTogXCIxLjIuODQwLjExMzU0OS4yLjdcIiwgaG1hY1dpdGhTSEEyMjQ6IFwiMS4yLjg0MC4xMTM1NDkuMi44XCIsIGhtYWNXaXRoU0hBMjU2OiBcIjEuMi44NDAuMTEzNTQ5LjIuOVwiLCBobWFjV2l0aFNIQTM4NDogXCIxLjIuODQwLjExMzU0OS4yLjEwXCIsIGhtYWNXaXRoU0hBNTEyOiBcIjEuMi44NDAuMTEzNTQ5LjIuMTFcIiwgTUQyd2l0aFJTQTogXCIxLjIuODQwLjExMzU0OS4xLjEuMlwiLCBNRDR3aXRoUlNBOiBcIjEuMi44NDAuMTEzNTQ5LjEuMS4zXCIsIE1ENXdpdGhSU0E6IFwiMS4yLjg0MC4xMTM1NDkuMS4xLjRcIiwgU0hBMXdpdGhSU0E6IFwiMS4yLjg0MC4xMTM1NDkuMS4xLjVcIiwgXCJwa2NzMS1NR0ZcIjogXCIxLjIuODQwLjExMzU0OS4xLjEuOFwiLCByc2FQU1M6IFwiMS4yLjg0MC4xMTM1NDkuMS4xLjEwXCIsIFNIQTIyNHdpdGhSU0E6IFwiMS4yLjg0MC4xMTM1NDkuMS4xLjE0XCIsIFNIQTI1NndpdGhSU0E6IFwiMS4yLjg0MC4xMTM1NDkuMS4xLjExXCIsIFNIQTM4NHdpdGhSU0E6IFwiMS4yLjg0MC4xMTM1NDkuMS4xLjEyXCIsIFNIQTUxMndpdGhSU0E6IFwiMS4yLjg0MC4xMTM1NDkuMS4xLjEzXCIsIFNIQTF3aXRoRUNEU0E6IFwiMS4yLjg0MC4xMDA0NS40LjFcIiwgU0hBMjI0d2l0aEVDRFNBOiBcIjEuMi44NDAuMTAwNDUuNC4zLjFcIiwgU0hBMjU2d2l0aEVDRFNBOiBcIjEuMi44NDAuMTAwNDUuNC4zLjJcIiwgU0hBMzg0d2l0aEVDRFNBOiBcIjEuMi44NDAuMTAwNDUuNC4zLjNcIiwgU0hBNTEyd2l0aEVDRFNBOiBcIjEuMi44NDAuMTAwNDUuNC4zLjRcIiwgZHNhOiBcIjEuMi44NDAuMTAwNDAuNC4xXCIsIFNIQTF3aXRoRFNBOiBcIjEuMi44NDAuMTAwNDAuNC4zXCIsIFNIQTIyNHdpdGhEU0E6IFwiMi4xNi44NDAuMS4xMDEuMy40LjMuMVwiLCBTSEEyNTZ3aXRoRFNBOiBcIjIuMTYuODQwLjEuMTAxLjMuNC4zLjJcIiwgcnNhRW5jcnlwdGlvbjogXCIxLjIuODQwLjExMzU0OS4xLjEuMVwiLCBjb21tb25OYW1lOiBcIjIuNS40LjNcIiwgY291bnRyeU5hbWU6IFwiMi41LjQuNlwiLCBsb2NhbGl0eU5hbWU6IFwiMi41LjQuN1wiLCBzdGF0ZU9yUHJvdmluY2VOYW1lOiBcIjIuNS40LjhcIiwgc3RyZWV0QWRkcmVzczogXCIyLjUuNC45XCIsIG9yZ2FuaXphdGlvbk5hbWU6IFwiMi41LjQuMTBcIiwgb3JnYW5pemF0aW9uYWxVbml0TmFtZTogXCIyLjUuNC4xMVwiLCBkb21haW5Db21wb25lbnQ6IFwiMC45LjIzNDIuMTkyMDAzMDAuMTAwLjEuMjVcIiwgdXNlcklkOiBcIjAuOS4yMzQyLjE5MjAwMzAwLjEwMC4xLjFcIiwgc3VybmFtZTogXCIyLjUuNC40XCIsIGdpdmVuTmFtZTogXCIyLjUuNC40MlwiLCB0aXRsZTogXCIyLjUuNC4xMlwiLCBkaXN0aW5ndWlzaGVkTmFtZTogXCIyLjUuNC40OVwiLCBlbWFpbEFkZHJlc3M6IFwiMS4yLjg0MC4xMTM1NDkuMS45LjFcIiwgZGVzY3JpcHRpb246IFwiMi41LjQuMTNcIiwgYnVzaW5lc3NDYXRlZ29yeTogXCIyLjUuNC4xNVwiLCBwb3N0YWxDb2RlOiBcIjIuNS40LjE3XCIsIHVuaXF1ZUlkZW50aWZpZXI6IFwiMi41LjQuNDVcIiwgb3JnYW5pemF0aW9uSWRlbnRpZmllcjogXCIyLjUuNC45N1wiLCBqdXJpc2RpY3Rpb25PZkluY29ycG9yYXRpb25MOiBcIjEuMy42LjEuNC4xLjMxMS42MC4yLjEuMVwiLCBqdXJpc2RpY3Rpb25PZkluY29ycG9yYXRpb25TUDogXCIxLjMuNi4xLjQuMS4zMTEuNjAuMi4xLjJcIiwganVyaXNkaWN0aW9uT2ZJbmNvcnBvcmF0aW9uQzogXCIxLjMuNi4xLjQuMS4zMTEuNjAuMi4xLjNcIiwgc3ViamVjdERpcmVjdG9yeUF0dHJpYnV0ZXM6IFwiMi41LjI5LjlcIiwgc3ViamVjdEtleUlkZW50aWZpZXI6IFwiMi41LjI5LjE0XCIsIGtleVVzYWdlOiBcIjIuNS4yOS4xNVwiLCBzdWJqZWN0QWx0TmFtZTogXCIyLjUuMjkuMTdcIiwgaXNzdWVyQWx0TmFtZTogXCIyLjUuMjkuMThcIiwgYmFzaWNDb25zdHJhaW50czogXCIyLjUuMjkuMTlcIiwgY1JMTnVtYmVyOiBcIjIuNS4yOS4yMFwiLCBjUkxSZWFzb246IFwiMi41LjI5LjIxXCIsIG5hbWVDb25zdHJhaW50czogXCIyLjUuMjkuMzBcIiwgY1JMRGlzdHJpYnV0aW9uUG9pbnRzOiBcIjIuNS4yOS4zMVwiLCBjZXJ0aWZpY2F0ZVBvbGljaWVzOiBcIjIuNS4yOS4zMlwiLCBhbnlQb2xpY3k6IFwiMi41LjI5LjMyLjBcIiwgcG9saWN5TWFwcGluZ3M6IFwiMi41LjI5LjMzXCIsIGF1dGhvcml0eUtleUlkZW50aWZpZXI6IFwiMi41LjI5LjM1XCIsIHBvbGljeUNvbnN0cmFpbnRzOiBcIjIuNS4yOS4zNlwiLCBleHRLZXlVc2FnZTogXCIyLjUuMjkuMzdcIiwgaW5oaWJpdEFueVBvbGljeTogXCIyLjUuMjkuNTRcIiwgYXV0aG9yaXR5SW5mb0FjY2VzczogXCIxLjMuNi4xLjUuNS43LjEuMVwiLCBvY3NwOiBcIjEuMy42LjEuNS41LjcuNDguMVwiLCBvY3NwQmFzaWM6IFwiMS4zLjYuMS41LjUuNy40OC4xLjFcIiwgb2NzcE5vbmNlOiBcIjEuMy42LjEuNS41LjcuNDguMS4yXCIsIG9jc3BOb0NoZWNrOiBcIjEuMy42LjEuNS41LjcuNDguMS41XCIsIGNhSXNzdWVyczogXCIxLjMuNi4xLjUuNS43LjQ4LjJcIiwgYW55RXh0ZW5kZWRLZXlVc2FnZTogXCIyLjUuMjkuMzcuMFwiLCBzZXJ2ZXJBdXRoOiBcIjEuMy42LjEuNS41LjcuMy4xXCIsIGNsaWVudEF1dGg6IFwiMS4zLjYuMS41LjUuNy4zLjJcIiwgY29kZVNpZ25pbmc6IFwiMS4zLjYuMS41LjUuNy4zLjNcIiwgZW1haWxQcm90ZWN0aW9uOiBcIjEuMy42LjEuNS41LjcuMy40XCIsIHRpbWVTdGFtcGluZzogXCIxLjMuNi4xLjUuNS43LjMuOFwiLCBvY3NwU2lnbmluZzogXCIxLjMuNi4xLjUuNS43LjMuOVwiLCBzbXRwVVRGOE1haWxib3g6IFwiMS4zLjYuMS41LjUuNy44LjlcIiwgZGF0ZU9mQmlydGg6IFwiMS4zLjYuMS41LjUuNy45LjFcIiwgcGxhY2VPZkJpcnRoOiBcIjEuMy42LjEuNS41LjcuOS4yXCIsIGdlbmRlcjogXCIxLjMuNi4xLjUuNS43LjkuM1wiLCBjb3VudHJ5T2ZDaXRpemVuc2hpcDogXCIxLjMuNi4xLjUuNS43LjkuNFwiLCBjb3VudHJ5T2ZSZXNpZGVuY2U6IFwiMS4zLjYuMS41LjUuNy45LjVcIiwgZWNQdWJsaWNLZXk6IFwiMS4yLjg0MC4xMDA0NS4yLjFcIiwgXCJQLTI1NlwiOiBcIjEuMi44NDAuMTAwNDUuMy4xLjdcIiwgc2VjcDI1NnIxOiBcIjEuMi44NDAuMTAwNDUuMy4xLjdcIiwgc2VjcDI1NmsxOiBcIjEuMy4xMzIuMC4xMFwiLCBzZWNwMzg0cjE6IFwiMS4zLjEzMi4wLjM0XCIsIHNlY3A1MjFyMTogXCIxLjMuMTMyLjAuMzVcIiwgcGtjczVQQkVTMjogXCIxLjIuODQwLjExMzU0OS4xLjUuMTNcIiwgcGtjczVQQktERjI6IFwiMS4yLjg0MC4xMTM1NDkuMS41LjEyXCIsIFwiZGVzLUVERTMtQ0JDXCI6IFwiMS4yLjg0MC4xMTM1NDkuMy43XCIsIGRhdGE6IFwiMS4yLjg0MC4xMTM1NDkuMS43LjFcIiwgXCJzaWduZWQtZGF0YVwiOiBcIjEuMi44NDAuMTEzNTQ5LjEuNy4yXCIsIFwiZW52ZWxvcGVkLWRhdGFcIjogXCIxLjIuODQwLjExMzU0OS4xLjcuM1wiLCBcImRpZ2VzdGVkLWRhdGFcIjogXCIxLjIuODQwLjExMzU0OS4xLjcuNVwiLCBcImVuY3J5cHRlZC1kYXRhXCI6IFwiMS4yLjg0MC4xMTM1NDkuMS43LjZcIiwgXCJhdXRoZW50aWNhdGVkLWRhdGFcIjogXCIxLjIuODQwLjExMzU0OS4xLjkuMTYuMS4yXCIsIHRzdGluZm86IFwiMS4yLjg0MC4xMTM1NDkuMS45LjE2LjEuNFwiLCBzaWduaW5nQ2VydGlmaWNhdGU6IFwiMS4yLjg0MC4xMTM1NDkuMS45LjE2LjIuMTJcIiwgdGltZVN0YW1wVG9rZW46IFwiMS4yLjg0MC4xMTM1NDkuMS45LjE2LjIuMTRcIiwgc2lnbmF0dXJlUG9saWN5SWRlbnRpZmllcjogXCIxLjIuODQwLjExMzU0OS4xLjkuMTYuMi4xNVwiLCBldHNBcmNoaXZlVGltZVN0YW1wOiBcIjEuMi44NDAuMTEzNTQ5LjEuOS4xNi4yLjI3XCIsIHNpZ25pbmdDZXJ0aWZpY2F0ZVYyOiBcIjEuMi44NDAuMTEzNTQ5LjEuOS4xNi4yLjQ3XCIsIGV0c0FyY2hpdmVUaW1lU3RhbXBWMjogXCIxLjIuODQwLjExMzU0OS4xLjkuMTYuMi40OFwiLCBleHRlbnNpb25SZXF1ZXN0OiBcIjEuMi44NDAuMTEzNTQ5LjEuOS4xNFwiLCBjb250ZW50VHlwZTogXCIxLjIuODQwLjExMzU0OS4xLjkuM1wiLCBtZXNzYWdlRGlnZXN0OiBcIjEuMi44NDAuMTEzNTQ5LjEuOS40XCIsIHNpZ25pbmdUaW1lOiBcIjEuMi44NDAuMTEzNTQ5LjEuOS41XCIsIGNvdW50ZXJTaWduYXR1cmU6IFwiMS4yLjg0MC4xMTM1NDkuMS45LjZcIiwgYXJjaGl2ZVRpbWVTdGFtcFYzOiBcIjAuNC4wLjE3MzMuMi40XCIsIHBkZlJldm9jYXRpb25JbmZvQXJjaGl2YWw6IFwiMS4yLjg0MC4xMTM1ODMuMS4xLjhcIiwgYWRvYmVUaW1lU3RhbXA6IFwiMS4yLjg0MC4xMTM1ODMuMS4xLjkuMVwiLCBzbWltZU1haWxib3hMZWdhY3k6IFwiMi4yMy4xNDAuMS41LjEuMVwiLCBzbWltZU1haWxib3hNdWx0aTogXCIyLjIzLjE0MC4xLjUuMS4yXCIsIHNtaW1lTWFpbGJveFN0cmljdDogXCIyLjIzLjE0MC4xLjUuMS4zXCIsIHNtaW1lT3JnYW5pemF0aW9uTGVnYWN5OiBcIjIuMjMuMTQwLjEuNS4yLjFcIiwgc21pbWVPcmdhbml6YXRpb25NdWx0aTogXCIyLjIzLjE0MC4xLjUuMi4yXCIsIHNtaW1lT3JnYW5pemF0aW9uU3RyaWN0OiBcIjIuMjMuMTQwLjEuNS4yLjNcIiwgc21pbWVTcG9uc29yTGVnYWN5OiBcIjIuMjMuMTQwLjEuNS4zLjFcIiwgc21pbWVTcG9uc29yTXVsdGk6IFwiMi4yMy4xNDAuMS41LjMuMlwiLCBzbWltZVNwb25zb3JTdHJpY3Q6IFwiMi4yMy4xNDAuMS41LjMuM1wiLCBzbWltZUluZGl2aWR1YWxMZWdhY3k6IFwiMi4yMy4xNDAuMS41LjQuMVwiLCBzbWltZUluZGl2aWR1YWxNdWx0aTogXCIyLjIzLjE0MC4xLjUuNC4yXCIsIHNtaW1lSW5kaXZpZHVhbFN0cmljdDogXCIyLjIzLjE0MC4xLjUuNC4zXCIgfSwgdGhpcy5hdHlwZTJvaWRMaXN0ID0geyBDTjogXCIyLjUuNC4zXCIsIEw6IFwiMi41LjQuN1wiLCBTVDogXCIyLjUuNC44XCIsIE86IFwiMi41LjQuMTBcIiwgT1U6IFwiMi41LjQuMTFcIiwgQzogXCIyLjUuNC42XCIsIFNUUkVFVDogXCIyLjUuNC45XCIsIERDOiBcIjAuOS4yMzQyLjE5MjAwMzAwLjEwMC4xLjI1XCIsIFVJRDogXCIwLjkuMjM0Mi4xOTIwMDMwMC4xMDAuMS4xXCIsIFNOOiBcIjIuNS40LjRcIiwgVDogXCIyLjUuNC4xMlwiLCBHTjogXCIyLjUuNC40MlwiLCBETjogXCIyLjUuNC40OVwiLCBFOiBcIjEuMi44NDAuMTEzNTQ5LjEuOS4xXCIsIGRlc2NyaXB0aW9uOiBcIjIuNS40LjEzXCIsIGJ1c2luZXNzQ2F0ZWdvcnk6IFwiMi41LjQuMTVcIiwgcG9zdGFsQ29kZTogXCIyLjUuNC4xN1wiLCBzZXJpYWxOdW1iZXI6IFwiMi41LjQuNVwiLCB1bmlxdWVJZGVudGlmaWVyOiBcIjIuNS40LjQ1XCIsIG9yZ2FuaXphdGlvbklkZW50aWZpZXI6IFwiMi41LjQuOTdcIiwganVyaXNkaWN0aW9uT2ZJbmNvcnBvcmF0aW9uTDogXCIxLjMuNi4xLjQuMS4zMTEuNjAuMi4xLjFcIiwganVyaXNkaWN0aW9uT2ZJbmNvcnBvcmF0aW9uU1A6IFwiMS4zLjYuMS40LjEuMzExLjYwLjIuMS4yXCIsIGp1cmlzZGljdGlvbk9mSW5jb3Jwb3JhdGlvbkM6IFwiMS4zLjYuMS40LjEuMzExLjYwLjIuMS4zXCIgfSwgdGhpcy5vYmpDYWNoZSA9IHt9LCB0aGlzLm5hbWUyb2JqID0gZnVuY3Rpb24odCkge1xuICAgIGlmICh0eXBlb2YgdGhpcy5vYmpDYWNoZVt0XSA8IFwidVwiKVxuICAgICAgcmV0dXJuIHRoaXMub2JqQ2FjaGVbdF07XG4gICAgaWYgKHR5cGVvZiB0aGlzLm5hbWUyb2lkTGlzdFt0XSA+IFwidVwiKVxuICAgICAgdGhyb3cgXCJOYW1lIG9mIE9iamVjdElkZW50aWZpZXIgbm90IGRlZmluZWQ6IFwiICsgdDtcbiAgICB2YXIgciA9IHRoaXMubmFtZTJvaWRMaXN0W3RdLCBpID0gbmV3IGUoeyBvaWQ6IHIgfSk7XG4gICAgcmV0dXJuIHRoaXMub2JqQ2FjaGVbdF0gPSBpLCBpO1xuICB9LCB0aGlzLmF0eXBlMm9iaiA9IGZ1bmN0aW9uKHQpIHtcbiAgICBpZiAodGhpcy5vYmpDYWNoZVt0XSAhPT0gdm9pZCAwKVxuICAgICAgcmV0dXJuIHRoaXMub2JqQ2FjaGVbdF07XG4gICAgdmFyIHI7XG4gICAgaWYgKHQubWF0Y2goL15cXGQrXFwuXFxkK1xcLlswLTkuXSskLykpXG4gICAgICByID0gdDtcbiAgICBlbHNlIGlmICh0aGlzLmF0eXBlMm9pZExpc3RbdF0gIT09IHZvaWQgMClcbiAgICAgIHIgPSB0aGlzLmF0eXBlMm9pZExpc3RbdF07XG4gICAgZWxzZSBpZiAodGhpcy5uYW1lMm9pZExpc3RbdF0gIT09IHZvaWQgMClcbiAgICAgIHIgPSB0aGlzLm5hbWUyb2lkTGlzdFt0XTtcbiAgICBlbHNlXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBdHRyaWJ1dGVUeXBlIG5hbWUgdW5kZWZpbmVkOiBcIiArIHQpO1xuICAgIHZhciBpID0gbmV3IGUoeyBvaWQ6IHIgfSk7XG4gICAgcmV0dXJuIHRoaXMub2JqQ2FjaGVbdF0gPSBpLCBpO1xuICB9LCB0aGlzLnJlZ2lzdGVyT0lEcyA9IGZ1bmN0aW9uKHQpIHtcbiAgICBpZiAodGhpcy5jaGVja09JRHModCkpXG4gICAgICBmb3IgKHZhciByIGluIHQpXG4gICAgICAgIHRoaXMubmFtZTJvaWRMaXN0W3JdID0gdFtyXTtcbiAgfSwgdGhpcy5jaGVja09JRHMgPSBmdW5jdGlvbih0KSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciByID0gT2JqZWN0LmtleXModCk7XG4gICAgICByZXR1cm4gci5sZW5ndGggPT0gMCA/ICExIDogKHIubWFwKGZ1bmN0aW9uKGksIHMsIG4pIHtcbiAgICAgICAgdmFyIGggPSB0aGlzW2ldO1xuICAgICAgICBpZiAoIWgubWF0Y2goL15bMC0yXVxcLlswLTkuXSskLykpXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidmFsdWUgaXMgbm90IE9JRFwiKTtcbiAgICAgIH0sIHQpLCAhMCk7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICB9O1xufSgpO1xuYS5hc24xLng1MDkuT0lELm9pZDJuYW1lID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IGEuYXNuMS54NTA5Lk9JRC5uYW1lMm9pZExpc3Q7XG4gIGZvciAodmFyIHIgaW4gdClcbiAgICBpZiAodFtyXSA9PSBlKVxuICAgICAgcmV0dXJuIHI7XG4gIHJldHVybiBcIlwiO1xufTtcbmEuYXNuMS54NTA5Lk9JRC5vaWQyYXR5cGUgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gYS5hc24xLng1MDkuT0lELmF0eXBlMm9pZExpc3Q7XG4gIGZvciAodmFyIHIgaW4gdClcbiAgICBpZiAodFtyXSA9PSBlKVxuICAgICAgcmV0dXJuIHI7XG4gIHJldHVybiBlO1xufTtcbmEuYXNuMS54NTA5Lk9JRC5uYW1lMm9pZCA9IGZ1bmN0aW9uKGUpIHtcbiAgaWYgKGUubWF0Y2goL15bMC05Ll0rJC8pKVxuICAgIHJldHVybiBlO1xuICB2YXIgdCA9IGEuYXNuMS54NTA5Lk9JRC5uYW1lMm9pZExpc3Q7XG4gIHJldHVybiB0W2VdID09PSB2b2lkIDAgPyBcIlwiIDogdFtlXTtcbn07XG5hLmFzbjEueDUwOS5YNTA5VXRpbCA9IHt9O1xuYS5hc24xLng1MDkuWDUwOVV0aWwubmV3Q2VydFBFTSA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBhLmFzbjEueDUwOTtcbiAgdC5UQlNDZXJ0aWZpY2F0ZTtcbiAgdmFyIHIgPSB0LkNlcnRpZmljYXRlLCBpID0gbmV3IHIoZSk7XG4gIHJldHVybiBpLmdldFBFTSgpO1xufTtcbih0eXBlb2YgYSA+IFwidVwiIHx8ICFhKSAmJiAoYSA9IHt9KTtcbih0eXBlb2YgYS5hc24xID4gXCJ1XCIgfHwgIWEuYXNuMSkgJiYgKGEuYXNuMSA9IHt9KTtcbih0eXBlb2YgYS5hc24xLmNtcyA+IFwidVwiIHx8ICFhLmFzbjEuY21zKSAmJiAoYS5hc24xLmNtcyA9IHt9KTtcbmEuYXNuMS5jbXMuQXR0cmlidXRlID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IEVycm9yLCByID0gYSwgaSA9IHIuYXNuMSwgcyA9IGkuREVSU2VxdWVuY2UsIG4gPSBpLkRFUlNldCwgaCA9IGkuREVST2JqZWN0SWRlbnRpZmllcjtcbiAgdGhpcy5wYXJhbXMgPSBudWxsLCB0aGlzLnR5cGVPaWQgPSBudWxsLCB0aGlzLnNldEJ5UGFyYW0gPSBmdW5jdGlvbih1KSB7XG4gICAgdGhpcy5wYXJhbXMgPSB1O1xuICB9LCB0aGlzLmdldFZhbHVlQXJyYXkgPSBmdW5jdGlvbigpIHtcbiAgICB0aHJvdyBuZXcgdChcIm5vdCB5ZXQgaW1wbGVtZW50ZWQgYWJzdHJhY3RcIik7XG4gIH0sIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgdSA9IG5ldyBoKHsgb2lkOiB0aGlzLnR5cGVPaWQgfSksIHAgPSBuZXcgbih7IGFycmF5OiB0aGlzLmdldFZhbHVlQXJyYXkoKSB9KSwgYyA9IG5ldyBzKHsgYXJyYXk6IFt1LCBwXSB9KTtcbiAgICByZXR1cm4gYy50b2hleCgpO1xuICB9LCB0aGlzLmdldEVuY29kZWRIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b2hleCgpO1xuICB9O1xufTtcbk4oYS5hc24xLmNtcy5BdHRyaWJ1dGUsIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS5jbXMuQ29udGVudFR5cGUgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gYSwgciA9IHQuYXNuMTtcbiAgci5jbXMuQ29udGVudFR5cGUuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLCB0aGlzLnR5cGVPaWQgPSBcIjEuMi44NDAuMTEzNTQ5LjEuOS4zXCIsIHRoaXMuZ2V0VmFsdWVBcnJheSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpID0gbmV3IHIuREVST2JqZWN0SWRlbnRpZmllcih0aGlzLnBhcmFtcy50eXBlKTtcbiAgICByZXR1cm4gW2ldO1xuICB9LCBlICE9IG51bGwgJiYgdGhpcy5zZXRCeVBhcmFtKGUpO1xufTtcbk4oYS5hc24xLmNtcy5Db250ZW50VHlwZSwgYS5hc24xLmNtcy5BdHRyaWJ1dGUpO1xuYS5hc24xLmNtcy5NZXNzYWdlRGlnZXN0ID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IGEsIHIgPSB0LmFzbjEsIGkgPSByLkRFUk9jdGV0U3RyaW5nLCBzID0gci5jbXM7XG4gIHMuTWVzc2FnZURpZ2VzdC5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksIHRoaXMudHlwZU9pZCA9IFwiMS4yLjg0MC4xMTM1NDkuMS45LjRcIiwgdGhpcy5nZXRWYWx1ZUFycmF5ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG4gPSBuZXcgaSh0aGlzLnBhcmFtcyk7XG4gICAgcmV0dXJuIFtuXTtcbiAgfSwgZSAhPSBudWxsICYmIHRoaXMuc2V0QnlQYXJhbShlKTtcbn07XG5OKGEuYXNuMS5jbXMuTWVzc2FnZURpZ2VzdCwgYS5hc24xLmNtcy5BdHRyaWJ1dGUpO1xuYS5hc24xLmNtcy5TaWduaW5nVGltZSA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBhLCByID0gdC5hc24xO1xuICByLmNtcy5TaWduaW5nVGltZS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksIHRoaXMudHlwZU9pZCA9IFwiMS4yLjg0MC4xMTM1NDkuMS45LjVcIiwgdGhpcy5nZXRWYWx1ZUFycmF5ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGkgPSBuZXcgci54NTA5LlRpbWUodGhpcy5wYXJhbXMpO1xuICAgIHJldHVybiBbaV07XG4gIH0sIGUgIT0gbnVsbCAmJiB0aGlzLnNldEJ5UGFyYW0oZSk7XG59O1xuTihhLmFzbjEuY21zLlNpZ25pbmdUaW1lLCBhLmFzbjEuY21zLkF0dHJpYnV0ZSk7XG5hLmFzbjEuY21zLlNpZ25pbmdDZXJ0aWZpY2F0ZSA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBFcnJvciwgciA9IGEsIGkgPSByLmFzbjEsIHMgPSBpLkRFUlNlcXVlbmNlLCBuID0gaS5jbXMsIGggPSBuLkVTU0NlcnRJRDtcbiAgci5jcnlwdG8sIG4uU2lnbmluZ0NlcnRpZmljYXRlLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSwgdGhpcy50eXBlT2lkID0gXCIxLjIuODQwLjExMzU0OS4xLjkuMTYuMi4xMlwiLCB0aGlzLmdldFZhbHVlQXJyYXkgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5wYXJhbXMgPT0gbnVsbCB8fCB0aGlzLnBhcmFtcyA9PSBudWxsIHx8IHRoaXMucGFyYW1zLmFycmF5ID09IG51bGwpXG4gICAgICB0aHJvdyBuZXcgdChcInBhcmFtZXRlciAnYXJyYXknIG5vdCBzcGVjaWZpZWRcIik7XG4gICAgZm9yICh2YXIgdSA9IHRoaXMucGFyYW1zLmFycmF5LCBwID0gW10sIGMgPSAwOyBjIDwgdS5sZW5ndGg7IGMrKykge1xuICAgICAgdmFyIHkgPSB1W2NdO1xuICAgICAgZS5oYXNpcyA9PSAhMSAmJiB0eXBlb2YgeSA9PSBcInN0cmluZ1wiICYmICh5LmluZGV4T2YoXCItLS0tLUJFR0lOXCIpICE9IC0xIHx8IFYuaXNBU04xSEVYKHkpKSAmJiAoeSA9IHsgY2VydDogeSB9KSwgeS5oYXNpcyAhPSAhMSAmJiBlLmhhc2lzID09ICExICYmICh5Lmhhc2lzID0gITEpLCBwLnB1c2gobmV3IGgoeSkpO1xuICAgIH1cbiAgICB2YXIgdiA9IG5ldyBzKHsgYXJyYXk6IHAgfSksIG8gPSBuZXcgcyh7IGFycmF5OiBbdl0gfSk7XG4gICAgcmV0dXJuIFtvXTtcbiAgfSwgZSAhPSBudWxsICYmIHRoaXMuc2V0QnlQYXJhbShlKTtcbn07XG5OKGEuYXNuMS5jbXMuU2lnbmluZ0NlcnRpZmljYXRlLCBhLmFzbjEuY21zLkF0dHJpYnV0ZSk7XG5hLmFzbjEuY21zLkVTU0NlcnRJRCA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLmNtcy5FU1NDZXJ0SUQuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO1xuICB2YXIgdCA9IEVycm9yLCByID0gYSwgaSA9IHIuYXNuMSwgcyA9IGkuREVST2N0ZXRTdHJpbmcsIG4gPSBpLkRFUlNlcXVlbmNlLCBoID0gaS5jbXMuSXNzdWVyU2VyaWFsO1xuICB0aGlzLnBhcmFtcyA9IG51bGwsIHRoaXMuZ2V0Q2VydEhhc2ggPSBmdW5jdGlvbih1LCBwKSB7XG4gICAgaWYgKHUuaGFzaCAhPSBudWxsKVxuICAgICAgcmV0dXJuIHUuaGFzaDtcbiAgICBpZiAodHlwZW9mIHUgPT0gXCJzdHJpbmdcIiAmJiB1LmluZGV4T2YoXCItLS0tLUJFR0lOXCIpID09IC0xICYmICFWLmlzQVNOMUhFWCh1KSlcbiAgICAgIHJldHVybiB1O1xuICAgIHZhciBjO1xuICAgIGlmICh0eXBlb2YgdSA9PSBcInN0cmluZ1wiKVxuICAgICAgYyA9IHU7XG4gICAgZWxzZSBpZiAodS5jZXJ0ICE9IG51bGwpXG4gICAgICBjID0gdS5jZXJ0O1xuICAgIGVsc2VcbiAgICAgIHRocm93IG5ldyB0KFwiaGFzaCBub3IgY2VydCB1bnNwZWNpZmllZFwiKTtcbiAgICB2YXIgeTtcbiAgICBjLmluZGV4T2YoXCItLS0tLUJFR0lOXCIpICE9IC0xID8geSA9IGllKGMpIDogeSA9IGMsIHR5cGVvZiB1ID09IFwic3RyaW5nXCIgJiYgKHUuaW5kZXhPZihcIi0tLS0tQkVHSU5cIikgIT0gLTEgPyB5ID0gaWUodSkgOiBWLmlzQVNOMUhFWCh1KSAmJiAoeSA9IHUpKTtcbiAgICB2YXIgdjtcbiAgICBpZiAodS5hbGcgIT0gbnVsbClcbiAgICAgIHYgPSB1LmFsZztcbiAgICBlbHNlIGlmIChwICE9IG51bGwpXG4gICAgICB2ID0gcDtcbiAgICBlbHNlXG4gICAgICB0aHJvdyBuZXcgdChcImhhc2ggYWxnIHVuc3BlY2lmaWVkXCIpO1xuICAgIHJldHVybiByLmNyeXB0by5VdGlsLmhhc2hIZXgoeSwgdik7XG4gIH0sIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgdSA9IHRoaXMucGFyYW1zLCBwID0gdGhpcy5nZXRDZXJ0SGFzaCh1LCBcInNoYTFcIiksIGMgPSBbXTtcbiAgICBjLnB1c2gobmV3IHMoeyBoZXg6IHAgfSkpLCAodHlwZW9mIHUgPT0gXCJzdHJpbmdcIiAmJiB1LmluZGV4T2YoXCItLS0tLUJFR0lOXCIpICE9IC0xIHx8IHUuY2VydCAhPSBudWxsICYmIHUuaGFzaXMgIT0gITEgfHwgdS5pc3N1ZXIgIT0gbnVsbCAmJiB1LnNlcmlhbCAhPSBudWxsKSAmJiBjLnB1c2gobmV3IGgodSkpO1xuICAgIHZhciB5ID0gbmV3IG4oeyBhcnJheTogYyB9KTtcbiAgICByZXR1cm4geS50b2hleCgpO1xuICB9LCB0aGlzLmdldEVuY29kZWRIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b2hleCgpO1xuICB9LCBlICE9IG51bGwgJiYgdGhpcy5zZXRCeVBhcmFtKGUpO1xufTtcbk4oYS5hc24xLmNtcy5FU1NDZXJ0SUQsIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS5jbXMuU2lnbmluZ0NlcnRpZmljYXRlVjIgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gRXJyb3IsIHIgPSBhLCBpID0gci5hc24xLCBzID0gaS5ERVJTZXF1ZW5jZTtcbiAgaS54NTA5O1xuICB2YXIgbiA9IGkuY21zLCBoID0gbi5FU1NDZXJ0SUR2MjtcbiAgci5jcnlwdG8sIG4uU2lnbmluZ0NlcnRpZmljYXRlVjIuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLCB0aGlzLnR5cGVPaWQgPSBcIjEuMi44NDAuMTEzNTQ5LjEuOS4xNi4yLjQ3XCIsIHRoaXMuZ2V0VmFsdWVBcnJheSA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLnBhcmFtcyA9PSBudWxsIHx8IHRoaXMucGFyYW1zID09IG51bGwgfHwgdGhpcy5wYXJhbXMuYXJyYXkgPT0gbnVsbClcbiAgICAgIHRocm93IG5ldyB0KFwicGFyYW1ldGVyICdhcnJheScgbm90IHNwZWNpZmllZFwiKTtcbiAgICBmb3IgKHZhciB1ID0gdGhpcy5wYXJhbXMuYXJyYXksIHAgPSBbXSwgYyA9IDA7IGMgPCB1Lmxlbmd0aDsgYysrKSB7XG4gICAgICB2YXIgeSA9IHVbY107XG4gICAgICAoZS5hbGcgIT0gbnVsbCB8fCBlLmhhc2lzID09ICExKSAmJiB0eXBlb2YgeSA9PSBcInN0cmluZ1wiICYmICh5LmluZGV4T2YoXCItLS0tLUJFR0lOXCIpICE9IC0xIHx8IFYuaXNBU04xSEVYKHkpKSAmJiAoeSA9IHsgY2VydDogeSB9KSwgeS5hbGcgPT0gbnVsbCAmJiBlLmFsZyAhPSBudWxsICYmICh5LmFsZyA9IGUuYWxnKSwgeS5oYXNpcyAhPSAhMSAmJiBlLmhhc2lzID09ICExICYmICh5Lmhhc2lzID0gITEpLCBwLnB1c2gobmV3IGgoeSkpO1xuICAgIH1cbiAgICB2YXIgdiA9IG5ldyBzKHsgYXJyYXk6IHAgfSksIG8gPSBuZXcgcyh7IGFycmF5OiBbdl0gfSk7XG4gICAgcmV0dXJuIFtvXTtcbiAgfSwgZSAhPSBudWxsICYmIHRoaXMuc2V0QnlQYXJhbShlKTtcbn07XG5OKGEuYXNuMS5jbXMuU2lnbmluZ0NlcnRpZmljYXRlVjIsIGEuYXNuMS5jbXMuQXR0cmlidXRlKTtcbmEuYXNuMS5jbXMuRVNTQ2VydElEdjIgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS5jbXMuRVNTQ2VydElEdjIuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO1xuICB2YXIgdCA9IGEsIHIgPSB0LmFzbjEsIGkgPSByLkRFUk9jdGV0U3RyaW5nLCBzID0gci5ERVJTZXF1ZW5jZSwgbiA9IHIuY21zLklzc3VlclNlcmlhbCwgaCA9IHIueDUwOS5BbGdvcml0aG1JZGVudGlmaWVyO1xuICB0aGlzLnBhcmFtcyA9IG51bGwsIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgdSA9IHRoaXMucGFyYW1zLCBwID0gdGhpcy5nZXRDZXJ0SGFzaCh1LCBcInNoYTI1NlwiKSwgYyA9IFtdO1xuICAgIHUuYWxnICE9IG51bGwgJiYgdS5hbGcgIT0gXCJzaGEyNTZcIiAmJiBjLnB1c2gobmV3IGgoeyBuYW1lOiB1LmFsZyB9KSksIGMucHVzaChuZXcgaSh7IGhleDogcCB9KSksICh0eXBlb2YgdSA9PSBcInN0cmluZ1wiICYmIHUuaW5kZXhPZihcIi0tLS0tQkVHSU5cIikgIT0gLTEgfHwgdS5jZXJ0ICE9IG51bGwgJiYgdS5oYXNpcyAhPSAhMSB8fCB1Lmlzc3VlciAhPSBudWxsICYmIHUuc2VyaWFsICE9IG51bGwpICYmIGMucHVzaChuZXcgbih1KSk7XG4gICAgdmFyIHkgPSBuZXcgcyh7IGFycmF5OiBjIH0pO1xuICAgIHJldHVybiB5LnRvaGV4KCk7XG4gIH0sIHRoaXMuZ2V0RW5jb2RlZEhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvaGV4KCk7XG4gIH0sIGUgIT0gbnVsbCAmJiB0aGlzLnNldEJ5UGFyYW0oZSk7XG59O1xuTihhLmFzbjEuY21zLkVTU0NlcnRJRHYyLCBhLmFzbjEuY21zLkVTU0NlcnRJRCk7XG5hLmFzbjEuY21zLklzc3VlclNlcmlhbCA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBFcnJvciwgciA9IGEsIGkgPSByLmFzbjEsIHMgPSBpLkRFUkludGVnZXIsIG4gPSBpLkRFUlNlcXVlbmNlLCBoID0gaS5jbXMsIHUgPSBpLng1MDksIHAgPSB1LkdlbmVyYWxOYW1lcywgYyA9IEw7XG4gIGguSXNzdWVyU2VyaWFsLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSwgdGhpcy5zZXRCeVBhcmFtID0gZnVuY3Rpb24oeSkge1xuICAgIHRoaXMucGFyYW1zID0geTtcbiAgfSwgdGhpcy50b2hleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB5ID0gdGhpcy5wYXJhbXMsIHYsIG87XG4gICAgaWYgKHR5cGVvZiB5ID09IFwic3RyaW5nXCIgJiYgeS5pbmRleE9mKFwiLS0tLS1CRUdJTlwiKSAhPSAtMSB8fCB5LmNlcnQgIT0gbnVsbCkge1xuICAgICAgdmFyIGw7XG4gICAgICB5LmNlcnQgIT0gbnVsbCA/IGwgPSB5LmNlcnQgOiBsID0geTtcbiAgICAgIHZhciBmID0gbmV3IGMoKTtcbiAgICAgIGYucmVhZENlcnRQRU0obCksIHYgPSBmLmdldElzc3VlcigpLCBvID0geyBoZXg6IGYuZ2V0U2VyaWFsTnVtYmVySGV4KCkgfTtcbiAgICB9IGVsc2UgaWYgKHkuaXNzdWVyICE9IG51bGwgJiYgeS5zZXJpYWwpXG4gICAgICB2ID0geS5pc3N1ZXIsIG8gPSB5LnNlcmlhbDtcbiAgICBlbHNlXG4gICAgICB0aHJvdyBuZXcgdChcImNlcnQgb3IgaXNzdWVyIGFuZCBzZXJpYWwgcGFyYW1ldGVyIG5vdCBzcGVjaWZpZWRcIik7XG4gICAgdmFyIGQgPSBuZXcgcChbeyBkbjogdiB9XSksIGcgPSBuZXcgcyhvKSwgUyA9IG5ldyBuKHsgYXJyYXk6IFtkLCBnXSB9KTtcbiAgICByZXR1cm4gUy50b2hleCgpO1xuICB9LCB0aGlzLmdldEVuY29kZWRIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b2hleCgpO1xuICB9LCBlICE9IG51bGwgJiYgdGhpcy5zZXRCeVBhcmFtKGUpO1xufTtcbk4oYS5hc24xLmNtcy5Jc3N1ZXJTZXJpYWwsIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS5jbXMuU2lnbmVySWRlbnRpZmllciA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBhLCByID0gdC5hc24xO1xuICByLkRFUkludGVnZXIsIHIuREVSU2VxdWVuY2U7XG4gIHZhciBpID0gci5jbXMsIHMgPSBpLklzc3VlckFuZFNlcmlhbE51bWJlciwgbiA9IGkuU3ViamVjdEtleUlkZW50aWZpZXIsIGggPSByLng1MDk7XG4gIGguWDUwME5hbWUsIGkuU2lnbmVySWRlbnRpZmllci5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksIHRoaXMucGFyYW1zID0gbnVsbCwgdGhpcy50b2hleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB1ID0gdGhpcy5wYXJhbXM7XG4gICAgaWYgKHUudHlwZSA9PSBcImlzc3NuXCIpIHtcbiAgICAgIHZhciBwID0gbmV3IHModSk7XG4gICAgICByZXR1cm4gcC50b2hleCgpO1xuICAgIH0gZWxzZSBpZiAodS50eXBlID09IFwic2tpZFwiKSB7XG4gICAgICB2YXIgYyA9IG5ldyBuKHUpO1xuICAgICAgcmV0dXJuIGMudG9oZXgoKTtcbiAgICB9IGVsc2VcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIndyb25nIHByb3BlcnR5IGZvciBpc3NzbiBvciBza2lkXCIpO1xuICB9LCB0aGlzLmdldEVuY29kZWRIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b2hleCgpO1xuICB9LCBlICE9IG51bGwgJiYgdGhpcy5zZXRCeVBhcmFtKGUpO1xufTtcbk4oYS5hc24xLmNtcy5TaWduZXJJZGVudGlmaWVyLCBhLmFzbjEuQVNOMU9iamVjdCk7XG5hLmFzbjEuY21zLklzc3VlckFuZFNlcmlhbE51bWJlciA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBhLCByID0gdC5hc24xLCBpID0gci5ERVJJbnRlZ2VyLCBzID0gci5ERVJTZXF1ZW5jZSwgbiA9IHIuY21zLCBoID0gci54NTA5LCB1ID0gaC5YNTAwTmFtZSwgcCA9IEwsIGMgPSBFcnJvcjtcbiAgbi5Jc3N1ZXJBbmRTZXJpYWxOdW1iZXIuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLCB0aGlzLnBhcmFtcyA9IG51bGwsIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgeSA9IHRoaXMucGFyYW1zLCB2LCBvO1xuICAgIGlmICh0eXBlb2YgeSA9PSBcInN0cmluZ1wiICYmIHkuaW5kZXhPZihcIi0tLS0tQkVHSU5cIikgIT0gLTEgfHwgeS5jZXJ0ICE9IG51bGwpIHtcbiAgICAgIHZhciBsO1xuICAgICAgeS5jZXJ0ICE9IG51bGwgPyBsID0geS5jZXJ0IDogbCA9IHk7XG4gICAgICB2YXIgZiA9IG5ldyBwKCk7XG4gICAgICBmLnJlYWRDZXJ0UEVNKGwpLCB2ID0gZi5nZXRJc3N1ZXIoKSwgbyA9IHsgaGV4OiBmLmdldFNlcmlhbE51bWJlckhleCgpIH07XG4gICAgfSBlbHNlIGlmICh5Lmlzc3VlciAhPSBudWxsICYmIHkuc2VyaWFsKVxuICAgICAgdiA9IHkuaXNzdWVyLCBvID0geS5zZXJpYWw7XG4gICAgZWxzZVxuICAgICAgdGhyb3cgbmV3IGMoXCJjZXJ0IG9yIGlzc3VlciBhbmQgc2VyaWFsIHBhcmFtZXRlciBub3Qgc3BlY2lmaWVkXCIpO1xuICAgIHZhciBkID0gbmV3IHUodiksIGcgPSBuZXcgaShvKSwgUyA9IG5ldyBzKHsgYXJyYXk6IFtkLCBnXSB9KTtcbiAgICByZXR1cm4gUy50b2hleCgpO1xuICB9LCB0aGlzLmdldEVuY29kZWRIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b2hleCgpO1xuICB9LCB0aGlzLnNldEJ5UGFyYW0gPSBmdW5jdGlvbih5KSB7XG4gICAgdGhpcy5wYXJhbXMgPSB5O1xuICB9LCBlICE9IG51bGwgJiYgdGhpcy5zZXRCeVBhcmFtKGUpO1xufTtcbk4oYS5hc24xLmNtcy5Jc3N1ZXJBbmRTZXJpYWxOdW1iZXIsIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS5jbXMuU3ViamVjdEtleUlkZW50aWZpZXIgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gYSwgciA9IHQuYXNuMTtcbiAgci5ERVJJbnRlZ2VyLCByLkRFUlNlcXVlbmNlO1xuICB2YXIgaSA9IHIuQVNOMVV0aWwubmV3T2JqZWN0LCBzID0gci5jbXM7XG4gIHMuSXNzdWVyQW5kU2VyaWFsTmFtZSwgcy5TdWJqZWN0S2V5SWRlbnRpZmllcjtcbiAgdmFyIG4gPSByLng1MDk7XG4gIG4uWDUwME5hbWU7XG4gIHZhciBoID0gTCwgdSA9IEVycm9yO1xuICBzLlN1YmplY3RLZXlJZGVudGlmaWVyLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSwgdGhpcy50b2hleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBwID0gdGhpcy5wYXJhbXM7XG4gICAgaWYgKHAuY2VydCA9PSBudWxsICYmIHAuc2tpZCA9PSBudWxsKVxuICAgICAgdGhyb3cgbmV3IHUoXCJwcm9wZXJ0eSBjZXJ0IG5vciBza2lkIHVuZGVmaW5lZFwiKTtcbiAgICB2YXIgYztcbiAgICBpZiAocC5jZXJ0ICE9IG51bGwpIHtcbiAgICAgIHZhciB5ID0gbmV3IGgocC5jZXJ0KSwgdiA9IHkuZ2V0RXh0U3ViamVjdEtleUlkZW50aWZpZXIoKTtcbiAgICAgIGMgPSB2LmtpZC5oZXg7XG4gICAgfSBlbHNlXG4gICAgICBwLnNraWQgIT0gbnVsbCAmJiAoYyA9IHAuc2tpZCk7XG4gICAgdmFyIG8gPSBpKHsgdGFnOiB7IHRhZ2U6IFwiYTBcIiwgb2JqOiB7IG9jdHN0cjogeyBoZXg6IGMgfSB9IH0gfSk7XG4gICAgcmV0dXJuIG8udG9oZXgoKTtcbiAgfSwgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9oZXgoKTtcbiAgfSwgZSAhPSBudWxsICYmIHRoaXMuc2V0QnlQYXJhbShlKTtcbn07XG5OKGEuYXNuMS5jbXMuU3ViamVjdEtleUlkZW50aWZpZXIsIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS5jbXMuQXR0cmlidXRlTGlzdCA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBFcnJvciwgciA9IGEsIGkgPSByLmFzbjEsIHMgPSBpLkRFUlNldCwgbiA9IGkuY21zO1xuICBuLkF0dHJpYnV0ZUxpc3Quc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLCB0aGlzLnBhcmFtcyA9IG51bGwsIHRoaXMuaFRMViA9IG51bGwsIHRoaXMuc2V0QnlQYXJhbSA9IGZ1bmN0aW9uKGgpIHtcbiAgICB0aGlzLnBhcmFtcyA9IGg7XG4gIH0sIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaCA9IHRoaXMucGFyYW1zO1xuICAgIGlmICh0aGlzLmhUTFYgIT0gbnVsbClcbiAgICAgIHJldHVybiB0aGlzLmhUTFY7XG4gICAgdmFyIHUgPSAhMDtcbiAgICBoLnNvcnRmbGFnICE9IG51bGwgJiYgKHUgPSBoLnNvcnRmbGFnKTtcbiAgICBmb3IgKHZhciBwID0gaC5hcnJheSwgYyA9IFtdLCB5ID0gMDsgeSA8IHAubGVuZ3RoOyB5KyspIHtcbiAgICAgIHZhciB2ID0gcFt5XSwgbyA9IHYuYXR0cjtcbiAgICAgIGlmIChvID09IFwiY29udGVudFR5cGVcIilcbiAgICAgICAgYy5wdXNoKG5ldyBuLkNvbnRlbnRUeXBlKHYpKTtcbiAgICAgIGVsc2UgaWYgKG8gPT0gXCJtZXNzYWdlRGlnZXN0XCIpXG4gICAgICAgIGMucHVzaChuZXcgbi5NZXNzYWdlRGlnZXN0KHYpKTtcbiAgICAgIGVsc2UgaWYgKG8gPT0gXCJzaWduaW5nVGltZVwiKVxuICAgICAgICBjLnB1c2gobmV3IG4uU2lnbmluZ1RpbWUodikpO1xuICAgICAgZWxzZSBpZiAobyA9PSBcInNpZ25pbmdDZXJ0aWZpY2F0ZVwiKVxuICAgICAgICBjLnB1c2gobmV3IG4uU2lnbmluZ0NlcnRpZmljYXRlKHYpKTtcbiAgICAgIGVsc2UgaWYgKG8gPT0gXCJzaWduaW5nQ2VydGlmaWNhdGVWMlwiKVxuICAgICAgICBjLnB1c2gobmV3IG4uU2lnbmluZ0NlcnRpZmljYXRlVjIodikpO1xuICAgICAgZWxzZSBpZiAobyA9PSBcInNpZ25hdHVyZVBvbGljeUlkZW50aWZpZXJcIilcbiAgICAgICAgYy5wdXNoKG5ldyBhLmFzbjEuY2FkZXMuU2lnbmF0dXJlUG9saWN5SWRlbnRpZmllcih2KSk7XG4gICAgICBlbHNlIGlmIChvID09IFwic2lnbmF0dXJlVGltZVN0YW1wXCIgfHwgbyA9PSBcInRpbWVTdGFtcFRva2VuXCIpXG4gICAgICAgIGMucHVzaChuZXcgYS5hc24xLmNhZGVzLlNpZ25hdHVyZVRpbWVTdGFtcCh2KSk7XG4gICAgICBlbHNlXG4gICAgICAgIHRocm93IG5ldyB0KFwidW5rbm93biBhdHRyOiBcIiArIG8pO1xuICAgIH1cbiAgICB2YXIgbCA9IG5ldyBzKHsgYXJyYXk6IGMsIHNvcnRmbGFnOiB1IH0pO1xuICAgIHJldHVybiB0aGlzLmhUTFYgPSBsLnRvaGV4KCksIHRoaXMuaFRMVjtcbiAgfSwgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9oZXgoKTtcbiAgfSwgZSAhPSBudWxsICYmIHRoaXMuc2V0QnlQYXJhbShlKTtcbn07XG5OKGEuYXNuMS5jbXMuQXR0cmlidXRlTGlzdCwgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLmNtcy5TaWduZXJJbmZvID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IEVycm9yLCByID0gYSwgaSA9IHIuYXNuMSwgcyA9IGkuREVSSW50ZWdlciwgbiA9IGkuREVST2N0ZXRTdHJpbmcsIGggPSBpLkRFUlNlcXVlbmNlLCB1ID0gaS5ERVJUYWdnZWRPYmplY3QsIHAgPSBpLmNtcywgYyA9IHAuU2lnbmVySWRlbnRpZmllciwgeSA9IHAuQXR0cmlidXRlTGlzdDtcbiAgcC5Db250ZW50VHlwZSwgcC5FbmNhcHN1bGF0ZWRDb250ZW50SW5mbywgcC5NZXNzYWdlRGlnZXN0LCBwLlNpZ25lZERhdGE7XG4gIHZhciB2ID0gaS54NTA5LCBvID0gdi5BbGdvcml0aG1JZGVudGlmaWVyLCBsID0gci5jcnlwdG8sIGYgPSBrO1xuICBwLlNpZ25lckluZm8uc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLCB0aGlzLnBhcmFtcyA9IG51bGwsIHRoaXMuc2lnbiA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBkID0gdGhpcy5wYXJhbXMsIGcgPSBkLnNpZ2FsZywgUyA9IG5ldyB5KGQuc2F0dHJzKS50b2hleCgpLCBiID0gZi5nZXRLZXkoZC5zaWdua2V5KSwgRCA9IG5ldyBsLlNpZ25hdHVyZSh7IGFsZzogZyB9KTtcbiAgICBELmluaXQoYiksIEQudXBkYXRlSGV4KFMpO1xuICAgIHZhciBBID0gRC5zaWduKCk7XG4gICAgZC5zaWdoZXggPSBBO1xuICB9LCB0aGlzLnRvaGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGQgPSB0aGlzLnBhcmFtcywgZyA9IFtdO1xuICAgIGlmIChnLnB1c2gobmV3IHMoeyBpbnQ6IGQudmVyc2lvbiB9KSksIGcucHVzaChuZXcgYyhkLmlkKSksIGcucHVzaChuZXcgbyh7IG5hbWU6IGQuaGFzaGFsZyB9KSksIGQuc2F0dHJzICE9IG51bGwpIHtcbiAgICAgIHZhciBTID0gbmV3IHkoZC5zYXR0cnMpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgZy5wdXNoKG5ldyB1KHsgdGFnOiBcImEwXCIsIGV4cGxpY2l0OiAhMSwgb2JqOiBTIH0pKTtcbiAgICAgIH0gY2F0Y2ggKEQpIHtcbiAgICAgICAgdGhyb3cgbmV3IHQoXCJzaSBzYXR0ciBlcnJvcjogXCIgKyBEKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGQuc2lnYWxnZmllbGQgIT0gbnVsbCA/IGcucHVzaChuZXcgbyh7IG5hbWU6IGQuc2lnYWxnZmllbGQgfSkpIDogZy5wdXNoKG5ldyBvKHsgbmFtZTogZC5zaWdhbGcgfSkpLCBkLnNpZ2hleCA9PSBudWxsICYmIGQuc2lnbmtleSAhPSBudWxsICYmIHRoaXMuc2lnbigpLCBnLnB1c2gobmV3IG4oeyBoZXg6IGQuc2lnaGV4IH0pKSwgZC51YXR0cnMgIT0gbnVsbCkge1xuICAgICAgdmFyIFMgPSBuZXcgeShkLnVhdHRycyk7XG4gICAgICB0cnkge1xuICAgICAgICBnLnB1c2gobmV3IHUoeyB0YWc6IFwiYTFcIiwgZXhwbGljaXQ6ICExLCBvYmo6IFMgfSkpO1xuICAgICAgfSBjYXRjaCAoQSkge1xuICAgICAgICB0aHJvdyBuZXcgdChcInNpIHVhdHRyIGVycm9yOiBcIiArIEEpO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgYiA9IG5ldyBoKHsgYXJyYXk6IGcgfSk7XG4gICAgcmV0dXJuIGIudG9oZXgoKTtcbiAgfSwgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9oZXgoKTtcbiAgfSwgZSAhPSBudWxsICYmIHRoaXMuc2V0QnlQYXJhbShlKTtcbn07XG5OKGEuYXNuMS5jbXMuU2lnbmVySW5mbywgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLmNtcy5FbmNhcHN1bGF0ZWRDb250ZW50SW5mbyA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBhLCByID0gdC5hc24xLCBpID0gci5ERVJUYWdnZWRPYmplY3QsIHMgPSByLkRFUlNlcXVlbmNlLCBuID0gci5ERVJPYmplY3RJZGVudGlmaWVyLCBoID0gci5ERVJPY3RldFN0cmluZywgdSA9IHIuY21zO1xuICB1LkVuY2Fwc3VsYXRlZENvbnRlbnRJbmZvLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSwgdGhpcy5wYXJhbXMgPSBudWxsLCB0aGlzLnRvaGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHAgPSB0aGlzLnBhcmFtcywgYyA9IFtdO1xuICAgIGlmIChjLnB1c2gobmV3IG4ocC50eXBlKSksIHAuY29udGVudCAhPSBudWxsICYmIChwLmNvbnRlbnQuaGV4ICE9IG51bGwgfHwgcC5jb250ZW50LnN0ciAhPSBudWxsKSAmJiBwLmlzRGV0YWNoZWQgIT0gITApIHtcbiAgICAgIHZhciB5ID0gbmV3IGgocC5jb250ZW50KSwgdiA9IG5ldyBpKHsgdGFnOiBcImEwXCIsIGV4cGxpY2l0OiAhMCwgb2JqOiB5IH0pO1xuICAgICAgYy5wdXNoKHYpO1xuICAgIH1cbiAgICB2YXIgbyA9IG5ldyBzKHsgYXJyYXk6IGMgfSk7XG4gICAgcmV0dXJuIG8udG9oZXgoKTtcbiAgfSwgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9oZXgoKTtcbiAgfSwgdGhpcy5zZXRCeVBhcmFtID0gZnVuY3Rpb24ocCkge1xuICAgIHRoaXMucGFyYW1zID0gcDtcbiAgfSwgZSAhPSBudWxsICYmIHRoaXMuc2V0QnlQYXJhbShlKTtcbn07XG5OKGEuYXNuMS5jbXMuRW5jYXBzdWxhdGVkQ29udGVudEluZm8sIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS5jbXMuQ29udGVudEluZm8gPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gYSwgciA9IHQuYXNuMSwgaSA9IHIuREVSVGFnZ2VkT2JqZWN0LCBzID0gci5ERVJTZXF1ZW5jZSwgbiA9IHIuREVST2JqZWN0SWRlbnRpZmllciwgaCA9IHIueDUwOTtcbiAgaC5PSUQubmFtZTJvYmosIGEuYXNuMS5jbXMuQ29udGVudEluZm8uc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLCB0aGlzLnBhcmFtcyA9IG51bGwsIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgdSA9IHRoaXMucGFyYW1zLCBwID0gW107XG4gICAgcC5wdXNoKG5ldyBuKHUudHlwZSkpO1xuICAgIHZhciBjID0gbmV3IGkoeyB0YWc6IFwiYTBcIiwgZXhwbGljaXQ6ICEwLCBvYmo6IHUub2JqIH0pO1xuICAgIHAucHVzaChjKTtcbiAgICB2YXIgeSA9IG5ldyBzKHsgYXJyYXk6IHAgfSk7XG4gICAgcmV0dXJuIHkudG9oZXgoKTtcbiAgfSwgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9oZXgoKTtcbiAgfSwgdGhpcy5zZXRCeVBhcmFtID0gZnVuY3Rpb24odSkge1xuICAgIHRoaXMucGFyYW1zID0gdTtcbiAgfSwgZSAhPSBudWxsICYmIHRoaXMuc2V0QnlQYXJhbShlKTtcbn07XG5OKGEuYXNuMS5jbXMuQ29udGVudEluZm8sIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS5jbXMuU2lnbmVkRGF0YSA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBhLCByID0gdC5hc24xO1xuICByLkFTTjFPYmplY3Q7XG4gIHZhciBpID0gci5ERVJJbnRlZ2VyLCBzID0gci5ERVJTZXQsIG4gPSByLkRFUlNlcXVlbmNlO1xuICByLkRFUlRhZ2dlZE9iamVjdDtcbiAgdmFyIGggPSByLmNtcywgdSA9IGguRW5jYXBzdWxhdGVkQ29udGVudEluZm8sIHAgPSBoLlNpZ25lckluZm8sIGMgPSBoLkNvbnRlbnRJbmZvLCB5ID0gaC5DZXJ0aWZpY2F0ZVNldCwgdiA9IGguUmV2b2NhdGlvbkluZm9DaG9pY2VzLCBvID0gci54NTA5LCBsID0gby5BbGdvcml0aG1JZGVudGlmaWVyO1xuICBhLmFzbjEuY21zLlNpZ25lZERhdGEuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLCB0aGlzLnBhcmFtcyA9IG51bGwsIHRoaXMuY2hlY2tBbmRGaXhQYXJhbSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBmID0gdGhpcy5wYXJhbXM7XG4gICAgdGhpcy5fc2V0RGlnZXN0QWxncyhmKSwgdGhpcy5fc2V0Q29udGVudFR5cGVCeUVDb250ZW50KGYpLCB0aGlzLl9zZXRNZXNzYWdlRGlnZXN0QnlFQ29udGVudChmKSwgdGhpcy5fc2V0U2lnbmVySW5mb1ZlcnNpb24oZiksIHRoaXMuX3NldFNpZ25lZERhdGFWZXJzaW9uKGYpO1xuICB9LCB0aGlzLl9zZXREaWdlc3RBbGdzID0gZnVuY3Rpb24oZikge1xuICAgIGZvciAodmFyIGQgPSB7fSwgZyA9IGYuc2luZm9zLCBTID0gMDsgUyA8IGcubGVuZ3RoOyBTKyspIHtcbiAgICAgIHZhciBiID0gZ1tTXTtcbiAgICAgIGRbYi5oYXNoYWxnXSA9IDE7XG4gICAgfVxuICAgIGYuaGFzaGFsZ3MgPSBPYmplY3Qua2V5cyhkKS5zb3J0KCk7XG4gIH0sIHRoaXMuX3NldENvbnRlbnRUeXBlQnlFQ29udGVudCA9IGZ1bmN0aW9uKGYpIHtcbiAgICBmb3IgKHZhciBkID0gZi5lY29udGVudC50eXBlLCBnID0gZi5zaW5mb3MsIFMgPSAwOyBTIDwgZy5sZW5ndGg7IFMrKykge1xuICAgICAgdmFyIGIgPSBnW1NdLCBEID0gdGhpcy5fZ2V0QXR0clBhcmFtQnlOYW1lKGIsIFwiY29udGVudFR5cGVcIik7XG4gICAgICBELnR5cGUgPSBkO1xuICAgIH1cbiAgfSwgdGhpcy5fc2V0TWVzc2FnZURpZ2VzdEJ5RUNvbnRlbnQgPSBmdW5jdGlvbihmKSB7XG4gICAgdmFyIGQgPSBmLmVjb250ZW50O1xuICAgIGYuZWNvbnRlbnQudHlwZTtcbiAgICB2YXIgZyA9IGQuY29udGVudC5oZXg7XG4gICAgZyA9PSBudWxsICYmIGQudHlwZSA9PSBcImRhdGFcIiAmJiBkLmNvbnRlbnQuc3RyICE9IG51bGwgJiYgKGcgPSBQZShkLmNvbnRlbnQuc3RyKSk7XG4gICAgZm9yICh2YXIgUyA9IGYuc2luZm9zLCBiID0gMDsgYiA8IFMubGVuZ3RoOyBiKyspIHtcbiAgICAgIHZhciBEID0gU1tiXSwgQSA9IEQuaGFzaGFsZywgSSA9IHRoaXMuX2dldEF0dHJQYXJhbUJ5TmFtZShELCBcIm1lc3NhZ2VEaWdlc3RcIiksIG0gPSBhLmNyeXB0by5VdGlsLmhhc2hIZXgoZywgQSk7XG4gICAgICBJLmhleCA9IG07XG4gICAgfVxuICB9LCB0aGlzLl9nZXRBdHRyUGFyYW1CeU5hbWUgPSBmdW5jdGlvbihmLCBkKSB7XG4gICAgZm9yICh2YXIgZyA9IGYuc2F0dHJzLmFycmF5LCBTID0gMDsgUyA8IGcubGVuZ3RoOyBTKyspXG4gICAgICBpZiAoZ1tTXS5hdHRyID09IGQpXG4gICAgICAgIHJldHVybiBnW1NdO1xuICB9LCB0aGlzLl9zZXRTaWduZXJJbmZvVmVyc2lvbiA9IGZ1bmN0aW9uKGYpIHtcbiAgICBmb3IgKHZhciBkID0gZi5zaW5mb3MsIGcgPSAwOyBnIDwgZC5sZW5ndGg7IGcrKykge1xuICAgICAgdmFyIFMgPSBkW2ddLCBiID0gMTtcbiAgICAgIFMuaWQudHlwZSA9PSBcInNraWRcIiAmJiAoYiA9IDMpLCBTLnZlcnNpb24gPSBiO1xuICAgIH1cbiAgfSwgdGhpcy5fc2V0U2lnbmVkRGF0YVZlcnNpb24gPSBmdW5jdGlvbihmKSB7XG4gICAgdmFyIGQgPSB0aGlzLl9nZXRTaWduZWREYXRhVmVyc2lvbihmKTtcbiAgICBmLnZlcnNpb24gPSBkO1xuICB9LCB0aGlzLl9nZXRTaWduZWREYXRhVmVyc2lvbiA9IGZ1bmN0aW9uKGYpIHtcbiAgICBpZiAoZi5yZXZpbmZvcyAhPSBudWxsKVxuICAgICAgZm9yICh2YXIgZCA9IGYucmV2aW5mb3MsIGcgPSAwOyBnIDwgZC5sZW5ndGg7IGcrKykge1xuICAgICAgICB2YXIgUyA9IGRbZ107XG4gICAgICAgIGlmIChTLm9jc3AgIT0gbnVsbClcbiAgICAgICAgICByZXR1cm4gNTtcbiAgICAgIH1cbiAgICBmb3IgKHZhciBiID0gZi5zaW5mb3MsIGcgPSAwOyBnIDwgYi5sZW5ndGg7IGcrKykge1xuICAgICAgdmFyIEQgPSBmLnNpbmZvc1tnXTtcbiAgICAgIGlmIChELnZlcnNpb24gPT0gMylcbiAgICAgICAgcmV0dXJuIDM7XG4gICAgfVxuICAgIHJldHVybiBmLmVjb250ZW50LnR5cGUgIT0gXCJkYXRhXCIgPyAzIDogMTtcbiAgfSwgdGhpcy50b2hleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBmID0gdGhpcy5wYXJhbXM7XG4gICAgdGhpcy5nZXRFbmNvZGVkSGV4UHJlcGFyZSAhPSBudWxsICYmIHRoaXMuZ2V0RW5jb2RlZEhleFByZXBhcmUoKSwgZi5maXhlZCAhPSAhMCAmJiB0aGlzLmNoZWNrQW5kRml4UGFyYW0oKTtcbiAgICB2YXIgZCA9IFtdO1xuICAgIGQucHVzaChuZXcgaSh7IGludDogZi52ZXJzaW9uIH0pKTtcbiAgICBmb3IgKHZhciBnID0gW10sIFMgPSAwOyBTIDwgZi5oYXNoYWxncy5sZW5ndGg7IFMrKykge1xuICAgICAgdmFyIGIgPSBmLmhhc2hhbGdzW1NdO1xuICAgICAgZy5wdXNoKG5ldyBsKHsgbmFtZTogYiB9KSk7XG4gICAgfVxuICAgIGQucHVzaChuZXcgcyh7IGFycmF5OiBnIH0pKSwgZC5wdXNoKG5ldyB1KGYuZWNvbnRlbnQpKSwgZi5jZXJ0cyAhPSBudWxsICYmIGQucHVzaChuZXcgeShmLmNlcnRzKSksIGYucmV2aW5mb3MgIT0gbnVsbCAmJiBkLnB1c2gobmV3IHYoZi5yZXZpbmZvcykpO1xuICAgIGZvciAodmFyIEQgPSBbXSwgUyA9IDA7IFMgPCBmLnNpbmZvcy5sZW5ndGg7IFMrKykge1xuICAgICAgdmFyIEEgPSBmLnNpbmZvc1tTXTtcbiAgICAgIEQucHVzaChuZXcgcChBKSk7XG4gICAgfVxuICAgIGQucHVzaChuZXcgcyh7IGFycmF5OiBEIH0pKTtcbiAgICB2YXIgSSA9IG5ldyBuKHsgYXJyYXk6IGQgfSk7XG4gICAgcmV0dXJuIEkudG9oZXgoKTtcbiAgfSwgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9oZXgoKTtcbiAgfSwgdGhpcy5nZXRDb250ZW50SW5mbyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBmID0gbmV3IGMoeyB0eXBlOiBcInNpZ25lZC1kYXRhXCIsIG9iajogdGhpcyB9KTtcbiAgICByZXR1cm4gZjtcbiAgfSwgdGhpcy5nZXRDb250ZW50SW5mb0VuY29kZWRIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDb250ZW50SW5mbygpLnRvaGV4KCk7XG4gIH0sIGUgIT0gbnVsbCAmJiB0aGlzLnNldEJ5UGFyYW0oZSk7XG59O1xuTihhLmFzbjEuY21zLlNpZ25lZERhdGEsIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS5jbXMuQ2VydGlmaWNhdGVTZXQgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS5jbXMuQ2VydGlmaWNhdGVTZXQuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO1xuICB2YXIgdCA9IEVycm9yLCByID0gYS5hc24xLCBpID0gci5ERVJUYWdnZWRPYmplY3QsIHMgPSByLkRFUlNldCwgbiA9IHIuQVNOMU9iamVjdDtcbiAgdGhpcy5wYXJhbXMgPSBudWxsLCB0aGlzLnRvaGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGggPSB0aGlzLnBhcmFtcywgdSA9IFtdLCBwO1xuICAgIGlmIChoIGluc3RhbmNlb2YgQXJyYXkpXG4gICAgICBwID0gaDtcbiAgICBlbHNlIGlmIChoLmFycmF5ICE9IG51bGwpXG4gICAgICBwID0gaC5hcnJheTtcbiAgICBlbHNlXG4gICAgICB0aHJvdyBuZXcgdChcImNlcnQgYXJyYXkgbm90IHNwZWNpZmllZFwiKTtcbiAgICBmb3IgKHZhciBjID0gMDsgYyA8IHAubGVuZ3RoOyBjKyspIHtcbiAgICAgIHZhciB5ID0gcFtjXSwgdiA9IGllKHkpLCBvID0gbmV3IG4oKTtcbiAgICAgIG8uaFRMViA9IHYsIHUucHVzaChvKTtcbiAgICB9XG4gICAgdmFyIGwgPSB7IGFycmF5OiB1IH07XG4gICAgaC5zb3J0ZmxhZyA9PSAhMSAmJiAobC5zb3J0ZmxhZyA9ICExKTtcbiAgICB2YXIgZiA9IG5ldyBzKGwpLCBkID0gbmV3IGkoeyB0YWc6IFwiYTBcIiwgZXhwbGljaXQ6ICExLCBvYmo6IGYgfSk7XG4gICAgcmV0dXJuIGQudG9oZXgoKTtcbiAgfSwgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9oZXgoKTtcbiAgfSwgZSAhPSBudWxsICYmIHRoaXMuc2V0QnlQYXJhbShlKTtcbn07XG5OKGEuYXNuMS5jbXMuQ2VydGlmaWNhdGVTZXQsIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS5jbXMuUmV2b2NhdGlvbkluZm9DaG9pY2VzID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEuY21zLlJldm9jYXRpb25JbmZvQ2hvaWNlcy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksIHRoaXMucGFyYW1zID0gbnVsbCwgdGhpcy50b2hleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB0ID0gdGhpcy5wYXJhbXM7XG4gICAgaWYgKCF0IGluc3RhbmNlb2YgQXJyYXkpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJwYXJhbXMgaXMgbm90IGFycmF5XCIpO1xuICAgIGZvciAodmFyIHIgPSBbXSwgaSA9IDA7IGkgPCB0Lmxlbmd0aDsgaSsrKVxuICAgICAgci5wdXNoKG5ldyBhLmFzbjEuY21zLlJldm9jYXRpb25JbmZvQ2hvaWNlKHRbaV0pKTtcbiAgICB2YXIgcyA9IGEuYXNuMS5BU04xVXRpbC5uZXdPYmplY3QoeyB0YWc6IHsgdGFnaTogXCJhMVwiLCBvYmo6IHsgc2V0OiByIH0gfSB9KTtcbiAgICByZXR1cm4gcy50b2hleCgpO1xuICB9LCB0aGlzLmdldEVuY29kZWRIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b2hleCgpO1xuICB9LCBlICE9IG51bGwgJiYgdGhpcy5zZXRCeVBhcmFtKGUpO1xufTtcbk4oYS5hc24xLmNtcy5SZXZvY2F0aW9uSW5mb0Nob2ljZXMsIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS5jbXMuUmV2b2NhdGlvbkluZm9DaG9pY2UgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS5jbXMuUmV2b2NhdGlvbkluZm9DaG9pY2Uuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLCB0aGlzLnBhcmFtcyA9IG51bGwsIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgdCA9IHRoaXMucGFyYW1zO1xuICAgIGlmICh0LmNybCAhPSBudWxsICYmIHR5cGVvZiB0LmNybCA9PSBcInN0cmluZ1wiKSB7XG4gICAgICB2YXIgciA9IHQuY3JsO1xuICAgICAgcmV0dXJuIHQuY3JsLmluZGV4T2YoXCItLS0tLUJFR0lOXCIpICE9IC0xICYmIChyID0gaWUodC5jcmwpKSwgcjtcbiAgICB9IGVsc2UgaWYgKHQub2NzcCAhPSBudWxsKSB7XG4gICAgICB2YXIgaSA9IGEuYXNuMS5BU04xVXRpbC5uZXdPYmplY3QoeyB0YWc6IHsgdGFnaTogXCJhMVwiLCBvYmo6IG5ldyBhLmFzbjEuY21zLk90aGVyUmV2b2NhdGlvbkZvcm1hdCh0KSB9IH0pO1xuICAgICAgcmV0dXJuIGkudG9oZXgoKTtcbiAgICB9IGVsc2VcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInByb3BlcnR5IGNybCBvciBvY3NwIHVuZGVmaW5lZFwiKTtcbiAgfSwgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9oZXgoKTtcbiAgfSwgZSAhPSBudWxsICYmIHRoaXMuc2V0QnlQYXJhbShlKTtcbn07XG5OKGEuYXNuMS5jbXMuUmV2b2NhdGlvbkluZm9DaG9pY2UsIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS5jbXMuT3RoZXJSZXZvY2F0aW9uRm9ybWF0ID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEuY21zLk90aGVyUmV2b2NhdGlvbkZvcm1hdC5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7XG4gIHZhciB0ID0gRXJyb3IsIHIgPSBhLCBpID0gci5hc24xLCBzID0gaS5BU04xVXRpbC5uZXdPYmplY3QsIG4gPSByLmxhbmcuU3RyaW5nLmlzSGV4O1xuICB0aGlzLnBhcmFtcyA9IG51bGwsIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaCA9IHRoaXMucGFyYW1zO1xuICAgIGlmIChoLm9jc3AgPT0gbnVsbClcbiAgICAgIHRocm93IG5ldyB0KFwicHJvcGVydHkgb2NzcCBub3Qgc3BlY2lmaWVkXCIpO1xuICAgIGlmICghbihoLm9jc3ApIHx8ICFWLmlzQVNOMUhFWChoLm9jc3ApKVxuICAgICAgdGhyb3cgbmV3IHQoXCJvY3NwIHZhbHVlIG5vdCBBU04uMSBoZXggc3RyaW5nXCIpO1xuICAgIHZhciB1ID0gcyh7IHNlcTogW3sgb2lkOiBcIjEuMy42LjEuNS41LjcuMTYuMlwiIH0sIHsgYXNuMTogeyB0bHY6IGgub2NzcCB9IH1dIH0pO1xuICAgIHJldHVybiB1LnRvaGV4KCk7XG4gIH0sIHRoaXMuZ2V0RW5jb2RlZEhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvaGV4KCk7XG4gIH0sIGUgIT0gbnVsbCAmJiB0aGlzLnNldEJ5UGFyYW0oZSk7XG59O1xuTihhLmFzbjEuY21zLk90aGVyUmV2b2NhdGlvbkZvcm1hdCwgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLmNtcy5DTVNVdGlsID0gbmV3IGZ1bmN0aW9uKCkge1xufSgpO1xuYS5hc24xLmNtcy5DTVNVdGlsLm5ld1NpZ25lZERhdGEgPSBmdW5jdGlvbihlKSB7XG4gIHJldHVybiBuZXcgYS5hc24xLmNtcy5TaWduZWREYXRhKGUpO1xufTtcbmEuYXNuMS5jbXMuQ01TVXRpbC52ZXJpZnlTaWduZWREYXRhID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IGEsIHIgPSB0LmFzbjEsIGkgPSByLmNtcztcbiAgaS5TaWduZXJJbmZvLCBpLlNpZ25lZERhdGEsIGkuU2lnbmluZ1RpbWUsIGkuU2lnbmluZ0NlcnRpZmljYXRlLCBpLlNpZ25pbmdDZXJ0aWZpY2F0ZVYyO1xuICB2YXIgcyA9IHIuY2FkZXM7XG4gIHMuU2lnbmF0dXJlUG9saWN5SWRlbnRpZmllcjtcbiAgdmFyIG4gPSB0LmxhbmcuU3RyaW5nLmlzSGV4LCBoID0gViwgdSA9IGguZ2V0VmJ5TGlzdCwgcCA9IGguZ2V0VExWYnlMaXN0LCBjID0gaC5nZXRJZHhieUxpc3QsIHkgPSBoLmdldENoaWxkSWR4LCB2ID0gaC5nZXRUTFYsIG8gPSBoLm9pZG5hbWUsIGwgPSB0LmNyeXB0by5VdGlsLmhhc2hIZXg7XG4gIGUuY21zID09PSB2b2lkIDAgJiYgbihlLmNtcyk7XG4gIHZhciBmID0gZS5jbXMsIGQgPSBmdW5jdGlvbih3LCB4KSB7XG4gICAgZm9yICh2YXIgRiwgUCA9IDM7IFAgPCA2OyBQKyspXG4gICAgICBpZiAoRiA9IGModywgMCwgWzEsIDAsIFBdKSwgRiAhPT0gdm9pZCAwKSB7XG4gICAgICAgIHZhciBUID0gdy5zdWJzdHIoRiwgMik7XG4gICAgICAgIFQgPT09IFwiYTBcIiAmJiAoeC5jZXJ0c0lkeCA9IEYpLCBUID09PSBcImExXCIgJiYgKHgucmV2aW5mb3NJZHggPSBGKSwgVCA9PT0gXCIzMVwiICYmICh4LnNpZ25lcmluZm9zSWR4ID0gRik7XG4gICAgICB9XG4gIH0sIGcgPSBmdW5jdGlvbih3LCB4KSB7XG4gICAgdmFyIEYgPSB4LnNpZ25lcmluZm9zSWR4O1xuICAgIGlmIChGICE9PSB2b2lkIDApIHtcbiAgICAgIHZhciBQID0geSh3LCBGKTtcbiAgICAgIHguc2lnbmVySW5mb0lkeExpc3QgPSBQO1xuICAgICAgZm9yICh2YXIgVCA9IDA7IFQgPCBQLmxlbmd0aDsgVCsrKSB7XG4gICAgICAgIHZhciBIID0gUFtUXSwgQyA9IHsgaWR4OiBIIH07XG4gICAgICAgIFModywgQyksIHguc2lnbmVySW5mb3MucHVzaChDKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFMgPSBmdW5jdGlvbih3LCB4KSB7XG4gICAgdmFyIEYgPSB4LmlkeDtcbiAgICB4LnNpZ25lcmlkX2lzc3VlcjEgPSBwKHcsIEYsIFsxLCAwXSwgXCIzMFwiKSwgeC5zaWduZXJpZF9zZXJpYWwxID0gdSh3LCBGLCBbMSwgMV0sIFwiMDJcIiksIHguaGFzaGFsZyA9IG8odSh3LCBGLCBbMiwgMF0sIFwiMDZcIikpO1xuICAgIHZhciBQID0gYyh3LCBGLCBbM10sIFwiYTBcIik7XG4gICAgeC5pZHhTaWduZWRBdHRycyA9IFAsIGIodywgeCwgUCk7XG4gICAgdmFyIFQgPSB5KHcsIEYpLCBIID0gVC5sZW5ndGg7XG4gICAgaWYgKEggPCA2KVxuICAgICAgdGhyb3cgXCJtYWxmb3JtZWQgU2lnbmVySW5mb1wiO1xuICAgIHguc2lnYWxnID0gbyh1KHcsIEYsIFtIIC0gMiwgMF0sIFwiMDZcIikpLCB4LnNpZ3ZhbCA9IHUodywgRiwgW0ggLSAxXSwgXCIwNFwiKTtcbiAgfSwgYiA9IGZ1bmN0aW9uKHcsIHgsIEYpIHtcbiAgICB2YXIgUCA9IHkodywgRik7XG4gICAgeC5zaWduZWRBdHRySWR4TGlzdCA9IFA7XG4gICAgZm9yICh2YXIgVCA9IDA7IFQgPCBQLmxlbmd0aDsgVCsrKSB7XG4gICAgICB2YXIgSCA9IFBbVF0sIEMgPSB1KHcsIEgsIFswXSwgXCIwNlwiKSwgQjtcbiAgICAgIEMgPT09IFwiMmE4NjQ4ODZmNzBkMDEwOTA1XCIgPyAoQiA9IFcodSh3LCBILCBbMSwgMF0pKSwgeC5zYVNpZ25pbmdUaW1lID0gQikgOiBDID09PSBcIjJhODY0ODg2ZjcwZDAxMDkwNFwiICYmIChCID0gdSh3LCBILCBbMSwgMF0sIFwiMDRcIiksIHguc2FNZXNzYWdlRGlnZXN0ID0gQik7XG4gICAgfVxuICB9LCBEID0gZnVuY3Rpb24odywgeCkge1xuICAgIGlmICh1KHcsIDAsIFswXSwgXCIwNlwiKSAhPT0gXCIyYTg2NDg4NmY3MGQwMTA3MDJcIilcbiAgICAgIHJldHVybiB4O1xuICAgIHguY21zVHlwZSA9IFwic2lnbmVkRGF0YVwiLCB4LmVjb250ZW50ID0gdSh3LCAwLCBbMSwgMCwgMiwgMSwgMF0pLCBkKHcsIHgpLCB4LnNpZ25lckluZm9zID0gW10sIGcodywgeCk7XG4gIH0sIEEgPSBmdW5jdGlvbih3LCB4KSB7XG4gICAgZm9yICh2YXIgRiA9IHgucGFyc2Uuc2lnbmVySW5mb3MsIFAgPSBGLmxlbmd0aCwgVCA9ICEwLCBIID0gMDsgSCA8IFA7IEgrKykge1xuICAgICAgdmFyIEMgPSBGW0hdO1xuICAgICAgbSh3LCB4LCBDKSwgQy5pc1ZhbGlkIHx8IChUID0gITEpO1xuICAgIH1cbiAgICB4LmlzVmFsaWQgPSBUO1xuICB9LCBJID0gZnVuY3Rpb24odywgeCwgRiwgUCkge1xuICAgIHZhciBUID0geC5wYXJzZS5jZXJ0c0lkeCwgSDtcbiAgICBpZiAoeC5jZXJ0cyA9PT0gdm9pZCAwKSB7XG4gICAgICBIID0gW10sIHguY2VydGtleXMgPSBbXTtcbiAgICAgIGZvciAodmFyIEMgPSB5KHcsIFQpLCBCID0gMDsgQiA8IEMubGVuZ3RoOyBCKyspIHtcbiAgICAgICAgdmFyIE8gPSB2KHcsIENbQl0pLCBqID0gbmV3IEwoKTtcbiAgICAgICAgai5yZWFkQ2VydEhleChPKSwgSFtCXSA9IGosIHguY2VydGtleXNbQl0gPSBqLmdldFB1YmxpY0tleSgpO1xuICAgICAgfVxuICAgICAgeC5jZXJ0cyA9IEg7XG4gICAgfSBlbHNlXG4gICAgICBIID0geC5jZXJ0cztcbiAgICB4LmNjY2MgPSBILmxlbmd0aCwgeC5jY2NjaSA9IEMubGVuZ3RoO1xuICAgIGZvciAodmFyIEIgPSAwOyBCIDwgSC5sZW5ndGg7IEIrKykge1xuICAgICAgdmFyIGZlID0gai5nZXRJc3N1ZXJIZXgoKSwgWiA9IGouZ2V0U2VyaWFsTnVtYmVySGV4KCk7XG4gICAgICBGLnNpZ25lcmlkX2lzc3VlcjEgPT09IGZlICYmIEYuc2lnbmVyaWRfc2VyaWFsMSA9PT0gWiAmJiAoRi5jZXJ0a2V5X2lkeCA9IEIpO1xuICAgIH1cbiAgfSwgbSA9IGZ1bmN0aW9uKHcsIHgsIEYsIFApIHtcbiAgICBGLnZlcmlmeURldGFpbCA9IHt9O1xuICAgIHZhciBUID0gRi52ZXJpZnlEZXRhaWwsIEggPSB4LnBhcnNlLmVjb250ZW50LCBDID0gRi5oYXNoYWxnLCBCID0gRi5zYU1lc3NhZ2VEaWdlc3Q7XG4gICAgVC52YWxpZE1lc3NhZ2VEaWdlc3QgPSAhMSwgbChILCBDKSA9PT0gQiAmJiAoVC52YWxpZE1lc3NhZ2VEaWdlc3QgPSAhMCksIEkodywgeCwgRiksIFQudmFsaWRTaWduYXR1cmVWYWx1ZSA9ICExO1xuICAgIHZhciBPID0gRi5zaWdhbGcsIGogPSBcIjMxXCIgKyB2KHcsIEYuaWR4U2lnbmVkQXR0cnMpLnN1YnN0cigyKTtcbiAgICBGLnNpZ25lZGF0dHJzaGV4ID0gajtcbiAgICB2YXIgZmUgPSB4LmNlcnRzW0YuY2VydGtleV9pZHhdLmdldFB1YmxpY0tleSgpLCBaID0gbmV3IGEuY3J5cHRvLlNpZ25hdHVyZSh7IGFsZzogTyB9KTtcbiAgICBaLmluaXQoZmUpLCBaLnVwZGF0ZUhleChqKTtcbiAgICB2YXIgWCA9IFoudmVyaWZ5KEYuc2lndmFsKTtcbiAgICBULnZhbGlkU2lnbmF0dXJlVmFsdWVfaXNWYWxpZCA9IFgsIFggPT09ICEwICYmIChULnZhbGlkU2lnbmF0dXJlVmFsdWUgPSAhMCksIEYuaXNWYWxpZCA9ICExLCBULnZhbGlkTWVzc2FnZURpZ2VzdCAmJiBULnZhbGlkU2lnbmF0dXJlVmFsdWUgJiYgKEYuaXNWYWxpZCA9ICEwKTtcbiAgfSwgRSA9IHsgaXNWYWxpZDogITEsIHBhcnNlOiB7fSB9O1xuICByZXR1cm4gRChmLCBFLnBhcnNlKSwgQShmLCBFKSwgRTtcbn07XG5hLmFzbjEuY21zLkNNU1BhcnNlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgZSA9IEVycm9yLCB0ID0gTCwgciA9IG5ldyB0KCksIGkgPSBWLCBzID0gaS5nZXRWLCBuID0gaS5nZXRUTFY7XG4gIGkuZ2V0SWR4YnlMaXN0O1xuICB2YXIgaCA9IGkuZ2V0VExWYnlMaXN0LCB1ID0gaS5nZXRUTFZieUxpc3RFeCwgcCA9IGkuZ2V0VmJ5TGlzdCwgYyA9IGkuZ2V0VmJ5TGlzdEV4LCB5ID0gaS5nZXRDaGlsZElkeDtcbiAgdGhpcy5nZXRDTVNTaWduZWREYXRhID0gZnVuY3Rpb24odikge1xuICAgIHZhciBvID0gaCh2LCAwLCBbMSwgMF0pLCBsID0gdGhpcy5nZXRTaWduZWREYXRhKG8pO1xuICAgIHJldHVybiBsO1xuICB9LCB0aGlzLmdldFNpZ25lZERhdGEgPSBmdW5jdGlvbih2KSB7XG4gICAgdmFyIG8gPSB5KHYsIDApLCBsID0ge30sIGYgPSBzKHYsIG9bMF0pLCBkID0gcGFyc2VJbnQoZiwgMTYpO1xuICAgIGwudmVyc2lvbiA9IGQ7XG4gICAgdmFyIGcgPSBuKHYsIG9bMV0pO1xuICAgIGwuaGFzaGFsZ3MgPSB0aGlzLmdldEhhc2hBbGdBcnJheShnKTtcbiAgICB2YXIgUyA9IG4odiwgb1syXSk7XG4gICAgbC5lY29udGVudCA9IHRoaXMuZ2V0RUNvbnRlbnQoUyk7XG4gICAgdmFyIGIgPSB1KHYsIDAsIFtcIlswXVwiXSk7XG4gICAgYiAhPSBudWxsICYmIChsLmNlcnRzID0gdGhpcy5nZXRDZXJ0aWZpY2F0ZVNldChiKSksIHUodiwgMCwgW1wiWzFdXCJdKTtcbiAgICB2YXIgRCA9IHUodiwgMCwgWzNdKTtcbiAgICByZXR1cm4gbC5zaW5mb3MgPSB0aGlzLmdldFNpZ25lckluZm9zKEQpLCBsO1xuICB9LCB0aGlzLmdldEhhc2hBbGdBcnJheSA9IGZ1bmN0aW9uKHYpIHtcbiAgICBmb3IgKHZhciBvID0geSh2LCAwKSwgbCA9IG5ldyB0KCksIGYgPSBbXSwgZCA9IDA7IGQgPCBvLmxlbmd0aDsgZCsrKSB7XG4gICAgICB2YXIgZyA9IG4odiwgb1tkXSksIFMgPSBsLmdldEFsZ29yaXRobUlkZW50aWZpZXJOYW1lKGcpO1xuICAgICAgZi5wdXNoKFMpO1xuICAgIH1cbiAgICByZXR1cm4gZjtcbiAgfSwgdGhpcy5nZXRFQ29udGVudCA9IGZ1bmN0aW9uKHYpIHtcbiAgICB2YXIgbyA9IHt9LCBsID0gcCh2LCAwLCBbMF0pLCBmID0gcCh2LCAwLCBbMSwgMF0pO1xuICAgIHJldHVybiBvLnR5cGUgPSBhLmFzbjEueDUwOS5PSUQub2lkMm5hbWUoVi5oZXh0b29pZHN0cihsKSksIG8uY29udGVudCA9IHsgaGV4OiBmIH0sIG87XG4gIH0sIHRoaXMuZ2V0U2lnbmVySW5mb3MgPSBmdW5jdGlvbih2KSB7XG4gICAgZm9yICh2YXIgbyA9IFtdLCBsID0geSh2LCAwKSwgZiA9IDA7IGYgPCBsLmxlbmd0aDsgZisrKSB7XG4gICAgICB2YXIgZCA9IG4odiwgbFtmXSksIGcgPSB0aGlzLmdldFNpZ25lckluZm8oZCk7XG4gICAgICBvLnB1c2goZyk7XG4gICAgfVxuICAgIHJldHVybiBvO1xuICB9LCB0aGlzLmdldFNpZ25lckluZm8gPSBmdW5jdGlvbih2KSB7XG4gICAgdmFyIG8gPSB7fSwgbCA9IHkodiwgMCksIGYgPSBpLmdldEludCh2LCBsWzBdLCAtMSk7XG4gICAgZiAhPSAtMSAmJiAoby52ZXJzaW9uID0gZik7XG4gICAgdmFyIGQgPSBuKHYsIGxbMV0pLCBnID0gdGhpcy5nZXRJc3N1ZXJBbmRTZXJpYWxOdW1iZXIoZCk7XG4gICAgby5pZCA9IGc7XG4gICAgdmFyIFMgPSBuKHYsIGxbMl0pLCBiID0gci5nZXRBbGdvcml0aG1JZGVudGlmaWVyTmFtZShTKTtcbiAgICBvLmhhc2hhbGcgPSBiO1xuICAgIHZhciBEID0gdSh2LCAwLCBbXCJbMF1cIl0pO1xuICAgIGlmIChEICE9IG51bGwpIHtcbiAgICAgIHZhciBBID0gdGhpcy5nZXRBdHRyaWJ1dGVMaXN0KEQpO1xuICAgICAgby5zYXR0cnMgPSBBO1xuICAgIH1cbiAgICB2YXIgSSA9IHUodiwgMCwgWzNdKSwgbSA9IHIuZ2V0QWxnb3JpdGhtSWRlbnRpZmllck5hbWUoSSk7XG4gICAgby5zaWdhbGcgPSBtO1xuICAgIHZhciBFID0gYyh2LCAwLCBbNF0pO1xuICAgIG8uc2lnaGV4ID0gRTtcbiAgICB2YXIgdyA9IHUodiwgMCwgW1wiWzFdXCJdKTtcbiAgICBpZiAodyAhPSBudWxsKSB7XG4gICAgICB2YXIgeCA9IHRoaXMuZ2V0QXR0cmlidXRlTGlzdCh3KTtcbiAgICAgIG8udWF0dHJzID0geDtcbiAgICB9XG4gICAgcmV0dXJuIG87XG4gIH0sIHRoaXMuZ2V0U2lnbmVySWRlbnRpZmllciA9IGZ1bmN0aW9uKHYpIHtcbiAgICBpZiAodi5zdWJzdHIoMCwgMikgPT0gXCIzMFwiKVxuICAgICAgcmV0dXJuIHRoaXMuZ2V0SXNzdWVyQW5kU2VyaWFsTnVtYmVyKHYpO1xuICAgIHRocm93IG5ldyBFcnJvcihcIlNLSUQgb2Ygc2lnbmVySWRlbnRpZmllciBub3Qgc3VwcG9ydGVkXCIpO1xuICB9LCB0aGlzLmdldElzc3VlckFuZFNlcmlhbE51bWJlciA9IGZ1bmN0aW9uKHYpIHtcbiAgICB2YXIgbyA9IHsgdHlwZTogXCJpc3NzblwiIH0sIGwgPSB5KHYsIDApLCBmID0gbih2LCBsWzBdKTtcbiAgICBvLmlzc3VlciA9IHIuZ2V0WDUwME5hbWUoZik7XG4gICAgdmFyIGQgPSBzKHYsIGxbMV0pO1xuICAgIHJldHVybiBvLnNlcmlhbCA9IHsgaGV4OiBkIH0sIG87XG4gIH0sIHRoaXMuZ2V0QXR0cmlidXRlTGlzdCA9IGZ1bmN0aW9uKHYpIHtcbiAgICBmb3IgKHZhciBvID0gW10sIGwgPSB5KHYsIDApLCBmID0gMDsgZiA8IGwubGVuZ3RoOyBmKyspIHtcbiAgICAgIHZhciBkID0gbih2LCBsW2ZdKSwgZyA9IHRoaXMuZ2V0QXR0cmlidXRlKGQpO1xuICAgICAgby5wdXNoKGcpO1xuICAgIH1cbiAgICByZXR1cm4geyBhcnJheTogbyB9O1xuICB9LCB0aGlzLmdldEF0dHJpYnV0ZSA9IGZ1bmN0aW9uKHYpIHtcbiAgICB2YXIgbyA9IHt9LCBsID0geSh2LCAwKSwgZiA9IGkuZ2V0T0lEKHYsIGxbMF0pLCBkID0gYS5hc24xLng1MDkuT0lELm9pZDJuYW1lKGYpO1xuICAgIG8uYXR0ciA9IGQ7XG4gICAgdmFyIGcgPSBuKHYsIGxbMV0pLCBTID0geShnLCAwKTtcbiAgICBpZiAoUy5sZW5ndGggPT0gMSlcbiAgICAgIG8udmFsaGV4ID0gbihnLCBTWzBdKTtcbiAgICBlbHNlIHtcbiAgICAgIGZvciAodmFyIGIgPSBbXSwgRCA9IDA7IEQgPCBTLmxlbmd0aDsgRCsrKVxuICAgICAgICBiLnB1c2gobihnLCBTW0RdKSk7XG4gICAgICBvLnZhbGhleCA9IGI7XG4gICAgfVxuICAgIHJldHVybiBkID09IFwiY29udGVudFR5cGVcIiA/IHRoaXMuc2V0Q29udGVudFR5cGUobykgOiBkID09IFwibWVzc2FnZURpZ2VzdFwiID8gdGhpcy5zZXRNZXNzYWdlRGlnZXN0KG8pIDogZCA9PSBcInNpZ25pbmdUaW1lXCIgPyB0aGlzLnNldFNpZ25pbmdUaW1lKG8pIDogZCA9PSBcInNpZ25pbmdDZXJ0aWZpY2F0ZVwiID8gdGhpcy5zZXRTaWduaW5nQ2VydGlmaWNhdGUobykgOiBkID09IFwic2lnbmluZ0NlcnRpZmljYXRlVjJcIiA/IHRoaXMuc2V0U2lnbmluZ0NlcnRpZmljYXRlVjIobykgOiBkID09IFwic2lnbmF0dXJlUG9saWN5SWRlbnRpZmllclwiICYmIHRoaXMuc2V0U2lnbmF0dXJlUG9saWN5SWRlbnRpZmllcihvKSwgbztcbiAgfSwgdGhpcy5zZXRDb250ZW50VHlwZSA9IGZ1bmN0aW9uKHYpIHtcbiAgICB2YXIgbyA9IGkuZ2V0T0lETmFtZSh2LnZhbGhleCwgMCwgbnVsbCk7XG4gICAgbyAhPSBudWxsICYmICh2LnR5cGUgPSBvLCBkZWxldGUgdi52YWxoZXgpO1xuICB9LCB0aGlzLnNldFNpZ25pbmdUaW1lID0gZnVuY3Rpb24odikge1xuICAgIHZhciBvID0gcyh2LnZhbGhleCwgMCksIGwgPSBXKG8pO1xuICAgIHYuc3RyID0gbCwgZGVsZXRlIHYudmFsaGV4O1xuICB9LCB0aGlzLnNldE1lc3NhZ2VEaWdlc3QgPSBmdW5jdGlvbih2KSB7XG4gICAgdmFyIG8gPSBzKHYudmFsaGV4LCAwKTtcbiAgICB2LmhleCA9IG8sIGRlbGV0ZSB2LnZhbGhleDtcbiAgfSwgdGhpcy5zZXRTaWduaW5nQ2VydGlmaWNhdGUgPSBmdW5jdGlvbih2KSB7XG4gICAgdmFyIG8gPSB5KHYudmFsaGV4LCAwKTtcbiAgICBpZiAoby5sZW5ndGggPiAwKSB7XG4gICAgICBmb3IgKHZhciBsID0gbih2LnZhbGhleCwgb1swXSksIGYgPSB5KGwsIDApLCBkID0gW10sIGcgPSAwOyBnIDwgZi5sZW5ndGg7IGcrKykge1xuICAgICAgICB2YXIgUyA9IG4obCwgZltnXSksIGIgPSB0aGlzLmdldEVTU0NlcnRJRChTKTtcbiAgICAgICAgZC5wdXNoKGIpO1xuICAgICAgfVxuICAgICAgdi5hcnJheSA9IGQ7XG4gICAgfVxuICAgIGlmIChvLmxlbmd0aCA+IDEpIHtcbiAgICAgIHZhciBEID0gbih2LnZhbGhleCwgb1sxXSk7XG4gICAgICB2LnBvbGhleCA9IEQ7XG4gICAgfVxuICAgIGRlbGV0ZSB2LnZhbGhleDtcbiAgfSwgdGhpcy5zZXRTaWduYXR1cmVQb2xpY3lJZGVudGlmaWVyID0gZnVuY3Rpb24odikge1xuICAgIHZhciBvID0geSh2LnZhbGhleCwgMCk7XG4gICAgaWYgKG8ubGVuZ3RoID4gMCkge1xuICAgICAgdmFyIGwgPSBpLmdldE9JRCh2LnZhbGhleCwgb1swXSk7XG4gICAgICB2Lm9pZCA9IGw7XG4gICAgfVxuICAgIGlmIChvLmxlbmd0aCA+IDEpIHtcbiAgICAgIHZhciBmID0gbmV3IHQoKSwgZCA9IHkodi52YWxoZXgsIG9bMV0pLCBnID0gbih2LnZhbGhleCwgZFswXSksIFMgPSBmLmdldEFsZ29yaXRobUlkZW50aWZpZXJOYW1lKGcpO1xuICAgICAgdi5hbGcgPSBTO1xuICAgICAgdmFyIGIgPSBzKHYudmFsaGV4LCBkWzFdKTtcbiAgICAgIHYuaGFzaCA9IGI7XG4gICAgfVxuICAgIGRlbGV0ZSB2LnZhbGhleDtcbiAgfSwgdGhpcy5zZXRTaWduaW5nQ2VydGlmaWNhdGVWMiA9IGZ1bmN0aW9uKHYpIHtcbiAgICB2YXIgbyA9IHkodi52YWxoZXgsIDApO1xuICAgIGlmIChvLmxlbmd0aCA+IDApIHtcbiAgICAgIGZvciAodmFyIGwgPSBuKHYudmFsaGV4LCBvWzBdKSwgZiA9IHkobCwgMCksIGQgPSBbXSwgZyA9IDA7IGcgPCBmLmxlbmd0aDsgZysrKSB7XG4gICAgICAgIHZhciBTID0gbihsLCBmW2ddKSwgYiA9IHRoaXMuZ2V0RVNTQ2VydElEdjIoUyk7XG4gICAgICAgIGQucHVzaChiKTtcbiAgICAgIH1cbiAgICAgIHYuYXJyYXkgPSBkO1xuICAgIH1cbiAgICBpZiAoby5sZW5ndGggPiAxKSB7XG4gICAgICB2YXIgRCA9IG4odi52YWxoZXgsIG9bMV0pO1xuICAgICAgdi5wb2xoZXggPSBEO1xuICAgIH1cbiAgICBkZWxldGUgdi52YWxoZXg7XG4gIH0sIHRoaXMuZ2V0RVNTQ2VydElEID0gZnVuY3Rpb24odikge1xuICAgIHZhciBvID0ge30sIGwgPSB5KHYsIDApO1xuICAgIGlmIChsLmxlbmd0aCA+IDApIHtcbiAgICAgIHZhciBmID0gcyh2LCBsWzBdKTtcbiAgICAgIG8uaGFzaCA9IGY7XG4gICAgfVxuICAgIGlmIChsLmxlbmd0aCA+IDEpIHtcbiAgICAgIHZhciBkID0gbih2LCBsWzFdKSwgZyA9IHRoaXMuZ2V0SXNzdWVyU2VyaWFsKGQpO1xuICAgICAgZy5zZXJpYWwgIT0gbnVsbCAmJiAoby5zZXJpYWwgPSBnLnNlcmlhbCksIGcuaXNzdWVyICE9IG51bGwgJiYgKG8uaXNzdWVyID0gZy5pc3N1ZXIpO1xuICAgIH1cbiAgICByZXR1cm4gbztcbiAgfSwgdGhpcy5nZXRFU1NDZXJ0SUR2MiA9IGZ1bmN0aW9uKHYpIHtcbiAgICB2YXIgbyA9IHt9LCBsID0geSh2LCAwKTtcbiAgICBpZiAobC5sZW5ndGggPCAxIHx8IDMgPCBsLmxlbmd0aClcbiAgICAgIHRocm93IG5ldyBlKFwid3JvbmcgbnVtYmVyIG9mIGVsZW1lbnRzXCIpO1xuICAgIHZhciBmID0gMDtcbiAgICBpZiAodi5zdWJzdHIobFswXSwgMikgPT0gXCIzMFwiKSB7XG4gICAgICB2YXIgZCA9IG4odiwgbFswXSk7XG4gICAgICBvLmFsZyA9IHIuZ2V0QWxnb3JpdGhtSWRlbnRpZmllck5hbWUoZCksIGYrKztcbiAgICB9IGVsc2VcbiAgICAgIG8uYWxnID0gXCJzaGEyNTZcIjtcbiAgICB2YXIgZyA9IHModiwgbFtmXSk7XG4gICAgaWYgKG8uaGFzaCA9IGcsIGwubGVuZ3RoID4gZiArIDEpIHtcbiAgICAgIHZhciBTID0gbih2LCBsW2YgKyAxXSksIGIgPSB0aGlzLmdldElzc3VlclNlcmlhbChTKTtcbiAgICAgIG8uaXNzdWVyID0gYi5pc3N1ZXIsIG8uc2VyaWFsID0gYi5zZXJpYWw7XG4gICAgfVxuICAgIHJldHVybiBvO1xuICB9LCB0aGlzLmdldElzc3VlclNlcmlhbCA9IGZ1bmN0aW9uKHYpIHtcbiAgICB2YXIgbyA9IHt9LCBsID0geSh2LCAwKSwgZiA9IG4odiwgbFswXSksIGQgPSByLmdldEdlbmVyYWxOYW1lcyhmKSwgZyA9IGRbMF0uZG47XG4gICAgby5pc3N1ZXIgPSBnO1xuICAgIHZhciBTID0gcyh2LCBsWzFdKTtcbiAgICByZXR1cm4gby5zZXJpYWwgPSB7IGhleDogUyB9LCBvO1xuICB9LCB0aGlzLmdldENlcnRpZmljYXRlU2V0ID0gZnVuY3Rpb24odikge1xuICAgIGZvciAodmFyIG8gPSB5KHYsIDApLCBsID0gW10sIGYgPSAwOyBmIDwgby5sZW5ndGg7IGYrKykge1xuICAgICAgdmFyIGQgPSBuKHYsIG9bZl0pO1xuICAgICAgaWYgKGQuc3Vic3RyKDAsIDIpID09IFwiMzBcIikge1xuICAgICAgICB2YXIgZyA9IGRlKGQsIFwiQ0VSVElGSUNBVEVcIik7XG4gICAgICAgIGwucHVzaChnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgYXJyYXk6IGwsIHNvcnRmbGFnOiAhMSB9O1xuICB9O1xufTtcbih0eXBlb2YgYSA+IFwidVwiIHx8ICFhKSAmJiAoYSA9IHt9KTtcbih0eXBlb2YgYS5hc24xID4gXCJ1XCIgfHwgIWEuYXNuMSkgJiYgKGEuYXNuMSA9IHt9KTtcbih0eXBlb2YgYS5hc24xLnRzcCA+IFwidVwiIHx8ICFhLmFzbjEudHNwKSAmJiAoYS5hc24xLnRzcCA9IHt9KTtcbmEuYXNuMS50c3AuVGltZVN0YW1wVG9rZW4gPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gYSwgciA9IHQuYXNuMSwgaSA9IHIudHNwO1xuICBpLlRpbWVTdGFtcFRva2VuLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSwgdGhpcy5wYXJhbXMgPSBudWxsLCB0aGlzLmdldEVuY29kZWRIZXhQcmVwYXJlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHMgPSBuZXcgaS5UU1RJbmZvKHRoaXMucGFyYW1zLmVjb250ZW50LmNvbnRlbnQpO1xuICAgIHRoaXMucGFyYW1zLmVjb250ZW50LmNvbnRlbnQuaGV4ID0gcy50b2hleCgpO1xuICB9LCBlICE9IG51bGwgJiYgdGhpcy5zZXRCeVBhcmFtKGUpO1xufTtcbk4oYS5hc24xLnRzcC5UaW1lU3RhbXBUb2tlbiwgYS5hc24xLmNtcy5TaWduZWREYXRhKTtcbmEuYXNuMS50c3AuVFNUSW5mbyA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBhLCByID0gdC5hc24xLCBpID0gci5ERVJTZXF1ZW5jZSwgcyA9IHIuREVSSW50ZWdlciwgbiA9IHIuREVSQm9vbGVhbiwgaCA9IHIuREVSR2VuZXJhbGl6ZWRUaW1lLCB1ID0gci5ERVJPYmplY3RJZGVudGlmaWVyLCBwID0gci5ERVJUYWdnZWRPYmplY3QsIGMgPSByLnRzcCwgeSA9IGMuTWVzc2FnZUltcHJpbnQsIHYgPSBjLkFjY3VyYWN5O1xuICByLng1MDkuWDUwME5hbWU7XG4gIHZhciBvID0gci54NTA5LkdlbmVyYWxOYW1lO1xuICBpZiAoYy5UU1RJbmZvLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSwgdGhpcy5kVmVyc2lvbiA9IG5ldyBzKHsgaW50OiAxIH0pLCB0aGlzLmRQb2xpY3kgPSBudWxsLCB0aGlzLmRNZXNzYWdlSW1wcmludCA9IG51bGwsIHRoaXMuZFNlcmlhbCA9IG51bGwsIHRoaXMuZEdlblRpbWUgPSBudWxsLCB0aGlzLmRBY2N1cmFjeSA9IG51bGwsIHRoaXMuZE9yZGVyaW5nID0gbnVsbCwgdGhpcy5kTm9uY2UgPSBudWxsLCB0aGlzLmRUc2EgPSBudWxsLCB0aGlzLnRvaGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGwgPSBbdGhpcy5kVmVyc2lvbl07XG4gICAgaWYgKHRoaXMuZFBvbGljeSA9PSBudWxsKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwicG9saWN5IHNoYWxsIGJlIHNwZWNpZmllZC5cIik7XG4gICAgaWYgKGwucHVzaCh0aGlzLmRQb2xpY3kpLCB0aGlzLmRNZXNzYWdlSW1wcmludCA9PSBudWxsKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwibWVzc2FnZUltcHJpbnQgc2hhbGwgYmUgc3BlY2lmaWVkLlwiKTtcbiAgICBpZiAobC5wdXNoKHRoaXMuZE1lc3NhZ2VJbXByaW50KSwgdGhpcy5kU2VyaWFsID09IG51bGwpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJzZXJpYWxOdW1iZXIgc2hhbGwgYmUgc3BlY2lmaWVkLlwiKTtcbiAgICBpZiAobC5wdXNoKHRoaXMuZFNlcmlhbCksIHRoaXMuZEdlblRpbWUgPT0gbnVsbClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImdlblRpbWUgc2hhbGwgYmUgc3BlY2lmaWVkLlwiKTtcbiAgICBsLnB1c2godGhpcy5kR2VuVGltZSksIHRoaXMuZEFjY3VyYWN5ICE9IG51bGwgJiYgbC5wdXNoKHRoaXMuZEFjY3VyYWN5KSwgdGhpcy5kT3JkZXJpbmcgIT0gbnVsbCAmJiBsLnB1c2godGhpcy5kT3JkZXJpbmcpLCB0aGlzLmROb25jZSAhPSBudWxsICYmIGwucHVzaCh0aGlzLmROb25jZSksIHRoaXMuZFRzYSAhPSBudWxsICYmIGwucHVzaCh0aGlzLmRUc2EpO1xuICAgIHZhciBmID0gbmV3IGkoeyBhcnJheTogbCB9KTtcbiAgICByZXR1cm4gdGhpcy5oVExWID0gZi50b2hleCgpLCB0aGlzLmhUTFY7XG4gIH0sIHRoaXMuZ2V0RW5jb2RlZEhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvaGV4KCk7XG4gIH0sIGUgIT09IHZvaWQgMCkge1xuICAgIGlmICh0eXBlb2YgZS5wb2xpY3kgPT0gXCJzdHJpbmdcIikge1xuICAgICAgaWYgKCFlLnBvbGljeS5tYXRjaCgvXlswLTkuXSskLykpXG4gICAgICAgIHRocm93IFwicG9saWN5IHNoYWxsIGJlIG9pZCBsaWtlIDAuMS40LjEzNFwiO1xuICAgICAgdGhpcy5kUG9saWN5ID0gbmV3IHUoeyBvaWQ6IGUucG9saWN5IH0pO1xuICAgIH1cbiAgICBlLm1lc3NhZ2VJbXByaW50ICE9PSB2b2lkIDAgJiYgKHRoaXMuZE1lc3NhZ2VJbXByaW50ID0gbmV3IHkoZS5tZXNzYWdlSW1wcmludCkpLCBlLnNlcmlhbCAhPT0gdm9pZCAwICYmICh0aGlzLmRTZXJpYWwgPSBuZXcgcyhlLnNlcmlhbCkpLCBlLmdlblRpbWUgIT09IHZvaWQgMCAmJiAodGhpcy5kR2VuVGltZSA9IG5ldyBoKGUuZ2VuVGltZSkpLCBlLmFjY3VyYWN5ICE9PSB2b2lkIDAgJiYgKHRoaXMuZEFjY3VyYWN5ID0gbmV3IHYoZS5hY2N1cmFjeSkpLCBlLm9yZGVyaW5nICE9PSB2b2lkIDAgJiYgZS5vcmRlcmluZyA9PSAhMCAmJiAodGhpcy5kT3JkZXJpbmcgPSBuZXcgbigpKSwgZS5ub25jZSAhPT0gdm9pZCAwICYmICh0aGlzLmROb25jZSA9IG5ldyBzKGUubm9uY2UpKSwgZS50c2EgIT09IHZvaWQgMCAmJiAodGhpcy5kVHNhID0gbmV3IHAoeyB0YWc6IFwiYTBcIiwgZXhwbGljaXQ6ICEwLCBvYmo6IG5ldyBvKHsgZG46IGUudHNhIH0pIH0pKTtcbiAgfVxufTtcbk4oYS5hc24xLnRzcC5UU1RJbmZvLCBhLmFzbjEuQVNOMU9iamVjdCk7XG5hLmFzbjEudHNwLkFjY3VyYWN5ID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IGEsIHIgPSB0LmFzbjEsIGkgPSByLkFTTjFVdGlsLm5ld09iamVjdDtcbiAgci50c3AuQWNjdXJhY3kuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLCB0aGlzLnBhcmFtcyA9IG51bGwsIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcyA9IHRoaXMucGFyYW1zLCBuID0gW107XG4gICAgcmV0dXJuIHMuc2Vjb25kcyAhPSBudWxsICYmIHR5cGVvZiBzLnNlY29uZHMgPT0gXCJudW1iZXJcIiAmJiBuLnB1c2goeyBpbnQ6IHMuc2Vjb25kcyB9KSwgcy5taWxsaXMgIT0gbnVsbCAmJiB0eXBlb2Ygcy5taWxsaXMgPT0gXCJudW1iZXJcIiAmJiBuLnB1c2goeyB0YWc6IHsgdGFnaTogXCI4MFwiLCBvYmo6IHsgaW50OiBzLm1pbGxpcyB9IH0gfSksIHMubWljcm9zICE9IG51bGwgJiYgdHlwZW9mIHMubWljcm9zID09IFwibnVtYmVyXCIgJiYgbi5wdXNoKHsgdGFnOiB7IHRhZ2k6IFwiODFcIiwgb2JqOiB7IGludDogcy5taWNyb3MgfSB9IH0pLCBpKHsgc2VxOiBuIH0pLnRvaGV4KCk7XG4gIH0sIHRoaXMuZ2V0RW5jb2RlZEhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvaGV4KCk7XG4gIH0sIGUgIT0gbnVsbCAmJiB0aGlzLnNldEJ5UGFyYW0oZSk7XG59O1xuTihhLmFzbjEudHNwLkFjY3VyYWN5LCBhLmFzbjEuQVNOMU9iamVjdCk7XG5hLmFzbjEudHNwLk1lc3NhZ2VJbXByaW50ID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IGEsIHIgPSB0LmFzbjEsIGkgPSByLkRFUlNlcXVlbmNlLCBzID0gci5ERVJPY3RldFN0cmluZywgbiA9IHIueDUwOSwgaCA9IG4uQWxnb3JpdGhtSWRlbnRpZmllcjtcbiAgci50c3AuTWVzc2FnZUltcHJpbnQuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLCB0aGlzLnBhcmFtcyA9IG51bGwsIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgdSA9IHRoaXMucGFyYW1zLCBwID0gbmV3IGgoeyBuYW1lOiB1LmFsZyB9KSwgYyA9IG5ldyBzKHsgaGV4OiB1Lmhhc2ggfSksIHkgPSBuZXcgaSh7IGFycmF5OiBbcCwgY10gfSk7XG4gICAgcmV0dXJuIHkudG9oZXgoKTtcbiAgfSwgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9oZXgoKTtcbiAgfSwgZSAhPT0gdm9pZCAwICYmIHRoaXMuc2V0QnlQYXJhbShlKTtcbn07XG5OKGEuYXNuMS50c3AuTWVzc2FnZUltcHJpbnQsIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS50c3AuVGltZVN0YW1wUmVxID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IGEsIHIgPSB0LmFzbjEsIGkgPSByLkRFUlNlcXVlbmNlLCBzID0gci5ERVJJbnRlZ2VyLCBuID0gci5ERVJCb29sZWFuO1xuICByLkFTTjFPYmplY3Q7XG4gIHZhciBoID0gci5ERVJPYmplY3RJZGVudGlmaWVyLCB1ID0gci50c3AsIHAgPSB1Lk1lc3NhZ2VJbXByaW50O1xuICB1LlRpbWVTdGFtcFJlcS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksIHRoaXMucGFyYW1zID0gbnVsbCwgdGhpcy50b2hleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjID0gdGhpcy5wYXJhbXMsIHkgPSBbXTtcbiAgICB5LnB1c2gobmV3IHMoeyBpbnQ6IDEgfSkpLCBjLm1lc3NhZ2VJbXByaW50IGluc3RhbmNlb2YgYS5hc24xLkFTTjFPYmplY3QgPyB5LnB1c2goYy5tZXNzYWdlSW1wcmludCkgOiB5LnB1c2gobmV3IHAoYy5tZXNzYWdlSW1wcmludCkpLCBjLnBvbGljeSAhPSBudWxsICYmIHkucHVzaChuZXcgaChjLnBvbGljeSkpLCBjLm5vbmNlICE9IG51bGwgJiYgeS5wdXNoKG5ldyBzKGMubm9uY2UpKSwgYy5jZXJ0cmVxID09ICEwICYmIHkucHVzaChuZXcgbigpKTtcbiAgICB2YXIgdiA9IG5ldyBpKHsgYXJyYXk6IHkgfSk7XG4gICAgcmV0dXJuIHYudG9oZXgoKTtcbiAgfSwgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9oZXgoKTtcbiAgfSwgZSAhPSBudWxsICYmIHRoaXMuc2V0QnlQYXJhbShlKTtcbn07XG5OKGEuYXNuMS50c3AuVGltZVN0YW1wUmVxLCBhLmFzbjEuQVNOMU9iamVjdCk7XG5hLmFzbjEudHNwLlRpbWVTdGFtcFJlc3AgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gYSwgciA9IHQuYXNuMSwgaSA9IHIuREVSU2VxdWVuY2U7XG4gIHIuQVNOMU9iamVjdDtcbiAgdmFyIHMgPSByLnRzcCwgbiA9IHMuUEtJU3RhdHVzSW5mbztcbiAgcy5UaW1lU3RhbXBSZXNwLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSwgdGhpcy5wYXJhbXMgPSBudWxsLCB0aGlzLnRvaGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGggPSB0aGlzLnBhcmFtcywgdSA9IFtdO1xuICAgIGlmIChoLmVjb250ZW50ICE9IG51bGwgfHwgaC50c3QgIT0gbnVsbClcbiAgICAgIGlmIChoLnN0YXR1c2luZm8gIT0gbnVsbCA/IHUucHVzaChuZXcgbihoLnN0YXR1c2luZm8pKSA6IHUucHVzaChuZXcgbihcImdyYW50ZWRcIikpLCBoLmVjb250ZW50ICE9IG51bGwpXG4gICAgICAgIHUucHVzaChuZXcgcy5UaW1lU3RhbXBUb2tlbihoKS5nZXRDb250ZW50SW5mbygpKTtcbiAgICAgIGVsc2UgaWYgKGgudHN0IGluc3RhbmNlb2Ygci5BU04xT2JqZWN0KVxuICAgICAgICB1LnB1c2goaC50c3QpO1xuICAgICAgZWxzZVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbXByb3BlciBtZW1iZXIgdHN0IHZhbHVlXCIpO1xuICAgIGVsc2UgaWYgKGguc3RhdHVzaW5mbyAhPSBudWxsKVxuICAgICAgdS5wdXNoKG5ldyBuKGguc3RhdHVzaW5mbykpO1xuICAgIGVsc2VcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInBhcmFtZXRlciBmb3IgdG9rZW4gbm9yIHN0YXR1c2luZm8gbm90IHNwZWNpZmllZFwiKTtcbiAgICB2YXIgcCA9IG5ldyBpKHsgYXJyYXk6IHUgfSk7XG4gICAgcmV0dXJuIHAudG9oZXgoKTtcbiAgfSwgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9oZXgoKTtcbiAgfSwgZSAhPSBudWxsICYmIHRoaXMuc2V0QnlQYXJhbShlKTtcbn07XG5OKGEuYXNuMS50c3AuVGltZVN0YW1wUmVzcCwgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLnRzcC5QS0lTdGF0dXNJbmZvID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IEVycm9yLCByID0gYSwgaSA9IHIuYXNuMSwgcyA9IGkuREVSU2VxdWVuY2UsIG4gPSBpLnRzcCwgaCA9IG4uUEtJU3RhdHVzLCB1ID0gbi5QS0lGcmVlVGV4dCwgcCA9IG4uUEtJRmFpbHVyZUluZm87XG4gIG4uUEtJU3RhdHVzSW5mby5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksIHRoaXMucGFyYW1zID0gbnVsbCwgdGhpcy50b2hleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjID0gdGhpcy5wYXJhbXMsIHkgPSBbXTtcbiAgICBpZiAodHlwZW9mIGMgPT0gXCJzdHJpbmdcIilcbiAgICAgIHkucHVzaChuZXcgaChjKSk7XG4gICAgZWxzZSB7XG4gICAgICBpZiAoYy5zdGF0dXMgPT0gbnVsbClcbiAgICAgICAgdGhyb3cgbmV3IHQoXCJwcm9wZXJ0eSAnc3RhdHVzJyB1bnNwZWNpZmllZFwiKTtcbiAgICAgIHkucHVzaChuZXcgaChjLnN0YXR1cykpLCBjLnN0YXR1c3N0ciAhPSBudWxsICYmIHkucHVzaChuZXcgdShjLnN0YXR1c3N0cikpLCBjLmZhaWxpbmZvICE9IG51bGwgJiYgeS5wdXNoKG5ldyBwKGMuZmFpbGluZm8pKTtcbiAgICB9XG4gICAgdmFyIHYgPSBuZXcgcyh7IGFycmF5OiB5IH0pO1xuICAgIHJldHVybiB2LnRvaGV4KCk7XG4gIH0sIHRoaXMuZ2V0RW5jb2RlZEhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvaGV4KCk7XG4gIH0sIGUgIT0gbnVsbCAmJiB0aGlzLnNldEJ5UGFyYW0oZSk7XG59O1xuTihhLmFzbjEudHNwLlBLSVN0YXR1c0luZm8sIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS50c3AuUEtJU3RhdHVzID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IEVycm9yLCByID0gYSwgaSA9IHIuYXNuMSwgcyA9IGkuREVSSW50ZWdlciwgbiA9IGkudHNwO1xuICBuLlBLSVN0YXR1cy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7XG4gIHZhciBoID0geyBncmFudGVkOiAwLCBncmFudGVkV2l0aE1vZHM6IDEsIHJlamVjdGlvbjogMiwgd2FpdGluZzogMywgcmV2b2NhdGlvbldhcm5pbmc6IDQsIHJldm9jYXRpb25Ob3RpZmljYXRpb246IDUgfTtcbiAgdGhpcy5wYXJhbXMgPSBudWxsLCB0aGlzLnRvaGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHUgPSB0aGlzLnBhcmFtcywgcDtcbiAgICBpZiAodHlwZW9mIHUgPT0gXCJzdHJpbmdcIilcbiAgICAgIHRyeSB7XG4gICAgICAgIHAgPSBoW3VdO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIHRocm93IG5ldyB0KFwidW5kZWZpbmVkIG5hbWU6IFwiICsgdSk7XG4gICAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHUgPT0gXCJudW1iZXJcIilcbiAgICAgIHAgPSB1O1xuICAgIGVsc2VcbiAgICAgIHRocm93IG5ldyB0KFwidW5zdXBwb3J0ZWQgcGFyYW1zXCIpO1xuICAgIHJldHVybiBuZXcgcyh7IGludDogcCB9KS50b2hleCgpO1xuICB9LCB0aGlzLmdldEVuY29kZWRIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b2hleCgpO1xuICB9LCBlICE9IG51bGwgJiYgdGhpcy5zZXRCeVBhcmFtKGUpO1xufTtcbk4oYS5hc24xLnRzcC5QS0lTdGF0dXMsIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS50c3AuUEtJRnJlZVRleHQgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gRXJyb3IsIHIgPSBhLCBpID0gci5hc24xLCBzID0gaS5ERVJTZXF1ZW5jZSwgbiA9IGkuREVSVVRGOFN0cmluZywgaCA9IGkudHNwO1xuICBoLlBLSUZyZWVUZXh0LnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSwgdGhpcy5wYXJhbXMgPSBudWxsLCB0aGlzLnRvaGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHUgPSB0aGlzLnBhcmFtcztcbiAgICBpZiAoIXUgaW5zdGFuY2VvZiBBcnJheSlcbiAgICAgIHRocm93IG5ldyB0KFwid3JvbmcgcGFyYW1zOiBub3QgYXJyYXlcIik7XG4gICAgZm9yICh2YXIgcCA9IFtdLCBjID0gMDsgYyA8IHUubGVuZ3RoOyBjKyspXG4gICAgICBwLnB1c2gobmV3IG4oeyBzdHI6IHVbY10gfSkpO1xuICAgIHZhciB5ID0gbmV3IHMoeyBhcnJheTogcCB9KTtcbiAgICByZXR1cm4geS50b2hleCgpO1xuICB9LCB0aGlzLmdldEVuY29kZWRIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b2hleCgpO1xuICB9LCBlICE9IG51bGwgJiYgdGhpcy5zZXRCeVBhcmFtKGUpO1xufTtcbk4oYS5hc24xLnRzcC5QS0lGcmVlVGV4dCwgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLnRzcC5QS0lGYWlsdXJlSW5mbyA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBFcnJvciwgciA9IGEsIGkgPSByLmFzbjEsIHMgPSBpLkRFUkJpdFN0cmluZywgbiA9IGkudHNwLCBoID0gbi5QS0lGYWlsdXJlSW5mbywgdSA9IHsgYmFkQWxnOiAwLCBiYWRSZXF1ZXN0OiAyLCBiYWREYXRhRm9ybWF0OiA1LCB0aW1lTm90QXZhaWxhYmxlOiAxNCwgdW5hY2NlcHRlZFBvbGljeTogMTUsIHVuYWNjZXB0ZWRFeHRlbnNpb246IDE2LCBhZGRJbmZvTm90QXZhaWxhYmxlOiAxNywgc3lzdGVtRmFpbHVyZTogMjUgfTtcbiAgaC5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksIHRoaXMucGFyYW1zID0gbnVsbCwgdGhpcy5nZXRCaW5WYWx1ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBwID0gdGhpcy5wYXJhbXMsIGMgPSAwO1xuICAgIGlmICh0eXBlb2YgcCA9PSBcIm51bWJlclwiICYmIDAgPD0gcCAmJiBwIDw9IDI1KSB7XG4gICAgICBjIHw9IDEgPDwgcDtcbiAgICAgIGZvciAodmFyIHkgPSBjLnRvU3RyaW5nKDIpLCB2ID0gXCJcIiwgbyA9IHkubGVuZ3RoIC0gMTsgbyA+PSAwOyBvLS0pXG4gICAgICAgIHYgKz0geVtvXTtcbiAgICAgIHJldHVybiB2O1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodHlwZW9mIHAgPT0gXCJzdHJpbmdcIiAmJiB1W3BdICE9IG51bGwpXG4gICAgICAgIHJldHVybiBydChbcF0sIHUpO1xuICAgICAgaWYgKHR5cGVvZiBwID09IFwib2JqZWN0XCIgJiYgcC5sZW5ndGggIT0gbnVsbClcbiAgICAgICAgcmV0dXJuIHJ0KHAsIHUpO1xuICAgICAgdGhyb3cgbmV3IHQoXCJ3cm9uZyBwYXJhbXNcIik7XG4gICAgfVxuICB9LCB0aGlzLnRvaGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5wYXJhbXM7XG4gICAgdmFyIHAgPSB0aGlzLmdldEJpblZhbHVlKCk7XG4gICAgcmV0dXJuIG5ldyBzKHsgYmluOiBwIH0pLnRvaGV4KCk7XG4gIH0sIHRoaXMuZ2V0RW5jb2RlZEhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvaGV4KCk7XG4gIH0sIGUgIT0gbnVsbCAmJiB0aGlzLnNldEJ5UGFyYW0oZSk7XG59O1xuTihhLmFzbjEudHNwLlBLSUZhaWx1cmVJbmZvLCBhLmFzbjEuQVNOMU9iamVjdCk7XG5hLmFzbjEudHNwLkFic3RyYWN0VFNBQWRhcHRlciA9IGZ1bmN0aW9uKGUpIHtcbiAgdGhpcy5nZXRUU1RIZXggPSBmdW5jdGlvbih0LCByKSB7XG4gICAgdGhyb3cgXCJub3QgaW1wbGVtZW50ZWQgeWV0XCI7XG4gIH07XG59O1xuYS5hc24xLnRzcC5TaW1wbGVUU0FBZGFwdGVyID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IGEsIHIgPSB0LmFzbjEsIGkgPSByLnRzcCwgcyA9IHQuY3J5cHRvLlV0aWwuaGFzaEhleDtcbiAgaS5TaW1wbGVUU0FBZGFwdGVyLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSwgdGhpcy5wYXJhbXMgPSBudWxsLCB0aGlzLnNlcmlhbCA9IDAsIHRoaXMuZ2V0VFNUSGV4ID0gZnVuY3Rpb24obiwgaCkge1xuICAgIHZhciB1ID0gcyhuLCBoKTtcbiAgICB0aGlzLnBhcmFtcy5lY29udGVudC5jb250ZW50Lm1lc3NhZ2VJbXByaW50ID0geyBhbGc6IGgsIGhhc2g6IHUgfSwgdGhpcy5wYXJhbXMuZWNvbnRlbnQuY29udGVudC5zZXJpYWwgPSB7IGludDogdGhpcy5zZXJpYWwrKyB9O1xuICAgIHZhciBwID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMWU5KTtcbiAgICB0aGlzLnBhcmFtcy5lY29udGVudC5jb250ZW50Lm5vbmNlID0geyBpbnQ6IHAgfTtcbiAgICB2YXIgYyA9IG5ldyBpLlRpbWVTdGFtcFRva2VuKHRoaXMucGFyYW1zKTtcbiAgICByZXR1cm4gYy5nZXRDb250ZW50SW5mb0VuY29kZWRIZXgoKTtcbiAgfSwgZSAhPT0gdm9pZCAwICYmICh0aGlzLnBhcmFtcyA9IGUpO1xufTtcbk4oYS5hc24xLnRzcC5TaW1wbGVUU0FBZGFwdGVyLCBhLmFzbjEudHNwLkFic3RyYWN0VFNBQWRhcHRlcik7XG5hLmFzbjEudHNwLkZpeGVkVFNBQWRhcHRlciA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBhLCByID0gdC5hc24xLCBpID0gci50c3AsIHMgPSB0LmNyeXB0by5VdGlsLmhhc2hIZXg7XG4gIGkuRml4ZWRUU0FBZGFwdGVyLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSwgdGhpcy5wYXJhbXMgPSBudWxsLCB0aGlzLmdldFRTVEhleCA9IGZ1bmN0aW9uKG4sIGgpIHtcbiAgICB2YXIgdSA9IHMobiwgaCk7XG4gICAgdGhpcy5wYXJhbXMuZWNvbnRlbnQuY29udGVudC5tZXNzYWdlSW1wcmludCA9IHsgYWxnOiBoLCBoYXNoOiB1IH07XG4gICAgdmFyIHAgPSBuZXcgaS5UaW1lU3RhbXBUb2tlbih0aGlzLnBhcmFtcyk7XG4gICAgcmV0dXJuIHAuZ2V0Q29udGVudEluZm9FbmNvZGVkSGV4KCk7XG4gIH0sIGUgIT09IHZvaWQgMCAmJiAodGhpcy5wYXJhbXMgPSBlKTtcbn07XG5OKGEuYXNuMS50c3AuRml4ZWRUU0FBZGFwdGVyLCBhLmFzbjEudHNwLkFic3RyYWN0VFNBQWRhcHRlcik7XG5hLmFzbjEudHNwLlRTUFV0aWwgPSBuZXcgZnVuY3Rpb24oKSB7XG59KCk7XG5hLmFzbjEudHNwLlRTUFV0aWwubmV3VGltZVN0YW1wVG9rZW4gPSBmdW5jdGlvbihlKSB7XG4gIHJldHVybiBuZXcgYS5hc24xLnRzcC5UaW1lU3RhbXBUb2tlbihlKTtcbn07XG5hLmFzbjEudHNwLlRTUFV0aWwucGFyc2VUaW1lU3RhbXBSZXEgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gbmV3IGEuYXNuMS50c3AuVFNQUGFyc2VyKCk7XG4gIHJldHVybiB0LmdldFRpbWVTdGFtcFJlcShlKTtcbn07XG5hLmFzbjEudHNwLlRTUFV0aWwucGFyc2VNZXNzYWdlSW1wcmludCA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBuZXcgYS5hc24xLnRzcC5UU1BQYXJzZXIoKTtcbiAgcmV0dXJuIHQuZ2V0TWVzc2FnZUltcHJpbnQoZSk7XG59O1xuYS5hc24xLnRzcC5UU1BQYXJzZXIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGUgPSBMLCB0ID0gbmV3IGUoKSwgciA9IFYsIGkgPSByLmdldFYsIHMgPSByLmdldFRMViwgbiA9IHIuZ2V0SWR4YnlMaXN0O1xuICByLmdldFRMVmJ5TGlzdEV4O1xuICB2YXIgaCA9IHIuZ2V0Q2hpbGRJZHgsIHUgPSBbXCJncmFudGVkXCIsIFwiZ3JhbnRlZFdpdGhNb2RzXCIsIFwicmVqZWN0aW9uXCIsIFwid2FpdGluZ1wiLCBcInJldm9jYXRpb25XYXJuaW5nXCIsIFwicmV2b2NhdGlvbk5vdGlmaWNhdGlvblwiXSwgcCA9IHsgMDogXCJiYWRBbGdcIiwgMjogXCJiYWRSZXF1ZXN0XCIsIDU6IFwiYmFkRGF0YUZvcm1hdFwiLCAxNDogXCJ0aW1lTm90QXZhaWxhYmxlXCIsIDE1OiBcInVuYWNjZXB0ZWRQb2xpY3lcIiwgMTY6IFwidW5hY2NlcHRlZEV4dGVuc2lvblwiLCAxNzogXCJhZGRJbmZvTm90QXZhaWxhYmxlXCIsIDI1OiBcInN5c3RlbUZhaWx1cmVcIiB9O1xuICB0aGlzLmdldFJlc3BvbnNlID0gZnVuY3Rpb24oYykge1xuICAgIHZhciB5ID0gaChjLCAwKTtcbiAgICBpZiAoeS5sZW5ndGggPT0gMSlcbiAgICAgIHJldHVybiB0aGlzLmdldFBLSVN0YXR1c0luZm8ocyhjLCB5WzBdKSk7XG4gICAgaWYgKHkubGVuZ3RoID4gMSkge1xuICAgICAgdmFyIHYgPSB0aGlzLmdldFBLSVN0YXR1c0luZm8ocyhjLCB5WzBdKSksIG8gPSBzKGMsIHlbMV0pLCBsID0gdGhpcy5nZXRUb2tlbihvKTtcbiAgICAgIHJldHVybiBsLnN0YXR1c2luZm8gPSB2LCBsO1xuICAgIH1cbiAgfSwgdGhpcy5nZXRUb2tlbiA9IGZ1bmN0aW9uKGMpIHtcbiAgICB2YXIgeSA9IG5ldyBhLmFzbjEuY21zLkNNU1BhcnNlcigpLCB2ID0geS5nZXRDTVNTaWduZWREYXRhKGMpO1xuICAgIHJldHVybiB0aGlzLnNldFRTVEluZm8odiksIHY7XG4gIH0sIHRoaXMuc2V0VFNUSW5mbyA9IGZ1bmN0aW9uKGMpIHtcbiAgICB2YXIgeSA9IGMuZWNvbnRlbnQ7XG4gICAgaWYgKHkudHlwZSA9PSBcInRzdGluZm9cIikge1xuICAgICAgdmFyIHYgPSB5LmNvbnRlbnQuaGV4LCBvID0gdGhpcy5nZXRUU1RJbmZvKHYpO1xuICAgICAgeS5jb250ZW50ID0gbztcbiAgICB9XG4gIH0sIHRoaXMuZ2V0VFNUSW5mbyA9IGZ1bmN0aW9uKGMpIHtcbiAgICB2YXIgeSA9IHt9LCB2ID0gaChjLCAwKSwgbyA9IGkoYywgdlsxXSk7XG4gICAgeS5wb2xpY3kgPSBmdChvKTtcbiAgICB2YXIgbCA9IHMoYywgdlsyXSk7XG4gICAgeS5tZXNzYWdlSW1wcmludCA9IHRoaXMuZ2V0TWVzc2FnZUltcHJpbnQobCk7XG4gICAgdmFyIGYgPSBpKGMsIHZbM10pO1xuICAgIHkuc2VyaWFsID0geyBoZXg6IGYgfTtcbiAgICB2YXIgZCA9IGkoYywgdls0XSk7XG4gICAgeS5nZW5UaW1lID0geyBzdHI6IFcoZCkgfTtcbiAgICB2YXIgZyA9IDA7XG4gICAgaWYgKHYubGVuZ3RoID4gNSAmJiBjLnN1YnN0cih2WzVdLCAyKSA9PSBcIjMwXCIpIHtcbiAgICAgIHZhciBTID0gcyhjLCB2WzVdKTtcbiAgICAgIHkuYWNjdXJhY3kgPSB0aGlzLmdldEFjY3VyYWN5KFMpLCBnKys7XG4gICAgfVxuICAgIGlmICh2Lmxlbmd0aCA+IDUgKyBnICYmIGMuc3Vic3RyKHZbNSArIGddLCAyKSA9PSBcIjAxXCIpIHtcbiAgICAgIHZhciBiID0gaShjLCB2WzUgKyBnXSk7XG4gICAgICBiID09IFwiZmZcIiAmJiAoeS5vcmRlcmluZyA9ICEwKSwgZysrO1xuICAgIH1cbiAgICBpZiAodi5sZW5ndGggPiA1ICsgZyAmJiBjLnN1YnN0cih2WzUgKyBnXSwgMikgPT0gXCIwMlwiKSB7XG4gICAgICB2YXIgRCA9IGkoYywgdls1ICsgZ10pO1xuICAgICAgeS5ub25jZSA9IHsgaGV4OiBEIH0sIGcrKztcbiAgICB9XG4gICAgaWYgKHYubGVuZ3RoID4gNSArIGcgJiYgYy5zdWJzdHIodls1ICsgZ10sIDIpID09IFwiYTBcIikge1xuICAgICAgdmFyIEEgPSBzKGMsIHZbNSArIGddKTtcbiAgICAgIEEgPSBcIjMwXCIgKyBBLnN1YnN0cigyKSwgcEdlbmVyYWxOYW1lcyA9IHQuZ2V0R2VuZXJhbE5hbWVzKEEpO1xuICAgICAgdmFyIEkgPSBwR2VuZXJhbE5hbWVzWzBdLmRuO1xuICAgICAgeS50c2EgPSBJLCBnKys7XG4gICAgfVxuICAgIGlmICh2Lmxlbmd0aCA+IDUgKyBnICYmIGMuc3Vic3RyKHZbNSArIGddLCAyKSA9PSBcImExXCIpIHtcbiAgICAgIHZhciBtID0gcyhjLCB2WzUgKyBnXSk7XG4gICAgICBtID0gXCIzMFwiICsgbS5zdWJzdHIoMik7XG4gICAgICB2YXIgRSA9IHQuZ2V0RXh0UGFyYW1BcnJheShtKTtcbiAgICAgIHkuZXh0ID0gRSwgZysrO1xuICAgIH1cbiAgICByZXR1cm4geTtcbiAgfSwgdGhpcy5nZXRBY2N1cmFjeSA9IGZ1bmN0aW9uKGMpIHtcbiAgICBmb3IgKHZhciB5ID0ge30sIHYgPSBoKGMsIDApLCBvID0gMDsgbyA8IHYubGVuZ3RoOyBvKyspIHtcbiAgICAgIHZhciBsID0gYy5zdWJzdHIodltvXSwgMiksIGYgPSBpKGMsIHZbb10pLCBkID0gcGFyc2VJbnQoZiwgMTYpO1xuICAgICAgbCA9PSBcIjAyXCIgPyB5LnNlY29uZHMgPSBkIDogbCA9PSBcIjgwXCIgPyB5Lm1pbGxpcyA9IGQgOiBsID09IFwiODFcIiAmJiAoeS5taWNyb3MgPSBkKTtcbiAgICB9XG4gICAgcmV0dXJuIHk7XG4gIH0sIHRoaXMuZ2V0TWVzc2FnZUltcHJpbnQgPSBmdW5jdGlvbihjKSB7XG4gICAgaWYgKGMuc3Vic3RyKDAsIDIpICE9IFwiMzBcIilcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImhlYWQgb2YgbWVzc2FnZUltcHJpbnQgaGV4IHNoYWxsIGJlIHgzMFwiKTtcbiAgICB2YXIgeSA9IHt9O1xuICAgIGgoYywgMCk7XG4gICAgdmFyIHYgPSBuKGMsIDAsIFswLCAwXSksIG8gPSBpKGMsIHYpLCBsID0gci5oZXh0b29pZHN0cihvKSwgZiA9IGEuYXNuMS54NTA5Lk9JRC5vaWQybmFtZShsKTtcbiAgICBpZiAoZiA9PSBcIlwiKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaGFzaEFsZyBuYW1lIHVuZGVmaW5lZDogXCIgKyBsKTtcbiAgICB2YXIgZCA9IGYsIGcgPSBuKGMsIDAsIFsxXSk7XG4gICAgcmV0dXJuIHkuYWxnID0gZCwgeS5oYXNoID0gaShjLCBnKSwgeTtcbiAgfSwgdGhpcy5nZXRQS0lTdGF0dXNJbmZvID0gZnVuY3Rpb24oYykge1xuICAgIHZhciB5ID0ge30sIHYgPSBoKGMsIDApLCBvID0gMDtcbiAgICB0cnkge1xuICAgICAgdmFyIGwgPSBpKGMsIHZbMF0pLCBmID0gcGFyc2VJbnQobCwgMTYpO1xuICAgICAgeS5zdGF0dXMgPSB1W2ZdO1xuICAgIH0gY2F0Y2gge1xuICAgIH1cbiAgICBpZiAodi5sZW5ndGggPiAxICYmIGMuc3Vic3RyKHZbMV0sIDIpID09IFwiMzBcIikge1xuICAgICAgdmFyIGQgPSBzKGMsIHZbMV0pO1xuICAgICAgeS5zdGF0dXNzdHIgPSB0aGlzLmdldFBLSUZyZWVUZXh0KGQpLCBvKys7XG4gICAgfVxuICAgIGlmICh2Lmxlbmd0aCA+IG8gJiYgYy5zdWJzdHIodlsxICsgb10sIDIpID09IFwiMDNcIikge1xuICAgICAgdmFyIGcgPSBzKGMsIHZbMSArIG9dKTtcbiAgICAgIHkuZmFpbGluZm8gPSB0aGlzLmdldFBLSUZhaWx1cmVJbmZvKGcpO1xuICAgIH1cbiAgICByZXR1cm4geTtcbiAgfSwgdGhpcy5nZXRQS0lGcmVlVGV4dCA9IGZ1bmN0aW9uKGMpIHtcbiAgICBmb3IgKHZhciB5ID0gW10sIHYgPSBoKGMsIDApLCBvID0gMDsgbyA8IHYubGVuZ3RoOyBvKyspXG4gICAgICB5LnB1c2goci5nZXRTdHJpbmcoYywgdltvXSkpO1xuICAgIHJldHVybiB5O1xuICB9LCB0aGlzLmdldFBLSUZhaWx1cmVJbmZvID0gZnVuY3Rpb24oYykge1xuICAgIHZhciB5ID0gci5nZXRJbnQoYywgMCk7XG4gICAgcmV0dXJuIHBbeV0gIT0gbnVsbCA/IHBbeV0gOiB5O1xuICB9LCB0aGlzLmdldFRpbWVTdGFtcFJlcSA9IGZ1bmN0aW9uKGMpIHtcbiAgICB2YXIgeSA9IHt9O1xuICAgIHkuY2VydHJlcSA9ICExO1xuICAgIHZhciB2ID0gaChjLCAwKTtcbiAgICBpZiAodi5sZW5ndGggPCAyKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGltZVN0YW1wUmVxIG11c3QgaGF2ZSBhdCBsZWFzdCAyIGl0ZW1zXCIpO1xuICAgIHZhciBvID0gcyhjLCB2WzFdKTtcbiAgICB5Lm1lc3NhZ2VJbXByaW50ID0gYS5hc24xLnRzcC5UU1BVdGlsLnBhcnNlTWVzc2FnZUltcHJpbnQobyk7XG4gICAgZm9yICh2YXIgbCA9IDI7IGwgPCB2Lmxlbmd0aDsgbCsrKSB7XG4gICAgICB2YXIgZiA9IHZbbF0sIGQgPSBjLnN1YnN0cihmLCAyKTtcbiAgICAgIGlmIChkID09IFwiMDZcIikge1xuICAgICAgICB2YXIgZyA9IGkoYywgZik7XG4gICAgICAgIHkucG9saWN5ID0gci5oZXh0b29pZHN0cihnKTtcbiAgICAgIH1cbiAgICAgIGQgPT0gXCIwMlwiICYmICh5Lm5vbmNlID0gaShjLCBmKSksIGQgPT0gXCIwMVwiICYmICh5LmNlcnRyZXEgPSAhMCk7XG4gICAgfVxuICAgIHJldHVybiB5O1xuICB9O1xufTtcbih0eXBlb2YgYSA+IFwidVwiIHx8ICFhKSAmJiAoYSA9IHt9KTtcbih0eXBlb2YgYS5hc24xID4gXCJ1XCIgfHwgIWEuYXNuMSkgJiYgKGEuYXNuMSA9IHt9KTtcbih0eXBlb2YgYS5hc24xLmNhZGVzID4gXCJ1XCIgfHwgIWEuYXNuMS5jYWRlcykgJiYgKGEuYXNuMS5jYWRlcyA9IHt9KTtcbmEuYXNuMS5jYWRlcy5TaWduYXR1cmVQb2xpY3lJZGVudGlmaWVyID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IGEsIHIgPSB0LmFzbjEsIGkgPSByLmNhZGVzLCBzID0gaS5TaWduYXR1cmVQb2xpY3lJZDtcbiAgaS5TaWduYXR1cmVQb2xpY3lJZGVudGlmaWVyLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSwgdGhpcy50eXBlT2lkID0gXCIxLjIuODQwLjExMzU0OS4xLjkuMTYuMi4xNVwiLCB0aGlzLnBhcmFtcyA9IG51bGwsIHRoaXMuZ2V0VmFsdWVBcnJheSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBbbmV3IHModGhpcy5wYXJhbXMpXTtcbiAgfSwgdGhpcy5zZXRCeVBhcmFtID0gZnVuY3Rpb24obikge1xuICAgIHRoaXMucGFyYW1zID0gbjtcbiAgfSwgZSAhPSBudWxsICYmIHRoaXMuc2V0QnlQYXJhbShlKTtcbn07XG5OKGEuYXNuMS5jYWRlcy5TaWduYXR1cmVQb2xpY3lJZGVudGlmaWVyLCBhLmFzbjEuY21zLkF0dHJpYnV0ZSk7XG5hLmFzbjEuY2FkZXMuU2lnbmF0dXJlUG9saWN5SWQgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gYSwgciA9IHQuYXNuMSwgaSA9IHIuREVSU2VxdWVuY2UsIHMgPSByLkRFUk9iamVjdElkZW50aWZpZXIsIG4gPSByLng1MDk7XG4gIG4uQWxnb3JpdGhtSWRlbnRpZmllcjtcbiAgdmFyIGggPSByLmNhZGVzLCB1ID0gaC5TaWduYXR1cmVQb2xpY3lJZCwgcCA9IGguT3RoZXJIYXNoQWxnQW5kVmFsdWU7XG4gIHUuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLCB0aGlzLnBhcmFtcyA9IG51bGwsIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgYyA9IHRoaXMucGFyYW1zLCB5ID0gW107XG4gICAgeS5wdXNoKG5ldyBzKGMub2lkKSksIHkucHVzaChuZXcgcChjKSk7XG4gICAgdmFyIHYgPSBuZXcgaSh7IGFycmF5OiB5IH0pO1xuICAgIHJldHVybiB2LnRvaGV4KCk7XG4gIH0sIHRoaXMuZ2V0RW5jb2RlZEhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvaGV4KCk7XG4gIH0sIHRoaXMuc2V0QnlQYXJhbSA9IGZ1bmN0aW9uKGMpIHtcbiAgICB0aGlzLnBhcmFtcyA9IGM7XG4gIH0sIGUgIT0gbnVsbCAmJiB0aGlzLnNldEJ5UGFyYW0oZSk7XG59O1xuTihhLmFzbjEuY2FkZXMuU2lnbmF0dXJlUG9saWN5SWQsIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS5jYWRlcy5PdGhlckhhc2hBbGdBbmRWYWx1ZSA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBFcnJvciwgciA9IGEsIGkgPSByLmFzbjEsIHMgPSBpLkRFUlNlcXVlbmNlLCBuID0gaS5ERVJPY3RldFN0cmluZywgaCA9IGkueDUwOSwgdSA9IGguQWxnb3JpdGhtSWRlbnRpZmllciwgcCA9IGkuY2FkZXMsIGMgPSBwLk90aGVySGFzaEFsZ0FuZFZhbHVlO1xuICBjLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSwgdGhpcy5wYXJhbXMgPSBudWxsLCB0aGlzLnRvaGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHkgPSB0aGlzLnBhcmFtcztcbiAgICBpZiAoeS5hbGcgPT0gbnVsbClcbiAgICAgIHRocm93IG5ldyB0KFwicHJvcGVydHkgJ2FsZycgbm90IHNwZWNpZmllZFwiKTtcbiAgICBpZiAoeS5oYXNoID09IG51bGwgJiYgeS5jZXJ0ID09IG51bGwpXG4gICAgICB0aHJvdyBuZXcgdChcInByb3BlcnR5ICdoYXNoJyBub3IgJ2NlcnQnIG5vdCBzcGVjaWZpZWRcIik7XG4gICAgdmFyIHYgPSBudWxsO1xuICAgIGlmICh5Lmhhc2ggIT0gbnVsbClcbiAgICAgIHYgPSB5Lmhhc2g7XG4gICAgZWxzZSBpZiAoeS5jZXJ0ICE9IG51bGwpIHtcbiAgICAgIGlmICh0eXBlb2YgeS5jZXJ0ICE9IFwic3RyaW5nXCIpXG4gICAgICAgIHRocm93IG5ldyB0KFwiY2VydCBub3Qgc3RyaW5nXCIpO1xuICAgICAgdmFyIG8gPSB5LmNlcnQ7XG4gICAgICB5LmNlcnQuaW5kZXhPZihcIi0tLS0tQkVHSU5cIikgIT0gLTEgJiYgKG8gPSBpZSh5LmNlcnQpKSwgdiA9IGEuY3J5cHRvLlV0aWwuaGFzaEhleChvLCB5LmFsZyk7XG4gICAgfVxuICAgIHZhciBsID0gW107XG4gICAgbC5wdXNoKG5ldyB1KHsgbmFtZTogeS5hbGcgfSkpLCBsLnB1c2gobmV3IG4oeyBoZXg6IHYgfSkpO1xuICAgIHZhciBmID0gbmV3IHMoeyBhcnJheTogbCB9KTtcbiAgICByZXR1cm4gZi50b2hleCgpO1xuICB9LCB0aGlzLmdldEVuY29kZWRIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b2hleCgpO1xuICB9LCBlICE9IG51bGwgJiYgdGhpcy5zZXRCeVBhcmFtKGUpO1xufTtcbk4oYS5hc24xLmNhZGVzLk90aGVySGFzaEFsZ0FuZFZhbHVlLCBhLmFzbjEuQVNOMU9iamVjdCk7XG5hLmFzbjEuY2FkZXMuT3RoZXJIYXNoVmFsdWUgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS5jYWRlcy5PdGhlckhhc2hWYWx1ZS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7XG4gIHZhciB0ID0gRXJyb3IsIHIgPSBhO1xuICByLmxhbmcuU3RyaW5nLmlzSGV4O1xuICB2YXIgaSA9IHIuYXNuMSwgcyA9IGkuREVST2N0ZXRTdHJpbmc7XG4gIHIuY3J5cHRvLlV0aWwuaGFzaEhleCwgdGhpcy5wYXJhbXMgPSBudWxsLCB0aGlzLnRvaGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG4gPSB0aGlzLnBhcmFtcztcbiAgICBpZiAobi5oYXNoID09IG51bGwgJiYgbi5jZXJ0ID09IG51bGwpXG4gICAgICB0aHJvdyBuZXcgdChcImhhc2ggb3IgY2VydCBub3Qgc3BlY2lmaWVkXCIpO1xuICAgIHZhciBoID0gbnVsbDtcbiAgICBpZiAobi5oYXNoICE9IG51bGwpXG4gICAgICBoID0gbi5oYXNoO1xuICAgIGVsc2UgaWYgKG4uY2VydCAhPSBudWxsKSB7XG4gICAgICBpZiAodHlwZW9mIG4uY2VydCAhPSBcInN0cmluZ1wiKVxuICAgICAgICB0aHJvdyBuZXcgdChcImNlcnQgbm90IHN0cmluZ1wiKTtcbiAgICAgIHZhciB1ID0gbi5jZXJ0O1xuICAgICAgbi5jZXJ0LmluZGV4T2YoXCItLS0tLUJFR0lOXCIpICE9IC0xICYmICh1ID0gaWUobi5jZXJ0KSksIGggPSBhLmNyeXB0by5VdGlsLmhhc2hIZXgodSwgXCJzaGExXCIpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IHMoeyBoZXg6IGggfSkudG9oZXgoKTtcbiAgfSwgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9oZXgoKTtcbiAgfSwgZSAhPSBudWxsICYmIHRoaXMuc2V0QnlQYXJhbShlKTtcbn07XG5OKGEuYXNuMS5jYWRlcy5PdGhlckhhc2hWYWx1ZSwgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLmNhZGVzLlNpZ25hdHVyZVRpbWVTdGFtcCA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBFcnJvciwgciA9IGEsIGkgPSByLmxhbmcuU3RyaW5nLmlzSGV4LCBzID0gci5hc24xLCBuID0gcy5BU04xT2JqZWN0O1xuICBzLng1MDk7XG4gIHZhciBoID0gcy5jYWRlcztcbiAgaC5TaWduYXR1cmVUaW1lU3RhbXAuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLCB0aGlzLnR5cGVPaWQgPSBcIjEuMi44NDAuMTEzNTQ5LjEuOS4xNi4yLjE0XCIsIHRoaXMucGFyYW1zID0gbnVsbCwgdGhpcy5nZXRWYWx1ZUFycmF5ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHUgPSB0aGlzLnBhcmFtcztcbiAgICBpZiAodS50c3QgIT0gbnVsbClcbiAgICAgIGlmIChpKHUudHN0KSkge1xuICAgICAgICB2YXIgcCA9IG5ldyBuKCk7XG4gICAgICAgIHJldHVybiBwLmhUTFYgPSB1LnRzdCwgW3BdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHUudHN0IGluc3RhbmNlb2YgbilcbiAgICAgICAgICByZXR1cm4gW3UudHN0XTtcbiAgICAgICAgdGhyb3cgbmV3IHQoXCJwYXJhbXMudHN0IGhhcyB3cm9uZyB2YWx1ZVwiKTtcbiAgICAgIH1cbiAgICBlbHNlIGlmICh1LnJlcyAhPSBudWxsKSB7XG4gICAgICB2YXIgYyA9IHUucmVzO1xuICAgICAgaWYgKGMgaW5zdGFuY2VvZiBuICYmIChjID0gYy50b2hleCgpKSwgdHlwZW9mIGMgIT0gXCJzdHJpbmdcIiB8fCAhaShjKSlcbiAgICAgICAgdGhyb3cgbmV3IHQoXCJwYXJhbXMucmVzIGhhcyB3cm9uZyB2YWx1ZVwiKTtcbiAgICAgIFYuZ2V0VExWYnlMaXN0KGMsIDAsIFsxXSk7XG4gICAgICB2YXIgcCA9IG5ldyBuKCk7XG4gICAgICByZXR1cm4gcC5oVExWID0gdS50c3QsIFtwXTtcbiAgICB9XG4gIH0sIGUgIT0gbnVsbCAmJiB0aGlzLnNldEJ5UGFyYW0oZSk7XG59O1xuTihhLmFzbjEuY2FkZXMuU2lnbmF0dXJlVGltZVN0YW1wLCBhLmFzbjEuY21zLkF0dHJpYnV0ZSk7XG5hLmFzbjEuY2FkZXMuQ29tcGxldGVDZXJ0aWZpY2F0ZVJlZnMgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gRXJyb3IsIHIgPSBhLCBpID0gci5hc24xLCBzID0gaS5ERVJTZXF1ZW5jZSwgbiA9IGkuY2FkZXMsIGggPSBuLk90aGVyQ2VydElELCB1ID0gci5sYW5nLlN0cmluZy5pc0hleDtcbiAgbi5Db21wbGV0ZUNlcnRpZmljYXRlUmVmcy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksIHRoaXMudHlwZU9pZCA9IFwiMS4yLjg0MC4xMTM1NDkuMS45LjE2LjIuMjFcIiwgdGhpcy5wYXJhbXMgPSBudWxsLCB0aGlzLmdldFZhbHVlQXJyYXkgPSBmdW5jdGlvbigpIHtcbiAgICBmb3IgKHZhciBwID0gdGhpcy5wYXJhbXMsIGMgPSBbXSwgeSA9IDA7IHkgPCBwLmFycmF5Lmxlbmd0aDsgeSsrKSB7XG4gICAgICB2YXIgdiA9IHAuYXJyYXlbeV07XG4gICAgICBpZiAodHlwZW9mIHYgPT0gXCJzdHJpbmdcIilcbiAgICAgICAgaWYgKHYuaW5kZXhPZihcIi0tLS0tQkVHSU5cIikgIT0gLTEpXG4gICAgICAgICAgdiA9IHsgY2VydDogdiB9O1xuICAgICAgICBlbHNlIGlmICh1KHYpKVxuICAgICAgICAgIHYgPSB7IGhhc2g6IHYgfTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIHRocm93IG5ldyB0KFwidW5zdXBwb3J0ZWQgdmFsdWU6IFwiICsgdik7XG4gICAgICBwLmFsZyAhPSBudWxsICYmIHYuYWxnID09IG51bGwgJiYgKHYuYWxnID0gcC5hbGcpLCBwLmhhc2lzICE9IG51bGwgJiYgdi5oYXNpcyA9PSBudWxsICYmICh2Lmhhc2lzID0gcC5oYXNpcyk7XG4gICAgICB2YXIgbyA9IG5ldyBoKHYpO1xuICAgICAgYy5wdXNoKG8pO1xuICAgIH1cbiAgICB2YXIgbCA9IG5ldyBzKHsgYXJyYXk6IGMgfSk7XG4gICAgcmV0dXJuIFtsXTtcbiAgfSwgZSAhPSBudWxsICYmIHRoaXMuc2V0QnlQYXJhbShlKTtcbn07XG5OKGEuYXNuMS5jYWRlcy5Db21wbGV0ZUNlcnRpZmljYXRlUmVmcywgYS5hc24xLmNtcy5BdHRyaWJ1dGUpO1xuYS5hc24xLmNhZGVzLk90aGVyQ2VydElEID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IGEsIHIgPSB0LmFzbjEsIGkgPSByLkRFUlNlcXVlbmNlLCBzID0gci5jbXMsIG4gPSBzLklzc3VlclNlcmlhbCwgaCA9IHIuY2FkZXMsIHUgPSBoLk90aGVySGFzaFZhbHVlLCBwID0gaC5PdGhlckhhc2hBbGdBbmRWYWx1ZTtcbiAgaC5PdGhlckNlcnRJRC5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksIHRoaXMucGFyYW1zID0gZSwgdGhpcy50b2hleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjID0gdGhpcy5wYXJhbXM7XG4gICAgdHlwZW9mIGMgPT0gXCJzdHJpbmdcIiAmJiAoYy5pbmRleE9mKFwiLS0tLS1CRUdJTlwiKSAhPSAtMSA/IGMgPSB7IGNlcnQ6IGMgfSA6IF9pc0hleChjKSAmJiAoYyA9IHsgaGFzaDogYyB9KSk7XG4gICAgdmFyIHkgPSBbXSwgdiA9IG51bGw7XG4gICAgaWYgKGMuYWxnICE9IG51bGwgPyB2ID0gbmV3IHAoYykgOiB2ID0gbmV3IHUoYyksIHkucHVzaCh2KSwgYy5jZXJ0ICE9IG51bGwgJiYgYy5oYXNpcyA9PSAhMCB8fCBjLmlzc3VlciAhPSBudWxsICYmIGMuc2VyaWFsICE9IG51bGwpIHtcbiAgICAgIHZhciBvID0gbmV3IG4oYyk7XG4gICAgICB5LnB1c2gobyk7XG4gICAgfVxuICAgIHZhciBsID0gbmV3IGkoeyBhcnJheTogeSB9KTtcbiAgICByZXR1cm4gbC50b2hleCgpO1xuICB9LCB0aGlzLmdldEVuY29kZWRIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b2hleCgpO1xuICB9LCBlICE9IG51bGwgJiYgdGhpcy5zZXRCeVBhcmFtKGUpO1xufTtcbk4oYS5hc24xLmNhZGVzLk90aGVyQ2VydElELCBhLmFzbjEuQVNOMU9iamVjdCk7XG5hLmFzbjEuY2FkZXMuT3RoZXJIYXNoID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IGEsIHIgPSB0LmFzbjE7XG4gIHIuY21zO1xuICB2YXIgaSA9IHIuY2FkZXMsIHMgPSBpLk90aGVySGFzaEFsZ0FuZFZhbHVlLCBuID0gaS5PdGhlckhhc2hWYWx1ZTtcbiAgdC5jcnlwdG8uVXRpbC5oYXNoSGV4O1xuICB2YXIgaCA9IHQubGFuZy5TdHJpbmcuaXNIZXg7XG4gIGkuT3RoZXJIYXNoLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSwgdGhpcy5wYXJhbXMgPSBudWxsLCB0aGlzLnRvaGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHUgPSB0aGlzLnBhcmFtcztcbiAgICB0eXBlb2YgdSA9PSBcInN0cmluZ1wiICYmICh1LmluZGV4T2YoXCItLS0tLUJFR0lOXCIpICE9IC0xID8gdSA9IHsgY2VydDogdSB9IDogaCh1KSAmJiAodSA9IHsgaGFzaDogdSB9KSk7XG4gICAgdmFyIHAgPSBudWxsO1xuICAgIHJldHVybiB1LmFsZyAhPSBudWxsID8gcCA9IG5ldyBzKHUpIDogcCA9IG5ldyBuKHUpLCBwLnRvaGV4KCk7XG4gIH0sIHRoaXMuZ2V0RW5jb2RlZEhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvaGV4KCk7XG4gIH0sIGUgIT0gbnVsbCAmJiB0aGlzLnNldEJ5UGFyYW0oZSk7XG59O1xuTihhLmFzbjEuY2FkZXMuT3RoZXJIYXNoLCBhLmFzbjEuQVNOMU9iamVjdCk7XG5hLmFzbjEuY2FkZXMuQ0FkRVNVdGlsID0gbmV3IGZ1bmN0aW9uKCkge1xufSgpO1xuYS5hc24xLmNhZGVzLkNBZEVTVXRpbC5wYXJzZVNpZ25lZERhdGFGb3JBZGRpbmdVbnNpZ25lZCA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBuZXcgYS5hc24xLmNtcy5DTVNQYXJzZXIoKSwgciA9IHQuZ2V0Q01TU2lnbmVkRGF0YShlKTtcbiAgcmV0dXJuIHI7XG59O1xuYS5hc24xLmNhZGVzLkNBZEVTVXRpbC5wYXJzZVNpZ25lckluZm9Gb3JBZGRpbmdVbnNpZ25lZCA9IGZ1bmN0aW9uKGUsIHQsIHIpIHtcbiAgdmFyIGkgPSBWLCBzID0gaS5nZXRDaGlsZElkeCwgbiA9IGkuZ2V0VExWLCBoID0gaS5nZXRWLCB1ID0gYSwgcCA9IHUuYXNuMSwgYyA9IHAuQVNOMU9iamVjdCwgeSA9IHAuY21zLCB2ID0geS5BdHRyaWJ1dGVMaXN0LCBvID0geS5TaWduZXJJbmZvLCBsID0ge30sIGYgPSBzKGUsIHQpO1xuICBpZiAoZi5sZW5ndGggIT0gNilcbiAgICB0aHJvdyBcIm5vdCBzdXBwb3J0ZWQgaXRlbXMgZm9yIFNpZ25lckluZm8gKCE9NilcIjtcbiAgdmFyIGQgPSBmLnNoaWZ0KCk7XG4gIGwudmVyc2lvbiA9IG4oZSwgZCk7XG4gIHZhciBnID0gZi5zaGlmdCgpO1xuICBsLnNpID0gbihlLCBnKTtcbiAgdmFyIFMgPSBmLnNoaWZ0KCk7XG4gIGwuZGlnYWxnID0gbihlLCBTKTtcbiAgdmFyIGIgPSBmLnNoaWZ0KCk7XG4gIGwuc2F0dHJzID0gbihlLCBiKTtcbiAgdmFyIEQgPSBmLnNoaWZ0KCk7XG4gIGwuc2lnYWxnID0gbihlLCBEKTtcbiAgdmFyIEEgPSBmLnNoaWZ0KCk7XG4gIGwuc2lnID0gbihlLCBBKSwgbC5zaWd2YWwgPSBoKGUsIEEpO1xuICB2YXIgSSA9IG51bGw7XG4gIHJldHVybiBsLm9iaiA9IG5ldyBvKCksIEkgPSBuZXcgYygpLCBJLmhUTFYgPSBsLnZlcnNpb24sIGwub2JqLmRDTVNWZXJzaW9uID0gSSwgSSA9IG5ldyBjKCksIEkuaFRMViA9IGwuc2ksIGwub2JqLmRTaWduZXJJZGVudGlmaWVyID0gSSwgSSA9IG5ldyBjKCksIEkuaFRMViA9IGwuZGlnYWxnLCBsLm9iai5kRGlnZXN0QWxnb3JpdGhtID0gSSwgSSA9IG5ldyBjKCksIEkuaFRMViA9IGwuc2F0dHJzLCBsLm9iai5kU2lnbmVkQXR0cnMgPSBJLCBJID0gbmV3IGMoKSwgSS5oVExWID0gbC5zaWdhbGcsIGwub2JqLmRTaWdBbGcgPSBJLCBJID0gbmV3IGMoKSwgSS5oVExWID0gbC5zaWcsIGwub2JqLmRTaWcgPSBJLCBsLm9iai5kVW5zaWduZWRBdHRycyA9IG5ldyB2KCksIGw7XG59O1xuKHR5cGVvZiBhLmFzbjEuY3NyID4gXCJ1XCIgfHwgIWEuYXNuMS5jc3IpICYmIChhLmFzbjEuY3NyID0ge30pO1xuYS5hc24xLmNzci5DZXJ0aWZpY2F0aW9uUmVxdWVzdCA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBhLCByID0gdC5hc24xLCBpID0gci5ERVJCaXRTdHJpbmcsIHMgPSByLkRFUlNlcXVlbmNlLCBuID0gci5jc3I7XG4gIHIueDUwOTtcbiAgdmFyIGggPSBuLkNlcnRpZmljYXRpb25SZXF1ZXN0SW5mbztcbiAgbi5DZXJ0aWZpY2F0aW9uUmVxdWVzdC5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksIHRoaXMuc2V0QnlQYXJhbSA9IGZ1bmN0aW9uKHUpIHtcbiAgICB0aGlzLnBhcmFtcyA9IHU7XG4gIH0sIHRoaXMuc2lnbiA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB1ID0gbmV3IGgodGhpcy5wYXJhbXMpLnRvaGV4KCksIHAgPSBuZXcgYS5jcnlwdG8uU2lnbmF0dXJlKHsgYWxnOiB0aGlzLnBhcmFtcy5zaWdhbGcgfSk7XG4gICAgcC5pbml0KHRoaXMucGFyYW1zLnNianBydmtleSksIHAudXBkYXRlSGV4KHUpO1xuICAgIHZhciBjID0gcC5zaWduKCk7XG4gICAgdGhpcy5wYXJhbXMuc2lnaGV4ID0gYztcbiAgfSwgdGhpcy5nZXRQRU0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZGUodGhpcy50b2hleCgpLCBcIkNFUlRJRklDQVRFIFJFUVVFU1RcIik7XG4gIH0sIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgdSA9IHRoaXMucGFyYW1zLCBwID0gbmV3IGEuYXNuMS5jc3IuQ2VydGlmaWNhdGlvblJlcXVlc3RJbmZvKHRoaXMucGFyYW1zKSwgYyA9IG5ldyBhLmFzbjEueDUwOS5BbGdvcml0aG1JZGVudGlmaWVyKHsgbmFtZTogdS5zaWdhbGcgfSk7XG4gICAgaWYgKHUuc2lnaGV4ID09IG51bGwgJiYgdS5zYmpwcnZrZXkgIT0gbnVsbCAmJiB0aGlzLnNpZ24oKSwgdS5zaWdoZXggPT0gbnVsbClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInNpZ2hleCBvciBzYmpwcnZrZXkgcGFyYW1ldGVyIG5vdCBkZWZpbmVkXCIpO1xuICAgIHZhciB5ID0gbmV3IGkoeyBoZXg6IFwiMDBcIiArIHUuc2lnaGV4IH0pLCB2ID0gbmV3IHMoeyBhcnJheTogW3AsIGMsIHldIH0pO1xuICAgIHJldHVybiB2LnRvaGV4KCk7XG4gIH0sIHRoaXMuZ2V0RW5jb2RlZEhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvaGV4KCk7XG4gIH0sIGUgIT09IHZvaWQgMCAmJiB0aGlzLnNldEJ5UGFyYW0oZSk7XG59O1xuTihhLmFzbjEuY3NyLkNlcnRpZmljYXRpb25SZXF1ZXN0LCBhLmFzbjEuQVNOMU9iamVjdCk7XG5hLmFzbjEuY3NyLkNlcnRpZmljYXRpb25SZXF1ZXN0SW5mbyA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBhLCByID0gdC5hc24xO1xuICByLkRFUkJpdFN0cmluZztcbiAgdmFyIGkgPSByLkRFUlNlcXVlbmNlLCBzID0gci5ERVJJbnRlZ2VyLCBuID0gci5ERVJVVEY4U3RyaW5nLCBoID0gci5ERVJUYWdnZWRPYmplY3QsIHUgPSByLkFTTjFVdGlsLm5ld09iamVjdCwgcCA9IHIuY3NyLCBjID0gci54NTA5LCB5ID0gYy5YNTAwTmFtZSwgdiA9IGMuRXh0ZW5zaW9ucywgbyA9IGMuU3ViamVjdFB1YmxpY0tleUluZm87XG4gIHAuQXR0cmlidXRlTGlzdCwgcC5DZXJ0aWZpY2F0aW9uUmVxdWVzdEluZm8uc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLCB0aGlzLnBhcmFtcyA9IG51bGwsIHRoaXMuc2V0QnlQYXJhbSA9IGZ1bmN0aW9uKGYpIHtcbiAgICBmICE9IG51bGwgJiYgKHRoaXMucGFyYW1zID0gZik7XG4gIH0sIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgZiA9IHRoaXMucGFyYW1zLCBkID0gW107XG4gICAgaWYgKGQucHVzaChuZXcgcyh7IGludDogMCB9KSksIGQucHVzaChuZXcgeShmLnN1YmplY3QpKSwgZC5wdXNoKG5ldyBvKGsuZ2V0S2V5KGYuc2JqcHVia2V5KSkpLCBmLmF0dHJzICE9IG51bGwpIHtcbiAgICAgIHZhciBnID0gbChmLmF0dHJzKSwgUyA9IHUoeyB0YWc6IHsgdGFnZTogXCJhMFwiLCBvYmo6IGcgfSB9KTtcbiAgICAgIGQucHVzaChTKTtcbiAgICB9IGVsc2UgaWYgKGYuZXh0cmVxICE9IG51bGwpIHtcbiAgICAgIHZhciBiID0gbmV3IHYoZi5leHRyZXEpLCBTID0gdSh7IHRhZzogeyB0YWdlOiBcImEwXCIsIG9iajogeyBzZXE6IFt7IG9pZDogXCIxLjIuODQwLjExMzU0OS4xLjkuMTRcIiB9LCB7IHNldDogW2JdIH1dIH0gfSB9KTtcbiAgICAgIGQucHVzaChTKTtcbiAgICB9IGVsc2VcbiAgICAgIGQucHVzaChuZXcgaCh7IHRhZzogXCJhMFwiLCBleHBsaWNpdDogITEsIG9iajogbmV3IG4oeyBzdHI6IFwiXCIgfSkgfSkpO1xuICAgIHZhciBEID0gbmV3IGkoeyBhcnJheTogZCB9KTtcbiAgICByZXR1cm4gRC50b2hleCgpO1xuICB9LCB0aGlzLmdldEVuY29kZWRIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b2hleCgpO1xuICB9O1xuICBmdW5jdGlvbiBsKGYpIHtcbiAgICBmb3IgKHZhciBkID0gRXJyb3IsIGcgPSBhLmFzbjEueDUwOS5FeHRlbnNpb25zLCBTID0gW10sIGIgPSAwOyBiIDwgZi5sZW5ndGg7IGIrKykge1xuICAgICAgdmFyIEQgPSBmW2JdLCBBID0gRC5hdHRyO1xuICAgICAgaWYgKEEgPT0gXCJleHRlbnNpb25SZXF1ZXN0XCIpIHtcbiAgICAgICAgdmFyIEkgPSBuZXcgZyhELmV4dCksIG0gPSB7IHNlcTogW3sgb2lkOiBcIjEuMi44NDAuMTEzNTQ5LjEuOS4xNFwiIH0sIHsgc2V0OiBbSV0gfV0gfTtcbiAgICAgICAgUy5wdXNoKG0pO1xuICAgICAgfSBlbHNlIGlmIChBID09IFwidW5zdHJ1Y3R1cmVkTmFtZVwiKSB7XG4gICAgICAgIHZhciBtID0geyBzZXE6IFt7IG9pZDogXCIxLjIuODQwLjExMzU0OS4xLjkuMlwiIH0sIHsgc2V0OiBELm5hbWVzIH1dIH07XG4gICAgICAgIFMucHVzaChtKTtcbiAgICAgIH0gZWxzZSBpZiAoQSA9PSBcImNoYWxsZW5nZVBhc3N3b3JkXCIpIHtcbiAgICAgICAgdmFyIG0gPSB7IHNlcTogW3sgb2lkOiBcIjEuMi44NDAuMTEzNTQ5LjEuOS43XCIgfSwgeyBzZXQ6IFt7IHV0ZjhzdHI6IEQucGFzc3dvcmQgfV0gfV0gfTtcbiAgICAgICAgUy5wdXNoKG0pO1xuICAgICAgfSBlbHNlXG4gICAgICAgIHRocm93IG5ldyBkKFwidW5rbm93biBDU1IgYXR0cmlidXRlXCIpO1xuICAgIH1cbiAgICByZXR1cm4geyBzZXQ6IFMgfTtcbiAgfVxuICBlICE9IG51bGwgJiYgdGhpcy5zZXRCeVBhcmFtKGUpO1xufTtcbk4oYS5hc24xLmNzci5DZXJ0aWZpY2F0aW9uUmVxdWVzdEluZm8sIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS5jc3IuQXR0cmlidXRlTGlzdCA9IGZ1bmN0aW9uKGUpIHtcbn07XG5OKGEuYXNuMS5jc3IuQXR0cmlidXRlTGlzdCwgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLmNzci5DU1JVdGlsID0gbmV3IGZ1bmN0aW9uKCkge1xufSgpO1xuYS5hc24xLmNzci5DU1JVdGlsLm5ld0NTUlBFTSA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBhLmFzbjEuY3NyLCByID0gbmV3IHQuQ2VydGlmaWNhdGlvblJlcXVlc3QoZSksIGkgPSByLmdldFBFTSgpO1xuICByZXR1cm4gaTtcbn07XG5hLmFzbjEuY3NyLkNTUlV0aWwuZ2V0UGFyYW0gPSBmdW5jdGlvbihlLCB0KSB7XG4gIHZhciByID0gViwgaSA9IHIuZ2V0ViwgcyA9IHIuZ2V0SWR4YnlMaXN0LCBuID0gci5nZXRUTFZieUxpc3QsIGggPSByLmdldFRMVmJ5TGlzdEV4LCB1ID0gci5nZXRWYnlMaXN0RXgsIHAgPSBmdW5jdGlvbihiKSB7XG4gICAgdmFyIEQgPSBzKGIsIDAsIFswLCAzLCAwLCAwXSwgXCIwNlwiKTtcbiAgICByZXR1cm4gaShiLCBEKSAhPSBcIjJhODY0ODg2ZjcwZDAxMDkwZVwiID8gbnVsbCA6IG4oYiwgMCwgWzAsIDMsIDAsIDEsIDBdLCBcIjMwXCIpO1xuICB9LCBjID0ge307XG4gIGlmIChlLmluZGV4T2YoXCItLS0tLUJFR0lOIENFUlRJRklDQVRFIFJFUVVFU1RcIikgPT0gLTEpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiYXJndW1lbnQgaXMgbm90IFBFTSBmaWxlXCIpO1xuICB2YXIgeSA9IGllKGUsIFwiQ0VSVElGSUNBVEUgUkVRVUVTVFwiKTtcbiAgdCAmJiAoYy50YnMgPSBuKHksIDAsIFswXSkpO1xuICB0cnkge1xuICAgIHZhciB2ID0gaCh5LCAwLCBbMCwgMV0pO1xuICAgIGlmICh2ID09IFwiMzAwMFwiKVxuICAgICAgYy5zdWJqZWN0ID0ge307XG4gICAgZWxzZSB7XG4gICAgICB2YXIgZCA9IG5ldyBMKCk7XG4gICAgICBjLnN1YmplY3QgPSBkLmdldFg1MDBOYW1lKHYpO1xuICAgIH1cbiAgfSBjYXRjaCB7XG4gIH1cbiAgdmFyIG8gPSBoKHksIDAsIFswLCAyXSksIGwgPSBrLmdldEtleShvLCBudWxsLCBcInBrY3M4cHViXCIpO1xuICBjLnNianB1YmtleSA9IGsuZ2V0UEVNKGwsIFwiUEtDUzhQVUJcIik7XG4gIHZhciBmID0gcCh5KSwgZCA9IG5ldyBMKCk7XG4gIGYgIT0gbnVsbCAmJiAoYy5leHRyZXEgPSBkLmdldEV4dFBhcmFtQXJyYXkoZikpO1xuICB0cnkge1xuICAgIHZhciBnID0gaCh5LCAwLCBbMV0sIFwiMzBcIiksIGQgPSBuZXcgTCgpO1xuICAgIGMuc2lnYWxnID0gZC5nZXRBbGdvcml0aG1JZGVudGlmaWVyTmFtZShnKTtcbiAgfSBjYXRjaCB7XG4gIH1cbiAgdHJ5IHtcbiAgICB2YXIgUyA9IHUoeSwgMCwgWzJdKTtcbiAgICBjLnNpZ2hleCA9IFM7XG4gIH0gY2F0Y2gge1xuICB9XG4gIHJldHVybiBjO1xufTtcbmEuYXNuMS5jc3IuQ1NSVXRpbC52ZXJpZnlTaWduYXR1cmUgPSBmdW5jdGlvbihlKSB7XG4gIHRyeSB7XG4gICAgdmFyIHQgPSBudWxsO1xuICAgIGlmICh0eXBlb2YgZSA9PSBcInN0cmluZ1wiICYmIGUuaW5kZXhPZihcIi0tLS0tQkVHSU4gQ0VSVElGSUNBVEUgUkVRVUVTVFwiKSAhPSAtMSA/IHQgPSBhLmFzbjEuY3NyLkNTUlV0aWwuZ2V0UGFyYW0oZSwgITApIDogdHlwZW9mIGUgPT0gXCJvYmplY3RcIiAmJiBlLnNianB1YmtleSAhPSBudWxsICYmIGUuc2lnYWxnICE9IG51bGwgJiYgZS5zaWdoZXggIT0gbnVsbCAmJiBlLnRicyAhPSBudWxsICYmICh0ID0gZSksIHQgPT0gbnVsbClcbiAgICAgIHJldHVybiAhMTtcbiAgICB2YXIgciA9IG5ldyBhLmNyeXB0by5TaWduYXR1cmUoeyBhbGc6IHQuc2lnYWxnIH0pO1xuICAgIHJldHVybiByLmluaXQodC5zYmpwdWJrZXkpLCByLnVwZGF0ZUhleCh0LnRicyksIHIudmVyaWZ5KHQuc2lnaGV4KTtcbiAgfSBjYXRjaCAoaSkge1xuICAgIHJldHVybiBhbGVydChpKSwgITE7XG4gIH1cbn07XG4odHlwZW9mIGEgPiBcInVcIiB8fCAhYSkgJiYgKGEgPSB7fSk7XG4odHlwZW9mIGEuYXNuMSA+IFwidVwiIHx8ICFhLmFzbjEpICYmIChhLmFzbjEgPSB7fSk7XG4odHlwZW9mIGEuYXNuMS5vY3NwID4gXCJ1XCIgfHwgIWEuYXNuMS5vY3NwKSAmJiAoYS5hc24xLm9jc3AgPSB7fSk7XG5hLmFzbjEub2NzcC5ERUZBVUxUX0hBU0ggPSBcInNoYTFcIjtcbmEuYXNuMS5vY3NwLk9DU1BSZXNwb25zZSA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLm9jc3AuT0NTUFJlc3BvbnNlLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSwgYS5hc24xLkRFUkVudW1lcmF0ZWQ7XG4gIHZhciB0ID0gYS5hc24xLkFTTjFVdGlsLm5ld09iamVjdCwgciA9IGEuYXNuMS5vY3NwLlJlc3BvbnNlQnl0ZXMsIGkgPSBbXCJzdWNjZXNzZnVsXCIsIFwibWFsZm9ybWVkUmVxdWVzdFwiLCBcImludGVybmFsRXJyb3JcIiwgXCJ0cnlMYXRlclwiLCBcIl9ub3RfdXNlZF9cIiwgXCJzaWdSZXF1aXJlZFwiLCBcInVuYXV0aG9yaXplZFwiXTtcbiAgdGhpcy5wYXJhbXMgPSBudWxsLCB0aGlzLl9nZXRTdGF0dXNDb2RlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHMgPSB0aGlzLnBhcmFtcy5yZXNzdGF0dXM7XG4gICAgcmV0dXJuIHR5cGVvZiBzID09IFwibnVtYmVyXCIgPyBzIDogdHlwZW9mIHMgIT0gXCJzdHJpbmdcIiA/IC0xIDogaS5pbmRleE9mKHMpO1xuICB9LCB0aGlzLnNldEJ5UGFyYW0gPSBmdW5jdGlvbihzKSB7XG4gICAgdGhpcy5wYXJhbXMgPSBzO1xuICB9LCB0aGlzLnRvaGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHMgPSB0aGlzLnBhcmFtcywgbiA9IHRoaXMuX2dldFN0YXR1c0NvZGUoKTtcbiAgICBpZiAobiA9PSAtMSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInJlc3BvbnNlU3RhdHVzIG5vdCBzdXBwb3J0ZWQ6IFwiICsgcy5yZXNzdGF0dXMpO1xuICAgIGlmIChuICE9IDApXG4gICAgICByZXR1cm4gdCh7IHNlcTogW3sgZW51bTogeyBpbnQ6IG4gfSB9XSB9KS50b2hleCgpO1xuICAgIHZhciBoID0gbmV3IHIocyk7XG4gICAgcmV0dXJuIHQoeyBzZXE6IFt7IGVudW06IHsgaW50OiAwIH0gfSwgeyB0YWc6IHsgdGFnOiBcImEwXCIsIGV4cGxpY2l0OiAhMCwgb2JqOiBoIH0gfV0gfSkudG9oZXgoKTtcbiAgfSwgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9oZXgoKTtcbiAgfSwgZSAhPT0gdm9pZCAwICYmIHRoaXMuc2V0QnlQYXJhbShlKTtcbn07XG5OKGEuYXNuMS5vY3NwLk9DU1BSZXNwb25zZSwgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLm9jc3AuUmVzcG9uc2VCeXRlcyA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLm9jc3AuUmVzcG9uc2VCeXRlcy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7XG4gIHZhciB0ID0gYS5hc24xLCByID0gdC5ERVJTZXF1ZW5jZSwgaSA9IHQuREVST2JqZWN0SWRlbnRpZmllciwgcyA9IHQuREVST2N0ZXRTdHJpbmcsIG4gPSB0Lm9jc3AuQmFzaWNPQ1NQUmVzcG9uc2U7XG4gIHRoaXMucGFyYW1zID0gbnVsbCwgdGhpcy5zZXRCeVBhcmFtID0gZnVuY3Rpb24oaCkge1xuICAgIHRoaXMucGFyYW1zID0gaDtcbiAgfSwgdGhpcy50b2hleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBoID0gdGhpcy5wYXJhbXM7XG4gICAgaWYgKGgucmVzdHlwZSAhPSBcIm9jc3BCYXNpY1wiKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm90IHN1cHBvcnRlZCByZXNwb25zZVR5cGU6IFwiICsgaC5yZXN0eXBlKTtcbiAgICB2YXIgdSA9IG5ldyBuKGgpLCBwID0gW107XG4gICAgcC5wdXNoKG5ldyBpKHsgbmFtZTogXCJvY3NwQmFzaWNcIiB9KSksIHAucHVzaChuZXcgcyh7IGhleDogdS50b2hleCgpIH0pKTtcbiAgICB2YXIgYyA9IG5ldyByKHsgYXJyYXk6IHAgfSk7XG4gICAgcmV0dXJuIGMudG9oZXgoKTtcbiAgfSwgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9oZXgoKTtcbiAgfSwgZSAhPT0gdm9pZCAwICYmIHRoaXMuc2V0QnlQYXJhbShlKTtcbn07XG5OKGEuYXNuMS5vY3NwLlJlc3BvbnNlQnl0ZXMsIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS5vY3NwLkJhc2ljT0NTUFJlc3BvbnNlID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEub2NzcC5CYXNpY09DU1BSZXNwb25zZS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7XG4gIHZhciB0ID0gRXJyb3IsIHIgPSBhLmFzbjEsIGkgPSByLkFTTjFPYmplY3QsIHMgPSByLkRFUlNlcXVlbmNlO1xuICByLkRFUkdlbmVyYWxpemVkVGltZTtcbiAgdmFyIG4gPSByLkRFUlRhZ2dlZE9iamVjdCwgaCA9IHIuREVSQml0U3RyaW5nO1xuICByLng1MDkuRXh0ZW5zaW9ucztcbiAgdmFyIHUgPSByLng1MDkuQWxnb3JpdGhtSWRlbnRpZmllciwgcCA9IHIub2NzcDtcbiAgcC5SZXNwb25kZXJJRCwgX1NpbmdsZVJlc3BvbnNlTGlzdCA9IHAuU2luZ2xlUmVzcG9uc2VMaXN0LCBfUmVzcG9uc2VEYXRhID0gcC5SZXNwb25zZURhdGEsIHRoaXMucGFyYW1zID0gbnVsbCwgdGhpcy5zZXRCeVBhcmFtID0gZnVuY3Rpb24oYykge1xuICAgIHRoaXMucGFyYW1zID0gYztcbiAgfSwgdGhpcy5zaWduID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGMgPSB0aGlzLnBhcmFtcywgeSA9IGMudGJzcmVzcC50b2hleCgpLCB2ID0gbmV3IGEuY3J5cHRvLlNpZ25hdHVyZSh7IGFsZzogYy5zaWdhbGcgfSk7XG4gICAgdi5pbml0KGMucmVza2V5KSwgdi51cGRhdGVIZXgoeSksIGMuc2lnaGV4ID0gdi5zaWduKCk7XG4gIH0sIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgYyA9IHRoaXMucGFyYW1zO1xuICAgIGMudGJzcmVzcCA9PSBudWxsICYmIChjLnRic3Jlc3AgPSBuZXcgX1Jlc3BvbnNlRGF0YShjKSksIGMuc2lnaGV4ID09IG51bGwgJiYgYy5yZXNrZXkgIT0gbnVsbCAmJiB0aGlzLnNpZ24oKTtcbiAgICB2YXIgeSA9IFtdO1xuICAgIGlmICh5LnB1c2goYy50YnNyZXNwKSwgeS5wdXNoKG5ldyB1KHsgbmFtZTogYy5zaWdhbGcgfSkpLCB5LnB1c2gobmV3IGgoeyBoZXg6IFwiMDBcIiArIGMuc2lnaGV4IH0pKSwgYy5jZXJ0cyAhPSBudWxsICYmIGMuY2VydHMubGVuZ3RoICE9IG51bGwpIHtcbiAgICAgIGZvciAodmFyIHYgPSBbXSwgbyA9IDA7IG8gPCBjLmNlcnRzLmxlbmd0aDsgbysrKSB7XG4gICAgICAgIHZhciBsID0gYy5jZXJ0c1tvXSwgZiA9IG51bGw7XG4gICAgICAgIGlmIChWLmlzQVNOMUhFWChsKSlcbiAgICAgICAgICBmID0gbDtcbiAgICAgICAgZWxzZSBpZiAobC5tYXRjaCgvLS0tLS1CRUdJTi8pKVxuICAgICAgICAgIGYgPSBpZShsKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIHRocm93IG5ldyB0KFwiY2VydHNbXCIgKyBvICsgXCJdIG5vdCBoZXggb3IgUEVNXCIpO1xuICAgICAgICB2LnB1c2gobmV3IGkoeyB0bHY6IGYgfSkpO1xuICAgICAgfVxuICAgICAgdmFyIGQgPSBuZXcgcyh7IGFycmF5OiB2IH0pO1xuICAgICAgeS5wdXNoKG5ldyBuKHsgdGFnOiBcImEwXCIsIGV4cGxpY2l0OiAhMCwgb2JqOiBkIH0pKTtcbiAgICB9XG4gICAgdmFyIGcgPSBuZXcgcyh7IGFycmF5OiB5IH0pO1xuICAgIHJldHVybiBnLnRvaGV4KCk7XG4gIH0sIHRoaXMuZ2V0RW5jb2RlZEhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvaGV4KCk7XG4gIH0sIGUgIT09IHZvaWQgMCAmJiB0aGlzLnNldEJ5UGFyYW0oZSk7XG59O1xuTihhLmFzbjEub2NzcC5CYXNpY09DU1BSZXNwb25zZSwgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLm9jc3AuUmVzcG9uc2VEYXRhID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEub2NzcC5SZXNwb25zZURhdGEuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO1xuICB2YXIgdCA9IGEuYXNuMSwgciA9IHQuREVSU2VxdWVuY2UsIGkgPSB0LkRFUkdlbmVyYWxpemVkVGltZSwgcyA9IHQuREVSVGFnZ2VkT2JqZWN0LCBuID0gdC54NTA5LkV4dGVuc2lvbnMsIGggPSB0Lm9jc3AsIHUgPSBoLlJlc3BvbmRlcklEO1xuICBfU2luZ2xlUmVzcG9uc2VMaXN0ID0gaC5TaW5nbGVSZXNwb25zZUxpc3QsIHRoaXMucGFyYW1zID0gbnVsbCwgdGhpcy50b2hleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBwID0gdGhpcy5wYXJhbXM7XG4gICAgcC5yZXNwaWQgIT0gbnVsbCwgcC5wcm9kYXQgIT0gbnVsbCwgcC5hcnJheSAhPSBudWxsO1xuICAgIHZhciBjID0gW107XG4gICAgaWYgKGMucHVzaChuZXcgdShwLnJlc3BpZCkpLCBjLnB1c2gobmV3IGkocC5wcm9kYXQpKSwgYy5wdXNoKG5ldyBfU2luZ2xlUmVzcG9uc2VMaXN0KHAuYXJyYXkpKSwgcC5leHQgIT0gbnVsbCkge1xuICAgICAgdmFyIHkgPSBuZXcgbihwLmV4dCk7XG4gICAgICBjLnB1c2gobmV3IHMoeyB0YWc6IFwiYTFcIiwgZXhwbGljaXQ6ICEwLCBvYmo6IHkgfSkpO1xuICAgIH1cbiAgICB2YXIgdiA9IG5ldyByKHsgYXJyYXk6IGMgfSk7XG4gICAgcmV0dXJuIHYudG9oZXgoKTtcbiAgfSwgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9oZXgoKTtcbiAgfSwgdGhpcy5zZXRCeVBhcmFtID0gZnVuY3Rpb24ocCkge1xuICAgIHRoaXMucGFyYW1zID0gcDtcbiAgfSwgZSAhPT0gdm9pZCAwICYmIHRoaXMuc2V0QnlQYXJhbShlKTtcbn07XG5OKGEuYXNuMS5vY3NwLlJlc3BvbnNlRGF0YSwgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLm9jc3AuUmVzcG9uZGVySUQgPSBmdW5jdGlvbihlKSB7XG4gIGEuYXNuMS5vY3NwLlJlc3BvbmRlcklELnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTtcbiAgdmFyIHQgPSBhLCByID0gdC5hc24xLCBpID0gci5BU04xVXRpbC5uZXdPYmplY3QsIHMgPSByLng1MDkuWDUwME5hbWUsIG4gPSB0LmxhbmcuU3RyaW5nLmlzSGV4LCBoID0gRXJyb3I7XG4gIHRoaXMucGFyYW1zID0gbnVsbCwgdGhpcy50b2hleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB1ID0gdGhpcy5wYXJhbXM7XG4gICAgaWYgKHUua2V5ICE9IG51bGwpIHtcbiAgICAgIHZhciBwID0gbnVsbDtcbiAgICAgIGlmICh0eXBlb2YgdS5rZXkgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICBpZiAobih1LmtleSkgJiYgKHAgPSB1LmtleSksIHUua2V5Lm1hdGNoKC8tLS0tLUJFR0lOIENFUlRJRklDQVRFLykpIHtcbiAgICAgICAgICB2YXIgYyA9IG5ldyBMKHUua2V5KSwgeSA9IGMuZ2V0RXh0U3ViamVjdEtleUlkZW50aWZpZXIoKTtcbiAgICAgICAgICB5ICE9IG51bGwgJiYgKHAgPSB5LmtpZC5oZXgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHUua2V5IGluc3RhbmNlb2YgTCkge1xuICAgICAgICB2YXIgeSA9IHUua2V5LmdldEV4dFN1YmplY3RLZXlJZGVudGlmaWVyKCk7XG4gICAgICAgIHkgIT0gbnVsbCAmJiAocCA9IHkua2lkLmhleCk7XG4gICAgICB9XG4gICAgICBpZiAocCA9PSBudWxsKVxuICAgICAgICB0aHJvdyBuZXcgaChcIndyb25nIGtleSBtZW1iZXIgdmFsdWVcIik7XG4gICAgICB2YXIgdiA9IGkoeyB0YWc6IHsgdGFnOiBcImEyXCIsIGV4cGxpY2l0OiAhMCwgb2JqOiB7IG9jdHN0cjogeyBoZXg6IHAgfSB9IH0gfSk7XG4gICAgICByZXR1cm4gdi50b2hleCgpO1xuICAgIH0gZWxzZSBpZiAodS5uYW1lICE9IG51bGwpIHtcbiAgICAgIHZhciBvID0gbnVsbDtcbiAgICAgIGlmICh0eXBlb2YgdS5uYW1lID09IFwic3RyaW5nXCIgJiYgdS5uYW1lLm1hdGNoKC8tLS0tLUJFR0lOIENFUlRJRklDQVRFLykpIHtcbiAgICAgICAgdmFyIGMgPSBuZXcgTCh1Lm5hbWUpO1xuICAgICAgICBvID0gYy5nZXRTdWJqZWN0KCk7XG4gICAgICB9IGVsc2VcbiAgICAgICAgdS5uYW1lIGluc3RhbmNlb2YgTCA/IG8gPSB1Lm5hbWUuZ2V0U3ViamVjdCgpIDogdHlwZW9mIHUubmFtZSA9PSBcIm9iamVjdFwiICYmICh1Lm5hbWUuYXJyYXkgIT0gbnVsbCB8fCB1Lm5hbWUuc3RyICE9IG51bGwpICYmIChvID0gdS5uYW1lKTtcbiAgICAgIGlmIChvID09IG51bGwpXG4gICAgICAgIHRocm93IG5ldyBoKFwid3JvbmcgbmFtZSBtZW1iZXIgdmFsdWVcIik7XG4gICAgICB2YXIgdiA9IGkoeyB0YWc6IHsgdGFnOiBcImExXCIsIGV4cGxpY2l0OiAhMCwgb2JqOiBuZXcgcyhvKSB9IH0pO1xuICAgICAgcmV0dXJuIHYudG9oZXgoKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IGgoXCJrZXkgb3IgbmFtZSBub3Qgc3BlY2lmaWVkXCIpO1xuICB9LCB0aGlzLmdldEVuY29kZWRIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b2hleCgpO1xuICB9LCB0aGlzLnNldEJ5UGFyYW0gPSBmdW5jdGlvbih1KSB7XG4gICAgdGhpcy5wYXJhbXMgPSB1O1xuICB9LCBlICE9PSB2b2lkIDAgJiYgdGhpcy5zZXRCeVBhcmFtKGUpO1xufTtcbk4oYS5hc24xLm9jc3AuUmVzcG9uZGVySUQsIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS5vY3NwLlNpbmdsZVJlc3BvbnNlTGlzdCA9IGZ1bmN0aW9uKGUpIHtcbiAgYS5hc24xLm9jc3AuU2luZ2xlUmVzcG9uc2VMaXN0LnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTtcbiAgdmFyIHQgPSBhLmFzbjEsIHIgPSB0LkRFUlNlcXVlbmNlLCBpID0gdC5vY3NwLlNpbmdsZVJlc3BvbnNlO1xuICB0aGlzLnBhcmFtcyA9IG51bGwsIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcyA9IHRoaXMucGFyYW1zO1xuICAgIGlmICh0eXBlb2YgcyAhPSBcIm9iamVjdFwiIHx8IHMubGVuZ3RoID09IG51bGwpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJwYXJhbXMgbm90IHNwZWNpZmllZCBwcm9wZXJseVwiKTtcbiAgICBmb3IgKHZhciBuID0gW10sIGggPSAwOyBoIDwgcy5sZW5ndGg7IGgrKylcbiAgICAgIG4ucHVzaChuZXcgaShzW2hdKSk7XG4gICAgdmFyIHUgPSBuZXcgcih7IGFycmF5OiBuIH0pO1xuICAgIHJldHVybiB1LnRvaGV4KCk7XG4gIH0sIHRoaXMuZ2V0RW5jb2RlZEhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvaGV4KCk7XG4gIH0sIHRoaXMuc2V0QnlQYXJhbSA9IGZ1bmN0aW9uKHMpIHtcbiAgICB0aGlzLnBhcmFtcyA9IHM7XG4gIH0sIGUgIT09IHZvaWQgMCAmJiB0aGlzLnNldEJ5UGFyYW0oZSk7XG59O1xuTihhLmFzbjEub2NzcC5TaW5nbGVSZXNwb25zZUxpc3QsIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS5vY3NwLlNpbmdsZVJlc3BvbnNlID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IEVycm9yLCByID0gYSwgaSA9IHIuYXNuMSwgcyA9IGkuREVSU2VxdWVuY2UsIG4gPSBpLkRFUkdlbmVyYWxpemVkVGltZSwgaCA9IGkuREVSVGFnZ2VkT2JqZWN0LCB1ID0gaS5vY3NwLCBwID0gdS5DZXJ0SUQsIGMgPSB1LkNlcnRTdGF0dXMsIHkgPSBpLng1MDksIHYgPSB5LkV4dGVuc2lvbnM7XG4gIHUuU2luZ2xlUmVzcG9uc2Uuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLCB0aGlzLnBhcmFtcyA9IG51bGwsIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbyA9IHRoaXMucGFyYW1zLCBsID0gW107XG4gICAgaWYgKG8uY2VydGlkID09IG51bGwpXG4gICAgICB0aHJvdyBuZXcgdChcImNlcnRpZCB1bnNwZWNpZmllZFwiKTtcbiAgICBpZiAoby5zdGF0dXMgPT0gbnVsbClcbiAgICAgIHRocm93IG5ldyB0KFwic3RhdHVzIHVuc3BlY2lmaWVkXCIpO1xuICAgIGlmIChvLnRoaXN1cGRhdGUgPT0gbnVsbClcbiAgICAgIHRocm93IG5ldyB0KFwidGhpc3VwZGF0ZSB1bnNwZWNpZmllZFwiKTtcbiAgICBpZiAobC5wdXNoKG5ldyBwKG8uY2VydGlkKSksIGwucHVzaChuZXcgYyhvLnN0YXR1cykpLCBsLnB1c2gobmV3IG4oby50aGlzdXBkYXRlKSksIG8ubmV4dHVwZGF0ZSAhPSBudWxsKSB7XG4gICAgICB2YXIgZiA9IG5ldyBuKG8ubmV4dHVwZGF0ZSk7XG4gICAgICBsLnB1c2gobmV3IGgoeyB0YWc6IFwiYTBcIiwgZXhwbGljaXQ6ICEwLCBvYmo6IGYgfSkpO1xuICAgIH1cbiAgICBpZiAoby5leHQgIT0gbnVsbCkge1xuICAgICAgdmFyIGQgPSBuZXcgdihvLmV4dCk7XG4gICAgICBsLnB1c2gobmV3IGgoeyB0YWc6IFwiYTFcIiwgZXhwbGljaXQ6ICEwLCBvYmo6IGQgfSkpO1xuICAgIH1cbiAgICB2YXIgZyA9IG5ldyBzKHsgYXJyYXk6IGwgfSk7XG4gICAgcmV0dXJuIGcudG9oZXgoKTtcbiAgfSwgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9oZXgoKTtcbiAgfSwgdGhpcy5zZXRCeVBhcmFtID0gZnVuY3Rpb24obykge1xuICAgIHRoaXMucGFyYW1zID0gbztcbiAgfSwgZSAhPT0gdm9pZCAwICYmIHRoaXMuc2V0QnlQYXJhbShlKTtcbn07XG5OKGEuYXNuMS5vY3NwLlNpbmdsZVJlc3BvbnNlLCBhLmFzbjEuQVNOMU9iamVjdCk7XG5hLmFzbjEub2NzcC5DZXJ0SUQgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gYSwgciA9IHQuYXNuMSwgaSA9IHIuREVST2N0ZXRTdHJpbmcsIHMgPSByLkRFUkludGVnZXIsIG4gPSByLkRFUlNlcXVlbmNlLCBoID0gci54NTA5LCB1ID0gaC5BbGdvcml0aG1JZGVudGlmaWVyLCBwID0gci5vY3NwO1xuICBwLkRFRkFVTFRfSEFTSDtcbiAgdmFyIGMgPSB0LmNyeXB0bywgeSA9IGMuVXRpbC5oYXNoSGV4LCB2ID0gTCwgbyA9IFYsIGwgPSBvLmdldFZieUxpc3Q7XG4gIHAuQ2VydElELnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSwgdGhpcy5ERUZBVUxUX0hBU0ggPSBcInNoYTFcIiwgdGhpcy5wYXJhbXMgPSBudWxsLCB0aGlzLnNldEJ5VmFsdWUgPSBmdW5jdGlvbihmLCBkLCBnLCBTKSB7XG4gICAgUyA9PSBudWxsICYmIChTID0gdGhpcy5ERUZBVUxUX0hBU0gpLCB0aGlzLnBhcmFtcyA9IHsgYWxnOiBTLCBpc3NuYW1lOiBmLCBpc3NrZXk6IGQsIHNianNuOiBnIH07XG4gIH0sIHRoaXMuc2V0QnlDZXJ0ID0gZnVuY3Rpb24oZiwgZCwgZykge1xuICAgIGcgPT0gbnVsbCAmJiAoZyA9IHRoaXMuREVGQVVMVF9IQVNIKSwgdGhpcy5wYXJhbXMgPSB7IGFsZzogZywgaXNzdWVyQ2VydDogZiwgc3ViamVjdENlcnQ6IGQgfTtcbiAgfSwgdGhpcy5nZXRQYXJhbUJ5Q2VydHMgPSBmdW5jdGlvbihmLCBkLCBnKSB7XG4gICAgZyA9PSBudWxsICYmIChnID0gdGhpcy5ERUZBVUxUX0hBU0gpO1xuICAgIHZhciBTID0gbmV3IHYoZiksIGIgPSBuZXcgdihkKSwgRCA9IHkoUy5nZXRTdWJqZWN0SGV4KCksIGcpLCBBID0gUy5nZXRQdWJsaWNLZXlIZXgoKSwgSSA9IHkobChBLCAwLCBbMV0sIFwiMDNcIiwgITApLCBnKSwgbSA9IGIuZ2V0U2VyaWFsTnVtYmVySGV4KCksIEUgPSB7IGFsZzogZywgaXNzbmFtZTogRCwgaXNza2V5OiBJLCBzYmpzbjogbSB9O1xuICAgIHJldHVybiBFO1xuICB9LCB0aGlzLnRvaGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHR5cGVvZiB0aGlzLnBhcmFtcyAhPSBcIm9iamVjdFwiKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwicGFyYW1zIG5vdCBzZXRcIik7XG4gICAgdmFyIGYgPSB0aGlzLnBhcmFtcywgZCwgZywgUywgYjtcbiAgICBpZiAoZi5hbGcgPT0gbnVsbCA/IGIgPSB0aGlzLkRFRkFVTFRfSEFTSCA6IGIgPSBmLmFsZywgZi5pc3N1ZXJDZXJ0ICE9IG51bGwgJiYgZi5zdWJqZWN0Q2VydCAhPSBudWxsKSB7XG4gICAgICB2YXIgRCA9IHRoaXMuZ2V0UGFyYW1CeUNlcnRzKGYuaXNzdWVyQ2VydCwgZi5zdWJqZWN0Q2VydCwgYik7XG4gICAgICBkID0gRC5pc3NuYW1lLCBnID0gRC5pc3NrZXksIFMgPSBELnNianNuO1xuICAgIH0gZWxzZSBpZiAoZi5pc3NuYW1lICE9IG51bGwgJiYgZi5pc3NrZXkgIT0gbnVsbCAmJiBmLnNianNuICE9IG51bGwpXG4gICAgICBkID0gZi5pc3NuYW1lLCBnID0gZi5pc3NrZXksIFMgPSBmLnNianNuO1xuICAgIGVsc2VcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInJlcXVpcmVkIHBhcmFtIG1lbWJlcnMgbm90IGRlZmluZWRcIik7XG4gICAgdmFyIEEgPSBuZXcgdSh7IG5hbWU6IGIgfSksIEkgPSBuZXcgaSh7IGhleDogZCB9KSwgbSA9IG5ldyBpKHsgaGV4OiBnIH0pLCBFID0gbmV3IHMoeyBoZXg6IFMgfSksIHcgPSBuZXcgbih7IGFycmF5OiBbQSwgSSwgbSwgRV0gfSk7XG4gICAgcmV0dXJuIHRoaXMuaFRMViA9IHcudG9oZXgoKSwgdGhpcy5oVExWO1xuICB9LCB0aGlzLmdldEVuY29kZWRIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b2hleCgpO1xuICB9LCBlICE9PSB2b2lkIDAgJiYgdGhpcy5zZXRCeVBhcmFtKGUpO1xufTtcbk4oYS5hc24xLm9jc3AuQ2VydElELCBhLmFzbjEuQVNOMU9iamVjdCk7XG5hLmFzbjEub2NzcC5DZXJ0U3RhdHVzID0gZnVuY3Rpb24oZSkge1xuICBhLmFzbjEub2NzcC5DZXJ0U3RhdHVzLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSwgdGhpcy5wYXJhbXMgPSBudWxsLCB0aGlzLnRvaGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHQgPSB0aGlzLnBhcmFtcztcbiAgICBpZiAodC5zdGF0dXMgPT0gXCJnb29kXCIpXG4gICAgICByZXR1cm4gXCI4MDAwXCI7XG4gICAgaWYgKHQuc3RhdHVzID09IFwidW5rbm93blwiKVxuICAgICAgcmV0dXJuIFwiODIwMFwiO1xuICAgIGlmICh0LnN0YXR1cyA9PSBcInJldm9rZWRcIikge1xuICAgICAgdmFyIHIgPSBbeyBnZW50aW1lOiB7IHN0cjogdC50aW1lIH0gfV07XG4gICAgICB0LnJlYXNvbiAhPSBudWxsICYmIHIucHVzaCh7IHRhZzogeyB0YWc6IFwiYTBcIiwgZXhwbGljaXQ6ICEwLCBvYmo6IHsgZW51bTogeyBpbnQ6IHQucmVhc29uIH0gfSB9IH0pO1xuICAgICAgdmFyIGkgPSB7IHRhZzogXCJhMVwiLCBleHBsaWNpdDogITEsIG9iajogeyBzZXE6IHIgfSB9O1xuICAgICAgcmV0dXJuIGEuYXNuMS5BU04xVXRpbC5uZXdPYmplY3QoeyB0YWc6IGkgfSkudG9oZXgoKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiYmFkIHN0YXR1c1wiKTtcbiAgfSwgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9oZXgoKTtcbiAgfSwgdGhpcy5zZXRCeVBhcmFtID0gZnVuY3Rpb24odCkge1xuICAgIHRoaXMucGFyYW1zID0gdDtcbiAgfSwgZSAhPT0gdm9pZCAwICYmIHRoaXMuc2V0QnlQYXJhbShlKTtcbn07XG5OKGEuYXNuMS5vY3NwLkNlcnRTdGF0dXMsIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS5vY3NwLlJlcXVlc3QgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gYSwgciA9IHQuYXNuMSwgaSA9IHIuREVSU2VxdWVuY2UsIHMgPSByLm9jc3A7XG4gIGlmIChzLlJlcXVlc3Quc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLCB0aGlzLmRSZXFDZXJ0ID0gbnVsbCwgdGhpcy5kRXh0ID0gbnVsbCwgdGhpcy50b2hleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBoID0gW107XG4gICAgaWYgKHRoaXMuZFJlcUNlcnQgPT09IG51bGwpXG4gICAgICB0aHJvdyBcInJlcUNlcnQgbm90IHNldFwiO1xuICAgIGgucHVzaCh0aGlzLmRSZXFDZXJ0KTtcbiAgICB2YXIgdSA9IG5ldyBpKHsgYXJyYXk6IGggfSk7XG4gICAgcmV0dXJuIHRoaXMuaFRMViA9IHUudG9oZXgoKSwgdGhpcy5oVExWO1xuICB9LCB0aGlzLmdldEVuY29kZWRIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b2hleCgpO1xuICB9LCB0eXBlb2YgZSA8IFwidVwiKSB7XG4gICAgdmFyIG4gPSBuZXcgcy5DZXJ0SUQoZSk7XG4gICAgdGhpcy5kUmVxQ2VydCA9IG47XG4gIH1cbn07XG5OKGEuYXNuMS5vY3NwLlJlcXVlc3QsIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS5vY3NwLlRCU1JlcXVlc3QgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gYSwgciA9IHQuYXNuMSwgaSA9IHIuREVSU2VxdWVuY2UsIHMgPSByLm9jc3A7XG4gIHMuVEJTUmVxdWVzdC5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksIHRoaXMudmVyc2lvbiA9IDAsIHRoaXMuZFJlcXVlc3Rvck5hbWUgPSBudWxsLCB0aGlzLmRSZXF1ZXN0TGlzdCA9IFtdLCB0aGlzLmRSZXF1ZXN0RXh0ID0gbnVsbCwgdGhpcy5zZXRSZXF1ZXN0TGlzdEJ5UGFyYW0gPSBmdW5jdGlvbihuKSB7XG4gICAgZm9yICh2YXIgaCA9IFtdLCB1ID0gMDsgdSA8IG4ubGVuZ3RoOyB1KyspIHtcbiAgICAgIHZhciBwID0gbmV3IHMuUmVxdWVzdChuWzBdKTtcbiAgICAgIGgucHVzaChwKTtcbiAgICB9XG4gICAgdGhpcy5kUmVxdWVzdExpc3QgPSBoO1xuICB9LCB0aGlzLnRvaGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG4gPSBbXTtcbiAgICBpZiAodGhpcy52ZXJzaW9uICE9PSAwKVxuICAgICAgdGhyb3cgXCJub3Qgc3VwcG9ydGVkIHZlcnNpb246IFwiICsgdGhpcy52ZXJzaW9uO1xuICAgIGlmICh0aGlzLmRSZXF1ZXN0b3JOYW1lICE9PSBudWxsKVxuICAgICAgdGhyb3cgXCJyZXF1ZXN0b3JOYW1lIG5vdCBzdXBwb3J0ZWRcIjtcbiAgICB2YXIgaCA9IG5ldyBpKHsgYXJyYXk6IHRoaXMuZFJlcXVlc3RMaXN0IH0pO1xuICAgIGlmIChuLnB1c2goaCksIHRoaXMuZFJlcXVlc3RFeHQgIT09IG51bGwpXG4gICAgICB0aHJvdyBcInJlcXVlc3RFeHRlbnNpb25zIG5vdCBzdXBwb3J0ZWRcIjtcbiAgICB2YXIgdSA9IG5ldyBpKHsgYXJyYXk6IG4gfSk7XG4gICAgcmV0dXJuIHRoaXMuaFRMViA9IHUudG9oZXgoKSwgdGhpcy5oVExWO1xuICB9LCB0aGlzLmdldEVuY29kZWRIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b2hleCgpO1xuICB9LCBlICE9PSB2b2lkIDAgJiYgZS5yZXFMaXN0ICE9PSB2b2lkIDAgJiYgdGhpcy5zZXRSZXF1ZXN0TGlzdEJ5UGFyYW0oZS5yZXFMaXN0KTtcbn07XG5OKGEuYXNuMS5vY3NwLlRCU1JlcXVlc3QsIGEuYXNuMS5BU04xT2JqZWN0KTtcbmEuYXNuMS5vY3NwLk9DU1BSZXF1ZXN0ID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IGEsIHIgPSB0LmFzbjEsIGkgPSByLkRFUlNlcXVlbmNlLCBzID0gci5vY3NwO1xuICBpZiAocy5PQ1NQUmVxdWVzdC5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksIHRoaXMuZFRic1JlcXVlc3QgPSBudWxsLCB0aGlzLmRPcHRpb25hbFNpZ25hdHVyZSA9IG51bGwsIHRoaXMudG9oZXggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaCA9IFtdO1xuICAgIGlmICh0aGlzLmRUYnNSZXF1ZXN0ICE9PSBudWxsKVxuICAgICAgaC5wdXNoKHRoaXMuZFRic1JlcXVlc3QpO1xuICAgIGVsc2VcbiAgICAgIHRocm93IFwidGJzUmVxdWVzdCBub3Qgc2V0XCI7XG4gICAgaWYgKHRoaXMuZE9wdGlvbmFsU2lnbmF0dXJlICE9PSBudWxsKVxuICAgICAgdGhyb3cgXCJvcHRpb25hbFNpZ25hdHVyZSBub3Qgc3VwcG9ydGVkXCI7XG4gICAgdmFyIHUgPSBuZXcgaSh7IGFycmF5OiBoIH0pO1xuICAgIHJldHVybiB0aGlzLmhUTFYgPSB1LnRvaGV4KCksIHRoaXMuaFRMVjtcbiAgfSwgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9oZXgoKTtcbiAgfSwgZSAhPT0gdm9pZCAwICYmIGUucmVxTGlzdCAhPT0gdm9pZCAwKSB7XG4gICAgdmFyIG4gPSBuZXcgcy5UQlNSZXF1ZXN0KGUpO1xuICAgIHRoaXMuZFRic1JlcXVlc3QgPSBuO1xuICB9XG59O1xuTihhLmFzbjEub2NzcC5PQ1NQUmVxdWVzdCwgYS5hc24xLkFTTjFPYmplY3QpO1xuYS5hc24xLm9jc3AuT0NTUFV0aWwgPSB7fTtcbmEuYXNuMS5vY3NwLk9DU1BVdGlsLmdldFJlcXVlc3RIZXggPSBmdW5jdGlvbihlLCB0LCByKSB7XG4gIHZhciBpID0gYSwgcyA9IGkuYXNuMSwgbiA9IHMub2NzcDtcbiAgciA9PT0gdm9pZCAwICYmIChyID0gbi5ERUZBVUxUX0hBU0gpO1xuICB2YXIgaCA9IHsgYWxnOiByLCBpc3N1ZXJDZXJ0OiBlLCBzdWJqZWN0Q2VydDogdCB9LCB1ID0gbmV3IG4uT0NTUFJlcXVlc3QoeyByZXFMaXN0OiBbaF0gfSk7XG4gIHJldHVybiB1LnRvaGV4KCk7XG59O1xuYS5hc24xLm9jc3AuT0NTUFV0aWwuZ2V0T0NTUFJlc3BvbnNlSW5mbyA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBWLCByID0gdC5nZXRWYnlMaXN0LCBpID0gdC5nZXRWYnlMaXN0RXgsIHMgPSB0LmdldElkeGJ5TGlzdDtcbiAgdC5nZXRJZHhieUxpc3RFeDtcbiAgdmFyIG4gPSB0LmdldFYsIGggPSB7fTtcbiAgdHJ5IHtcbiAgICB2YXIgdSA9IGkoZSwgMCwgWzBdLCBcIjBhXCIpO1xuICAgIGgucmVzcG9uc2VTdGF0dXMgPSBwYXJzZUludCh1LCAxNik7XG4gIH0gY2F0Y2gge1xuICB9XG4gIGlmIChoLnJlc3BvbnNlU3RhdHVzICE9PSAwKVxuICAgIHJldHVybiBoO1xuICB0cnkge1xuICAgIHZhciBwID0gcyhlLCAwLCBbMSwgMCwgMSwgMCwgMCwgMiwgMCwgMV0pO1xuICAgIGUuc3Vic3RyKHAsIDIpID09PSBcIjgwXCIgPyBoLmNlcnRTdGF0dXMgPSBcImdvb2RcIiA6IGUuc3Vic3RyKHAsIDIpID09PSBcImExXCIgPyAoaC5jZXJ0U3RhdHVzID0gXCJyZXZva2VkXCIsIGgucmV2b2NhdGlvblRpbWUgPSBXKHIoZSwgcCwgWzBdKSkpIDogZS5zdWJzdHIocCwgMikgPT09IFwiODJcIiAmJiAoaC5jZXJ0U3RhdHVzID0gXCJ1bmtub3duXCIpO1xuICB9IGNhdGNoIHtcbiAgfVxuICB0cnkge1xuICAgIHZhciBjID0gcyhlLCAwLCBbMSwgMCwgMSwgMCwgMCwgMiwgMCwgMl0pO1xuICAgIGgudGhpc1VwZGF0ZSA9IFcobihlLCBjKSk7XG4gIH0gY2F0Y2gge1xuICB9XG4gIHRyeSB7XG4gICAgdmFyIHkgPSBzKGUsIDAsIFsxLCAwLCAxLCAwLCAwLCAyLCAwLCAzXSk7XG4gICAgZS5zdWJzdHIoeSwgMikgPT09IFwiYTBcIiAmJiAoaC5uZXh0VXBkYXRlID0gVyhyKGUsIHksIFswXSkpKTtcbiAgfSBjYXRjaCB7XG4gIH1cbiAgcmV0dXJuIGg7XG59O1xuYS5hc24xLm9jc3AuT0NTUFBhcnNlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgZSA9IEVycm9yLCB0ID0gTCwgciA9IG5ldyB0KCksIGkgPSBWLCBzID0gaS5nZXRWLCBuID0gaS5nZXRUTFYsIGggPSBpLmdldElkeGJ5TGlzdCwgdSA9IGkuZ2V0VmJ5TGlzdCwgcCA9IGkuZ2V0VExWYnlMaXN0LCBjID0gaS5nZXRWYnlMaXN0RXgsIHkgPSBpLmdldFRMVmJ5TGlzdEV4LCB2ID0gaS5nZXRDaGlsZElkeDtcbiAgdGhpcy5nZXRPQ1NQUmVxdWVzdCA9IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgbCA9IHYobywgMCk7XG4gICAgaWYgKGwubGVuZ3RoICE9IDEgJiYgbC5sZW5ndGggIT0gMilcbiAgICAgIHRocm93IG5ldyBlKFwid3JvbmcgbnVtYmVyIGVsZW1lbnRzOiBcIiArIGwubGVuZ3RoKTtcbiAgICB2YXIgZiA9IHRoaXMuZ2V0VEJTUmVxdWVzdChuKG8sIGxbMF0pKTtcbiAgICByZXR1cm4gZjtcbiAgfSwgdGhpcy5nZXRUQlNSZXF1ZXN0ID0gZnVuY3Rpb24obykge1xuICAgIHZhciBsID0ge30sIGYgPSB5KG8sIDAsIFswXSwgXCIzMFwiKTtcbiAgICBsLmFycmF5ID0gdGhpcy5nZXRSZXF1ZXN0TGlzdChmKTtcbiAgICB2YXIgZCA9IHkobywgMCwgW1wiWzJdXCIsIDBdLCBcIjMwXCIpO1xuICAgIHJldHVybiBkICE9IG51bGwgJiYgKGwuZXh0ID0gci5nZXRFeHRQYXJhbUFycmF5KGQpKSwgbDtcbiAgfSwgdGhpcy5nZXRSZXF1ZXN0TGlzdCA9IGZ1bmN0aW9uKG8pIHtcbiAgICBmb3IgKHZhciBsID0gW10sIGYgPSB2KG8sIDApLCBkID0gMDsgZCA8IGYubGVuZ3RoOyBkKyspIHtcbiAgICAgIHZhciBvID0gbihvLCBmW2RdKTtcbiAgICAgIGwucHVzaCh0aGlzLmdldFJlcXVlc3QobykpO1xuICAgIH1cbiAgICByZXR1cm4gbDtcbiAgfSwgdGhpcy5nZXRSZXF1ZXN0ID0gZnVuY3Rpb24obykge1xuICAgIHZhciBsID0gdihvLCAwKTtcbiAgICBpZiAobC5sZW5ndGggIT0gMSAmJiBsLmxlbmd0aCAhPSAyKVxuICAgICAgdGhyb3cgbmV3IGUoXCJ3cm9uZyBudW1iZXIgZWxlbWVudHM6IFwiICsgbC5sZW5ndGgpO1xuICAgIHZhciBmID0gdGhpcy5nZXRDZXJ0SUQobihvLCBsWzBdKSk7XG4gICAgaWYgKGwubGVuZ3RoID09IDIpIHtcbiAgICAgIHZhciBkID0gaChvLCAwLCBbMSwgMF0pO1xuICAgICAgZi5leHQgPSByLmdldEV4dFBhcmFtQXJyYXkobihvLCBkKSk7XG4gICAgfVxuICAgIHJldHVybiBmO1xuICB9LCB0aGlzLmdldENlcnRJRCA9IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgbCA9IHYobywgMCk7XG4gICAgaWYgKGwubGVuZ3RoICE9IDQpXG4gICAgICB0aHJvdyBuZXcgZShcIndyb25nIG51bWJlciBlbGVtZW50czogXCIgKyBsLmxlbmd0aCk7XG4gICAgdmFyIGYgPSBuZXcgdCgpLCBkID0ge307XG4gICAgcmV0dXJuIGQuYWxnID0gZi5nZXRBbGdvcml0aG1JZGVudGlmaWVyTmFtZShuKG8sIGxbMF0pKSwgZC5pc3NuYW1lID0gcyhvLCBsWzFdKSwgZC5pc3NrZXkgPSBzKG8sIGxbMl0pLCBkLnNianNuID0gcyhvLCBsWzNdKSwgZDtcbiAgfSwgdGhpcy5nZXRPQ1NQUmVzcG9uc2UgPSBmdW5jdGlvbihvKSB7XG4gICAgdmFyIGwgPSB2KG8sIDApLCBmLCBkID0gcyhvLCBsWzBdKSwgZyA9IHBhcnNlSW50KGQpO1xuICAgIGlmIChsLmxlbmd0aCA9PSAxKVxuICAgICAgcmV0dXJuIHsgcmVzc3RhdHVzOiBnIH07XG4gICAgdmFyIFMgPSBwKG8sIDAsIFsxLCAwXSk7XG4gICAgcmV0dXJuIGYgPSB0aGlzLmdldFJlc3BvbnNlQnl0ZXMoUyksIGYucmVzc3RhdHVzID0gZywgZjtcbiAgfSwgdGhpcy5nZXRSZXNwb25zZUJ5dGVzID0gZnVuY3Rpb24obykge1xuICAgIHZhciBsID0gdihvLCAwKSwgZiwgZCA9IHAobywgMCwgWzEsIDBdKTtcbiAgICBmID0gdGhpcy5nZXRCYXNpY09DU1BSZXNwb25zZShkKTtcbiAgICB2YXIgZyA9IHMobywgbFswXSk7XG4gICAgcmV0dXJuIGYucmVzdHlwZSA9IGEuYXNuMS54NTA5Lk9JRC5vaWQybmFtZShmdChnKSksIGY7XG4gIH0sIHRoaXMuZ2V0QmFzaWNPQ1NQUmVzcG9uc2UgPSBmdW5jdGlvbihvKSB7XG4gICAgdmFyIGwgPSB2KG8sIDApLCBmO1xuICAgIGYgPSB0aGlzLmdldFJlc3BvbnNlRGF0YShuKG8sIGxbMF0pKTtcbiAgICB2YXIgZCA9IG5ldyBMKCk7XG4gICAgZi5hbGcgPSBkLmdldEFsZ29yaXRobUlkZW50aWZpZXJOYW1lKG4obywgbFsxXSkpO1xuICAgIHZhciBnID0gcyhvLCBsWzJdKTtcbiAgICBmLnNpZ2hleCA9IGcuc3Vic3RyKDIpO1xuICAgIHZhciBTID0gYyhvLCAwLCBbXCJbMF1cIl0pO1xuICAgIGlmIChTICE9IG51bGwpIHtcbiAgICAgIGZvciAodmFyIGIgPSB2KFMsIDApLCBEID0gW10sIEEgPSAwOyBBIDwgYi5sZW5ndGg7IEErKykge1xuICAgICAgICB2YXIgSSA9IG4oUywgYltBXSk7XG4gICAgICAgIEQucHVzaChJKTtcbiAgICAgIH1cbiAgICAgIGYuY2VydHMgPSBEO1xuICAgIH1cbiAgICByZXR1cm4gZjtcbiAgfSwgdGhpcy5nZXRSZXNwb25zZURhdGEgPSBmdW5jdGlvbihvKSB7XG4gICAgdmFyIGwgPSB2KG8sIDApLCBmID0gbC5sZW5ndGgsIGQgPSB7fSwgZyA9IDA7XG4gICAgby5zdWJzdHIobFswXSwgMikgPT0gXCJhMFwiICYmIGcrKywgZC5yZXNwaWQgPSB0aGlzLmdldFJlc3BvbmRlcklEKG4obywgbFtnKytdKSk7XG4gICAgdmFyIFMgPSBzKG8sIGxbZysrXSk7XG4gICAgaWYgKGQucHJvZGF0ID0gVyhTKSwgZC5hcnJheSA9IHRoaXMuZ2V0U2luZ2xlUmVzcG9uc2VMaXN0KG4obywgbFtnKytdKSksIG8uc3Vic3RyKGxbZiAtIDFdLCAyKSA9PSBcImExXCIpIHtcbiAgICAgIHZhciBiID0gcChvLCBsW2YgLSAxXSwgWzBdKSwgRCA9IG5ldyBMKCk7XG4gICAgICBkLmV4dCA9IEQuZ2V0RXh0UGFyYW1BcnJheShiKTtcbiAgICB9XG4gICAgcmV0dXJuIGQ7XG4gIH0sIHRoaXMuZ2V0UmVzcG9uZGVySUQgPSBmdW5jdGlvbihvKSB7XG4gICAgdmFyIGwgPSB7fTtcbiAgICBpZiAoby5zdWJzdHIoMCwgMikgPT0gXCJhMlwiKSB7XG4gICAgICB2YXIgZiA9IHUobywgMCwgWzBdKTtcbiAgICAgIGwua2V5ID0gZjtcbiAgICB9XG4gICAgaWYgKG8uc3Vic3RyKDAsIDIpID09IFwiYTFcIikge1xuICAgICAgdmFyIGQgPSBwKG8sIDAsIFswXSksIGcgPSBuZXcgTCgpO1xuICAgICAgbC5uYW1lID0gZy5nZXRYNTAwTmFtZShkKTtcbiAgICB9XG4gICAgcmV0dXJuIGw7XG4gIH0sIHRoaXMuZ2V0U2luZ2xlUmVzcG9uc2VMaXN0ID0gZnVuY3Rpb24obykge1xuICAgIGZvciAodmFyIGwgPSB2KG8sIDApLCBmID0gW10sIGQgPSAwOyBkIDwgbC5sZW5ndGg7IGQrKykge1xuICAgICAgdmFyIGcgPSB0aGlzLmdldFNpbmdsZVJlc3BvbnNlKG4obywgbFtkXSkpO1xuICAgICAgZi5wdXNoKGcpO1xuICAgIH1cbiAgICByZXR1cm4gZjtcbiAgfSwgdGhpcy5nZXRTaW5nbGVSZXNwb25zZSA9IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgbCA9IHYobywgMCksIGYgPSB7fSwgZCA9IHRoaXMuZ2V0Q2VydElEKG4obywgbFswXSkpO1xuICAgIGYuY2VydGlkID0gZDtcbiAgICB2YXIgZyA9IHRoaXMuZ2V0Q2VydFN0YXR1cyhuKG8sIGxbMV0pKTtcbiAgICBpZiAoZi5zdGF0dXMgPSBnLCBvLnN1YnN0cihsWzJdLCAyKSA9PSBcIjE4XCIpIHtcbiAgICAgIHZhciBTID0gcyhvLCBsWzJdKTtcbiAgICAgIGYudGhpc3VwZGF0ZSA9IFcoUyk7XG4gICAgfVxuICAgIGZvciAodmFyIGIgPSAzOyBiIDwgbC5sZW5ndGg7IGIrKykge1xuICAgICAgaWYgKG8uc3Vic3RyKGxbYl0sIDIpID09IFwiYTBcIikge1xuICAgICAgICB2YXIgRCA9IHUobywgbFtiXSwgWzBdLCBcIjE4XCIpO1xuICAgICAgICBmLm5leHR1cGRhdGUgPSBXKEQpO1xuICAgICAgfVxuICAgICAgaWYgKG8uc3Vic3RyKGxbYl0sIDIpID09IFwiYTFcIikge1xuICAgICAgICB2YXIgQSA9IG5ldyBMKCksIEkgPSBwKG8sIDAsIFtiLCAwXSk7XG4gICAgICAgIGYuZXh0ID0gQS5nZXRFeHRQYXJhbUFycmF5KEkpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZjtcbiAgfSwgdGhpcy5nZXRDZXJ0U3RhdHVzID0gZnVuY3Rpb24obykge1xuICAgIHZhciBsID0ge307XG4gICAgaWYgKG8gPT0gXCI4MDAwXCIpXG4gICAgICByZXR1cm4geyBzdGF0dXM6IFwiZ29vZFwiIH07XG4gICAgaWYgKG8gPT0gXCI4MjAwXCIpXG4gICAgICByZXR1cm4geyBzdGF0dXM6IFwidW5rbm93blwiIH07XG4gICAgaWYgKG8uc3Vic3RyKDAsIDIpID09IFwiYTFcIikge1xuICAgICAgbC5zdGF0dXMgPSBcInJldm9rZWRcIjtcbiAgICAgIHZhciBmID0gdShvLCAwLCBbMF0pLCBkID0gVyhmKTtcbiAgICAgIGwudGltZSA9IGQ7XG4gICAgfVxuICAgIHJldHVybiBsO1xuICB9O1xufTtcbnZhciBhO1xuKHR5cGVvZiBhID4gXCJ1XCIgfHwgIWEpICYmIChhID0ge30pO1xuKHR5cGVvZiBhLmxhbmcgPiBcInVcIiB8fCAhYS5sYW5nKSAmJiAoYS5sYW5nID0ge30pO1xuYS5sYW5nLlN0cmluZyA9IGZ1bmN0aW9uKCkge1xufTtcbmZ1bmN0aW9uIGhuKGUpIHtcbiAgZm9yICh2YXIgdCA9IG5ldyBBcnJheSgpLCByID0gMDsgciA8IGUubGVuZ3RoOyByKyspXG4gICAgdFtyXSA9IGUuY2hhckNvZGVBdChyKTtcbiAgcmV0dXJuIHQ7XG59XG5mdW5jdGlvbiBvdChlKSB7XG4gIGZvciAodmFyIHQgPSBcIlwiLCByID0gMDsgciA8IGUubGVuZ3RoOyByKyspIHtcbiAgICB2YXIgaSA9IGVbcl0udG9TdHJpbmcoMTYpO1xuICAgIGkubGVuZ3RoID09IDEgJiYgKGkgPSBcIjBcIiArIGkpLCB0ID0gdCArIGk7XG4gIH1cbiAgcmV0dXJuIHQ7XG59XG5mdW5jdGlvbiBFZShlKSB7XG4gIHJldHVybiBvdChobihlKSk7XG59XG5mdW5jdGlvbiBYZShlKSB7XG4gIHJldHVybiBlID0gZS5yZXBsYWNlKC9cXD0vZywgXCJcIiksIGUgPSBlLnJlcGxhY2UoL1xcKy9nLCBcIi1cIiksIGUgPSBlLnJlcGxhY2UoL1xcLy9nLCBcIl9cIiksIGU7XG59XG5mdW5jdGlvbiB1dChlKSB7XG4gIHJldHVybiBlLmxlbmd0aCAlIDQgPT0gMiA/IGUgPSBlICsgXCI9PVwiIDogZS5sZW5ndGggJSA0ID09IDMgJiYgKGUgPSBlICsgXCI9XCIpLCBlID0gZS5yZXBsYWNlKC8tL2csIFwiK1wiKSwgZSA9IGUucmVwbGFjZSgvXy9nLCBcIi9cIiksIGU7XG59XG5mdW5jdGlvbiBhZShlKSB7XG4gIHJldHVybiBlLmxlbmd0aCAlIDIgPT0gMSAmJiAoZSA9IFwiMFwiICsgZSksIFhlKF9lKGUpKTtcbn1cbmZ1bmN0aW9uIFkoZSkge1xuICByZXR1cm4gaXQodXQoZSkpO1xufVxudmFyIEplLCB3ZTtcbnR5cGVvZiBCdWZmZXIgPT0gXCJmdW5jdGlvblwiID8gKEplID0gZnVuY3Rpb24oZSkge1xuICByZXR1cm4gWGUoQnVmZmVyLmZyb20oZSwgXCJ1dGY4XCIpLnRvU3RyaW5nKFwiYmFzZTY0XCIpKTtcbn0sIHdlID0gZnVuY3Rpb24oZSkge1xuICByZXR1cm4gQnVmZmVyLmZyb20odXQoZSksIFwiYmFzZTY0XCIpLnRvU3RyaW5nKFwidXRmOFwiKTtcbn0pIDogKEplID0gZnVuY3Rpb24oZSkge1xuICByZXR1cm4gYWUoSXQoQnQoZSkpKTtcbn0sIHdlID0gZnVuY3Rpb24oZSkge1xuICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KEN0KFkoZSkpKTtcbn0pO1xuZnVuY3Rpb24gaHQoZSkge1xuICByZXR1cm4gSXQoQnQoZSkpLnRvTG93ZXJDYXNlKCk7XG59XG5mdW5jdGlvbiBXKGUpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KEN0KGUpKTtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cbmZ1bmN0aW9uIGZuKGUpIHtcbiAgcmV0dXJuIFcoY24oZSkpO1xufVxuZnVuY3Rpb24gY24oZSkge1xuICBmb3IgKHZhciB0ID0gZS5tYXRjaCgvLnsxLDJ9L2cpLCByID0gW10sIGkgPSAwOyBpIDwgdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzID0gcGFyc2VJbnQodFtpXSwgMTYpO1xuICAgIDE2MSA8PSBzICYmIHMgPD0gMTkxID8gKHIucHVzaChcImMyXCIpLCByLnB1c2godFtpXSkpIDogMTkyIDw9IHMgJiYgcyA8PSAyNTUgPyAoci5wdXNoKFwiYzNcIiksIHIucHVzaCgocyAtIDY0KS50b1N0cmluZygxNikpKSA6IHIucHVzaCh0W2ldKTtcbiAgfVxuICByZXR1cm4gci5qb2luKFwiXCIpO1xufVxuZnVuY3Rpb24gQWUoZSkge1xuICBmb3IgKHZhciB0ID0gXCJcIiwgciA9IDA7IHIgPCBlLmxlbmd0aCAtIDE7IHIgKz0gMilcbiAgICB0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoZS5zdWJzdHIociwgMiksIDE2KSk7XG4gIHJldHVybiB0O1xufVxuZnVuY3Rpb24gUGUoZSkge1xuICBmb3IgKHZhciB0ID0gXCJcIiwgciA9IDA7IHIgPCBlLmxlbmd0aDsgcisrKVxuICAgIHQgKz0gKFwiMFwiICsgZS5jaGFyQ29kZUF0KHIpLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpO1xuICByZXR1cm4gdDtcbn1cbmZ1bmN0aW9uIGxuKGUpIHtcbiAgcmV0dXJuIF9lKGUpO1xufVxuZnVuY3Rpb24gZG4oZSwgdCkge1xuICByZXR1cm4gZSA9IGUucmVwbGFjZShuZXcgUmVnRXhwKFwiKC57XCIgKyB0ICsgXCJ9KVwiLCBcImdcIiksIGAkMVxcclxuYCksIGUgPSBlLnJlcGxhY2UoL1xccyskLywgXCJcIiksIGU7XG59XG5mdW5jdGlvbiBwbihlKSB7XG4gIHZhciB0ID0gZS5yZXBsYWNlKC9bXjAtOUEtWmEtelxcLys9XSovZywgXCJcIiksIHIgPSBpdCh0KTtcbiAgcmV0dXJuIHI7XG59XG5mdW5jdGlvbiBkZShlLCB0KSB7XG4gIHJldHVybiBcIi0tLS0tQkVHSU4gXCIgKyB0ICsgYC0tLS0tXFxyXG5gICsgZG4obG4oZSksIDY0KSArIGBcXHJcbi0tLS0tRU5EIGAgKyB0ICsgYC0tLS0tXFxyXG5gO1xufVxuZnVuY3Rpb24gaWUoZSwgdCkge1xuICBpZiAoZS5pbmRleE9mKFwiLS0tLS1CRUdJTiBcIikgPT0gLTEpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiY2FuJ3QgZmluZCBQRU0gaGVhZGVyXCIpO1xuICByZXR1cm4gdCAhPT0gdm9pZCAwID8gKGUgPSBlLnJlcGxhY2UobmV3IFJlZ0V4cChcIl5bXl0qLS0tLS1CRUdJTiBcIiArIHQgKyBcIi0tLS0tXCIpLCBcIlwiKSwgZSA9IGUucmVwbGFjZShuZXcgUmVnRXhwKFwiLS0tLS1FTkQgXCIgKyB0ICsgXCItLS0tLVteXSokXCIpLCBcIlwiKSkgOiAoZSA9IGUucmVwbGFjZSgvXlteXSotLS0tLUJFR0lOIFteLV0rLS0tLS0vLCBcIlwiKSwgZSA9IGUucmVwbGFjZSgvLS0tLS1FTkQgW14tXSstLS0tLVteXSokLywgXCJcIikpLCBwbihlKTtcbn1cbmZ1bmN0aW9uIHZuKGUpIHtcbiAgdmFyIHQsIHIsIGksIHMsIG4sIGgsIHUsIHAsIGMsIHk7XG4gIGlmIChlID0geW4oZSksIHkgPSBlLm1hdGNoKC9eKFxcZHs0fSkoXFxkXFxkKShcXGRcXGQpKFxcZFxcZCkoXFxkXFxkKShcXGRcXGQpKHxcXC5cXGQrKVokLyksIHkpXG4gICAgcmV0dXJuIHQgPSBwYXJzZUludCh5WzFdKSwgciA9IHBhcnNlSW50KHlbMl0pIC0gMSwgaSA9IHBhcnNlSW50KHlbM10pLCBzID0gcGFyc2VJbnQoeVs0XSksIG4gPSBwYXJzZUludCh5WzVdKSwgaCA9IHBhcnNlSW50KHlbNl0pLCB1ID0gMCwgcCA9IHlbN10sIHAgIT09IFwiXCIgJiYgKGMgPSAocC5zdWJzdHIoMSkgKyBcIjAwXCIpLnN1YnN0cigwLCAzKSwgdSA9IHBhcnNlSW50KGMpKSwgRGF0ZS5VVEModCwgciwgaSwgcywgbiwgaCwgdSk7XG4gIHRocm93IG5ldyBFcnJvcihcInVuc3VwcG9ydGVkIHp1bHUgZm9ybWF0OiBcIiArIGUpO1xufVxuZnVuY3Rpb24gZ24oZSkge1xuICByZXR1cm4gTWF0aC5yb3VuZCh2bihlKSAvIDFlMyk7XG59XG5mdW5jdGlvbiB5bihlKSB7XG4gIHJldHVybiBlLm1hdGNoKC9eWzAtOV17MTJ9WiQvKSB8fCBlLm1hdGNoKC9eWzAtOV17MTJ9Wy5dWzAtOV0qWiQvKSA/IGUubWF0Y2goL15bMC00XS8pID8gXCIyMFwiICsgZSA6IFwiMTlcIiArIGUgOiBlO1xufVxuZnVuY3Rpb24gSXQoZSkge1xuICByZXR1cm4gZS5yZXBsYWNlKC8lL2csIFwiXCIpO1xufVxuZnVuY3Rpb24gQ3QoZSkge1xuICByZXR1cm4gZS5yZXBsYWNlKC8oLi4pL2csIFwiJSQxXCIpO1xufVxuZnVuY3Rpb24gdnQoZSkge1xuICB2YXIgdCA9IFwibWFsZm9ybWVkIElQdjYgYWRkcmVzc1wiO1xuICBpZiAoIWUubWF0Y2goL15bMC05QS1GYS1mOl0rJC8pKVxuICAgIHRocm93IHQ7XG4gIGUgPSBlLnRvTG93ZXJDYXNlKCk7XG4gIHZhciByID0gZS5zcGxpdChcIjpcIikubGVuZ3RoIC0gMTtcbiAgaWYgKHIgPCAyKVxuICAgIHRocm93IHQ7XG4gIHZhciBpID0gXCI6XCIucmVwZWF0KDcgLSByICsgMik7XG4gIGUgPSBlLnJlcGxhY2UoXCI6OlwiLCBpKTtcbiAgdmFyIHMgPSBlLnNwbGl0KFwiOlwiKTtcbiAgaWYgKHMubGVuZ3RoICE9IDgpXG4gICAgdGhyb3cgdDtcbiAgZm9yICh2YXIgbiA9IDA7IG4gPCA4OyBuKyspXG4gICAgc1tuXSA9IChcIjAwMDBcIiArIHNbbl0pLnNsaWNlKC00KTtcbiAgcmV0dXJuIHMuam9pbihcIlwiKTtcbn1cbmZ1bmN0aW9uIGd0KGUpIHtcbiAgaWYgKCFlLm1hdGNoKC9eWzAtOUEtRmEtZl17MzJ9JC8pKVxuICAgIHRocm93IG5ldyBFcnJvcihcIm1hbGZvcm1lZCBJUHY2IGFkZHJlc3M6IFwiICsgZSk7XG4gIGUgPSBlLnRvTG93ZXJDYXNlKCk7XG4gIHZhciB0ID0gZS5tYXRjaCgvLnsxLDR9L2cpO1xuICB0ID0gdC5tYXAoZnVuY3Rpb24ocykge1xuICAgIHJldHVybiBzLnJlcGxhY2UoL14wKy8sIFwiXCIpO1xuICB9KSwgdCA9IHQubWFwKGZ1bmN0aW9uKHMpIHtcbiAgICByZXR1cm4gcyA9PSBcIlwiID8gXCIwXCIgOiBzO1xuICB9KSwgZSA9IFwiOlwiICsgdC5qb2luKFwiOlwiKSArIFwiOlwiO1xuICB2YXIgciA9IGUubWF0Y2goLzooMDopezIsfS9nKTtcbiAgaWYgKHIgPT0gbnVsbClcbiAgICByZXR1cm4gZS5zbGljZSgxLCAtMSk7XG4gIHZhciBpID0gci5zb3J0KCkuc2xpY2UoLTEpWzBdO1xuICByZXR1cm4gZSA9IGUucmVwbGFjZShpLnN1YnN0cigwLCBpLmxlbmd0aCAtIDEpLCBcIjpcIiksIGUuc3Vic3RyKDAsIDIpICE9IFwiOjpcIiAmJiAoZSA9IGUuc3Vic3RyKDEpKSwgZS5zdWJzdHIoLTIsIDIpICE9IFwiOjpcIiAmJiAoZSA9IGUuc3Vic3RyKDAsIGUubGVuZ3RoIC0gMSkpLCBlO1xufVxuZnVuY3Rpb24gdHQoZSkge1xuICB2YXIgdCA9IG5ldyBFcnJvcihcIm1hbGZvcm1lZCBoZXggdmFsdWVcIik7XG4gIGlmICghZS5tYXRjaCgvXihbMC05QS1GYS1mXVswLTlBLUZhLWZdKXsxLH0kLykpXG4gICAgdGhyb3cgdDtcbiAgaWYgKGUubGVuZ3RoID09IDgpIHtcbiAgICB2YXIgcjtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHIgPSBwYXJzZUludChlLnN1YnN0cigwLCAyKSwgMTYpICsgXCIuXCIgKyBwYXJzZUludChlLnN1YnN0cigyLCAyKSwgMTYpICsgXCIuXCIgKyBwYXJzZUludChlLnN1YnN0cig0LCAyKSwgMTYpICsgXCIuXCIgKyBwYXJzZUludChlLnN1YnN0cig2LCAyKSwgMTYpLCByO1xuICAgIH0gY2F0Y2gge1xuICAgICAgdGhyb3cgdDtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZS5sZW5ndGggPT0gMTYpXG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB0dChlLnN1YnN0cigwLCA4KSkgKyBcIi9cIiArIHl0KGUuc3Vic3RyKDgpKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHRocm93IHQ7XG4gICAgfVxuICBlbHNlIHtcbiAgICBpZiAoZS5sZW5ndGggPT0gMzIpXG4gICAgICByZXR1cm4gZ3QoZSk7XG4gICAgaWYgKGUubGVuZ3RoID09IDY0KSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gZ3QoZS5zdWJzdHIoMCwgMzIpKSArIFwiL1wiICsgeXQoZS5zdWJzdHIoMzIpKTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICB0aHJvdyB0O1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZVxuICAgICAgcmV0dXJuIGU7XG4gIH1cbn1cbmZ1bmN0aW9uIHl0KGUpIHtcbiAgdmFyIHQgPSBuZXcgRXJyb3IoXCJtYWxmb3JtZWQgbWFza1wiKSwgcjtcbiAgdHJ5IHtcbiAgICByID0gbmV3IFIoZSwgMTYpLnRvU3RyaW5nKDIpO1xuICB9IGNhdGNoIHtcbiAgICB0aHJvdyB0O1xuICB9XG4gIGlmICghci5tYXRjaCgvXjEqMCokLykpXG4gICAgdGhyb3cgdDtcbiAgcmV0dXJuIHIucmVwbGFjZSgvMCskLywgXCJcIikubGVuZ3RoO1xufVxuZnVuY3Rpb24gUnQoZSkge1xuICB2YXIgdCA9IG5ldyBFcnJvcihcIm1hbGZvcm1lZCBJUCBhZGRyZXNzXCIpO1xuICBpZiAoZSA9IGUudG9Mb3dlckNhc2UoZSksICFlLm1hdGNoKC9eWzAtOWEtZi46L10rJC8pKVxuICAgIHRocm93IHQ7XG4gIGlmIChlLm1hdGNoKC9eWzAtOS5dKyQvKSkge1xuICAgIHZhciByID0gZS5zcGxpdChcIi5cIik7XG4gICAgaWYgKHIubGVuZ3RoICE9PSA0KVxuICAgICAgdGhyb3cgdDtcbiAgICB2YXIgaSA9IFwiXCI7XG4gICAgdHJ5IHtcbiAgICAgIGZvciAodmFyIHMgPSAwOyBzIDwgNDsgcysrKSB7XG4gICAgICAgIHZhciBuID0gcGFyc2VJbnQocltzXSk7XG4gICAgICAgIGkgKz0gKFwiMFwiICsgbi50b1N0cmluZygxNikpLnNsaWNlKC0yKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgdGhyb3cgdDtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZS5tYXRjaCgvXlswLTkuXStcXC9bMC05XSskLykpIHtcbiAgICB2YXIgaCA9IGUuc3BsaXQoXCIvXCIpO1xuICAgIHJldHVybiBSdChoWzBdKSArIG10KHBhcnNlSW50KGhbMV0pLCAzMik7XG4gIH0gZWxzZSB7XG4gICAgaWYgKGUubWF0Y2goL15bMC05YS1mOl0rJC8pICYmIGUuaW5kZXhPZihcIjpcIikgIT09IC0xKVxuICAgICAgcmV0dXJuIHZ0KGUpO1xuICAgIGlmIChlLm1hdGNoKC9eWzAtOWEtZjpdK1xcL1swLTldKyQvKSAmJiBlLmluZGV4T2YoXCI6XCIpICE9PSAtMSkge1xuICAgICAgdmFyIGggPSBlLnNwbGl0KFwiL1wiKTtcbiAgICAgIHJldHVybiB2dChoWzBdKSArIG10KHBhcnNlSW50KGhbMV0pLCAxMjgpO1xuICAgIH0gZWxzZVxuICAgICAgdGhyb3cgdDtcbiAgfVxufVxuZnVuY3Rpb24gbXQoZSwgdCkge1xuICBpZiAodCA9PSAzMiAmJiBlID09IDApXG4gICAgcmV0dXJuIFwiMDAwMDAwMDBcIjtcbiAgaWYgKHQgPT0gMTI4ICYmIGUgPT0gMClcbiAgICByZXR1cm4gXCIwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMFwiO1xuICB2YXIgciA9IEFycmF5KGUgKyAxKS5qb2luKFwiMVwiKSArIEFycmF5KHQgLSBlICsgMSkuam9pbihcIjBcIik7XG4gIHJldHVybiBuZXcgUihyLCAyKS50b1N0cmluZygxNik7XG59XG5mdW5jdGlvbiBUdChlKSB7XG4gIGZ1bmN0aW9uIHQocykge1xuICAgIHZhciBuID0gcGFyc2VJbnQocy5zdWJzdHIoMCwgMiksIDE2KSwgaCA9IHBhcnNlSW50KHMuc3Vic3RyKDIpLCAxNik7XG4gICAgaWYgKG4gPT0gMCAmIGggPCAxMjgpXG4gICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShoKTtcbiAgICBpZiAobiA8IDgpIHtcbiAgICAgIHZhciB1ID0gMTkyIHwgKG4gJiA3KSA8PCAzIHwgKGggJiAxOTIpID4+IDYsIHAgPSAxMjggfCBoICYgNjM7XG4gICAgICByZXR1cm4gVyh1LnRvU3RyaW5nKDE2KSArIHAudG9TdHJpbmcoMTYpKTtcbiAgICB9XG4gICAgdmFyIHUgPSAyMjQgfCAobiAmIDI0MCkgPj4gNCwgcCA9IDEyOCB8IChuICYgMTUpIDw8IDIgfCAoaCAmIDE5MikgPj4gNiwgYyA9IDEyOCB8IGggJiA2MztcbiAgICByZXR1cm4gVyh1LnRvU3RyaW5nKDE2KSArIHAudG9TdHJpbmcoMTYpICsgYy50b1N0cmluZygxNikpO1xuICB9XG4gIHZhciByID0gZS5tYXRjaCgvLns0fS9nKSwgaSA9IHIubWFwKHQpO1xuICByZXR1cm4gaS5qb2luKFwiXCIpO1xufVxuZnVuY3Rpb24gQnQoZSkge1xuICBmb3IgKHZhciB0ID0gZW5jb2RlVVJJQ29tcG9uZW50KGUpLCByID0gXCJcIiwgaSA9IDA7IGkgPCB0Lmxlbmd0aDsgaSsrKVxuICAgIHRbaV0gPT0gXCIlXCIgPyAociA9IHIgKyB0LnN1YnN0cihpLCAzKSwgaSA9IGkgKyAyKSA6IHIgPSByICsgXCIlXCIgKyBFZSh0W2ldKTtcbiAgcmV0dXJuIHI7XG59XG5hLmxhbmcuU3RyaW5nLmlzSW50ZWdlciA9IGZ1bmN0aW9uKGUpIHtcbiAgcmV0dXJuIGUubWF0Y2goL15bMC05XSskLykgPyAhMCA6ICEhZS5tYXRjaCgvXi1bMC05XSskLyk7XG59O1xuYS5sYW5nLlN0cmluZy5pc0hleCA9IGZ1bmN0aW9uKGUpIHtcbiAgcmV0dXJuIE50KGUpO1xufTtcbmZ1bmN0aW9uIE50KGUpIHtcbiAgcmV0dXJuICEhKGUubGVuZ3RoICUgMiA9PSAwICYmIChlLm1hdGNoKC9eWzAtOWEtZl0rJC8pIHx8IGUubWF0Y2goL15bMC05QS1GXSskLykpKTtcbn1cbmEubGFuZy5TdHJpbmcuaXNCYXNlNjQgPSBmdW5jdGlvbihlKSB7XG4gIHJldHVybiBlID0gZS5yZXBsYWNlKC9cXHMrL2csIFwiXCIpLCAhIShlLm1hdGNoKC9eWzAtOUEtWmEteitcXC9dKz17MCwzfSQvKSAmJiBlLmxlbmd0aCAlIDQgPT0gMCk7XG59O1xuYS5sYW5nLlN0cmluZy5pc0Jhc2U2NFVSTCA9IGZ1bmN0aW9uKGUpIHtcbiAgcmV0dXJuIGUubWF0Y2goL1srLz1dLykgPyAhMSA6IChlID0gdXQoZSksIGEubGFuZy5TdHJpbmcuaXNCYXNlNjQoZSkpO1xufTtcbmZ1bmN0aW9uIEh0KGUpIHtcbiAgcmV0dXJuICEhZS5tYXRjaCgvXlswLTlBLVphLXotXy5dKyQvKTtcbn1cbmEubGFuZy5TdHJpbmcuaXNJbnRlZ2VyQXJyYXkgPSBmdW5jdGlvbihlKSB7XG4gIHJldHVybiBlID0gZS5yZXBsYWNlKC9cXHMrL2csIFwiXCIpLCAhIWUubWF0Y2goL15cXFtbMC05LF0rXFxdJC8pO1xufTtcbmEubGFuZy5TdHJpbmcuaXNQcmludGFibGUgPSBmdW5jdGlvbihlKSB7XG4gIHJldHVybiBlLm1hdGNoKC9eWzAtOUEtWmEteiAnKCkrLC0uLzo9P10qJC8pICE9PSBudWxsO1xufTtcbmEubGFuZy5TdHJpbmcuaXNJQTUgPSBmdW5jdGlvbihlKSB7XG4gIHJldHVybiBlLm1hdGNoKC9eW1xceDIwLVxceDIxXFx4MjMtXFx4N2ZdKiQvKSAhPT0gbnVsbDtcbn07XG5hLmxhbmcuU3RyaW5nLmlzTWFpbCA9IGZ1bmN0aW9uKGUpIHtcbiAgcmV0dXJuIGUubWF0Y2goL15bQS1aYS16MC05XXsxfVtBLVphLXowLTlfLi1dKkB7MX1bQS1aYS16MC05Xy4tXXsxLH1cXC5bQS1aYS16MC05XXsxLH0kLykgIT09IG51bGw7XG59O1xuZnVuY3Rpb24geHQoZSkge1xuICByZXR1cm4gZS5sZW5ndGggJSAyID09IDEgPyBcIjBcIiArIGUgOiBlLnN1YnN0cigwLCAxKSA+IFwiN1wiID8gXCIwMFwiICsgZSA6IGU7XG59XG5mdW5jdGlvbiBtbihlKSB7XG4gIHZhciB0ID0gZnVuY3Rpb24odSkge1xuICAgIHZhciBwID0gdS50b1N0cmluZygxNik7XG4gICAgcmV0dXJuIHAubGVuZ3RoID09IDEgJiYgKHAgPSBcIjBcIiArIHApLCBwO1xuICB9LCByID0gZnVuY3Rpb24odSkge1xuICAgIHZhciBwID0gXCJcIiwgYyA9IHBhcnNlSW50KHUsIDEwKSwgeSA9IGMudG9TdHJpbmcoMiksIHYgPSA3IC0geS5sZW5ndGggJSA3O1xuICAgIHYgPT0gNyAmJiAodiA9IDApO1xuICAgIGZvciAodmFyIG8gPSBcIlwiLCBsID0gMDsgbCA8IHY7IGwrKylcbiAgICAgIG8gKz0gXCIwXCI7XG4gICAgeSA9IG8gKyB5O1xuICAgIGZvciAodmFyIGwgPSAwOyBsIDwgeS5sZW5ndGggLSAxOyBsICs9IDcpIHtcbiAgICAgIHZhciBmID0geS5zdWJzdHIobCwgNyk7XG4gICAgICBsICE9IHkubGVuZ3RoIC0gNyAmJiAoZiA9IFwiMVwiICsgZiksIHAgKz0gdChwYXJzZUludChmLCAyKSk7XG4gICAgfVxuICAgIHJldHVybiBwO1xuICB9O1xuICB0cnkge1xuICAgIGlmICghZS5tYXRjaCgvXlswLTkuXSskLykpXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB2YXIgaSA9IFwiXCIsIHMgPSBlLnNwbGl0KFwiLlwiKSwgbiA9IHBhcnNlSW50KHNbMF0sIDEwKSAqIDQwICsgcGFyc2VJbnQoc1sxXSwgMTApO1xuICAgIGkgKz0gdChuKSwgcy5zcGxpY2UoMCwgMik7XG4gICAgZm9yICh2YXIgaCA9IDA7IGggPCBzLmxlbmd0aDsgaCsrKVxuICAgICAgaSArPSByKHNbaF0pO1xuICAgIHJldHVybiBpO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuZnVuY3Rpb24gZnQoZSkge1xuICBpZiAoIU50KGUpKVxuICAgIHJldHVybiBudWxsO1xuICB0cnkge1xuICAgIHZhciB0ID0gW10sIHIgPSBlLnN1YnN0cigwLCAyKSwgaSA9IHBhcnNlSW50KHIsIDE2KTtcbiAgICB0WzBdID0gbmV3IFN0cmluZyhNYXRoLmZsb29yKGkgLyA0MCkpLCB0WzFdID0gbmV3IFN0cmluZyhpICUgNDApO1xuICAgIGZvciAodmFyIHMgPSBlLnN1YnN0cigyKSwgbiA9IFtdLCBoID0gMDsgaCA8IHMubGVuZ3RoIC8gMjsgaCsrKVxuICAgICAgbi5wdXNoKHBhcnNlSW50KHMuc3Vic3RyKGggKiAyLCAyKSwgMTYpKTtcbiAgICBmb3IgKHZhciB1ID0gW10sIHAgPSBcIlwiLCBoID0gMDsgaCA8IG4ubGVuZ3RoOyBoKyspXG4gICAgICBuW2hdICYgMTI4ID8gcCA9IHAgKyBTdCgobltoXSAmIDEyNykudG9TdHJpbmcoMiksIDcpIDogKHAgPSBwICsgU3QoKG5baF0gJiAxMjcpLnRvU3RyaW5nKDIpLCA3KSwgdS5wdXNoKG5ldyBTdHJpbmcocGFyc2VJbnQocCwgMikpKSwgcCA9IFwiXCIpO1xuICAgIHZhciBjID0gdC5qb2luKFwiLlwiKTtcbiAgICByZXR1cm4gdS5sZW5ndGggPiAwICYmIChjID0gYyArIFwiLlwiICsgdS5qb2luKFwiLlwiKSksIGM7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5mdW5jdGlvbiB4bihlKSB7XG4gIHZhciB0ID0gbmV3IFIoU3RyaW5nKGUpLCAxMCk7XG4gIHJldHVybiBaZSh0KTtcbn1cbmZ1bmN0aW9uIFplKGUpIHtcbiAgdmFyIHQgPSBlLnRvU3RyaW5nKDE2KTtcbiAgaWYgKHQuc3Vic3RyKDAsIDEpICE9IFwiLVwiKVxuICAgIHJldHVybiB0Lmxlbmd0aCAlIDIgPT0gMSA/IHQgPSBcIjBcIiArIHQgOiB0Lm1hdGNoKC9eWzAtN10vKSB8fCAodCA9IFwiMDBcIiArIHQpLCB0O1xuICB2YXIgciA9IHQuc3Vic3RyKDEpLCBpID0gci5sZW5ndGg7XG4gIGkgJSAyID09IDEgPyBpICs9IDEgOiB0Lm1hdGNoKC9eWzAtN10vKSB8fCAoaSArPSAyKTtcbiAgZm9yICh2YXIgcyA9IFwiXCIsIG4gPSAwOyBuIDwgaTsgbisrKVxuICAgIHMgKz0gXCJmXCI7XG4gIHZhciBoID0gbmV3IFIocywgMTYpLCB1ID0gaC54b3IoZSkuYWRkKFIuT05FKTtcbiAgcmV0dXJuIHQgPSB1LnRvU3RyaW5nKDE2KS5yZXBsYWNlKC9eLS8sIFwiXCIpLCB0O1xufVxudmFyIFN0ID0gZnVuY3Rpb24oZSwgdCwgcikge1xuICByZXR1cm4gciA9PSBudWxsICYmIChyID0gXCIwXCIpLCBlLmxlbmd0aCA+PSB0ID8gZSA6IG5ldyBBcnJheSh0IC0gZS5sZW5ndGggKyAxKS5qb2luKHIpICsgZTtcbn07XG5mdW5jdGlvbiBTbihlKSB7XG4gIGlmIChlLmxlbmd0aCAlIDIgIT0gMCB8fCAoZSA9IGUudG9Mb3dlckNhc2UoKSwgZS5tYXRjaCgvXlswLTlhLWZdKyQvKSA9PSBudWxsKSlcbiAgICByZXR1cm4gLTE7XG4gIHRyeSB7XG4gICAgdmFyIHQgPSBlLnN1YnN0cigwLCAyKTtcbiAgICBpZiAodCA9PSBcIjAwXCIpXG4gICAgICByZXR1cm4gcGFyc2VJbnQoZS5zdWJzdHIoMiksIDE2KTtcbiAgICB2YXIgciA9IHBhcnNlSW50KHQsIDE2KTtcbiAgICBpZiAociA+IDcpXG4gICAgICByZXR1cm4gLTE7XG4gICAgdmFyIGkgPSBlLnN1YnN0cigyKSwgcyA9IHBhcnNlSW50KGksIDE2KS50b1N0cmluZygyKTtcbiAgICBzID09IFwiMFwiICYmIChzID0gXCIwMDAwMDAwMFwiKSwgcyA9IHMuc2xpY2UoMCwgMCAtIHIpO1xuICAgIHZhciBuID0gcGFyc2VJbnQocywgMik7XG4gICAgcmV0dXJuIG4gPT0gTmFOID8gLTEgOiBuO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cbn1cbmZ1bmN0aW9uIEVuKGUpIHtcbiAgaWYgKHR5cGVvZiBlICE9IFwic3RyaW5nXCIgfHwgZS5sZW5ndGggJSAyICE9IDAgfHwgIWUubWF0Y2goL15bMC05YS1mXSskLykpXG4gICAgcmV0dXJuIG51bGw7XG4gIHRyeSB7XG4gICAgdmFyIHQgPSBwYXJzZUludChlLnN1YnN0cigwLCAyKSwgMTYpO1xuICAgIGlmICh0IDwgMCB8fCA3IDwgdClcbiAgICAgIHJldHVybiBudWxsO1xuICAgIGZvciAodmFyIHIgPSBlLnN1YnN0cigyKSwgaSA9IFwiXCIsIHMgPSAwOyBzIDwgci5sZW5ndGg7IHMgKz0gMikge1xuICAgICAgdmFyIG4gPSByLnN1YnN0cihzLCAyKSwgaCA9IHBhcnNlSW50KG4sIDE2KS50b1N0cmluZygyKTtcbiAgICAgIGggPSAoXCIwMDAwMDAwXCIgKyBoKS5zbGljZSgtOCksIGkgKz0gaDtcbiAgICB9XG4gICAgcmV0dXJuIGkuc3Vic3RyKDAsIGkubGVuZ3RoIC0gdCk7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5mdW5jdGlvbiBydChlLCB0KSB7XG4gIGZvciAodmFyIHIgPSAwLCBpID0gMDsgaSA8IGUubGVuZ3RoOyBpKyspXG4gICAgciB8PSAxIDw8IHRbZVtpXV07XG4gIGZvciAodmFyIHMgPSByLnRvU3RyaW5nKDIpLCBuID0gXCJcIiwgaSA9IHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXG4gICAgbiArPSBzW2ldO1xuICByZXR1cm4gbjtcbn1cbmZ1bmN0aW9uIEooZSwgaSwgcikge1xuICBpZiAodHlwZW9mIGUgPT0gXCJvYmplY3RcIikge1xuICAgIGZvciAodmFyIGkgPSBTdHJpbmcoaSkuc3BsaXQoXCIuXCIpLCBzID0gMDsgcyA8IGkubGVuZ3RoICYmIGU7IHMrKykge1xuICAgICAgdmFyIG4gPSBpW3NdO1xuICAgICAgbi5tYXRjaCgvXlswLTldKyQvKSAmJiAobiA9IHBhcnNlSW50KG4pKSwgZSA9IGVbbl07XG4gICAgfVxuICAgIHJldHVybiBlIHx8IGUgPT09ICExID8gZSA6IHI7XG4gIH1cbn1cbmZ1bmN0aW9uIE4oZSwgdCkge1xuICB2YXIgciA9IGZ1bmN0aW9uKCkge1xuICB9O1xuICByLnByb3RvdHlwZSA9IHQucHJvdG90eXBlLCBlLnByb3RvdHlwZSA9IG5ldyByKCksIGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gZSwgZS5zdXBlcmNsYXNzID0gdC5wcm90b3R5cGUsIHQucHJvdG90eXBlLmNvbnN0cnVjdG9yID09IE9iamVjdC5wcm90b3R5cGUuY29uc3RydWN0b3IgJiYgKHQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gdCk7XG59XG4odHlwZW9mIGEgPiBcInVcIiB8fCAhYSkgJiYgKGEgPSB7fSk7XG4odHlwZW9mIGEuY3J5cHRvID4gXCJ1XCIgfHwgIWEuY3J5cHRvKSAmJiAoYS5jcnlwdG8gPSB7fSk7XG5hLmNyeXB0by5VdGlsID0gbmV3IGZ1bmN0aW9uKCkge1xuICB0aGlzLkRJR0VTVElORk9IRUFEID0geyBzaGExOiBcIjMwMjEzMDA5MDYwNTJiMGUwMzAyMWEwNTAwMDQxNFwiLCBzaGEyMjQ6IFwiMzAyZDMwMGQwNjA5NjA4NjQ4MDE2NTAzMDQwMjA0MDUwMDA0MWNcIiwgc2hhMjU2OiBcIjMwMzEzMDBkMDYwOTYwODY0ODAxNjUwMzA0MDIwMTA1MDAwNDIwXCIsIHNoYTM4NDogXCIzMDQxMzAwZDA2MDk2MDg2NDgwMTY1MDMwNDAyMDIwNTAwMDQzMFwiLCBzaGE1MTI6IFwiMzA1MTMwMGQwNjA5NjA4NjQ4MDE2NTAzMDQwMjAzMDUwMDA0NDBcIiwgbWQyOiBcIjMwMjAzMDBjMDYwODJhODY0ODg2ZjcwZDAyMDIwNTAwMDQxMFwiLCBtZDU6IFwiMzAyMDMwMGMwNjA4MmE4NjQ4ODZmNzBkMDIwNTA1MDAwNDEwXCIsIHJpcGVtZDE2MDogXCIzMDIxMzAwOTA2MDUyYjI0MDMwMjAxMDUwMDA0MTRcIiB9LCB0aGlzLkRFRkFVTFRQUk9WSURFUiA9IHsgbWQ1OiBcImNyeXB0b2pzXCIsIHNoYTE6IFwiY3J5cHRvanNcIiwgc2hhMjI0OiBcImNyeXB0b2pzXCIsIHNoYTI1NjogXCJjcnlwdG9qc1wiLCBzaGEzODQ6IFwiY3J5cHRvanNcIiwgc2hhNTEyOiBcImNyeXB0b2pzXCIsIHJpcGVtZDE2MDogXCJjcnlwdG9qc1wiLCBobWFjbWQ1OiBcImNyeXB0b2pzXCIsIGhtYWNzaGExOiBcImNyeXB0b2pzXCIsIGhtYWNzaGEyMjQ6IFwiY3J5cHRvanNcIiwgaG1hY3NoYTI1NjogXCJjcnlwdG9qc1wiLCBobWFjc2hhMzg0OiBcImNyeXB0b2pzXCIsIGhtYWNzaGE1MTI6IFwiY3J5cHRvanNcIiwgaG1hY3JpcGVtZDE2MDogXCJjcnlwdG9qc1wiLCBNRDV3aXRoUlNBOiBcImNyeXB0b2pzL2pzcnNhXCIsIFNIQTF3aXRoUlNBOiBcImNyeXB0b2pzL2pzcnNhXCIsIFNIQTIyNHdpdGhSU0E6IFwiY3J5cHRvanMvanNyc2FcIiwgU0hBMjU2d2l0aFJTQTogXCJjcnlwdG9qcy9qc3JzYVwiLCBTSEEzODR3aXRoUlNBOiBcImNyeXB0b2pzL2pzcnNhXCIsIFNIQTUxMndpdGhSU0E6IFwiY3J5cHRvanMvanNyc2FcIiwgUklQRU1EMTYwd2l0aFJTQTogXCJjcnlwdG9qcy9qc3JzYVwiLCBNRDV3aXRoRUNEU0E6IFwiY3J5cHRvanMvanNyc2FcIiwgU0hBMXdpdGhFQ0RTQTogXCJjcnlwdG9qcy9qc3JzYVwiLCBTSEEyMjR3aXRoRUNEU0E6IFwiY3J5cHRvanMvanNyc2FcIiwgU0hBMjU2d2l0aEVDRFNBOiBcImNyeXB0b2pzL2pzcnNhXCIsIFNIQTM4NHdpdGhFQ0RTQTogXCJjcnlwdG9qcy9qc3JzYVwiLCBTSEE1MTJ3aXRoRUNEU0E6IFwiY3J5cHRvanMvanNyc2FcIiwgUklQRU1EMTYwd2l0aEVDRFNBOiBcImNyeXB0b2pzL2pzcnNhXCIsIFNIQTF3aXRoRFNBOiBcImNyeXB0b2pzL2pzcnNhXCIsIFNIQTIyNHdpdGhEU0E6IFwiY3J5cHRvanMvanNyc2FcIiwgU0hBMjU2d2l0aERTQTogXCJjcnlwdG9qcy9qc3JzYVwiLCBNRDV3aXRoUlNBYW5kTUdGMTogXCJjcnlwdG9qcy9qc3JzYVwiLCBTSEF3aXRoUlNBYW5kTUdGMTogXCJjcnlwdG9qcy9qc3JzYVwiLCBTSEExd2l0aFJTQWFuZE1HRjE6IFwiY3J5cHRvanMvanNyc2FcIiwgU0hBMjI0d2l0aFJTQWFuZE1HRjE6IFwiY3J5cHRvanMvanNyc2FcIiwgU0hBMjU2d2l0aFJTQWFuZE1HRjE6IFwiY3J5cHRvanMvanNyc2FcIiwgU0hBMzg0d2l0aFJTQWFuZE1HRjE6IFwiY3J5cHRvanMvanNyc2FcIiwgU0hBNTEyd2l0aFJTQWFuZE1HRjE6IFwiY3J5cHRvanMvanNyc2FcIiwgUklQRU1EMTYwd2l0aFJTQWFuZE1HRjE6IFwiY3J5cHRvanMvanNyc2FcIiB9LCB0aGlzLkNSWVBUT0pTTUVTU0FHRURJR0VTVE5BTUUgPSB7IG1kNTogSy5hbGdvLk1ENSwgc2hhMTogSy5hbGdvLlNIQTEsIHNoYTIyNDogSy5hbGdvLlNIQTIyNCwgc2hhMjU2OiBLLmFsZ28uU0hBMjU2LCBzaGEzODQ6IEsuYWxnby5TSEEzODQsIHNoYTUxMjogSy5hbGdvLlNIQTUxMiwgcmlwZW1kMTYwOiBLLmFsZ28uUklQRU1EMTYwIH0sIHRoaXMuZ2V0RGlnZXN0SW5mb0hleCA9IGZ1bmN0aW9uKGUsIHQpIHtcbiAgICBpZiAodHlwZW9mIHRoaXMuRElHRVNUSU5GT0hFQURbdF0gPiBcInVcIilcbiAgICAgIHRocm93IFwiYWxnIG5vdCBzdXBwb3J0ZWQgaW4gVXRpbC5ESUdFU1RJTkZPSEVBRDogXCIgKyB0O1xuICAgIHJldHVybiB0aGlzLkRJR0VTVElORk9IRUFEW3RdICsgZTtcbiAgfSwgdGhpcy5nZXRQYWRkZWREaWdlc3RJbmZvSGV4ID0gZnVuY3Rpb24oZSwgdCwgcikge1xuICAgIHZhciBpID0gdGhpcy5nZXREaWdlc3RJbmZvSGV4KGUsIHQpLCBzID0gciAvIDQ7XG4gICAgaWYgKGkubGVuZ3RoICsgMjIgPiBzKVxuICAgICAgdGhyb3cgXCJrZXkgaXMgdG9vIHNob3J0IGZvciBTaWdBbGc6IGtleWxlbj1cIiArIHIgKyBcIixcIiArIHQ7XG4gICAgZm9yICh2YXIgbiA9IFwiMDAwMVwiLCBoID0gXCIwMFwiICsgaSwgdSA9IFwiXCIsIHAgPSBzIC0gbi5sZW5ndGggLSBoLmxlbmd0aCwgYyA9IDA7IGMgPCBwOyBjICs9IDIpXG4gICAgICB1ICs9IFwiZmZcIjtcbiAgICB2YXIgeSA9IG4gKyB1ICsgaDtcbiAgICByZXR1cm4geTtcbiAgfSwgdGhpcy5oYXNoU3RyaW5nID0gZnVuY3Rpb24oZSwgdCkge1xuICAgIHZhciByID0gbmV3IGEuY3J5cHRvLk1lc3NhZ2VEaWdlc3QoeyBhbGc6IHQgfSk7XG4gICAgcmV0dXJuIHIuZGlnZXN0U3RyaW5nKGUpO1xuICB9LCB0aGlzLmhhc2hIZXggPSBmdW5jdGlvbihlLCB0KSB7XG4gICAgdmFyIHIgPSBuZXcgYS5jcnlwdG8uTWVzc2FnZURpZ2VzdCh7IGFsZzogdCB9KTtcbiAgICByZXR1cm4gci5kaWdlc3RIZXgoZSk7XG4gIH0sIHRoaXMuc2hhMSA9IGZ1bmN0aW9uKGUpIHtcbiAgICByZXR1cm4gdGhpcy5oYXNoU3RyaW5nKGUsIFwic2hhMVwiKTtcbiAgfSwgdGhpcy5zaGEyNTYgPSBmdW5jdGlvbihlKSB7XG4gICAgcmV0dXJuIHRoaXMuaGFzaFN0cmluZyhlLCBcInNoYTI1NlwiKTtcbiAgfSwgdGhpcy5zaGEyNTZIZXggPSBmdW5jdGlvbihlKSB7XG4gICAgcmV0dXJuIHRoaXMuaGFzaEhleChlLCBcInNoYTI1NlwiKTtcbiAgfSwgdGhpcy5zaGE1MTIgPSBmdW5jdGlvbihlKSB7XG4gICAgcmV0dXJuIHRoaXMuaGFzaFN0cmluZyhlLCBcInNoYTUxMlwiKTtcbiAgfSwgdGhpcy5zaGE1MTJIZXggPSBmdW5jdGlvbihlKSB7XG4gICAgcmV0dXJuIHRoaXMuaGFzaEhleChlLCBcInNoYTUxMlwiKTtcbiAgfSwgdGhpcy5pc0tleSA9IGZ1bmN0aW9uKGUpIHtcbiAgICByZXR1cm4gZSBpbnN0YW5jZW9mIHEgfHwgZSBpbnN0YW5jZW9mIGEuY3J5cHRvLkRTQSB8fCBlIGluc3RhbmNlb2YgYS5jcnlwdG8uRUNEU0E7XG4gIH07XG59KCk7XG5hLmNyeXB0by5VdGlsLm1kNSA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBuZXcgYS5jcnlwdG8uTWVzc2FnZURpZ2VzdCh7IGFsZzogXCJtZDVcIiwgcHJvdjogXCJjcnlwdG9qc1wiIH0pO1xuICByZXR1cm4gdC5kaWdlc3RTdHJpbmcoZSk7XG59O1xuYS5jcnlwdG8uVXRpbC5yaXBlbWQxNjAgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gbmV3IGEuY3J5cHRvLk1lc3NhZ2VEaWdlc3QoeyBhbGc6IFwicmlwZW1kMTYwXCIsIHByb3Y6IFwiY3J5cHRvanNcIiB9KTtcbiAgcmV0dXJuIHQuZGlnZXN0U3RyaW5nKGUpO1xufTtcbmEuY3J5cHRvLlV0aWwuU0VDVVJFUkFORE9NR0VOID0gbmV3IEdlKCk7XG5hLmNyeXB0by5VdGlsLmdldFJhbmRvbUhleE9mTmJ5dGVzID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IG5ldyBBcnJheShlKTtcbiAgcmV0dXJuIGEuY3J5cHRvLlV0aWwuU0VDVVJFUkFORE9NR0VOLm5leHRCeXRlcyh0KSwgb3QodCk7XG59O1xuYS5jcnlwdG8uVXRpbC5nZXRSYW5kb21CaWdJbnRlZ2VyT2ZOYnl0ZXMgPSBmdW5jdGlvbihlKSB7XG4gIHJldHVybiBuZXcgUihhLmNyeXB0by5VdGlsLmdldFJhbmRvbUhleE9mTmJ5dGVzKGUpLCAxNik7XG59O1xuYS5jcnlwdG8uVXRpbC5nZXRSYW5kb21IZXhPZk5iaXRzID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IGUgJSA4LCByID0gKGUgLSB0KSAvIDgsIGkgPSBuZXcgQXJyYXkociArIDEpO1xuICByZXR1cm4gYS5jcnlwdG8uVXRpbC5TRUNVUkVSQU5ET01HRU4ubmV4dEJ5dGVzKGkpLCBpWzBdID0gKDI1NSA8PCB0ICYgMjU1IF4gMjU1KSAmIGlbMF0sIG90KGkpO1xufTtcbmEuY3J5cHRvLlV0aWwuZ2V0UmFuZG9tQmlnSW50ZWdlck9mTmJpdHMgPSBmdW5jdGlvbihlKSB7XG4gIHJldHVybiBuZXcgUihhLmNyeXB0by5VdGlsLmdldFJhbmRvbUhleE9mTmJpdHMoZSksIDE2KTtcbn07XG5hLmNyeXB0by5VdGlsLmdldFJhbmRvbUJpZ0ludGVnZXJaZXJvVG9NYXggPSBmdW5jdGlvbihlKSB7XG4gIGZvciAodmFyIHQgPSBlLmJpdExlbmd0aCgpOyA7ICkge1xuICAgIHZhciByID0gYS5jcnlwdG8uVXRpbC5nZXRSYW5kb21CaWdJbnRlZ2VyT2ZOYml0cyh0KTtcbiAgICBpZiAoZS5jb21wYXJlVG8ocikgIT0gLTEpXG4gICAgICByZXR1cm4gcjtcbiAgfVxufTtcbmEuY3J5cHRvLlV0aWwuZ2V0UmFuZG9tQmlnSW50ZWdlck1pblRvTWF4ID0gZnVuY3Rpb24oZSwgdCkge1xuICB2YXIgciA9IGUuY29tcGFyZVRvKHQpO1xuICBpZiAociA9PSAxKVxuICAgIHRocm93IFwiYmlNaW4gaXMgZ3JlYXRlciB0aGFuIGJpTWF4XCI7XG4gIGlmIChyID09IDApXG4gICAgcmV0dXJuIGU7XG4gIHZhciBpID0gdC5zdWJ0cmFjdChlKSwgcyA9IGEuY3J5cHRvLlV0aWwuZ2V0UmFuZG9tQmlnSW50ZWdlclplcm9Ub01heChpKTtcbiAgcmV0dXJuIHMuYWRkKGUpO1xufTtcbmEuY3J5cHRvLk1lc3NhZ2VEaWdlc3QgPSBmdW5jdGlvbihlKSB7XG4gIHRoaXMuc2V0QWxnQW5kUHJvdmlkZXIgPSBmdW5jdGlvbih0LCByKSB7XG4gICAgaWYgKHQgPSBhLmNyeXB0by5NZXNzYWdlRGlnZXN0LmdldENhbm9uaWNhbEFsZ05hbWUodCksIHQgIT09IG51bGwgJiYgciA9PT0gdm9pZCAwICYmIChyID0gYS5jcnlwdG8uVXRpbC5ERUZBVUxUUFJPVklERVJbdF0pLCBcIjptZDU6c2hhMTpzaGEyMjQ6c2hhMjU2OnNoYTM4NDpzaGE1MTI6cmlwZW1kMTYwOlwiLmluZGV4T2YodCkgIT0gLTEgJiYgciA9PSBcImNyeXB0b2pzXCIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMubWQgPSBhLmNyeXB0by5VdGlsLkNSWVBUT0pTTUVTU0FHRURJR0VTVE5BTUVbdF0uY3JlYXRlKCk7XG4gICAgICB9IGNhdGNoIChpKSB7XG4gICAgICAgIHRocm93IFwic2V0QWxnQW5kUHJvdmlkZXIgaGFzaCBhbGcgc2V0IGZhaWwgYWxnPVwiICsgdCArIFwiL1wiICsgaTtcbiAgICAgIH1cbiAgICAgIHRoaXMudXBkYXRlU3RyaW5nID0gZnVuY3Rpb24oaSkge1xuICAgICAgICB0aGlzLm1kLnVwZGF0ZShpKTtcbiAgICAgIH0sIHRoaXMudXBkYXRlSGV4ID0gZnVuY3Rpb24oaSkge1xuICAgICAgICB2YXIgcyA9IEsuZW5jLkhleC5wYXJzZShpKTtcbiAgICAgICAgdGhpcy5tZC51cGRhdGUocyk7XG4gICAgICB9LCB0aGlzLmRpZ2VzdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgaSA9IHRoaXMubWQuZmluYWxpemUoKTtcbiAgICAgICAgcmV0dXJuIGkudG9TdHJpbmcoSy5lbmMuSGV4KTtcbiAgICAgIH0sIHRoaXMuZGlnZXN0U3RyaW5nID0gZnVuY3Rpb24oaSkge1xuICAgICAgICByZXR1cm4gdGhpcy51cGRhdGVTdHJpbmcoaSksIHRoaXMuZGlnZXN0KCk7XG4gICAgICB9LCB0aGlzLmRpZ2VzdEhleCA9IGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlSGV4KGkpLCB0aGlzLmRpZ2VzdCgpO1xuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKFwiOnNoYTI1NjpcIi5pbmRleE9mKHQpICE9IC0xICYmIHIgPT0gXCJzamNsXCIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMubWQgPSBuZXcgc2pjbC5oYXNoLnNoYTI1NigpO1xuICAgICAgfSBjYXRjaCAoaSkge1xuICAgICAgICB0aHJvdyBcInNldEFsZ0FuZFByb3ZpZGVyIGhhc2ggYWxnIHNldCBmYWlsIGFsZz1cIiArIHQgKyBcIi9cIiArIGk7XG4gICAgICB9XG4gICAgICB0aGlzLnVwZGF0ZVN0cmluZyA9IGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgdGhpcy5tZC51cGRhdGUoaSk7XG4gICAgICB9LCB0aGlzLnVwZGF0ZUhleCA9IGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgdmFyIHMgPSBzamNsLmNvZGVjLmhleC50b0JpdHMoaSk7XG4gICAgICAgIHRoaXMubWQudXBkYXRlKHMpO1xuICAgICAgfSwgdGhpcy5kaWdlc3QgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGkgPSB0aGlzLm1kLmZpbmFsaXplKCk7XG4gICAgICAgIHJldHVybiBzamNsLmNvZGVjLmhleC5mcm9tQml0cyhpKTtcbiAgICAgIH0sIHRoaXMuZGlnZXN0U3RyaW5nID0gZnVuY3Rpb24oaSkge1xuICAgICAgICByZXR1cm4gdGhpcy51cGRhdGVTdHJpbmcoaSksIHRoaXMuZGlnZXN0KCk7XG4gICAgICB9LCB0aGlzLmRpZ2VzdEhleCA9IGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlSGV4KGkpLCB0aGlzLmRpZ2VzdCgpO1xuICAgICAgfTtcbiAgICB9XG4gIH0sIHRoaXMudXBkYXRlU3RyaW5nID0gZnVuY3Rpb24odCkge1xuICAgIHRocm93IFwidXBkYXRlU3RyaW5nKHN0cikgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGcvcHJvdjogXCIgKyB0aGlzLmFsZ05hbWUgKyBcIi9cIiArIHRoaXMucHJvdk5hbWU7XG4gIH0sIHRoaXMudXBkYXRlSGV4ID0gZnVuY3Rpb24odCkge1xuICAgIHRocm93IFwidXBkYXRlSGV4KGhleCkgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGcvcHJvdjogXCIgKyB0aGlzLmFsZ05hbWUgKyBcIi9cIiArIHRoaXMucHJvdk5hbWU7XG4gIH0sIHRoaXMuZGlnZXN0ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhyb3cgXCJkaWdlc3QoKSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZy9wcm92OiBcIiArIHRoaXMuYWxnTmFtZSArIFwiL1wiICsgdGhpcy5wcm92TmFtZTtcbiAgfSwgdGhpcy5kaWdlc3RTdHJpbmcgPSBmdW5jdGlvbih0KSB7XG4gICAgdGhyb3cgXCJkaWdlc3RTdHJpbmcoc3RyKSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZy9wcm92OiBcIiArIHRoaXMuYWxnTmFtZSArIFwiL1wiICsgdGhpcy5wcm92TmFtZTtcbiAgfSwgdGhpcy5kaWdlc3RIZXggPSBmdW5jdGlvbih0KSB7XG4gICAgdGhyb3cgXCJkaWdlc3RIZXgoaGV4KSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZy9wcm92OiBcIiArIHRoaXMuYWxnTmFtZSArIFwiL1wiICsgdGhpcy5wcm92TmFtZTtcbiAgfSwgZSAhPT0gdm9pZCAwICYmIGUuYWxnICE9PSB2b2lkIDAgJiYgKHRoaXMuYWxnTmFtZSA9IGUuYWxnLCBlLnByb3YgPT09IHZvaWQgMCAmJiAodGhpcy5wcm92TmFtZSA9IGEuY3J5cHRvLlV0aWwuREVGQVVMVFBST1ZJREVSW3RoaXMuYWxnTmFtZV0pLCB0aGlzLnNldEFsZ0FuZFByb3ZpZGVyKHRoaXMuYWxnTmFtZSwgdGhpcy5wcm92TmFtZSkpO1xufTtcbmEuY3J5cHRvLk1lc3NhZ2VEaWdlc3QuZ2V0Q2Fub25pY2FsQWxnTmFtZSA9IGZ1bmN0aW9uKGUpIHtcbiAgcmV0dXJuIHR5cGVvZiBlID09IFwic3RyaW5nXCIgJiYgKGUgPSBlLnRvTG93ZXJDYXNlKCksIGUgPSBlLnJlcGxhY2UoLy0vLCBcIlwiKSksIGU7XG59O1xuYS5jcnlwdG8uTWVzc2FnZURpZ2VzdC5nZXRIYXNoTGVuZ3RoID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IGEuY3J5cHRvLk1lc3NhZ2VEaWdlc3QsIHIgPSB0LmdldENhbm9uaWNhbEFsZ05hbWUoZSk7XG4gIGlmICh0LkhBU0hMRU5HVEhbcl0gPT09IHZvaWQgMClcbiAgICB0aHJvdyBcIm5vdCBzdXBwb3J0ZWQgYWxnb3JpdGhtOiBcIiArIGU7XG4gIHJldHVybiB0LkhBU0hMRU5HVEhbcl07XG59O1xuYS5jcnlwdG8uTWVzc2FnZURpZ2VzdC5IQVNITEVOR1RIID0geyBtZDU6IDE2LCBzaGExOiAyMCwgc2hhMjI0OiAyOCwgc2hhMjU2OiAzMiwgc2hhMzg0OiA0OCwgc2hhNTEyOiA2NCwgcmlwZW1kMTYwOiAyMCB9O1xuYS5jcnlwdG8uTWFjID0gZnVuY3Rpb24oZSkge1xuICB0aGlzLnNldEFsZ0FuZFByb3ZpZGVyID0gZnVuY3Rpb24odCwgcikge1xuICAgIGlmICh0ID0gdC50b0xvd2VyQ2FzZSgpLCB0ID09IG51bGwgJiYgKHQgPSBcImhtYWNzaGExXCIpLCB0ID0gdC50b0xvd2VyQ2FzZSgpLCB0LnN1YnN0cigwLCA0KSAhPSBcImhtYWNcIilcbiAgICAgIHRocm93IFwic2V0QWxnQW5kUHJvdmlkZXIgdW5zdXBwb3J0ZWQgSE1BQyBhbGc6IFwiICsgdDtcbiAgICByID09PSB2b2lkIDAgJiYgKHIgPSBhLmNyeXB0by5VdGlsLkRFRkFVTFRQUk9WSURFUlt0XSksIHRoaXMuYWxnUHJvdiA9IHQgKyBcIi9cIiArIHI7XG4gICAgdmFyIGkgPSB0LnN1YnN0cig0KTtcbiAgICBpZiAoXCI6bWQ1OnNoYTE6c2hhMjI0OnNoYTI1NjpzaGEzODQ6c2hhNTEyOnJpcGVtZDE2MDpcIi5pbmRleE9mKGkpICE9IC0xICYmIHIgPT0gXCJjcnlwdG9qc1wiKSB7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgcyA9IGEuY3J5cHRvLlV0aWwuQ1JZUFRPSlNNRVNTQUdFRElHRVNUTkFNRVtpXTtcbiAgICAgICAgdGhpcy5tYWMgPSBLLmFsZ28uSE1BQy5jcmVhdGUocywgdGhpcy5wYXNzKTtcbiAgICAgIH0gY2F0Y2ggKG4pIHtcbiAgICAgICAgdGhyb3cgXCJzZXRBbGdBbmRQcm92aWRlciBoYXNoIGFsZyBzZXQgZmFpbCBoYXNoQWxnPVwiICsgaSArIFwiL1wiICsgbjtcbiAgICAgIH1cbiAgICAgIHRoaXMudXBkYXRlU3RyaW5nID0gZnVuY3Rpb24obikge1xuICAgICAgICB0aGlzLm1hYy51cGRhdGUobik7XG4gICAgICB9LCB0aGlzLnVwZGF0ZUhleCA9IGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgdmFyIGggPSBLLmVuYy5IZXgucGFyc2Uobik7XG4gICAgICAgIHRoaXMubWFjLnVwZGF0ZShoKTtcbiAgICAgIH0sIHRoaXMuZG9GaW5hbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbiA9IHRoaXMubWFjLmZpbmFsaXplKCk7XG4gICAgICAgIHJldHVybiBuLnRvU3RyaW5nKEsuZW5jLkhleCk7XG4gICAgICB9LCB0aGlzLmRvRmluYWxTdHJpbmcgPSBmdW5jdGlvbihuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZVN0cmluZyhuKSwgdGhpcy5kb0ZpbmFsKCk7XG4gICAgICB9LCB0aGlzLmRvRmluYWxIZXggPSBmdW5jdGlvbihuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZUhleChuKSwgdGhpcy5kb0ZpbmFsKCk7XG4gICAgICB9O1xuICAgIH1cbiAgfSwgdGhpcy51cGRhdGVTdHJpbmcgPSBmdW5jdGlvbih0KSB7XG4gICAgdGhyb3cgXCJ1cGRhdGVTdHJpbmcoc3RyKSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZy9wcm92OiBcIiArIHRoaXMuYWxnUHJvdjtcbiAgfSwgdGhpcy51cGRhdGVIZXggPSBmdW5jdGlvbih0KSB7XG4gICAgdGhyb3cgXCJ1cGRhdGVIZXgoaGV4KSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZy9wcm92OiBcIiArIHRoaXMuYWxnUHJvdjtcbiAgfSwgdGhpcy5kb0ZpbmFsID0gZnVuY3Rpb24oKSB7XG4gICAgdGhyb3cgXCJkaWdlc3QoKSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZy9wcm92OiBcIiArIHRoaXMuYWxnUHJvdjtcbiAgfSwgdGhpcy5kb0ZpbmFsU3RyaW5nID0gZnVuY3Rpb24odCkge1xuICAgIHRocm93IFwiZGlnZXN0U3RyaW5nKHN0cikgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGcvcHJvdjogXCIgKyB0aGlzLmFsZ1Byb3Y7XG4gIH0sIHRoaXMuZG9GaW5hbEhleCA9IGZ1bmN0aW9uKHQpIHtcbiAgICB0aHJvdyBcImRpZ2VzdEhleChoZXgpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnL3Byb3Y6IFwiICsgdGhpcy5hbGdQcm92O1xuICB9LCB0aGlzLnNldFBhc3N3b3JkID0gZnVuY3Rpb24odCkge1xuICAgIGlmICh0eXBlb2YgdCA9PSBcInN0cmluZ1wiKSB7XG4gICAgICB2YXIgciA9IHQ7XG4gICAgICAodC5sZW5ndGggJSAyID09IDEgfHwgIXQubWF0Y2goL15bMC05QS1GYS1mXSskLykpICYmIChyID0gUGUodCkpLCB0aGlzLnBhc3MgPSBLLmVuYy5IZXgucGFyc2Uocik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdCAhPSBcIm9iamVjdFwiKVxuICAgICAgdGhyb3cgXCJLSlVSLmNyeXB0by5NYWMgdW5zdXBwb3J0ZWQgcGFzc3dvcmQgdHlwZTogXCIgKyB0O1xuICAgIHZhciByID0gbnVsbDtcbiAgICBpZiAodC5oZXggIT09IHZvaWQgMCkge1xuICAgICAgaWYgKHQuaGV4Lmxlbmd0aCAlIDIgIT0gMCB8fCAhdC5oZXgubWF0Y2goL15bMC05QS1GYS1mXSskLykpXG4gICAgICAgIHRocm93IFwiTWFjOiB3cm9uZyBoZXggcGFzc3dvcmQ6IFwiICsgdC5oZXg7XG4gICAgICByID0gdC5oZXg7XG4gICAgfVxuICAgIGlmICh0LnV0ZjggIT09IHZvaWQgMCAmJiAociA9IGh0KHQudXRmOCkpLCB0LnJzdHIgIT09IHZvaWQgMCAmJiAociA9IFBlKHQucnN0cikpLCB0LmI2NCAhPT0gdm9pZCAwICYmIChyID0gaXQodC5iNjQpKSwgdC5iNjR1ICE9PSB2b2lkIDAgJiYgKHIgPSBZKHQuYjY0dSkpLCByID09IG51bGwpXG4gICAgICB0aHJvdyBcIktKVVIuY3J5cHRvLk1hYyB1bnN1cHBvcnRlZCBwYXNzd29yZCB0eXBlOiBcIiArIHQ7XG4gICAgdGhpcy5wYXNzID0gSy5lbmMuSGV4LnBhcnNlKHIpO1xuICB9LCBlICE9PSB2b2lkIDAgJiYgKGUucGFzcyAhPT0gdm9pZCAwICYmIHRoaXMuc2V0UGFzc3dvcmQoZS5wYXNzKSwgZS5hbGcgIT09IHZvaWQgMCAmJiAodGhpcy5hbGdOYW1lID0gZS5hbGcsIGUucHJvdiA9PT0gdm9pZCAwICYmICh0aGlzLnByb3ZOYW1lID0gYS5jcnlwdG8uVXRpbC5ERUZBVUxUUFJPVklERVJbdGhpcy5hbGdOYW1lXSksIHRoaXMuc2V0QWxnQW5kUHJvdmlkZXIodGhpcy5hbGdOYW1lLCB0aGlzLnByb3ZOYW1lKSkpO1xufTtcbmEuY3J5cHRvLlNpZ25hdHVyZSA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBudWxsO1xuICBpZiAodGhpcy5fc2V0QWxnTmFtZXMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgciA9IHRoaXMuYWxnTmFtZS5tYXRjaCgvXiguKyl3aXRoKC4rKSQvKTtcbiAgICByICYmICh0aGlzLm1kQWxnTmFtZSA9IHJbMV0udG9Mb3dlckNhc2UoKSwgdGhpcy5wdWJrZXlBbGdOYW1lID0gclsyXS50b0xvd2VyQ2FzZSgpLCB0aGlzLnB1YmtleUFsZ05hbWUgPT0gXCJyc2FhbmRtZ2YxXCIgJiYgdGhpcy5tZEFsZ05hbWUgPT0gXCJzaGFcIiAmJiAodGhpcy5tZEFsZ05hbWUgPSBcInNoYTFcIikpO1xuICB9LCB0aGlzLl96ZXJvUGFkZGluZ09mU2lnbmF0dXJlID0gZnVuY3Rpb24ociwgaSkge1xuICAgIGZvciAodmFyIHMgPSBcIlwiLCBuID0gaSAvIDQgLSByLmxlbmd0aCwgaCA9IDA7IGggPCBuOyBoKyspXG4gICAgICBzID0gcyArIFwiMFwiO1xuICAgIHJldHVybiBzICsgcjtcbiAgfSwgdGhpcy5zZXRBbGdBbmRQcm92aWRlciA9IGZ1bmN0aW9uKHIsIGkpIHtcbiAgICBpZiAodGhpcy5fc2V0QWxnTmFtZXMoKSwgaSAhPSBcImNyeXB0b2pzL2pzcnNhXCIpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJwcm92aWRlciBub3Qgc3VwcG9ydGVkOiBcIiArIGkpO1xuICAgIGlmIChcIjptZDU6c2hhMTpzaGEyMjQ6c2hhMjU2OnNoYTM4NDpzaGE1MTI6cmlwZW1kMTYwOlwiLmluZGV4T2YodGhpcy5tZEFsZ05hbWUpICE9IC0xKSB7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLm1kID0gbmV3IGEuY3J5cHRvLk1lc3NhZ2VEaWdlc3QoeyBhbGc6IHRoaXMubWRBbGdOYW1lIH0pO1xuICAgICAgfSBjYXRjaCAocykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJzZXRBbGdBbmRQcm92aWRlciBoYXNoIGFsZyBzZXQgZmFpbCBhbGc9XCIgKyB0aGlzLm1kQWxnTmFtZSArIFwiL1wiICsgcyk7XG4gICAgICB9XG4gICAgICB0aGlzLmluaXQgPSBmdW5jdGlvbihzLCBuKSB7XG4gICAgICAgIHZhciBoID0gbnVsbDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBuID09PSB2b2lkIDAgPyBoID0gay5nZXRLZXkocykgOiBoID0gay5nZXRLZXkocywgbik7XG4gICAgICAgIH0gY2F0Y2ggKHUpIHtcbiAgICAgICAgICB0aHJvdyBcImluaXQgZmFpbGVkOlwiICsgdTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaC5pc1ByaXZhdGUgPT09ICEwKVxuICAgICAgICAgIHRoaXMucHJ2S2V5ID0gaCwgdGhpcy5zdGF0ZSA9IFwiU0lHTlwiO1xuICAgICAgICBlbHNlIGlmIChoLmlzUHVibGljID09PSAhMClcbiAgICAgICAgICB0aGlzLnB1YktleSA9IGgsIHRoaXMuc3RhdGUgPSBcIlZFUklGWVwiO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgdGhyb3cgXCJpbml0IGZhaWxlZC46XCIgKyBoO1xuICAgICAgfSwgdGhpcy51cGRhdGVTdHJpbmcgPSBmdW5jdGlvbihzKSB7XG4gICAgICAgIHRoaXMubWQudXBkYXRlU3RyaW5nKHMpO1xuICAgICAgfSwgdGhpcy51cGRhdGVIZXggPSBmdW5jdGlvbihzKSB7XG4gICAgICAgIHRoaXMubWQudXBkYXRlSGV4KHMpO1xuICAgICAgfSwgdGhpcy5zaWduID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLnNIYXNoSGV4ID0gdGhpcy5tZC5kaWdlc3QoKSwgdGhpcy5wcnZLZXkgPT09IHZvaWQgMCAmJiB0aGlzLmVjcHJ2aGV4ICE9PSB2b2lkIDAgJiYgdGhpcy5lY2N1cnZlbmFtZSAhPT0gdm9pZCAwICYmIGEuY3J5cHRvLkVDRFNBICE9PSB2b2lkIDAgJiYgKHRoaXMucHJ2S2V5ID0gbmV3IGEuY3J5cHRvLkVDRFNBKHsgY3VydmU6IHRoaXMuZWNjdXJ2ZW5hbWUsIHBydjogdGhpcy5lY3BydmhleCB9KSksIHRoaXMucHJ2S2V5IGluc3RhbmNlb2YgcSAmJiB0aGlzLnB1YmtleUFsZ05hbWUgPT09IFwicnNhYW5kbWdmMVwiKVxuICAgICAgICAgIHRoaXMuaFNpZ24gPSB0aGlzLnBydktleS5zaWduV2l0aE1lc3NhZ2VIYXNoUFNTKHRoaXMuc0hhc2hIZXgsIHRoaXMubWRBbGdOYW1lLCB0aGlzLnBzc1NhbHRMZW4pO1xuICAgICAgICBlbHNlIGlmICh0aGlzLnBydktleSBpbnN0YW5jZW9mIHEgJiYgdGhpcy5wdWJrZXlBbGdOYW1lID09PSBcInJzYVwiKVxuICAgICAgICAgIHRoaXMuaFNpZ24gPSB0aGlzLnBydktleS5zaWduV2l0aE1lc3NhZ2VIYXNoKHRoaXMuc0hhc2hIZXgsIHRoaXMubWRBbGdOYW1lKTtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5wcnZLZXkgaW5zdGFuY2VvZiBhLmNyeXB0by5FQ0RTQSlcbiAgICAgICAgICB0aGlzLmhTaWduID0gdGhpcy5wcnZLZXkuc2lnbldpdGhNZXNzYWdlSGFzaCh0aGlzLnNIYXNoSGV4KTtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5wcnZLZXkgaW5zdGFuY2VvZiBhLmNyeXB0by5EU0EpXG4gICAgICAgICAgdGhpcy5oU2lnbiA9IHRoaXMucHJ2S2V5LnNpZ25XaXRoTWVzc2FnZUhhc2godGhpcy5zSGFzaEhleCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICB0aHJvdyBcIlNpZ25hdHVyZTogdW5zdXBwb3J0ZWQgcHJpdmF0ZSBrZXkgYWxnOiBcIiArIHRoaXMucHVia2V5QWxnTmFtZTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaFNpZ247XG4gICAgICB9LCB0aGlzLnNpZ25TdHJpbmcgPSBmdW5jdGlvbihzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZVN0cmluZyhzKSwgdGhpcy5zaWduKCk7XG4gICAgICB9LCB0aGlzLnNpZ25IZXggPSBmdW5jdGlvbihzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZUhleChzKSwgdGhpcy5zaWduKCk7XG4gICAgICB9LCB0aGlzLnZlcmlmeSA9IGZ1bmN0aW9uKHMpIHtcbiAgICAgICAgaWYgKHRoaXMuc0hhc2hIZXggPSB0aGlzLm1kLmRpZ2VzdCgpLCB0aGlzLnB1YktleSA9PT0gdm9pZCAwICYmIHRoaXMuZWNwdWJoZXggIT09IHZvaWQgMCAmJiB0aGlzLmVjY3VydmVuYW1lICE9PSB2b2lkIDAgJiYgYS5jcnlwdG8uRUNEU0EgIT09IHZvaWQgMCAmJiAodGhpcy5wdWJLZXkgPSBuZXcgYS5jcnlwdG8uRUNEU0EoeyBjdXJ2ZTogdGhpcy5lY2N1cnZlbmFtZSwgcHViOiB0aGlzLmVjcHViaGV4IH0pKSwgdGhpcy5wdWJLZXkgaW5zdGFuY2VvZiBxICYmIHRoaXMucHVia2V5QWxnTmFtZSA9PT0gXCJyc2FhbmRtZ2YxXCIpXG4gICAgICAgICAgcmV0dXJuIHRoaXMucHViS2V5LnZlcmlmeVdpdGhNZXNzYWdlSGFzaFBTUyh0aGlzLnNIYXNoSGV4LCBzLCB0aGlzLm1kQWxnTmFtZSwgdGhpcy5wc3NTYWx0TGVuKTtcbiAgICAgICAgaWYgKHRoaXMucHViS2V5IGluc3RhbmNlb2YgcSAmJiB0aGlzLnB1YmtleUFsZ05hbWUgPT09IFwicnNhXCIpXG4gICAgICAgICAgcmV0dXJuIHRoaXMucHViS2V5LnZlcmlmeVdpdGhNZXNzYWdlSGFzaCh0aGlzLnNIYXNoSGV4LCBzKTtcbiAgICAgICAgaWYgKGEuY3J5cHRvLkVDRFNBICE9PSB2b2lkIDAgJiYgdGhpcy5wdWJLZXkgaW5zdGFuY2VvZiBhLmNyeXB0by5FQ0RTQSlcbiAgICAgICAgICByZXR1cm4gdGhpcy5wdWJLZXkudmVyaWZ5V2l0aE1lc3NhZ2VIYXNoKHRoaXMuc0hhc2hIZXgsIHMpO1xuICAgICAgICBpZiAoYS5jcnlwdG8uRFNBICE9PSB2b2lkIDAgJiYgdGhpcy5wdWJLZXkgaW5zdGFuY2VvZiBhLmNyeXB0by5EU0EpXG4gICAgICAgICAgcmV0dXJuIHRoaXMucHViS2V5LnZlcmlmeVdpdGhNZXNzYWdlSGFzaCh0aGlzLnNIYXNoSGV4LCBzKTtcbiAgICAgICAgdGhyb3cgXCJTaWduYXR1cmU6IHVuc3VwcG9ydGVkIHB1YmxpYyBrZXkgYWxnOiBcIiArIHRoaXMucHVia2V5QWxnTmFtZTtcbiAgICAgIH07XG4gICAgfVxuICB9LCB0aGlzLmluaXQgPSBmdW5jdGlvbihyLCBpKSB7XG4gICAgdGhyb3cgXCJpbml0KGtleSwgcGFzcykgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGc6cHJvdj1cIiArIHRoaXMuYWxnUHJvdk5hbWU7XG4gIH0sIHRoaXMudXBkYXRlU3RyaW5nID0gZnVuY3Rpb24ocikge1xuICAgIHRocm93IFwidXBkYXRlU3RyaW5nKHN0cikgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGc6cHJvdj1cIiArIHRoaXMuYWxnUHJvdk5hbWU7XG4gIH0sIHRoaXMudXBkYXRlSGV4ID0gZnVuY3Rpb24ocikge1xuICAgIHRocm93IFwidXBkYXRlSGV4KGhleCkgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGc6cHJvdj1cIiArIHRoaXMuYWxnUHJvdk5hbWU7XG4gIH0sIHRoaXMuc2lnbiA9IGZ1bmN0aW9uKCkge1xuICAgIHRocm93IFwic2lnbigpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnOnByb3Y9XCIgKyB0aGlzLmFsZ1Byb3ZOYW1lO1xuICB9LCB0aGlzLnNpZ25TdHJpbmcgPSBmdW5jdGlvbihyKSB7XG4gICAgdGhyb3cgXCJkaWdlc3RTdHJpbmcoc3RyKSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZzpwcm92PVwiICsgdGhpcy5hbGdQcm92TmFtZTtcbiAgfSwgdGhpcy5zaWduSGV4ID0gZnVuY3Rpb24ocikge1xuICAgIHRocm93IFwiZGlnZXN0SGV4KGhleCkgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGc6cHJvdj1cIiArIHRoaXMuYWxnUHJvdk5hbWU7XG4gIH0sIHRoaXMudmVyaWZ5ID0gZnVuY3Rpb24ocikge1xuICAgIHRocm93IFwidmVyaWZ5KGhTaWdWYWwpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnOnByb3Y9XCIgKyB0aGlzLmFsZ1Byb3ZOYW1lO1xuICB9LCB0aGlzLmluaXRQYXJhbXMgPSBlLCBlICE9PSB2b2lkIDAgJiYgKGUuYWxnICE9PSB2b2lkIDAgJiYgKHRoaXMuYWxnTmFtZSA9IGUuYWxnLCBlLnByb3YgPT09IHZvaWQgMCA/IHRoaXMucHJvdk5hbWUgPSBhLmNyeXB0by5VdGlsLkRFRkFVTFRQUk9WSURFUlt0aGlzLmFsZ05hbWVdIDogdGhpcy5wcm92TmFtZSA9IGUucHJvdiwgdGhpcy5hbGdQcm92TmFtZSA9IHRoaXMuYWxnTmFtZSArIFwiOlwiICsgdGhpcy5wcm92TmFtZSwgdGhpcy5zZXRBbGdBbmRQcm92aWRlcih0aGlzLmFsZ05hbWUsIHRoaXMucHJvdk5hbWUpLCB0aGlzLl9zZXRBbGdOYW1lcygpKSwgZS5wc3NzYWx0bGVuICE9PSB2b2lkIDAgJiYgKHRoaXMucHNzU2FsdExlbiA9IGUucHNzc2FsdGxlbiksIGUucHJ2a2V5cGVtICE9PSB2b2lkIDApKSB7XG4gICAgaWYgKGUucHJ2a2V5cGFzICE9PSB2b2lkIDApXG4gICAgICB0aHJvdyBcImJvdGggcHJ2a2V5cGVtIGFuZCBwcnZrZXlwYXMgcGFyYW1ldGVycyBub3Qgc3VwcG9ydGVkXCI7XG4gICAgdHJ5IHtcbiAgICAgIHZhciB0ID0gay5nZXRLZXkoZS5wcnZrZXlwZW0pO1xuICAgICAgdGhpcy5pbml0KHQpO1xuICAgIH0gY2F0Y2ggKHIpIHtcbiAgICAgIHRocm93IFwiZmF0YWwgZXJyb3IgdG8gbG9hZCBwZW0gcHJpdmF0ZSBrZXk6IFwiICsgcjtcbiAgICB9XG4gIH1cbn07XG5hLmNyeXB0by5DaXBoZXIgPSBmdW5jdGlvbihlKSB7XG59O1xuYS5jcnlwdG8uQ2lwaGVyLmVuY3J5cHQgPSBmdW5jdGlvbihlLCB0LCByLCBpKSB7XG4gIGlmIChKKGksIFwiZW5jbGFnXCIpICE9IG51bGwgJiYgKHIgPSBpLmVuY2FsZyksIHR5cGVvZiByID09IFwic3RyaW5nXCIgJiYgci5zdWJzdHIoLTQpID09IFwiLUNCQ1wiKSB7XG4gICAgdmFyIHMgPSB0LCBuID0gZTtcbiAgICBKKGksIFwia2V5XCIpICE9IG51bGwgJiYgKHMgPSBpLmtleSksIEooaSwgXCJlbmNcIikgIT0gbnVsbCAmJiAoaEVuYyA9IGkuZW5jKTtcbiAgICB2YXIgaCA9IEsuZW5jLkhleC5wYXJzZShzKSwgdSA9IEsuZW5jLkhleC5wYXJzZShuKSwgcCA9IEsuZW5jLkhleC5wYXJzZShpLml2KSwgYztcbiAgICBpZiAociA9PSBcImRlcy1FREUzLUNCQ1wiKVxuICAgICAgYyA9IEsuVHJpcGxlREVTLmVuY3J5cHQodSwgaCwgeyBpdjogcCB9KTtcbiAgICBlbHNlIGlmIChyID09IFwiYWVzMTI4LUNCQ1wiIHx8IHIgPT0gXCJhZXMyNTYtQ0JDXCIpXG4gICAgICBjID0gSy5BRVMuZW5jcnlwdCh1LCBoLCB7IGl2OiBwIH0pO1xuICAgIGVsc2VcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInVuc3VwcG9ydGVkIGFsZ29yaXRobTogXCIgKyByKTtcbiAgICByZXR1cm4gYyArIFwiXCI7XG4gIH0gZWxzZVxuICAgIHRocm93IG5ldyBFcnJvcihcIkNpcGhlci5lbmNyeXB0OiB1bnN1cHBvcnRlZCBrZXkgb3IgYWxnb3JpdGhtXCIpO1xufTtcbmEuY3J5cHRvLkNpcGhlci5kZWNyeXB0ID0gZnVuY3Rpb24oZSwgdCwgciwgaSkge1xuICBpZiAoSihpLCBcImVuY2xhZ1wiKSAhPSBudWxsICYmIChyID0gaS5lbmNhbGcpLCB0eXBlb2YgciA9PSBcInN0cmluZ1wiICYmIHIuc3Vic3RyKC00KSA9PSBcIi1DQkNcIikge1xuICAgIHZhciBzID0gdCwgbiA9IGU7XG4gICAgSihpLCBcImtleVwiKSAhPSBudWxsICYmIChzID0gaS5rZXkpLCBKKGksIFwiZW5jXCIpICE9IG51bGwgJiYgKG4gPSBpLmVuYyk7XG4gICAgdmFyIGggPSBLLmVuYy5IZXgucGFyc2UocyksIHUgPSBLLmVuYy5IZXgucGFyc2UobiksIHAgPSBLLmVuYy5IZXgucGFyc2UoaS5pdiksIGM7XG4gICAgaWYgKHIgPT0gXCJkZXMtRURFMy1DQkNcIilcbiAgICAgIGMgPSBLLlRyaXBsZURFUy5kZWNyeXB0KHsgY2lwaGVydGV4dDogdSB9LCBoLCB7IGl2OiBwIH0pO1xuICAgIGVsc2UgaWYgKHIgPT0gXCJhZXMxMjgtQ0JDXCIgfHwgciA9PSBcImFlczI1Ni1DQkNcIilcbiAgICAgIGMgPSBLLkFFUy5kZWNyeXB0KHsgY2lwaGVydGV4dDogdSB9LCBoLCB7IGl2OiBwIH0pO1xuICAgIGVsc2VcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInVuc3VwcG9ydGVkIGFsZ29yaXRobTogXCIgKyByKTtcbiAgICByZXR1cm4gSy5lbmMuSGV4LnN0cmluZ2lmeShjKTtcbiAgfSBlbHNlXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ2lwaGVyLmRlY3J5cHQ6IHVuc3VwcG9ydGVkIGtleSBvciBhbGdvcml0aG1cIik7XG59O1xuYS5jcnlwdG8uT0lEID0gbmV3IGZ1bmN0aW9uKCkge1xuICB0aGlzLm9pZGhleDJuYW1lID0geyBcIjJhODY0ODg2ZjcwZDAxMDEwMVwiOiBcInJzYUVuY3J5cHRpb25cIiwgXCIyYTg2NDhjZTNkMDIwMVwiOiBcImVjUHVibGljS2V5XCIsIFwiMmE4NjQ4Y2UzODA0MDFcIjogXCJkc2FcIiwgXCIyYTg2NDhjZTNkMDMwMTA3XCI6IFwic2VjcDI1NnIxXCIsIFwiMmI4MTA0MDAxZlwiOiBcInNlY3AxOTJrMVwiLCBcIjJiODEwNDAwMjFcIjogXCJzZWNwMjI0cjFcIiwgXCIyYjgxMDQwMDBhXCI6IFwic2VjcDI1NmsxXCIsIFwiMmI4MTA0MDAyMlwiOiBcInNlY3AzODRyMVwiLCBcIjJiODEwNDAwMjNcIjogXCJzZWNwNTIxcjFcIiwgXCIyYTg2NDhjZTM4MDQwM1wiOiBcIlNIQTF3aXRoRFNBXCIsIFwiNjA4NjQ4MDE2NTAzMDQwMzAxXCI6IFwiU0hBMjI0d2l0aERTQVwiLCBcIjYwODY0ODAxNjUwMzA0MDMwMlwiOiBcIlNIQTI1NndpdGhEU0FcIiB9O1xufSgpO1xuKHR5cGVvZiBhID4gXCJ1XCIgfHwgIWEpICYmIChhID0ge30pO1xuKHR5cGVvZiBhLmNyeXB0byA+IFwidVwiIHx8ICFhLmNyeXB0bykgJiYgKGEuY3J5cHRvID0ge30pO1xuYS5jcnlwdG8uRUNEU0EgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gXCJzZWNwMjU2cjFcIiwgciA9IEVycm9yLCBpID0gUiwgcyA9IHosIG4gPSBhLmNyeXB0by5FQ0RTQSwgaCA9IGEuY3J5cHRvLkVDUGFyYW1ldGVyREIsIHUgPSBuLmdldE5hbWUsIHAgPSBWLCBjID0gcC5nZXRWYnlMaXN0RXgsIHkgPSBwLmlzQVNOMUhFWCwgdiA9IG5ldyBHZSgpO1xuICB0aGlzLnR5cGUgPSBcIkVDXCIsIHRoaXMuaXNQcml2YXRlID0gITEsIHRoaXMuaXNQdWJsaWMgPSAhMSwgdGhpcy5nZXRCaWdSYW5kb20gPSBmdW5jdGlvbihvKSB7XG4gICAgcmV0dXJuIG5ldyBpKG8uYml0TGVuZ3RoKCksIHYpLm1vZChvLnN1YnRyYWN0KGkuT05FKSkuYWRkKGkuT05FKTtcbiAgfSwgdGhpcy5zZXROYW1lZEN1cnZlID0gZnVuY3Rpb24obykge1xuICAgIHRoaXMuZWNwYXJhbXMgPSBoLmdldEJ5TmFtZShvKSwgdGhpcy5wcnZLZXlIZXggPSBudWxsLCB0aGlzLnB1YktleUhleCA9IG51bGwsIHRoaXMuY3VydmVOYW1lID0gbztcbiAgfSwgdGhpcy5zZXRQcml2YXRlS2V5SGV4ID0gZnVuY3Rpb24obykge1xuICAgIHRoaXMuaXNQcml2YXRlID0gITAsIHRoaXMucHJ2S2V5SGV4ID0gbztcbiAgfSwgdGhpcy5zZXRQdWJsaWNLZXlIZXggPSBmdW5jdGlvbihvKSB7XG4gICAgdGhpcy5pc1B1YmxpYyA9ICEwLCB0aGlzLnB1YktleUhleCA9IG87XG4gIH0sIHRoaXMuZ2V0UHVibGljS2V5WFlIZXggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbyA9IHRoaXMucHViS2V5SGV4O1xuICAgIGlmIChvLnN1YnN0cigwLCAyKSAhPT0gXCIwNFwiKVxuICAgICAgdGhyb3cgXCJ0aGlzIG1ldGhvZCBzdXBwb3J0cyB1bmNvbXByZXNzZWQgZm9ybWF0KDA0KSBvbmx5XCI7XG4gICAgdmFyIGwgPSB0aGlzLmVjcGFyYW1zLmtleWNoYXJsZW47XG4gICAgaWYgKG8ubGVuZ3RoICE9PSAyICsgbCAqIDIpXG4gICAgICB0aHJvdyBcIm1hbGZvcm1lZCBwdWJsaWMga2V5IGhleCBsZW5ndGhcIjtcbiAgICB2YXIgZiA9IHt9O1xuICAgIHJldHVybiBmLnggPSBvLnN1YnN0cigyLCBsKSwgZi55ID0gby5zdWJzdHIoMiArIGwpLCBmO1xuICB9LCB0aGlzLmdldFNob3J0TklTVFBDdXJ2ZU5hbWUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbyA9IHRoaXMuY3VydmVOYW1lO1xuICAgIHJldHVybiBvID09PSBcInNlY3AyNTZyMVwiIHx8IG8gPT09IFwiTklTVCBQLTI1NlwiIHx8IG8gPT09IFwiUC0yNTZcIiB8fCBvID09PSBcInByaW1lMjU2djFcIiA/IFwiUC0yNTZcIiA6IG8gPT09IFwic2VjcDM4NHIxXCIgfHwgbyA9PT0gXCJOSVNUIFAtMzg0XCIgfHwgbyA9PT0gXCJQLTM4NFwiID8gXCJQLTM4NFwiIDogbyA9PT0gXCJzZWNwNTIxcjFcIiB8fCBvID09PSBcIk5JU1QgUC01MjFcIiB8fCBvID09PSBcIlAtNTIxXCIgPyBcIlAtNTIxXCIgOiBudWxsO1xuICB9LCB0aGlzLmdlbmVyYXRlS2V5UGFpckhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBvID0gdGhpcy5lY3BhcmFtcy5uLCBsID0gdGhpcy5nZXRCaWdSYW5kb20obyksIGYgPSB0aGlzLmVjcGFyYW1zLmtleWNoYXJsZW4sIGQgPSAoXCIwMDAwMDAwMDAwXCIgKyBsLnRvU3RyaW5nKDE2KSkuc2xpY2UoLWYpO1xuICAgIHRoaXMuc2V0UHJpdmF0ZUtleUhleChkKTtcbiAgICB2YXIgZyA9IHRoaXMuZ2VuZXJhdGVQdWJsaWNLZXlIZXgoKTtcbiAgICByZXR1cm4geyBlY3BydmhleDogZCwgZWNwdWJoZXg6IGcgfTtcbiAgfSwgdGhpcy5nZW5lcmF0ZVB1YmxpY0tleUhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBvID0gbmV3IGkodGhpcy5wcnZLZXlIZXgsIDE2KSwgbCA9IHRoaXMuZWNwYXJhbXMuRy5tdWx0aXBseShvKSwgZiA9IGwuZ2V0WCgpLnRvQmlnSW50ZWdlcigpLCBkID0gbC5nZXRZKCkudG9CaWdJbnRlZ2VyKCksIGcgPSB0aGlzLmVjcGFyYW1zLmtleWNoYXJsZW4sIFMgPSAoXCIwMDAwMDAwMDAwXCIgKyBmLnRvU3RyaW5nKDE2KSkuc2xpY2UoLWcpLCBiID0gKFwiMDAwMDAwMDAwMFwiICsgZC50b1N0cmluZygxNikpLnNsaWNlKC1nKSwgRCA9IFwiMDRcIiArIFMgKyBiO1xuICAgIHJldHVybiB0aGlzLnNldFB1YmxpY0tleUhleChEKSwgRDtcbiAgfSwgdGhpcy5zaWduV2l0aE1lc3NhZ2VIYXNoID0gZnVuY3Rpb24obykge1xuICAgIHJldHVybiB0aGlzLnNpZ25IZXgobywgdGhpcy5wcnZLZXlIZXgpO1xuICB9LCB0aGlzLnNpZ25IZXggPSBmdW5jdGlvbihvLCBsKSB7XG4gICAgdmFyIGYgPSBuZXcgaShsLCAxNiksIGQgPSB0aGlzLmVjcGFyYW1zLm4sIGcgPSBuZXcgaShvLnN1YnN0cmluZygwLCB0aGlzLmVjcGFyYW1zLmtleWNoYXJsZW4pLCAxNik7XG4gICAgZG9cbiAgICAgIHZhciBTID0gdGhpcy5nZXRCaWdSYW5kb20oZCksIGIgPSB0aGlzLmVjcGFyYW1zLkcsIEQgPSBiLm11bHRpcGx5KFMpLCBBID0gRC5nZXRYKCkudG9CaWdJbnRlZ2VyKCkubW9kKGQpO1xuICAgIHdoaWxlIChBLmNvbXBhcmVUbyhpLlpFUk8pIDw9IDApO1xuICAgIHZhciBJID0gUy5tb2RJbnZlcnNlKGQpLm11bHRpcGx5KGcuYWRkKGYubXVsdGlwbHkoQSkpKS5tb2QoZCk7XG4gICAgcmV0dXJuIG4uYmlSU1NpZ1RvQVNOMVNpZyhBLCBJKTtcbiAgfSwgdGhpcy5zaWduID0gZnVuY3Rpb24obywgbCkge1xuICAgIHZhciBmID0gbCwgZCA9IHRoaXMuZWNwYXJhbXMubiwgZyA9IGkuZnJvbUJ5dGVBcnJheVVuc2lnbmVkKG8pO1xuICAgIGRvXG4gICAgICB2YXIgUyA9IHRoaXMuZ2V0QmlnUmFuZG9tKGQpLCBiID0gdGhpcy5lY3BhcmFtcy5HLCBEID0gYi5tdWx0aXBseShTKSwgQSA9IEQuZ2V0WCgpLnRvQmlnSW50ZWdlcigpLm1vZChkKTtcbiAgICB3aGlsZSAoQS5jb21wYXJlVG8oUi5aRVJPKSA8PSAwKTtcbiAgICB2YXIgSSA9IFMubW9kSW52ZXJzZShkKS5tdWx0aXBseShnLmFkZChmLm11bHRpcGx5KEEpKSkubW9kKGQpO1xuICAgIHJldHVybiB0aGlzLnNlcmlhbGl6ZVNpZyhBLCBJKTtcbiAgfSwgdGhpcy52ZXJpZnlXaXRoTWVzc2FnZUhhc2ggPSBmdW5jdGlvbihvLCBsKSB7XG4gICAgcmV0dXJuIHRoaXMudmVyaWZ5SGV4KG8sIGwsIHRoaXMucHViS2V5SGV4KTtcbiAgfSwgdGhpcy52ZXJpZnlIZXggPSBmdW5jdGlvbihvLCBsLCBmKSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBkLCBnLCBTID0gbi5wYXJzZVNpZ0hleChsKTtcbiAgICAgIGQgPSBTLnIsIGcgPSBTLnM7XG4gICAgICB2YXIgYiA9IHMuZGVjb2RlRnJvbUhleCh0aGlzLmVjcGFyYW1zLmN1cnZlLCBmKSwgRCA9IG5ldyBpKG8uc3Vic3RyaW5nKDAsIHRoaXMuZWNwYXJhbXMua2V5Y2hhcmxlbiksIDE2KTtcbiAgICAgIHJldHVybiB0aGlzLnZlcmlmeVJhdyhELCBkLCBnLCBiKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gIH0sIHRoaXMudmVyaWZ5ID0gZnVuY3Rpb24obywgbCwgZikge1xuICAgIHZhciBkLCBnO1xuICAgIGlmIChCaXRjb2luLlV0aWwuaXNBcnJheShsKSkge1xuICAgICAgdmFyIFMgPSB0aGlzLnBhcnNlU2lnKGwpO1xuICAgICAgZCA9IFMuciwgZyA9IFMucztcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBsID09IFwib2JqZWN0XCIgJiYgbC5yICYmIGwucylcbiAgICAgIGQgPSBsLnIsIGcgPSBsLnM7XG4gICAgZWxzZVxuICAgICAgdGhyb3cgXCJJbnZhbGlkIHZhbHVlIGZvciBzaWduYXR1cmVcIjtcbiAgICB2YXIgYjtcbiAgICBpZiAoZiBpbnN0YW5jZW9mIHopXG4gICAgICBiID0gZjtcbiAgICBlbHNlIGlmIChCaXRjb2luLlV0aWwuaXNBcnJheShmKSlcbiAgICAgIGIgPSBzLmRlY29kZUZyb20odGhpcy5lY3BhcmFtcy5jdXJ2ZSwgZik7XG4gICAgZWxzZVxuICAgICAgdGhyb3cgXCJJbnZhbGlkIGZvcm1hdCBmb3IgcHVia2V5IHZhbHVlLCBtdXN0IGJlIGJ5dGUgYXJyYXkgb3IgRUNQb2ludEZwXCI7XG4gICAgdmFyIEQgPSBpLmZyb21CeXRlQXJyYXlVbnNpZ25lZChvKTtcbiAgICByZXR1cm4gdGhpcy52ZXJpZnlSYXcoRCwgZCwgZywgYik7XG4gIH0sIHRoaXMudmVyaWZ5UmF3ID0gZnVuY3Rpb24obywgbCwgZiwgZCkge1xuICAgIHZhciBnID0gdGhpcy5lY3BhcmFtcy5uLCBTID0gdGhpcy5lY3BhcmFtcy5HO1xuICAgIGlmIChsLmNvbXBhcmVUbyhpLk9ORSkgPCAwIHx8IGwuY29tcGFyZVRvKGcpID49IDAgfHwgZi5jb21wYXJlVG8oaS5PTkUpIDwgMCB8fCBmLmNvbXBhcmVUbyhnKSA+PSAwKVxuICAgICAgcmV0dXJuICExO1xuICAgIHZhciBiID0gZi5tb2RJbnZlcnNlKGcpLCBEID0gby5tdWx0aXBseShiKS5tb2QoZyksIEEgPSBsLm11bHRpcGx5KGIpLm1vZChnKSwgSSA9IFMubXVsdGlwbHkoRCkuYWRkKGQubXVsdGlwbHkoQSkpLCBtID0gSS5nZXRYKCkudG9CaWdJbnRlZ2VyKCkubW9kKGcpO1xuICAgIHJldHVybiBtLmVxdWFscyhsKTtcbiAgfSwgdGhpcy5zZXJpYWxpemVTaWcgPSBmdW5jdGlvbihvLCBsKSB7XG4gICAgdmFyIGYgPSBvLnRvQnl0ZUFycmF5U2lnbmVkKCksIGQgPSBsLnRvQnl0ZUFycmF5U2lnbmVkKCksIGcgPSBbXTtcbiAgICByZXR1cm4gZy5wdXNoKDIpLCBnLnB1c2goZi5sZW5ndGgpLCBnID0gZy5jb25jYXQoZiksIGcucHVzaCgyKSwgZy5wdXNoKGQubGVuZ3RoKSwgZyA9IGcuY29uY2F0KGQpLCBnLnVuc2hpZnQoZy5sZW5ndGgpLCBnLnVuc2hpZnQoNDgpLCBnO1xuICB9LCB0aGlzLnBhcnNlU2lnID0gZnVuY3Rpb24obykge1xuICAgIHZhciBsO1xuICAgIGlmIChvWzBdICE9IDQ4KVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU2lnbmF0dXJlIG5vdCBhIHZhbGlkIERFUlNlcXVlbmNlXCIpO1xuICAgIGlmIChsID0gMiwgb1tsXSAhPSAyKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmlyc3QgZWxlbWVudCBpbiBzaWduYXR1cmUgbXVzdCBiZSBhIERFUkludGVnZXJcIik7XG4gICAgdmFyIGYgPSBvLnNsaWNlKGwgKyAyLCBsICsgMiArIG9bbCArIDFdKTtcbiAgICBpZiAobCArPSAyICsgb1tsICsgMV0sIG9bbF0gIT0gMilcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlNlY29uZCBlbGVtZW50IGluIHNpZ25hdHVyZSBtdXN0IGJlIGEgREVSSW50ZWdlclwiKTtcbiAgICB2YXIgZCA9IG8uc2xpY2UobCArIDIsIGwgKyAyICsgb1tsICsgMV0pO1xuICAgIGwgKz0gMiArIG9bbCArIDFdO1xuICAgIHZhciBnID0gaS5mcm9tQnl0ZUFycmF5VW5zaWduZWQoZiksIFMgPSBpLmZyb21CeXRlQXJyYXlVbnNpZ25lZChkKTtcbiAgICByZXR1cm4geyByOiBnLCBzOiBTIH07XG4gIH0sIHRoaXMucGFyc2VTaWdDb21wYWN0ID0gZnVuY3Rpb24obykge1xuICAgIGlmIChvLmxlbmd0aCAhPT0gNjUpXG4gICAgICB0aHJvdyBcIlNpZ25hdHVyZSBoYXMgdGhlIHdyb25nIGxlbmd0aFwiO1xuICAgIHZhciBsID0gb1swXSAtIDI3O1xuICAgIGlmIChsIDwgMCB8fCBsID4gNylcbiAgICAgIHRocm93IFwiSW52YWxpZCBzaWduYXR1cmUgdHlwZVwiO1xuICAgIHZhciBmID0gdGhpcy5lY3BhcmFtcy5uLCBkID0gaS5mcm9tQnl0ZUFycmF5VW5zaWduZWQoby5zbGljZSgxLCAzMykpLm1vZChmKSwgZyA9IGkuZnJvbUJ5dGVBcnJheVVuc2lnbmVkKG8uc2xpY2UoMzMsIDY1KSkubW9kKGYpO1xuICAgIHJldHVybiB7IHI6IGQsIHM6IGcsIGk6IGwgfTtcbiAgfSwgdGhpcy5yZWFkUEtDUzVQcnZLZXlIZXggPSBmdW5jdGlvbihvKSB7XG4gICAgaWYgKHkobykgPT09ICExKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm90IEFTTi4xIGhleCBzdHJpbmdcIik7XG4gICAgdmFyIGwsIGYsIGQ7XG4gICAgdHJ5IHtcbiAgICAgIGwgPSBjKG8sIDAsIFtcIlswXVwiLCAwXSwgXCIwNlwiKSwgZiA9IGMobywgMCwgWzFdLCBcIjA0XCIpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgZCA9IGMobywgMCwgW1wiWzFdXCIsIDBdLCBcIjAzXCIpO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICB9XG4gICAgfSBjYXRjaCB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtYWxmb3JtZWQgUEtDUyMxLzUgcGxhaW4gRUNDIHByaXZhdGUga2V5XCIpO1xuICAgIH1cbiAgICBpZiAodGhpcy5jdXJ2ZU5hbWUgPSB1KGwpLCB0aGlzLmN1cnZlTmFtZSA9PT0gdm9pZCAwKVxuICAgICAgdGhyb3cgXCJ1bnN1cHBvcnRlZCBjdXJ2ZSBuYW1lXCI7XG4gICAgdGhpcy5zZXROYW1lZEN1cnZlKHRoaXMuY3VydmVOYW1lKSwgdGhpcy5zZXRQdWJsaWNLZXlIZXgoZCksIHRoaXMuc2V0UHJpdmF0ZUtleUhleChmKSwgdGhpcy5pc1B1YmxpYyA9ICExO1xuICB9LCB0aGlzLnJlYWRQS0NTOFBydktleUhleCA9IGZ1bmN0aW9uKG8pIHtcbiAgICBpZiAoeShvKSA9PT0gITEpXG4gICAgICB0aHJvdyBuZXcgcihcIm5vdCBBU04uMSBoZXggc3RyaW5nXCIpO1xuICAgIHZhciBsLCBmLCBkLCBnO1xuICAgIHRyeSB7XG4gICAgICBsID0gYyhvLCAwLCBbMSwgMF0sIFwiMDZcIiksIGYgPSBjKG8sIDAsIFsxLCAxXSwgXCIwNlwiKSwgZCA9IGMobywgMCwgWzIsIDAsIDFdLCBcIjA0XCIpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgZyA9IGMobywgMCwgWzIsIDAsIFwiWzFdXCIsIDBdLCBcIjAzXCIpO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICB9XG4gICAgfSBjYXRjaCB7XG4gICAgICB0aHJvdyBuZXcgcihcIm1hbGZvcm1lZCBQS0NTIzggcGxhaW4gRUNDIHByaXZhdGUga2V5XCIpO1xuICAgIH1cbiAgICBpZiAodGhpcy5jdXJ2ZU5hbWUgPSB1KGYpLCB0aGlzLmN1cnZlTmFtZSA9PT0gdm9pZCAwKVxuICAgICAgdGhyb3cgbmV3IHIoXCJ1bnN1cHBvcnRlZCBjdXJ2ZSBuYW1lXCIpO1xuICAgIHRoaXMuc2V0TmFtZWRDdXJ2ZSh0aGlzLmN1cnZlTmFtZSksIHRoaXMuc2V0UHVibGljS2V5SGV4KGcpLCB0aGlzLnNldFByaXZhdGVLZXlIZXgoZCksIHRoaXMuaXNQdWJsaWMgPSAhMTtcbiAgfSwgdGhpcy5yZWFkUEtDUzhQdWJLZXlIZXggPSBmdW5jdGlvbihvKSB7XG4gICAgaWYgKHkobykgPT09ICExKVxuICAgICAgdGhyb3cgbmV3IHIoXCJub3QgQVNOLjEgaGV4IHN0cmluZ1wiKTtcbiAgICB2YXIgbCwgZiwgZDtcbiAgICB0cnkge1xuICAgICAgbCA9IGMobywgMCwgWzAsIDBdLCBcIjA2XCIpLCBmID0gYyhvLCAwLCBbMCwgMV0sIFwiMDZcIiksIGQgPSBjKG8sIDAsIFsxXSwgXCIwM1wiKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHRocm93IG5ldyByKFwibWFsZm9ybWVkIFBLQ1MjOCBFQ0MgcHVibGljIGtleVwiKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuY3VydmVOYW1lID0gdShmKSwgdGhpcy5jdXJ2ZU5hbWUgPT09IG51bGwpXG4gICAgICB0aHJvdyBuZXcgcihcInVuc3VwcG9ydGVkIGN1cnZlIG5hbWVcIik7XG4gICAgdGhpcy5zZXROYW1lZEN1cnZlKHRoaXMuY3VydmVOYW1lKSwgdGhpcy5zZXRQdWJsaWNLZXlIZXgoZCk7XG4gIH0sIHRoaXMucmVhZENlcnRQdWJLZXlIZXggPSBmdW5jdGlvbihvLCBsKSB7XG4gICAgaWYgKHkobykgPT09ICExKVxuICAgICAgdGhyb3cgbmV3IHIoXCJub3QgQVNOLjEgaGV4IHN0cmluZ1wiKTtcbiAgICB2YXIgZiwgZDtcbiAgICB0cnkge1xuICAgICAgZiA9IGMobywgMCwgWzAsIDUsIDAsIDFdLCBcIjA2XCIpLCBkID0gYyhvLCAwLCBbMCwgNSwgMV0sIFwiMDNcIik7XG4gICAgfSBjYXRjaCB7XG4gICAgICB0aHJvdyBuZXcgcihcIm1hbGZvcm1lZCBYLjUwOSBjZXJ0aWZpY2F0ZSBFQ0MgcHVibGljIGtleVwiKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuY3VydmVOYW1lID0gdShmKSwgdGhpcy5jdXJ2ZU5hbWUgPT09IG51bGwpXG4gICAgICB0aHJvdyBuZXcgcihcInVuc3VwcG9ydGVkIGN1cnZlIG5hbWVcIik7XG4gICAgdGhpcy5zZXROYW1lZEN1cnZlKHRoaXMuY3VydmVOYW1lKSwgdGhpcy5zZXRQdWJsaWNLZXlIZXgoZCk7XG4gIH0sIGUgIT09IHZvaWQgMCAmJiBlLmN1cnZlICE9PSB2b2lkIDAgJiYgKHRoaXMuY3VydmVOYW1lID0gZS5jdXJ2ZSksIHRoaXMuY3VydmVOYW1lID09PSB2b2lkIDAgJiYgKHRoaXMuY3VydmVOYW1lID0gdCksIHRoaXMuc2V0TmFtZWRDdXJ2ZSh0aGlzLmN1cnZlTmFtZSksIGUgIT09IHZvaWQgMCAmJiAoZS5wcnYgIT09IHZvaWQgMCAmJiB0aGlzLnNldFByaXZhdGVLZXlIZXgoZS5wcnYpLCBlLnB1YiAhPT0gdm9pZCAwICYmIHRoaXMuc2V0UHVibGljS2V5SGV4KGUucHViKSk7XG59O1xuYS5jcnlwdG8uRUNEU0EucGFyc2VTaWdIZXggPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gYS5jcnlwdG8uRUNEU0EucGFyc2VTaWdIZXhJbkhleFJTKGUpLCByID0gbmV3IFIodC5yLCAxNiksIGkgPSBuZXcgUih0LnMsIDE2KTtcbiAgcmV0dXJuIHsgciwgczogaSB9O1xufTtcbmEuY3J5cHRvLkVDRFNBLnBhcnNlU2lnSGV4SW5IZXhSUyA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBWLCByID0gdC5nZXRDaGlsZElkeCwgaSA9IHQuZ2V0VjtcbiAgaWYgKHQuY2hlY2tTdHJpY3RERVIoZSwgMCksIGUuc3Vic3RyKDAsIDIpICE9IFwiMzBcIilcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJzaWduYXR1cmUgaXMgbm90IGEgQVNOLjEgc2VxdWVuY2VcIik7XG4gIHZhciBzID0gcihlLCAwKTtcbiAgaWYgKHMubGVuZ3RoICE9IDIpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwic2lnbmF0dXJlIHNoYWxsIGhhdmUgdHdvIGVsZW1lbnRzXCIpO1xuICB2YXIgbiA9IHNbMF0sIGggPSBzWzFdO1xuICBpZiAoZS5zdWJzdHIobiwgMikgIT0gXCIwMlwiKVxuICAgIHRocm93IG5ldyBFcnJvcihcIjFzdCBpdGVtIG5vdCBBU04uMSBpbnRlZ2VyXCIpO1xuICBpZiAoZS5zdWJzdHIoaCwgMikgIT0gXCIwMlwiKVxuICAgIHRocm93IG5ldyBFcnJvcihcIjJuZCBpdGVtIG5vdCBBU04uMSBpbnRlZ2VyXCIpO1xuICB2YXIgdSA9IGkoZSwgbiksIHAgPSBpKGUsIGgpO1xuICByZXR1cm4geyByOiB1LCBzOiBwIH07XG59O1xuYS5jcnlwdG8uRUNEU0EuYXNuMVNpZ1RvQ29uY2F0U2lnID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IGEuY3J5cHRvLkVDRFNBLnBhcnNlU2lnSGV4SW5IZXhSUyhlKSwgciA9IHQuciwgaSA9IHQucztcbiAgaWYgKHIubGVuZ3RoID49IDEzMCAmJiByLmxlbmd0aCA8PSAxMzQpIHtcbiAgICBpZiAoci5sZW5ndGggJSAyICE9IDApXG4gICAgICB0aHJvdyBFcnJvcihcInVua25vd24gRUNEU0Egc2lnIHIgbGVuZ3RoIGVycm9yXCIpO1xuICAgIGlmIChpLmxlbmd0aCAlIDIgIT0gMClcbiAgICAgIHRocm93IEVycm9yKFwidW5rbm93biBFQ0RTQSBzaWcgcyBsZW5ndGggZXJyb3JcIik7XG4gICAgci5zdWJzdHIoMCwgMikgPT0gXCIwMFwiICYmIChyID0gci5zdWJzdHIoMikpLCBpLnN1YnN0cigwLCAyKSA9PSBcIjAwXCIgJiYgKGkgPSBpLnN1YnN0cigyKSk7XG4gICAgdmFyIHMgPSBNYXRoLm1heChyLmxlbmd0aCwgaS5sZW5ndGgpO1xuICAgIHJldHVybiByID0gKFwiMDAwMDAwXCIgKyByKS5zbGljZSgtcyksIGkgPSAoXCIwMDAwMDBcIiArIGkpLnNsaWNlKC1zKSwgciArIGk7XG4gIH1cbiAgaWYgKHIuc3Vic3RyKDAsIDIpID09IFwiMDBcIiAmJiByLmxlbmd0aCAlIDMyID09IDIgJiYgKHIgPSByLnN1YnN0cigyKSksIGkuc3Vic3RyKDAsIDIpID09IFwiMDBcIiAmJiBpLmxlbmd0aCAlIDMyID09IDIgJiYgKGkgPSBpLnN1YnN0cigyKSksIHIubGVuZ3RoICUgMzIgPT0gMzAgJiYgKHIgPSBcIjAwXCIgKyByKSwgaS5sZW5ndGggJSAzMiA9PSAzMCAmJiAoaSA9IFwiMDBcIiArIGkpLCByLmxlbmd0aCAlIDMyICE9IDApXG4gICAgdGhyb3cgRXJyb3IoXCJ1bmtub3duIEVDRFNBIHNpZyByIGxlbmd0aCBlcnJvclwiKTtcbiAgaWYgKGkubGVuZ3RoICUgMzIgIT0gMClcbiAgICB0aHJvdyBFcnJvcihcInVua25vd24gRUNEU0Egc2lnIHMgbGVuZ3RoIGVycm9yXCIpO1xuICByZXR1cm4gciArIGk7XG59O1xuYS5jcnlwdG8uRUNEU0EuY29uY2F0U2lnVG9BU04xU2lnID0gZnVuY3Rpb24oZSkge1xuICBpZiAoZS5sZW5ndGggJSA0ICE9IDApXG4gICAgdGhyb3cgRXJyb3IoXCJ1bmtub3duIEVDRFNBIGNvbmNhdGluYXRlZCByLXMgc2lnIGxlbmd0aCBlcnJvclwiKTtcbiAgdmFyIHQgPSBlLnN1YnN0cigwLCBlLmxlbmd0aCAvIDIpLCByID0gZS5zdWJzdHIoZS5sZW5ndGggLyAyKTtcbiAgcmV0dXJuIGEuY3J5cHRvLkVDRFNBLmhleFJTU2lnVG9BU04xU2lnKHQsIHIpO1xufTtcbmEuY3J5cHRvLkVDRFNBLmhleFJTU2lnVG9BU04xU2lnID0gZnVuY3Rpb24oZSwgdCkge1xuICB2YXIgciA9IG5ldyBSKGUsIDE2KSwgaSA9IG5ldyBSKHQsIDE2KTtcbiAgcmV0dXJuIGEuY3J5cHRvLkVDRFNBLmJpUlNTaWdUb0FTTjFTaWcociwgaSk7XG59O1xuYS5jcnlwdG8uRUNEU0EuYmlSU1NpZ1RvQVNOMVNpZyA9IGZ1bmN0aW9uKGUsIHQpIHtcbiAgdmFyIHIgPSBhLmFzbjEsIGkgPSBuZXcgci5ERVJJbnRlZ2VyKHsgYmlnaW50OiBlIH0pLCBzID0gbmV3IHIuREVSSW50ZWdlcih7IGJpZ2ludDogdCB9KSwgbiA9IG5ldyByLkRFUlNlcXVlbmNlKHsgYXJyYXk6IFtpLCBzXSB9KTtcbiAgcmV0dXJuIG4udG9oZXgoKTtcbn07XG5hLmNyeXB0by5FQ0RTQS5nZXROYW1lID0gZnVuY3Rpb24oZSkge1xuICByZXR1cm4gZSA9PT0gXCIyYjgxMDQwMDFmXCIgPyBcInNlY3AxOTJrMVwiIDogZSA9PT0gXCIyYTg2NDhjZTNkMDMwMTA3XCIgPyBcInNlY3AyNTZyMVwiIDogZSA9PT0gXCIyYjgxMDQwMDBhXCIgPyBcInNlY3AyNTZrMVwiIDogZSA9PT0gXCIyYjgxMDQwMDIxXCIgPyBcInNlY3AyMjRyMVwiIDogZSA9PT0gXCIyYjgxMDQwMDIyXCIgPyBcInNlY3AzODRyMVwiIDogZSA9PT0gXCIyYjgxMDQwMDIzXCIgPyBcInNlY3A1MjFyMVwiIDogXCJ8c2VjcDI1NnIxfE5JU1QgUC0yNTZ8UC0yNTZ8cHJpbWUyNTZ2MXxcIi5pbmRleE9mKGUpICE9PSAtMSA/IFwic2VjcDI1NnIxXCIgOiBcInxzZWNwMjU2azF8XCIuaW5kZXhPZihlKSAhPT0gLTEgPyBcInNlY3AyNTZrMVwiIDogXCJ8c2VjcDIyNHIxfE5JU1QgUC0yMjR8UC0yMjR8XCIuaW5kZXhPZihlKSAhPT0gLTEgPyBcInNlY3AyMjRyMVwiIDogXCJ8c2VjcDM4NHIxfE5JU1QgUC0zODR8UC0zODR8XCIuaW5kZXhPZihlKSAhPT0gLTEgPyBcInNlY3AzODRyMVwiIDogXCJ8c2VjcDUyMXIxfE5JU1QgUC01MjF8UC01MjF8XCIuaW5kZXhPZihlKSAhPT0gLTEgPyBcInNlY3A1MjFyMVwiIDogbnVsbDtcbn07XG4odHlwZW9mIGEgPiBcInVcIiB8fCAhYSkgJiYgKGEgPSB7fSk7XG4odHlwZW9mIGEuY3J5cHRvID4gXCJ1XCIgfHwgIWEuY3J5cHRvKSAmJiAoYS5jcnlwdG8gPSB7fSk7XG5hLmNyeXB0by5FQ1BhcmFtZXRlckRCID0gbmV3IGZ1bmN0aW9uKCkge1xuICB2YXIgZSA9IHt9LCB0ID0ge307XG4gIGZ1bmN0aW9uIHIoaSkge1xuICAgIHJldHVybiBuZXcgUihpLCAxNik7XG4gIH1cbiAgdGhpcy5nZXRCeU5hbWUgPSBmdW5jdGlvbihpKSB7XG4gICAgdmFyIHMgPSBpO1xuICAgIGlmICh0eXBlb2YgdFtzXSA8IFwidVwiICYmIChzID0gdFtpXSksIHR5cGVvZiBlW3NdIDwgXCJ1XCIpXG4gICAgICByZXR1cm4gZVtzXTtcbiAgICB0aHJvdyBcInVucmVnaXN0ZXJlZCBFQyBjdXJ2ZSBuYW1lOiBcIiArIHM7XG4gIH0sIHRoaXMucmVnaXN0ID0gZnVuY3Rpb24oaSwgcywgbiwgaCwgdSwgcCwgYywgeSwgdiwgbywgbCwgZikge1xuICAgIGVbaV0gPSB7fTtcbiAgICB2YXIgZCA9IHIobiksIGcgPSByKGgpLCBTID0gcih1KSwgYiA9IHIocCksIEQgPSByKGMpLCBBID0gbmV3IEJlKGQsIGcsIFMpLCBJID0gQS5kZWNvZGVQb2ludEhleChcIjA0XCIgKyB5ICsgdik7XG4gICAgZVtpXS5uYW1lID0gaSwgZVtpXS5rZXlsZW4gPSBzLCBlW2ldLmtleWNoYXJsZW4gPSBNYXRoLmNlaWwocyAvIDgpICogMiwgZVtpXS5jdXJ2ZSA9IEEsIGVbaV0uRyA9IEksIGVbaV0ubiA9IGIsIGVbaV0uaCA9IEQsIGVbaV0ub2lkID0gbCwgZVtpXS5pbmZvID0gZjtcbiAgICBmb3IgKHZhciBtID0gMDsgbSA8IG8ubGVuZ3RoOyBtKyspXG4gICAgICB0W29bbV1dID0gaTtcbiAgfTtcbn0oKTtcbmEuY3J5cHRvLkVDUGFyYW1ldGVyREIucmVnaXN0KFwic2VjcDEyOHIxXCIsIDEyOCwgXCJGRkZGRkZGREZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRlwiLCBcIkZGRkZGRkZERkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZDXCIsIFwiRTg3NTc5QzExMDc5RjQzREQ4MjQ5OTNDMkNFRTVFRDNcIiwgXCJGRkZGRkZGRTAwMDAwMDAwNzVBMzBEMUI5MDM4QTExNVwiLCBcIjFcIiwgXCIxNjFGRjc1MjhCODk5QjJEMEMyODYwN0NBNTJDNUI4NlwiLCBcIkNGNUFDODM5NUJBRkVCMTNDMDJEQTI5MkRERUQ3QTgzXCIsIFtdLCBcIlwiLCBcInNlY3AxMjhyMSA6IFNFQ0cgY3VydmUgb3ZlciBhIDEyOCBiaXQgcHJpbWUgZmllbGRcIik7XG5hLmNyeXB0by5FQ1BhcmFtZXRlckRCLnJlZ2lzdChcInNlY3AxNjBrMVwiLCAxNjAsIFwiRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkVGRkZGQUM3M1wiLCBcIjBcIiwgXCI3XCIsIFwiMDEwMDAwMDAwMDAwMDAwMDAwMDAwMUI4RkExNkRGQUI5QUNBMTZCNkIzXCIsIFwiMVwiLCBcIjNCNEMzODJDRTM3QUExOTJBNDAxOUU3NjMwMzZGNEY1REQ0RDdFQkJcIiwgXCI5MzhDRjkzNTMxOEZEQ0VENkJDMjgyODY1MzE3MzNDM0YwM0M0RkVFXCIsIFtdLCBcIlwiLCBcInNlY3AxNjBrMSA6IFNFQ0cgY3VydmUgb3ZlciBhIDE2MCBiaXQgcHJpbWUgZmllbGRcIik7XG5hLmNyeXB0by5FQ1BhcmFtZXRlckRCLnJlZ2lzdChcInNlY3AxNjByMVwiLCAxNjAsIFwiRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkY3RkZGRkZGRlwiLCBcIkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGN0ZGRkZGRkNcIiwgXCIxQzk3QkVGQzU0QkQ3QThCNjVBQ0Y4OUY4MUQ0RDRBREM1NjVGQTQ1XCIsIFwiMDEwMDAwMDAwMDAwMDAwMDAwMDAwMUY0QzhGOTI3QUVEM0NBNzUyMjU3XCIsIFwiMVwiLCBcIjRBOTZCNTY4OEVGNTczMjg0NjY0Njk4OTY4QzM4QkI5MTNDQkZDODJcIiwgXCIyM0E2Mjg1NTMxNjg5NDdENTlEQ0M5MTIwNDIzNTEzNzdBQzVGQjMyXCIsIFtdLCBcIlwiLCBcInNlY3AxNjByMSA6IFNFQ0cgY3VydmUgb3ZlciBhIDE2MCBiaXQgcHJpbWUgZmllbGRcIik7XG5hLmNyeXB0by5FQ1BhcmFtZXRlckRCLnJlZ2lzdChcInNlY3AxOTJrMVwiLCAxOTIsIFwiRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRUZGRkZFRTM3XCIsIFwiMFwiLCBcIjNcIiwgXCJGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkUyNkYyRkMxNzBGNjk0NjZBNzRERUZEOERcIiwgXCIxXCIsIFwiREI0RkYxMEVDMDU3RTlBRTI2QjA3RDAyODBCN0Y0MzQxREE1RDFCMUVBRTA2QzdEXCIsIFwiOUIyRjJGNkQ5QzU2MjhBNzg0NDE2M0QwMTVCRTg2MzQ0MDgyQUE4OEQ5NUUyRjlEXCIsIFtdKTtcbmEuY3J5cHRvLkVDUGFyYW1ldGVyREIucmVnaXN0KFwic2VjcDE5MnIxXCIsIDE5MiwgXCJGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRUZGRkZGRkZGRkZGRkZGRkZcIiwgXCJGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRUZGRkZGRkZGRkZGRkZGRkNcIiwgXCI2NDIxMDUxOUU1OUM4MEU3MEZBN0U5QUI3MjI0MzA0OUZFQjhERUVDQzE0NkI5QjFcIiwgXCJGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkY5OURFRjgzNjE0NkJDOUIxQjREMjI4MzFcIiwgXCIxXCIsIFwiMTg4REE4MEVCMDMwOTBGNjdDQkYyMEVCNDNBMTg4MDBGNEZGMEFGRDgyRkYxMDEyXCIsIFwiMDcxOTJCOTVGRkM4REE3ODYzMTAxMUVENkIyNENERDU3M0Y5NzdBMTFFNzk0ODExXCIsIFtdKTtcbmEuY3J5cHRvLkVDUGFyYW1ldGVyREIucmVnaXN0KFwic2VjcDIyNHIxXCIsIDIyNCwgXCJGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRjAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMVwiLCBcIkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZFRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZFXCIsIFwiQjQwNTBBODUwQzA0QjNBQkY1NDEzMjU2NTA0NEIwQjdEN0JGRDhCQTI3MEIzOTQzMjM1NUZGQjRcIiwgXCJGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGMTZBMkUwQjhGMDNFMTNERDI5NDU1QzVDMkEzRFwiLCBcIjFcIiwgXCJCNzBFMENCRDZCQjRCRjdGMzIxMzkwQjk0QTAzQzFEMzU2QzIxMTIyMzQzMjgwRDYxMTVDMUQyMVwiLCBcIkJEMzc2Mzg4QjVGNzIzRkI0QzIyREZFNkNENDM3NUEwNUEwNzQ3NjQ0NEQ1ODE5OTg1MDA3RTM0XCIsIFtdKTtcbmEuY3J5cHRvLkVDUGFyYW1ldGVyREIucmVnaXN0KFwic2VjcDI1NmsxXCIsIDI1NiwgXCJGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRUZGRkZGQzJGXCIsIFwiMFwiLCBcIjdcIiwgXCJGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRUJBQUVEQ0U2QUY0OEEwM0JCRkQyNUU4Q0QwMzY0MTQxXCIsIFwiMVwiLCBcIjc5QkU2NjdFRjlEQ0JCQUM1NUEwNjI5NUNFODcwQjA3MDI5QkZDREIyRENFMjhEOTU5RjI4MTVCMTZGODE3OThcIiwgXCI0ODNBREE3NzI2QTNDNDY1NURBNEZCRkMwRTExMDhBOEZEMTdCNDQ4QTY4NTU0MTk5QzQ3RDA4RkZCMTBENEI4XCIsIFtdKTtcbmEuY3J5cHRvLkVDUGFyYW1ldGVyREIucmVnaXN0KFwic2VjcDI1NnIxXCIsIDI1NiwgXCJGRkZGRkZGRjAwMDAwMDAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGXCIsIFwiRkZGRkZGRkYwMDAwMDAwMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMEZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGQ1wiLCBcIjVBQzYzNUQ4QUEzQTkzRTdCM0VCQkQ1NTc2OTg4NkJDNjUxRDA2QjBDQzUzQjBGNjNCQ0UzQzNFMjdEMjYwNEJcIiwgXCJGRkZGRkZGRjAwMDAwMDAwRkZGRkZGRkZGRkZGRkZGRkJDRTZGQUFEQTcxNzlFODRGM0I5Q0FDMkZDNjMyNTUxXCIsIFwiMVwiLCBcIjZCMTdEMUYyRTEyQzQyNDdGOEJDRTZFNTYzQTQ0MEYyNzcwMzdEODEyREVCMzNBMEY0QTEzOTQ1RDg5OEMyOTZcIiwgXCI0RkUzNDJFMkZFMUE3RjlCOEVFN0VCNEE3QzBGOUUxNjJCQ0UzMzU3NkIzMTVFQ0VDQkI2NDA2ODM3QkY1MUY1XCIsIFtcIk5JU1QgUC0yNTZcIiwgXCJQLTI1NlwiLCBcInByaW1lMjU2djFcIl0pO1xuYS5jcnlwdG8uRUNQYXJhbWV0ZXJEQi5yZWdpc3QoXCJzZWNwMzg0cjFcIiwgMzg0LCBcIkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkVGRkZGRkZGRjAwMDAwMDAwMDAwMDAwMDBGRkZGRkZGRlwiLCBcIkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkVGRkZGRkZGRjAwMDAwMDAwMDAwMDAwMDBGRkZGRkZGQ1wiLCBcIkIzMzEyRkE3RTIzRUU3RTQ5ODhFMDU2QkUzRjgyRDE5MTgxRDlDNkVGRTgxNDExMjAzMTQwODhGNTAxMzg3NUFDNjU2Mzk4RDhBMkVEMTlEMkE4NUM4RUREM0VDMkFFRlwiLCBcIkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkM3NjM0RDgxRjQzNzJEREY1ODFBMERCMjQ4QjBBNzdBRUNFQzE5NkFDQ0M1Mjk3M1wiLCBcIjFcIiwgXCJBQTg3Q0EyMkJFOEIwNTM3OEVCMUM3MUVGMzIwQUQ3NDZFMUQzQjYyOEJBNzlCOTg1OUY3NDFFMDgyNTQyQTM4NTUwMkYyNURCRjU1Mjk2QzNBNTQ1RTM4NzI3NjBBQjdcIiwgXCIzNjE3ZGU0YTk2MjYyYzZmNWQ5ZTk4YmY5MjkyZGMyOWY4ZjQxZGJkMjg5YTE0N2NlOWRhMzExM2I1ZjBiOGMwMGE2MGIxY2UxZDdlODE5ZDdhNDMxZDdjOTBlYTBlNWZcIiwgW1wiTklTVCBQLTM4NFwiLCBcIlAtMzg0XCJdKTtcbmEuY3J5cHRvLkVDUGFyYW1ldGVyREIucmVnaXN0KFwic2VjcDUyMXIxXCIsIDUyMSwgXCIxRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRlwiLCBcIjFGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZDXCIsIFwiMDUxOTUzRUI5NjE4RTFDOUExRjkyOUEyMUEwQjY4NTQwRUVBMkRBNzI1Qjk5QjMxNUYzQjhCNDg5OTE4RUYxMDlFMTU2MTkzOTUxRUM3RTkzN0IxNjUyQzBCRDNCQjFCRjA3MzU3M0RGODgzRDJDMzRGMUVGNDUxRkQ0NkI1MDNGMDBcIiwgXCIxRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZBNTE4Njg3ODNCRjJGOTY2QjdGQ0MwMTQ4RjcwOUE1RDAzQkI1QzlCODg5OUM0N0FFQkI2RkI3MUU5MTM4NjQwOVwiLCBcIjFcIiwgXCIwMEM2ODU4RTA2QjcwNDA0RTlDRDlFM0VDQjY2MjM5NUI0NDI5QzY0ODEzOTA1M0ZCNTIxRjgyOEFGNjA2QjREM0RCQUExNEI1RTc3RUZFNzU5MjhGRTFEQzEyN0EyRkZBOERFMzM0OEIzQzE4NTZBNDI5QkY5N0U3RTMxQzJFNUJENjZcIiwgXCIwMTE4MzkyOTZhNzg5YTNiYzAwNDVjOGE1ZmI0MmM3ZDFiZDk5OGY1NDQ0OTU3OWI0NDY4MTdhZmJkMTcyNzNlNjYyYzk3ZWU3Mjk5NWVmNDI2NDBjNTUwYjkwMTNmYWQwNzYxMzUzYzcwODZhMjcyYzI0MDg4YmU5NDc2OWZkMTY2NTBcIiwgW1wiTklTVCBQLTUyMVwiLCBcIlAtNTIxXCJdKTtcbih0eXBlb2YgYSA+IFwidVwiIHx8ICFhKSAmJiAoYSA9IHt9KTtcbih0eXBlb2YgYS5jcnlwdG8gPiBcInVcIiB8fCAhYS5jcnlwdG8pICYmIChhLmNyeXB0byA9IHt9KTtcbmEuY3J5cHRvLkRTQSA9IGZ1bmN0aW9uKCkge1xuICB2YXIgZSA9IFY7XG4gIGUuZ2V0VmJ5TGlzdDtcbiAgdmFyIHQgPSBlLmdldFZieUxpc3RFeCwgciA9IGUuaXNBU04xSEVYLCBpID0gUjtcbiAgdGhpcy5wID0gbnVsbCwgdGhpcy5xID0gbnVsbCwgdGhpcy5nID0gbnVsbCwgdGhpcy55ID0gbnVsbCwgdGhpcy54ID0gbnVsbCwgdGhpcy50eXBlID0gXCJEU0FcIiwgdGhpcy5pc1ByaXZhdGUgPSAhMSwgdGhpcy5pc1B1YmxpYyA9ICExLCB0aGlzLnNldFByaXZhdGUgPSBmdW5jdGlvbihzLCBuLCBoLCB1LCBwKSB7XG4gICAgdGhpcy5pc1ByaXZhdGUgPSAhMCwgdGhpcy5wID0gcywgdGhpcy5xID0gbiwgdGhpcy5nID0gaCwgdGhpcy55ID0gdSwgdGhpcy54ID0gcDtcbiAgfSwgdGhpcy5zZXRQcml2YXRlSGV4ID0gZnVuY3Rpb24ocywgbiwgaCwgdSwgcCkge1xuICAgIHZhciBjLCB5LCB2LCBvLCBsO1xuICAgIGMgPSBuZXcgUihzLCAxNiksIHkgPSBuZXcgUihuLCAxNiksIHYgPSBuZXcgUihoLCAxNiksIHR5cGVvZiB1ID09IFwic3RyaW5nXCIgJiYgdS5sZW5ndGggPiAxID8gbyA9IG5ldyBSKHUsIDE2KSA6IG8gPSBudWxsLCBsID0gbmV3IFIocCwgMTYpLCB0aGlzLnNldFByaXZhdGUoYywgeSwgdiwgbywgbCk7XG4gIH0sIHRoaXMuc2V0UHVibGljID0gZnVuY3Rpb24ocywgbiwgaCwgdSkge1xuICAgIHRoaXMuaXNQdWJsaWMgPSAhMCwgdGhpcy5wID0gcywgdGhpcy5xID0gbiwgdGhpcy5nID0gaCwgdGhpcy55ID0gdSwgdGhpcy54ID0gbnVsbDtcbiAgfSwgdGhpcy5zZXRQdWJsaWNIZXggPSBmdW5jdGlvbihzLCBuLCBoLCB1KSB7XG4gICAgdmFyIHAsIGMsIHksIHY7XG4gICAgcCA9IG5ldyBSKHMsIDE2KSwgYyA9IG5ldyBSKG4sIDE2KSwgeSA9IG5ldyBSKGgsIDE2KSwgdiA9IG5ldyBSKHUsIDE2KSwgdGhpcy5zZXRQdWJsaWMocCwgYywgeSwgdik7XG4gIH0sIHRoaXMuc2lnbldpdGhNZXNzYWdlSGFzaCA9IGZ1bmN0aW9uKHMpIHtcbiAgICB2YXIgbiA9IHRoaXMucCwgaCA9IHRoaXMucSwgdSA9IHRoaXMuZztcbiAgICB0aGlzLnk7XG4gICAgdmFyIHAgPSB0aGlzLngsIGMgPSBhLmNyeXB0by5VdGlsLmdldFJhbmRvbUJpZ0ludGVnZXJNaW5Ub01heChSLk9ORS5hZGQoUi5PTkUpLCBoLnN1YnRyYWN0KFIuT05FKSksIHkgPSBzLnN1YnN0cigwLCBoLmJpdExlbmd0aCgpIC8gNCksIHYgPSBuZXcgUih5LCAxNiksIG8gPSB1Lm1vZFBvdyhjLCBuKS5tb2QoaCksIGwgPSBjLm1vZEludmVyc2UoaCkubXVsdGlwbHkodi5hZGQocC5tdWx0aXBseShvKSkpLm1vZChoKSwgZiA9IGEuYXNuMS5BU04xVXRpbC5qc29uVG9BU04xSEVYKHsgc2VxOiBbeyBpbnQ6IHsgYmlnaW50OiBvIH0gfSwgeyBpbnQ6IHsgYmlnaW50OiBsIH0gfV0gfSk7XG4gICAgcmV0dXJuIGY7XG4gIH0sIHRoaXMudmVyaWZ5V2l0aE1lc3NhZ2VIYXNoID0gZnVuY3Rpb24ocywgbikge1xuICAgIHZhciBoID0gdGhpcy5wLCB1ID0gdGhpcy5xLCBwID0gdGhpcy5nLCBjID0gdGhpcy55LCB5ID0gdGhpcy5wYXJzZUFTTjFTaWduYXR1cmUobiksIHYgPSB5WzBdLCBvID0geVsxXSwgbCA9IHMuc3Vic3RyKDAsIHUuYml0TGVuZ3RoKCkgLyA0KSwgZiA9IG5ldyBSKGwsIDE2KTtcbiAgICBpZiAoUi5aRVJPLmNvbXBhcmVUbyh2KSA+IDAgfHwgdi5jb21wYXJlVG8odSkgPiAwIHx8IFIuWkVSTy5jb21wYXJlVG8obykgPj0gMCB8fCBvLmNvbXBhcmVUbyh1KSA+IDApXG4gICAgICB0aHJvdyBcImludmFsaWQgRFNBIHNpZ25hdHVyZVwiO1xuICAgIHZhciBkID0gby5tb2RJbnZlcnNlKHUpLCBnID0gZi5tdWx0aXBseShkKS5tb2QodSksIFMgPSB2Lm11bHRpcGx5KGQpLm1vZCh1KSwgYiA9IHAubW9kUG93KGcsIGgpLm11bHRpcGx5KGMubW9kUG93KFMsIGgpKS5tb2QoaCkubW9kKHUpO1xuICAgIHJldHVybiBiLmNvbXBhcmVUbyh2KSA9PSAwO1xuICB9LCB0aGlzLnBhcnNlQVNOMVNpZ25hdHVyZSA9IGZ1bmN0aW9uKHMpIHtcbiAgICB0cnkge1xuICAgICAgdmFyIG4gPSBuZXcgaSh0KHMsIDAsIFswXSwgXCIwMlwiKSwgMTYpLCBoID0gbmV3IGkodChzLCAwLCBbMV0sIFwiMDJcIiksIDE2KTtcbiAgICAgIHJldHVybiBbbiwgaF07XG4gICAgfSBjYXRjaCB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtYWxmb3JtZWQgQVNOLjEgRFNBIHNpZ25hdHVyZVwiKTtcbiAgICB9XG4gIH0sIHRoaXMucmVhZFBLQ1M1UHJ2S2V5SGV4ID0gZnVuY3Rpb24ocykge1xuICAgIHZhciBuLCBoLCB1LCBwLCBjO1xuICAgIGlmIChyKHMpID09PSAhMSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vdCBBU04uMSBoZXggc3RyaW5nXCIpO1xuICAgIHRyeSB7XG4gICAgICBuID0gdChzLCAwLCBbMV0sIFwiMDJcIiksIGggPSB0KHMsIDAsIFsyXSwgXCIwMlwiKSwgdSA9IHQocywgMCwgWzNdLCBcIjAyXCIpLCBwID0gdChzLCAwLCBbNF0sIFwiMDJcIiksIGMgPSB0KHMsIDAsIFs1XSwgXCIwMlwiKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm1hbGZvcm1lZCBQS0NTIzEvNSBwbGFpbiBEU0EgcHJpdmF0ZSBrZXlcIik7XG4gICAgfVxuICAgIHRoaXMuc2V0UHJpdmF0ZUhleChuLCBoLCB1LCBwLCBjKTtcbiAgfSwgdGhpcy5yZWFkUEtDUzhQcnZLZXlIZXggPSBmdW5jdGlvbihzKSB7XG4gICAgdmFyIG4sIGgsIHUsIHA7XG4gICAgaWYgKHIocykgPT09ICExKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm90IEFTTi4xIGhleCBzdHJpbmdcIik7XG4gICAgdHJ5IHtcbiAgICAgIG4gPSB0KHMsIDAsIFsxLCAxLCAwXSwgXCIwMlwiKSwgaCA9IHQocywgMCwgWzEsIDEsIDFdLCBcIjAyXCIpLCB1ID0gdChzLCAwLCBbMSwgMSwgMl0sIFwiMDJcIiksIHAgPSB0KHMsIDAsIFsyLCAwXSwgXCIwMlwiKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm1hbGZvcm1lZCBQS0NTIzggcGxhaW4gRFNBIHByaXZhdGUga2V5XCIpO1xuICAgIH1cbiAgICB0aGlzLnNldFByaXZhdGVIZXgobiwgaCwgdSwgbnVsbCwgcCk7XG4gIH0sIHRoaXMucmVhZFBLQ1M4UHViS2V5SGV4ID0gZnVuY3Rpb24ocykge1xuICAgIHZhciBuLCBoLCB1LCBwO1xuICAgIGlmIChyKHMpID09PSAhMSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vdCBBU04uMSBoZXggc3RyaW5nXCIpO1xuICAgIHRyeSB7XG4gICAgICBuID0gdChzLCAwLCBbMCwgMSwgMF0sIFwiMDJcIiksIGggPSB0KHMsIDAsIFswLCAxLCAxXSwgXCIwMlwiKSwgdSA9IHQocywgMCwgWzAsIDEsIDJdLCBcIjAyXCIpLCBwID0gdChzLCAwLCBbMSwgMF0sIFwiMDJcIik7XG4gICAgfSBjYXRjaCB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtYWxmb3JtZWQgUEtDUyM4IERTQSBwdWJsaWMga2V5XCIpO1xuICAgIH1cbiAgICB0aGlzLnNldFB1YmxpY0hleChuLCBoLCB1LCBwKTtcbiAgfSwgdGhpcy5yZWFkQ2VydFB1YktleUhleCA9IGZ1bmN0aW9uKHMsIG4pIHtcbiAgICB2YXIgaCwgdSwgcCwgYztcbiAgICBpZiAocihzKSA9PT0gITEpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub3QgQVNOLjEgaGV4IHN0cmluZ1wiKTtcbiAgICB0cnkge1xuICAgICAgaCA9IHQocywgMCwgWzAsIDUsIDAsIDEsIDBdLCBcIjAyXCIpLCB1ID0gdChzLCAwLCBbMCwgNSwgMCwgMSwgMV0sIFwiMDJcIiksIHAgPSB0KHMsIDAsIFswLCA1LCAwLCAxLCAyXSwgXCIwMlwiKSwgYyA9IHQocywgMCwgWzAsIDUsIDEsIDBdLCBcIjAyXCIpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwibWFsZm9ybWVkIFguNTA5IGNlcnRpZmljYXRlIERTQSBwdWJsaWMga2V5XCIpO1xuICAgIH1cbiAgICB0aGlzLnNldFB1YmxpY0hleChoLCB1LCBwLCBjKTtcbiAgfTtcbn07XG52YXIgayA9IC8qIEBfX1BVUkVfXyAqLyBmdW5jdGlvbigpIHtcbiAgdmFyIGUgPSBmdW5jdGlvbihmLCBkLCBnKSB7XG4gICAgcmV0dXJuIGkoSy5BRVMsIGYsIGQsIGcpO1xuICB9LCB0ID0gZnVuY3Rpb24oZiwgZCwgZykge1xuICAgIHJldHVybiBpKEsuVHJpcGxlREVTLCBmLCBkLCBnKTtcbiAgfSwgciA9IGZ1bmN0aW9uKGYsIGQsIGcpIHtcbiAgICByZXR1cm4gaShLLkRFUywgZiwgZCwgZyk7XG4gIH0sIGkgPSBmdW5jdGlvbihmLCBkLCBnLCBTKSB7XG4gICAgdmFyIGIgPSBLLmVuYy5IZXgucGFyc2UoZCksIEQgPSBLLmVuYy5IZXgucGFyc2UoZyksIEEgPSBLLmVuYy5IZXgucGFyc2UoUyksIEkgPSB7fTtcbiAgICBJLmtleSA9IEQsIEkuaXYgPSBBLCBJLmNpcGhlcnRleHQgPSBiO1xuICAgIHZhciBtID0gZi5kZWNyeXB0KEksIEQsIHsgaXY6IEEgfSk7XG4gICAgcmV0dXJuIEsuZW5jLkhleC5zdHJpbmdpZnkobSk7XG4gIH0sIHMgPSBmdW5jdGlvbihmLCBkLCBnKSB7XG4gICAgcmV0dXJuIHUoSy5BRVMsIGYsIGQsIGcpO1xuICB9LCBuID0gZnVuY3Rpb24oZiwgZCwgZykge1xuICAgIHJldHVybiB1KEsuVHJpcGxlREVTLCBmLCBkLCBnKTtcbiAgfSwgaCA9IGZ1bmN0aW9uKGYsIGQsIGcpIHtcbiAgICByZXR1cm4gdShLLkRFUywgZiwgZCwgZyk7XG4gIH0sIHUgPSBmdW5jdGlvbihmLCBkLCBnLCBTKSB7XG4gICAgdmFyIGIgPSBLLmVuYy5IZXgucGFyc2UoZCksIEQgPSBLLmVuYy5IZXgucGFyc2UoZyksIEEgPSBLLmVuYy5IZXgucGFyc2UoUyksIEkgPSBmLmVuY3J5cHQoYiwgRCwgeyBpdjogQSB9KSwgbSA9IEsuZW5jLkhleC5wYXJzZShJLnRvU3RyaW5nKCkpLCBFID0gSy5lbmMuQmFzZTY0LnN0cmluZ2lmeShtKTtcbiAgICByZXR1cm4gRTtcbiAgfSwgcCA9IHsgXCJBRVMtMjU2LUNCQ1wiOiB7IHByb2M6IGUsIGVwcm9jOiBzLCBrZXlsZW46IDMyLCBpdmxlbjogMTYgfSwgXCJBRVMtMTkyLUNCQ1wiOiB7IHByb2M6IGUsIGVwcm9jOiBzLCBrZXlsZW46IDI0LCBpdmxlbjogMTYgfSwgXCJBRVMtMTI4LUNCQ1wiOiB7IHByb2M6IGUsIGVwcm9jOiBzLCBrZXlsZW46IDE2LCBpdmxlbjogMTYgfSwgXCJERVMtRURFMy1DQkNcIjogeyBwcm9jOiB0LCBlcHJvYzogbiwga2V5bGVuOiAyNCwgaXZsZW46IDggfSwgXCJERVMtQ0JDXCI6IHsgcHJvYzogciwgZXByb2M6IGgsIGtleWxlbjogOCwgaXZsZW46IDggfSB9LCBjID0gZnVuY3Rpb24oZikge1xuICAgIHZhciBkID0gSy5saWIuV29yZEFycmF5LnJhbmRvbShmKSwgZyA9IEsuZW5jLkhleC5zdHJpbmdpZnkoZCk7XG4gICAgcmV0dXJuIGc7XG4gIH0sIHkgPSBmdW5jdGlvbihmKSB7XG4gICAgdmFyIGQgPSB7fSwgZyA9IGYubWF0Y2gobmV3IFJlZ0V4cChcIkRFSy1JbmZvOiAoW14sXSspLChbMC05QS1GYS1mXSspXCIsIFwibVwiKSk7XG4gICAgZyAmJiAoZC5jaXBoZXIgPSBnWzFdLCBkLml2c2FsdCA9IGdbMl0pO1xuICAgIHZhciBTID0gZi5tYXRjaChuZXcgUmVnRXhwKFwiLS0tLS1CRUdJTiAoW0EtWl0rKSBQUklWQVRFIEtFWS0tLS0tXCIpKTtcbiAgICBTICYmIChkLnR5cGUgPSBTWzFdKTtcbiAgICB2YXIgYiA9IC0xLCBEID0gMDtcbiAgICBmLmluZGV4T2YoYFxcclxuXFxyXG5gKSAhPSAtMSAmJiAoYiA9IGYuaW5kZXhPZihgXFxyXG5cXHJcbmApLCBEID0gMiksIGYuaW5kZXhPZihgXG5cbmApICE9IC0xICYmIChiID0gZi5pbmRleE9mKGBcblxuYCksIEQgPSAxKTtcbiAgICB2YXIgQSA9IGYuaW5kZXhPZihcIi0tLS0tRU5EXCIpO1xuICAgIGlmIChiICE9IC0xICYmIEEgIT0gLTEpIHtcbiAgICAgIHZhciBJID0gZi5zdWJzdHJpbmcoYiArIEQgKiAyLCBBIC0gRCk7XG4gICAgICBJID0gSS5yZXBsYWNlKC9cXHMrL2csIFwiXCIpLCBkLmRhdGEgPSBJO1xuICAgIH1cbiAgICByZXR1cm4gZDtcbiAgfSwgdiA9IGZ1bmN0aW9uKGYsIGQsIGcpIHtcbiAgICBmb3IgKHZhciBTID0gZy5zdWJzdHJpbmcoMCwgMTYpLCBiID0gSy5lbmMuSGV4LnBhcnNlKFMpLCBEID0gSy5lbmMuVXRmOC5wYXJzZShkKSwgQSA9IHBbZl0ua2V5bGVuICsgcFtmXS5pdmxlbiwgSSA9IFwiXCIsIG0gPSBudWxsOyA7ICkge1xuICAgICAgdmFyIEUgPSBLLmFsZ28uTUQ1LmNyZWF0ZSgpO1xuICAgICAgaWYgKG0gIT0gbnVsbCAmJiBFLnVwZGF0ZShtKSwgRS51cGRhdGUoRCksIEUudXBkYXRlKGIpLCBtID0gRS5maW5hbGl6ZSgpLCBJID0gSSArIEsuZW5jLkhleC5zdHJpbmdpZnkobSksIEkubGVuZ3RoID49IEEgKiAyKVxuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgdmFyIHcgPSB7fTtcbiAgICByZXR1cm4gdy5rZXloZXggPSBJLnN1YnN0cigwLCBwW2ZdLmtleWxlbiAqIDIpLCB3Lml2aGV4ID0gSS5zdWJzdHIocFtmXS5rZXlsZW4gKiAyLCBwW2ZdLml2bGVuICogMiksIHc7XG4gIH0sIG8gPSBmdW5jdGlvbihmLCBkLCBnLCBTKSB7XG4gICAgdmFyIGIgPSBLLmVuYy5CYXNlNjQucGFyc2UoZiksIEQgPSBLLmVuYy5IZXguc3RyaW5naWZ5KGIpLCBBID0gcFtkXS5wcm9jLCBJID0gQShELCBnLCBTKTtcbiAgICByZXR1cm4gSTtcbiAgfSwgbCA9IGZ1bmN0aW9uKGYsIGQsIGcsIFMpIHtcbiAgICB2YXIgYiA9IHBbZF0uZXByb2MsIEQgPSBiKGYsIGcsIFMpO1xuICAgIHJldHVybiBEO1xuICB9O1xuICByZXR1cm4geyB2ZXJzaW9uOiBcIjEuMC4wXCIsIHBhcnNlUEtDUzVQRU06IGZ1bmN0aW9uKGYpIHtcbiAgICByZXR1cm4geShmKTtcbiAgfSwgZ2V0S2V5QW5kVW51c2VkSXZCeVBhc3Njb2RlQW5kSXZzYWx0OiBmdW5jdGlvbihmLCBkLCBnKSB7XG4gICAgcmV0dXJuIHYoZiwgZCwgZyk7XG4gIH0sIGRlY3J5cHRLZXlCNjQ6IGZ1bmN0aW9uKGYsIGQsIGcsIFMpIHtcbiAgICByZXR1cm4gbyhmLCBkLCBnLCBTKTtcbiAgfSwgZ2V0RGVjcnlwdGVkS2V5SGV4OiBmdW5jdGlvbihmLCBkKSB7XG4gICAgdmFyIGcgPSB5KGYpLCBTID0gZy5jaXBoZXIsIGIgPSBnLml2c2FsdCwgRCA9IGcuZGF0YSwgQSA9IHYoUywgZCwgYiksIEkgPSBBLmtleWhleCwgbSA9IG8oRCwgUywgSSwgYik7XG4gICAgcmV0dXJuIG07XG4gIH0sIGdldEVuY3J5cHRlZFBLQ1M1UEVNRnJvbVBydktleUhleDogZnVuY3Rpb24oZiwgZCwgZywgUywgYikge1xuICAgIHZhciB4ID0gXCJcIjtcbiAgICBpZiAoKHR5cGVvZiBTID4gXCJ1XCIgfHwgUyA9PSBudWxsKSAmJiAoUyA9IFwiQUVTLTI1Ni1DQkNcIiksIHR5cGVvZiBwW1NdID4gXCJ1XCIpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJLRVlVVElMIHVuc3VwcG9ydGVkIGFsZ29yaXRobTogXCIgKyBTKTtcbiAgICBpZiAodHlwZW9mIGIgPiBcInVcIiB8fCBiID09IG51bGwpIHtcbiAgICAgIHZhciBEID0gcFtTXS5pdmxlbiwgQSA9IGMoRCk7XG4gICAgICBiID0gQS50b1VwcGVyQ2FzZSgpO1xuICAgIH1cbiAgICB2YXIgSSA9IHYoUywgZywgYiksIG0gPSBJLmtleWhleCwgRSA9IGwoZCwgUywgbSwgYiksIHcgPSBFLnJlcGxhY2UoLyguezY0fSkvZywgYCQxXFxyXG5gKSwgeCA9IFwiLS0tLS1CRUdJTiBcIiArIGYgKyBgIFBSSVZBVEUgS0VZLS0tLS1cXHJcbmA7XG4gICAgcmV0dXJuIHggKz0gYFByb2MtVHlwZTogNCxFTkNSWVBURURcXHJcbmAsIHggKz0gXCJERUstSW5mbzogXCIgKyBTICsgXCIsXCIgKyBiICsgYFxcclxuYCwgeCArPSBgXFxyXG5gLCB4ICs9IHcsIHggKz0gYFxcclxuLS0tLS1FTkQgYCArIGYgKyBgIFBSSVZBVEUgS0VZLS0tLS1cXHJcbmAsIHg7XG4gIH0sIGdldEVuY3J5cHRlZFBLQ1M4UEVNOiBmdW5jdGlvbihmLCBkLCBnKSB7XG4gICAgdmFyIFMgPSB0aGlzLmdldEVuY3J5cHRlZFBLQ1M4SGV4KGYsIGQsIGcpO1xuICAgIHJldHVybiBkZShTLCBcIkVOQ1JZUFRFRCBQUklWQVRFIEtFWVwiKTtcbiAgfSwgZ2V0RW5jcnlwdGVkUEtDUzhIZXg6IGZ1bmN0aW9uKGYsIGQsIGcpIHtcbiAgICB2YXIgUztcbiAgICBnID09IG51bGwgfHwgZyA9PSBudWxsID8gUyA9IHt9IDogUyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZykpLCBTLnBsYWluID0gZiwgdGhpcy5pbml0UEJFUzJQYXJhbShTKSwgdGhpcy5lbmNyeXB0UEJFUzJQYXJhbShTLCBkKTtcbiAgICB2YXIgYiA9IHRoaXMuZ2VuZXJhdGVQQkVTMkFTTjFQYXJhbShTKTtcbiAgICByZXR1cm4gYS5hc24xLkFTTjFVdGlsLm5ld09iamVjdChiKS50b2hleCgpO1xuICB9LCBpbml0UEJFUzJQYXJhbTogZnVuY3Rpb24oZikge1xuICAgIGlmIChKKGYsIFwiZW5jYWxnXCIpID09IG51bGwgJiYgKGYuZW5jYWxnID0gXCJhZXMyNTYtQ0JDXCIpLCBKKGYsIFwiaXRlclwiKSA9PSBudWxsICYmIChmLml0ZXIgPSAyMDQ4KSwgSihmLCBcInByZlwiKSA9PSBudWxsICYmIChmLnByZiA9IFwiaG1hY1dpdGhTSEEyNTZcIiksIEooZiwgXCJzYWx0XCIpID09IG51bGwgJiYgKGYuc2FsdCA9IEsuZW5jLkhleC5zdHJpbmdpZnkoSy5saWIuV29yZEFycmF5LnJhbmRvbSg4KSkpLCBKKGYsIFwiZW5jaXZcIikgPT0gbnVsbCkge1xuICAgICAgdmFyIGQ7XG4gICAgICBmLmVuY2FsZyA9PSBcImRlcy1FREUzLUNCQ1wiICYmIChkID0gOCksIGYuZW5jYWxnID09IFwiYWVzMTI4LUNCQ1wiICYmIChkID0gMTYpLCBmLmVuY2FsZyA9PSBcImFlczI1Ni1DQkNcIiAmJiAoZCA9IDE2KSwgZi5lbmNpdiA9IEsuZW5jLkhleC5zdHJpbmdpZnkoSy5saWIuV29yZEFycmF5LnJhbmRvbShkKSk7XG4gICAgfVxuICB9LCBlbmNyeXB0UEJFUzJQYXJhbTogZnVuY3Rpb24oZiwgZCkge1xuICAgIHZhciBnID0gay5nZXRES0Zyb21QQkVTMlBhcmFtKGYsIGQpO1xuICAgIHRyeSB7XG4gICAgICB2YXIgUyA9IGEuY3J5cHRvLkNpcGhlci5lbmNyeXB0KGYucGxhaW4sIGcsIGYuZW5jYWxnLCB7IGl2OiBmLmVuY2l2IH0pO1xuICAgIH0gY2F0Y2gge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZW5jcnlwdCBlcnJvcjogXCIgKyBmLnBsYWluICsgXCIgXCIgKyBnICsgXCIgXCIgKyBmLmVuY2FsZyArIFwiIFwiICsgZi5lbmNpdik7XG4gICAgfVxuICAgIGYuZW5jID0gUztcbiAgfSwgZ2VuZXJhdGVQQkVTMkFTTjFQYXJhbTogZnVuY3Rpb24oZikge1xuICAgIHZhciBkID0geyBzZXE6IFt7IHNlcTogW3sgb2lkOiBcInBrY3M1UEJFUzJcIiB9LCB7IHNlcTogW3sgc2VxOiBbeyBvaWQ6IFwicGtjczVQQktERjJcIiB9LCB7IHNlcTogW3sgb2N0c3RyOiB7IGhleDogZi5zYWx0IH0gfSwgeyBpbnQ6IHsgaGV4OiB4bihmLml0ZXIpIH0gfV0gfV0gfSwgeyBzZXE6IFt7IG9pZDogZi5lbmNhbGcgfSwgeyBvY3RzdHI6IHsgaGV4OiBmLmVuY2l2IH0gfV0gfV0gfV0gfSwgeyBvY3RzdHI6IHsgaGV4OiBmLmVuYyB9IH1dIH07XG4gICAgcmV0dXJuIGYucHJmICE9IFwiaG1hY1dpdGhTSEExXCIgJiYgZC5zZXFbMF0uc2VxWzFdLnNlcVswXS5zZXFbMV0uc2VxLnB1c2goeyBzZXE6IFt7IG9pZDogZi5wcmYgfSwgeyBudWxsOiBcIlwiIH1dIH0pLCBkO1xuICB9LCBwYXJzZUhleE9mRW5jcnlwdGVkUEtDUzg6IGZ1bmN0aW9uKGYpIHtcbiAgICB2YXIgZCA9IFYsIGcgPSBkLmdldENoaWxkSWR4LCBTID0gZC5nZXRWLCBiID0ge30sIEQgPSBnKGYsIDApO1xuICAgIGlmIChELmxlbmd0aCAhPSAyKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwibWFsZm9ybWVkIGZvcm1hdDogU0VRVUVOQ0UoMCkuaXRlbXMgIT0gMjogXCIgKyBELmxlbmd0aCk7XG4gICAgYi5jaXBoZXJ0ZXh0ID0gUyhmLCBEWzFdKTtcbiAgICB2YXIgQSA9IGcoZiwgRFswXSk7XG4gICAgaWYgKEEubGVuZ3RoICE9IDIpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtYWxmb3JtZWQgZm9ybWF0OiBTRVFVRU5DRSgwLjApLml0ZW1zICE9IDI6IFwiICsgQS5sZW5ndGgpO1xuICAgIGlmIChTKGYsIEFbMF0pICE9IFwiMmE4NjQ4ODZmNzBkMDEwNTBkXCIpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0aGlzIG9ubHkgc3VwcG9ydHMgcGtjczVQQkVTMlwiKTtcbiAgICB2YXIgSSA9IGcoZiwgQVsxXSk7XG4gICAgaWYgKEEubGVuZ3RoICE9IDIpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtYWxmb3JtZWQgZm9ybWF0OiBTRVFVRU5DRSgwLjAuMSkuaXRlbXMgIT0gMjogXCIgKyBJLmxlbmd0aCk7XG4gICAgdmFyIG0gPSBnKGYsIElbMV0pO1xuICAgIGlmIChtLmxlbmd0aCAhPSAyKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwibWFsZm9ybWVkIGZvcm1hdDogU0VRVUVOQ0UoMC4wLjEuMSkuaXRlbXMgIT0gMjogXCIgKyBtLmxlbmd0aCk7XG4gICAgaWYgKFMoZiwgbVswXSkgIT0gXCIyYTg2NDg4NmY3MGQwMzA3XCIpXG4gICAgICB0aHJvdyBcInRoaXMgb25seSBzdXBwb3J0cyBUcmlwbGVERVNcIjtcbiAgICBiLmVuY3J5cHRpb25TY2hlbWVBbGcgPSBcIlRyaXBsZURFU1wiLCBiLmVuY3J5cHRpb25TY2hlbWVJViA9IFMoZiwgbVsxXSk7XG4gICAgdmFyIEUgPSBnKGYsIElbMF0pO1xuICAgIGlmIChFLmxlbmd0aCAhPSAyKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwibWFsZm9ybWVkIGZvcm1hdDogU0VRVUVOQ0UoMC4wLjEuMCkuaXRlbXMgIT0gMjogXCIgKyBFLmxlbmd0aCk7XG4gICAgaWYgKFMoZiwgRVswXSkgIT0gXCIyYTg2NDg4NmY3MGQwMTA1MGNcIilcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInRoaXMgb25seSBzdXBwb3J0cyBwa2NzNVBCS0RGMlwiKTtcbiAgICB2YXIgdyA9IGcoZiwgRVsxXSk7XG4gICAgaWYgKHcubGVuZ3RoIDwgMilcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm1hbGZvcm1lZCBmb3JtYXQ6IFNFUVVFTkNFKDAuMC4xLjAuMSkuaXRlbXMgPCAyOiBcIiArIHcubGVuZ3RoKTtcbiAgICBiLnBia2RmMlNhbHQgPSBTKGYsIHdbMF0pO1xuICAgIHZhciB4ID0gUyhmLCB3WzFdKTtcbiAgICB0cnkge1xuICAgICAgYi5wYmtkZjJJdGVyID0gcGFyc2VJbnQoeCwgMTYpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwibWFsZm9ybWVkIGZvcm1hdCBwYmtkZjJJdGVyOiBcIiArIHgpO1xuICAgIH1cbiAgICByZXR1cm4gYjtcbiAgfSwgZ2V0UEJLREYyS2V5SGV4RnJvbVBhcmFtOiBmdW5jdGlvbihmLCBkKSB7XG4gICAgdmFyIGcgPSBLLmVuYy5IZXgucGFyc2UoZi5wYmtkZjJTYWx0KSwgUyA9IGYucGJrZGYySXRlciwgYiA9IEsuUEJLREYyKGQsIGcsIHsga2V5U2l6ZTogMTkyIC8gMzIsIGl0ZXJhdGlvbnM6IFMgfSksIEQgPSBLLmVuYy5IZXguc3RyaW5naWZ5KGIpO1xuICAgIHJldHVybiBEO1xuICB9LCBfZ2V0UGxhaW5QS0NTOEhleEZyb21FbmNyeXB0ZWRQS0NTOFBFTTogZnVuY3Rpb24oZiwgZCkge1xuICAgIHZhciBnID0gaWUoZiwgXCJFTkNSWVBURUQgUFJJVkFURSBLRVlcIiksIFMgPSB0aGlzLnBhcnNlSGV4T2ZFbmNyeXB0ZWRQS0NTOChnKSwgYiA9IGsuZ2V0UEJLREYyS2V5SGV4RnJvbVBhcmFtKFMsIGQpLCBEID0ge307XG4gICAgRC5jaXBoZXJ0ZXh0ID0gSy5lbmMuSGV4LnBhcnNlKFMuY2lwaGVydGV4dCk7XG4gICAgdmFyIEEgPSBLLmVuYy5IZXgucGFyc2UoYiksIEkgPSBLLmVuYy5IZXgucGFyc2UoUy5lbmNyeXB0aW9uU2NoZW1lSVYpLCBtID0gSy5UcmlwbGVERVMuZGVjcnlwdChELCBBLCB7IGl2OiBJIH0pLCBFID0gSy5lbmMuSGV4LnN0cmluZ2lmeShtKTtcbiAgICByZXR1cm4gRTtcbiAgfSwgcGFyc2VQQkVTMjogZnVuY3Rpb24oZikge1xuICAgIHZhciBkID0gVi5wYXJzZShmKTtcbiAgICBpZiAoSihkLCBcInNlcS4wLnNlcS4wLm9pZFwiKSAhPSBcInBrY3M1UEJFUzJcIiB8fCBKKGQsIFwic2VxLjAuc2VxLjEuc2VxLjAuc2VxLjAub2lkXCIpICE9IFwicGtjczVQQktERjJcIilcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vdCBwa2NzNVBCRVMyIGFuZCBwa2NzNVBCS0RGMiB1c2VkXCIpO1xuICAgIHZhciBnID0gSihkLCBcInNlcS4wLnNlcS4xLnNlcS4wLnNlcS4xLnNlcVwiKTtcbiAgICBpZiAoZyA9PSBudWxsKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUEJLREYyIHBhcmFtZXRlciBub3QgZm91bmRcIik7XG4gICAgdmFyIFMgPSBKKGcsIFwiMC5vY3RzdHIuaGV4XCIpLCBiID0gSihnLCBcIjEuaW50LmhleFwiKSwgRCA9IEooZywgXCIyLnNlcS4wLm9pZFwiLCBcImhtYWNXaXRoU0hBMVwiKSwgQSA9IC0xO1xuICAgIHRyeSB7XG4gICAgICBBID0gcGFyc2VJbnQoYiwgMTYpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaXRlciBub3QgcHJvcGVyIHZhbHVlXCIpO1xuICAgIH1cbiAgICB2YXIgSSA9IEooZCwgXCJzZXEuMC5zZXEuMS5zZXEuMS5zZXEuMC5vaWRcIiksIG0gPSBKKGQsIFwic2VxLjAuc2VxLjEuc2VxLjEuc2VxLjEub2N0c3RyLmhleFwiKSwgRSA9IEooZCwgXCJzZXEuMS5vY3RzdHIuaGV4XCIpO1xuICAgIGlmIChJID09IG51bGwgfHwgbSA9PSBudWxsIHx8IEUgPT0gbnVsbClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImVuY2FsZywgZW5jaXYgb3IgZW5jIGlzIHVuZGVmaW5lZFwiKTtcbiAgICB2YXIgdyA9IHsgc2FsdDogUywgaXRlcjogQSwgcHJmOiBELCBlbmNhbGc6IEksIGVuY2l2OiBtLCBlbmM6IEUgfTtcbiAgICByZXR1cm4gdztcbiAgfSwgZ2V0REtGcm9tUEJFUzJQYXJhbTogZnVuY3Rpb24oZiwgZCkge1xuICAgIHZhciBnID0geyBobWFjV2l0aFNIQTE6IEsuYWxnby5TSEExLCBobWFjV2l0aFNIQTIyNDogSy5hbGdvLlNIQTIyNCwgaG1hY1dpdGhTSEEyNTY6IEsuYWxnby5TSEEyNTYsIGhtYWNXaXRoU0hBMzg0OiBLLmFsZ28uU0hBMzg0LCBobWFjV2l0aFNIQTUxMjogSy5hbGdvLlNIQTUxMiB9LCBTID0geyBcImRlcy1FREUzLUNCQ1wiOiAxOTIgLyAzMiwgXCJhZXMxMjgtQ0JDXCI6IDEyOCAvIDMyLCBcImFlczI1Ni1DQkNcIjogMjU2IC8gMzIgfSwgYiA9IGdbZi5wcmZdO1xuICAgIGlmIChiID09IG51bGwpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1bnN1cHBvcnRlZCBwcmZcIik7XG4gICAgdmFyIEQgPSBTW2YuZW5jYWxnXTtcbiAgICBpZiAoRCA9PSBudWxsKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5zdXBwb3J0ZWQgZW5jYWxnXCIpO1xuICAgIHZhciBBID0gSy5lbmMuSGV4LnBhcnNlKGYuc2FsdCksIEkgPSBmLml0ZXI7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBtID0gSy5QQktERjIoZCwgQSwgeyBrZXlTaXplOiBELCBpdGVyYXRpb25zOiBJLCBoYXNoZXI6IGIgfSk7XG4gICAgICByZXR1cm4gSy5lbmMuSGV4LnN0cmluZ2lmeShtKTtcbiAgICB9IGNhdGNoIChFKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQQktERjIgZXJyb3I6IFwiICsgRSArIFwiIFwiICsgSlNPTi5zdHJpbmdpZnkoZikgKyBcIiBcIiArIGQpO1xuICAgIH1cbiAgfSwgZ2V0UGxhaW5IZXhGcm9tRW5jcnlwdGVkUEtDUzhQRU06IGZ1bmN0aW9uKGYsIGQpIHtcbiAgICBpZiAoZi5pbmRleE9mKFwiQkVHSU4gRU5DUllQVEVEIFBSSVZBVEUgS0VZXCIpID09IC0xKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm90IEVuY3J5cHRlZCBQS0NTIzggUEVNIHN0cmluZ1wiKTtcbiAgICB2YXIgZyA9IGllKGYpLCBTO1xuICAgIHRyeSB7XG4gICAgICBTID0gay5wYXJzZVBCRVMyKGcpO1xuICAgIH0gY2F0Y2ggKEQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm1hbGZvcm1lZCBQQkVTMiBmb3JtYXQ6IFwiICsgRC5tZXNzYWdlKTtcbiAgICB9XG4gICAgdmFyIGIgPSBrLmdldERLRnJvbVBCRVMyUGFyYW0oUywgZCk7XG4gICAgcmV0dXJuIGEuY3J5cHRvLkNpcGhlci5kZWNyeXB0KFMuZW5jLCBiLCBTLmVuY2FsZywgeyBpdjogUy5lbmNpdiB9KTtcbiAgfSwgZ2V0S2V5RnJvbUVuY3J5cHRlZFBLQ1M4UEVNOiBmdW5jdGlvbihmLCBkKSB7XG4gICAgdmFyIGcgPSB0aGlzLmdldFBsYWluSGV4RnJvbUVuY3J5cHRlZFBLQ1M4UEVNKGYsIGQpLCBTID0gdGhpcy5nZXRLZXlGcm9tUGxhaW5Qcml2YXRlUEtDUzhIZXgoZyk7XG4gICAgcmV0dXJuIFM7XG4gIH0sIHBhcnNlUGxhaW5Qcml2YXRlUEtDUzhIZXg6IGZ1bmN0aW9uKGYpIHtcbiAgICB2YXIgZCA9IFYsIGcgPSBkLmdldENoaWxkSWR4LCBTID0gZC5nZXRWLCBiID0ge307XG4gICAgaWYgKGIuYWxncGFyYW0gPSBudWxsLCBmLnN1YnN0cigwLCAyKSAhPSBcIjMwXCIpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtYWxmb3JtZWQgcGxhaW4gUEtDUzggcHJpdmF0ZSBrZXkoY29kZTowMDEpXCIpO1xuICAgIHZhciBEID0gZyhmLCAwKTtcbiAgICBpZiAoRC5sZW5ndGggPCAzKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwibWFsZm9ybWVkIHBsYWluIFBLQ1M4IHByaXZhdGUga2V5KGNvZGU6MDAyKVwiKTtcbiAgICBpZiAoZi5zdWJzdHIoRFsxXSwgMikgIT0gXCIzMFwiKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwibWFsZm9ybWVkIFBLQ1M4IHByaXZhdGUga2V5KGNvZGU6MDAzKVwiKTtcbiAgICB2YXIgQSA9IGcoZiwgRFsxXSk7XG4gICAgaWYgKEEubGVuZ3RoICE9IDIpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtYWxmb3JtZWQgUEtDUzggcHJpdmF0ZSBrZXkoY29kZTowMDQpXCIpO1xuICAgIGlmIChmLnN1YnN0cihBWzBdLCAyKSAhPSBcIjA2XCIpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtYWxmb3JtZWQgUEtDUzggcHJpdmF0ZSBrZXkoY29kZTowMDUpXCIpO1xuICAgIGlmIChiLmFsZ29pZCA9IFMoZiwgQVswXSksIGYuc3Vic3RyKEFbMV0sIDIpID09IFwiMDZcIiAmJiAoYi5hbGdwYXJhbSA9IFMoZiwgQVsxXSkpLCBmLnN1YnN0cihEWzJdLCAyKSAhPSBcIjA0XCIpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtYWxmb3JtZWQgUEtDUzggcHJpdmF0ZSBrZXkoY29kZTowMDYpXCIpO1xuICAgIHJldHVybiBiLmtleWlkeCA9IGQuZ2V0VmlkeChmLCBEWzJdKSwgYjtcbiAgfSwgZ2V0S2V5RnJvbVBsYWluUHJpdmF0ZVBLQ1M4UEVNOiBmdW5jdGlvbihmKSB7XG4gICAgdmFyIGQgPSBpZShmLCBcIlBSSVZBVEUgS0VZXCIpLCBnID0gdGhpcy5nZXRLZXlGcm9tUGxhaW5Qcml2YXRlUEtDUzhIZXgoZCk7XG4gICAgcmV0dXJuIGc7XG4gIH0sIGdldEtleUZyb21QbGFpblByaXZhdGVQS0NTOEhleDogZnVuY3Rpb24oZikge1xuICAgIHZhciBkID0gdGhpcy5wYXJzZVBsYWluUHJpdmF0ZVBLQ1M4SGV4KGYpLCBnO1xuICAgIGlmIChkLmFsZ29pZCA9PSBcIjJhODY0ODg2ZjcwZDAxMDEwMVwiKVxuICAgICAgZyA9IG5ldyBxKCk7XG4gICAgZWxzZSBpZiAoZC5hbGdvaWQgPT0gXCIyYTg2NDhjZTM4MDQwMVwiKVxuICAgICAgZyA9IG5ldyBhLmNyeXB0by5EU0EoKTtcbiAgICBlbHNlIGlmIChkLmFsZ29pZCA9PSBcIjJhODY0OGNlM2QwMjAxXCIpXG4gICAgICBnID0gbmV3IGEuY3J5cHRvLkVDRFNBKCk7XG4gICAgZWxzZVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5zdXBwb3J0ZWQgcHJpdmF0ZSBrZXkgYWxnb3JpdGhtXCIpO1xuICAgIHJldHVybiBnLnJlYWRQS0NTOFBydktleUhleChmKSwgZztcbiAgfSwgX2dldEtleUZyb21QdWJsaWNQS0NTOEhleDogZnVuY3Rpb24oZikge1xuICAgIHZhciBkLCBnID0gVi5nZXRWYnlMaXN0KGYsIDAsIFswLCAwXSwgXCIwNlwiKTtcbiAgICBpZiAoZyA9PT0gXCIyYTg2NDg4NmY3MGQwMTAxMDFcIilcbiAgICAgIGQgPSBuZXcgcSgpO1xuICAgIGVsc2UgaWYgKGcgPT09IFwiMmE4NjQ4Y2UzODA0MDFcIilcbiAgICAgIGQgPSBuZXcgYS5jcnlwdG8uRFNBKCk7XG4gICAgZWxzZSBpZiAoZyA9PT0gXCIyYTg2NDhjZTNkMDIwMVwiKVxuICAgICAgZCA9IG5ldyBhLmNyeXB0by5FQ0RTQSgpO1xuICAgIGVsc2VcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInVuc3VwcG9ydGVkIFBLQ1MjOCBwdWJsaWMga2V5IGhleFwiKTtcbiAgICByZXR1cm4gZC5yZWFkUEtDUzhQdWJLZXlIZXgoZiksIGQ7XG4gIH0sIHBhcnNlUHVibGljUmF3UlNBS2V5SGV4OiBmdW5jdGlvbihmKSB7XG4gICAgdmFyIGQgPSBWLCBnID0gZC5nZXRDaGlsZElkeCwgUyA9IGQuZ2V0ViwgYiA9IHt9O1xuICAgIGlmIChmLnN1YnN0cigwLCAyKSAhPSBcIjMwXCIpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtYWxmb3JtZWQgUlNBIGtleShjb2RlOjAwMSlcIik7XG4gICAgdmFyIEQgPSBnKGYsIDApO1xuICAgIGlmIChELmxlbmd0aCAhPSAyKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwibWFsZm9ybWVkIFJTQSBrZXkoY29kZTowMDIpXCIpO1xuICAgIGlmIChmLnN1YnN0cihEWzBdLCAyKSAhPSBcIjAyXCIpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtYWxmb3JtZWQgUlNBIGtleShjb2RlOjAwMylcIik7XG4gICAgaWYgKGIubiA9IFMoZiwgRFswXSksIGYuc3Vic3RyKERbMV0sIDIpICE9IFwiMDJcIilcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm1hbGZvcm1lZCBSU0Ega2V5KGNvZGU6MDA0KVwiKTtcbiAgICByZXR1cm4gYi5lID0gUyhmLCBEWzFdKSwgYjtcbiAgfSwgcGFyc2VQdWJsaWNQS0NTOEhleDogZnVuY3Rpb24oZikge1xuICAgIHZhciBkID0gViwgZyA9IGQuZ2V0Q2hpbGRJZHgsIFMgPSBkLmdldFYsIGIgPSB7fTtcbiAgICBiLmFsZ3BhcmFtID0gbnVsbDtcbiAgICB2YXIgRCA9IGcoZiwgMCk7XG4gICAgaWYgKEQubGVuZ3RoICE9IDIpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJvdXRlciBERVJTZXF1ZW5jZSBzaGFsbCBoYXZlIDIgZWxlbWVudHM6IFwiICsgRC5sZW5ndGgpO1xuICAgIHZhciBBID0gRFswXTtcbiAgICBpZiAoZi5zdWJzdHIoQSwgMikgIT0gXCIzMFwiKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwibWFsZm9ybWVkIFBLQ1M4IHB1YmxpYyBrZXkoY29kZTowMDEpXCIpO1xuICAgIHZhciBJID0gZyhmLCBBKTtcbiAgICBpZiAoSS5sZW5ndGggIT0gMilcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm1hbGZvcm1lZCBQS0NTOCBwdWJsaWMga2V5KGNvZGU6MDAyKVwiKTtcbiAgICBpZiAoZi5zdWJzdHIoSVswXSwgMikgIT0gXCIwNlwiKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwibWFsZm9ybWVkIFBLQ1M4IHB1YmxpYyBrZXkoY29kZTowMDMpXCIpO1xuICAgIGlmIChiLmFsZ29pZCA9IFMoZiwgSVswXSksIGYuc3Vic3RyKElbMV0sIDIpID09IFwiMDZcIiA/IGIuYWxncGFyYW0gPSBTKGYsIElbMV0pIDogZi5zdWJzdHIoSVsxXSwgMikgPT0gXCIzMFwiICYmIChiLmFsZ3BhcmFtID0ge30sIGIuYWxncGFyYW0ucCA9IGQuZ2V0VmJ5TGlzdChmLCBJWzFdLCBbMF0sIFwiMDJcIiksIGIuYWxncGFyYW0ucSA9IGQuZ2V0VmJ5TGlzdChmLCBJWzFdLCBbMV0sIFwiMDJcIiksIGIuYWxncGFyYW0uZyA9IGQuZ2V0VmJ5TGlzdChmLCBJWzFdLCBbMl0sIFwiMDJcIikpLCBmLnN1YnN0cihEWzFdLCAyKSAhPSBcIjAzXCIpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtYWxmb3JtZWQgUEtDUzggcHVibGljIGtleShjb2RlOjAwNClcIik7XG4gICAgcmV0dXJuIGIua2V5ID0gUyhmLCBEWzFdKS5zdWJzdHIoMiksIGI7XG4gIH0gfTtcbn0oKTtcbmsuZ2V0S2V5ID0gZnVuY3Rpb24oZSwgdCwgcikge1xuICB2YXIgaSA9IFYsIHMgPSBpLmdldENoaWxkSWR4O1xuICBpLmdldFY7XG4gIHZhciBuID0gaS5nZXRWYnlMaXN0LCBoID0gYS5jcnlwdG8sIHUgPSBoLkVDRFNBLCBwID0gaC5EU0EsIGMgPSBxLCB5ID0gaWUsIHYgPSBrO1xuICBpZiAodHlwZW9mIGMgPCBcInVcIiAmJiBlIGluc3RhbmNlb2YgYyB8fCB0eXBlb2YgdSA8IFwidVwiICYmIGUgaW5zdGFuY2VvZiB1IHx8IHR5cGVvZiBwIDwgXCJ1XCIgJiYgZSBpbnN0YW5jZW9mIHApXG4gICAgcmV0dXJuIGU7XG4gIGlmIChlLmN1cnZlICE9PSB2b2lkIDAgJiYgZS54eSAhPT0gdm9pZCAwICYmIGUuZCA9PT0gdm9pZCAwKVxuICAgIHJldHVybiBuZXcgdSh7IHB1YjogZS54eSwgY3VydmU6IGUuY3VydmUgfSk7XG4gIGlmIChlLmN1cnZlICE9PSB2b2lkIDAgJiYgZS5kICE9PSB2b2lkIDApXG4gICAgcmV0dXJuIG5ldyB1KHsgcHJ2OiBlLmQsIGN1cnZlOiBlLmN1cnZlIH0pO1xuICBpZiAoZS5rdHkgPT09IHZvaWQgMCAmJiBlLm4gIT09IHZvaWQgMCAmJiBlLmUgIT09IHZvaWQgMCAmJiBlLmQgPT09IHZvaWQgMCkge1xuICAgIHZhciBvID0gbmV3IGMoKTtcbiAgICByZXR1cm4gby5zZXRQdWJsaWMoZS5uLCBlLmUpLCBvO1xuICB9XG4gIGlmIChlLmt0eSA9PT0gdm9pZCAwICYmIGUubiAhPT0gdm9pZCAwICYmIGUuZSAhPT0gdm9pZCAwICYmIGUuZCAhPT0gdm9pZCAwICYmIGUucCAhPT0gdm9pZCAwICYmIGUucSAhPT0gdm9pZCAwICYmIGUuZHAgIT09IHZvaWQgMCAmJiBlLmRxICE9PSB2b2lkIDAgJiYgZS5jbyAhPT0gdm9pZCAwICYmIGUucWkgPT09IHZvaWQgMCkge1xuICAgIHZhciBvID0gbmV3IGMoKTtcbiAgICByZXR1cm4gby5zZXRQcml2YXRlRXgoZS5uLCBlLmUsIGUuZCwgZS5wLCBlLnEsIGUuZHAsIGUuZHEsIGUuY28pLCBvO1xuICB9XG4gIGlmIChlLmt0eSA9PT0gdm9pZCAwICYmIGUubiAhPT0gdm9pZCAwICYmIGUuZSAhPT0gdm9pZCAwICYmIGUuZCAhPT0gdm9pZCAwICYmIGUucCA9PT0gdm9pZCAwKSB7XG4gICAgdmFyIG8gPSBuZXcgYygpO1xuICAgIHJldHVybiBvLnNldFByaXZhdGUoZS5uLCBlLmUsIGUuZCksIG87XG4gIH1cbiAgaWYgKGUucCAhPT0gdm9pZCAwICYmIGUucSAhPT0gdm9pZCAwICYmIGUuZyAhPT0gdm9pZCAwICYmIGUueSAhPT0gdm9pZCAwICYmIGUueCA9PT0gdm9pZCAwKSB7XG4gICAgdmFyIG8gPSBuZXcgcCgpO1xuICAgIHJldHVybiBvLnNldFB1YmxpYyhlLnAsIGUucSwgZS5nLCBlLnkpLCBvO1xuICB9XG4gIGlmIChlLnAgIT09IHZvaWQgMCAmJiBlLnEgIT09IHZvaWQgMCAmJiBlLmcgIT09IHZvaWQgMCAmJiBlLnkgIT09IHZvaWQgMCAmJiBlLnggIT09IHZvaWQgMCkge1xuICAgIHZhciBvID0gbmV3IHAoKTtcbiAgICByZXR1cm4gby5zZXRQcml2YXRlKGUucCwgZS5xLCBlLmcsIGUueSwgZS54KSwgbztcbiAgfVxuICBpZiAoZS5rdHkgPT09IFwiUlNBXCIgJiYgZS5uICE9PSB2b2lkIDAgJiYgZS5lICE9PSB2b2lkIDAgJiYgZS5kID09PSB2b2lkIDApIHtcbiAgICB2YXIgbyA9IG5ldyBjKCk7XG4gICAgcmV0dXJuIG8uc2V0UHVibGljKFkoZS5uKSwgWShlLmUpKSwgbztcbiAgfVxuICBpZiAoZS5rdHkgPT09IFwiUlNBXCIgJiYgZS5uICE9PSB2b2lkIDAgJiYgZS5lICE9PSB2b2lkIDAgJiYgZS5kICE9PSB2b2lkIDAgJiYgZS5wICE9PSB2b2lkIDAgJiYgZS5xICE9PSB2b2lkIDAgJiYgZS5kcCAhPT0gdm9pZCAwICYmIGUuZHEgIT09IHZvaWQgMCAmJiBlLnFpICE9PSB2b2lkIDApIHtcbiAgICB2YXIgbyA9IG5ldyBjKCk7XG4gICAgcmV0dXJuIG8uc2V0UHJpdmF0ZUV4KFkoZS5uKSwgWShlLmUpLCBZKGUuZCksIFkoZS5wKSwgWShlLnEpLCBZKGUuZHApLCBZKGUuZHEpLCBZKGUucWkpKSwgbztcbiAgfVxuICBpZiAoZS5rdHkgPT09IFwiUlNBXCIgJiYgZS5uICE9PSB2b2lkIDAgJiYgZS5lICE9PSB2b2lkIDAgJiYgZS5kICE9PSB2b2lkIDApIHtcbiAgICB2YXIgbyA9IG5ldyBjKCk7XG4gICAgcmV0dXJuIG8uc2V0UHJpdmF0ZShZKGUubiksIFkoZS5lKSwgWShlLmQpKSwgbztcbiAgfVxuICBpZiAoZS5rdHkgPT09IFwiRUNcIiAmJiBlLmNydiAhPT0gdm9pZCAwICYmIGUueCAhPT0gdm9pZCAwICYmIGUueSAhPT0gdm9pZCAwICYmIGUuZCA9PT0gdm9pZCAwKSB7XG4gICAgdmFyIGwgPSBuZXcgdSh7IGN1cnZlOiBlLmNydiB9KSwgZiA9IGwuZWNwYXJhbXMua2V5Y2hhcmxlbiwgZCA9IChcIjAwMDAwMDAwMDBcIiArIFkoZS54KSkuc2xpY2UoLWYpLCBnID0gKFwiMDAwMDAwMDAwMFwiICsgWShlLnkpKS5zbGljZSgtZiksIFMgPSBcIjA0XCIgKyBkICsgZztcbiAgICByZXR1cm4gbC5zZXRQdWJsaWNLZXlIZXgoUyksIGw7XG4gIH1cbiAgaWYgKGUua3R5ID09PSBcIkVDXCIgJiYgZS5jcnYgIT09IHZvaWQgMCAmJiBlLnggIT09IHZvaWQgMCAmJiBlLnkgIT09IHZvaWQgMCAmJiBlLmQgIT09IHZvaWQgMCkge1xuICAgIHZhciBsID0gbmV3IHUoeyBjdXJ2ZTogZS5jcnYgfSksIGYgPSBsLmVjcGFyYW1zLmtleWNoYXJsZW4sIGQgPSAoXCIwMDAwMDAwMDAwXCIgKyBZKGUueCkpLnNsaWNlKC1mKSwgZyA9IChcIjAwMDAwMDAwMDBcIiArIFkoZS55KSkuc2xpY2UoLWYpLCBTID0gXCIwNFwiICsgZCArIGcsIGIgPSAoXCIwMDAwMDAwMDAwXCIgKyBZKGUuZCkpLnNsaWNlKC1mKTtcbiAgICByZXR1cm4gbC5zZXRQdWJsaWNLZXlIZXgoUyksIGwuc2V0UHJpdmF0ZUtleUhleChiKSwgbDtcbiAgfVxuICBpZiAociA9PT0gXCJwa2NzNXBydlwiKSB7XG4gICAgdmFyIEQgPSBlLCBpID0gViwgQSwgbztcbiAgICBpZiAoQSA9IHMoRCwgMCksIEEubGVuZ3RoID09PSA5KVxuICAgICAgbyA9IG5ldyBjKCksIG8ucmVhZFBLQ1M1UHJ2S2V5SGV4KEQpO1xuICAgIGVsc2UgaWYgKEEubGVuZ3RoID09PSA2KVxuICAgICAgbyA9IG5ldyBwKCksIG8ucmVhZFBLQ1M1UHJ2S2V5SGV4KEQpO1xuICAgIGVsc2UgaWYgKEEubGVuZ3RoID4gMiAmJiBELnN1YnN0cihBWzFdLCAyKSA9PT0gXCIwNFwiKVxuICAgICAgbyA9IG5ldyB1KCksIG8ucmVhZFBLQ1M1UHJ2S2V5SGV4KEQpO1xuICAgIGVsc2VcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInVuc3VwcG9ydGVkIFBLQ1MjMS81IGhleGFkZWNpbWFsIGtleVwiKTtcbiAgICByZXR1cm4gbztcbiAgfVxuICBpZiAociA9PT0gXCJwa2NzOHBydlwiKSB7XG4gICAgdmFyIG8gPSB2LmdldEtleUZyb21QbGFpblByaXZhdGVQS0NTOEhleChlKTtcbiAgICByZXR1cm4gbztcbiAgfVxuICBpZiAociA9PT0gXCJwa2NzOHB1YlwiKVxuICAgIHJldHVybiB2Ll9nZXRLZXlGcm9tUHVibGljUEtDUzhIZXgoZSk7XG4gIGlmIChyID09PSBcIng1MDlwdWJcIilcbiAgICByZXR1cm4gTC5nZXRQdWJsaWNLZXlGcm9tQ2VydEhleChlKTtcbiAgaWYgKGUuaW5kZXhPZihcIi1FTkQgQ0VSVElGSUNBVEUtXCIsIDApICE9IC0xIHx8IGUuaW5kZXhPZihcIi1FTkQgWDUwOSBDRVJUSUZJQ0FURS1cIiwgMCkgIT0gLTEgfHwgZS5pbmRleE9mKFwiLUVORCBUUlVTVEVEIENFUlRJRklDQVRFLVwiLCAwKSAhPSAtMSlcbiAgICByZXR1cm4gTC5nZXRQdWJsaWNLZXlGcm9tQ2VydFBFTShlKTtcbiAgaWYgKGUuaW5kZXhPZihcIi1FTkQgUFVCTElDIEtFWS1cIikgIT0gLTEpIHtcbiAgICB2YXIgSSA9IGllKGUsIFwiUFVCTElDIEtFWVwiKTtcbiAgICByZXR1cm4gdi5fZ2V0S2V5RnJvbVB1YmxpY1BLQ1M4SGV4KEkpO1xuICB9XG4gIGlmIChlLmluZGV4T2YoXCItRU5EIFJTQSBQUklWQVRFIEtFWS1cIikgIT0gLTEgJiYgZS5pbmRleE9mKFwiNCxFTkNSWVBURURcIikgPT0gLTEpIHtcbiAgICB2YXIgbSA9IHkoZSwgXCJSU0EgUFJJVkFURSBLRVlcIik7XG4gICAgcmV0dXJuIHYuZ2V0S2V5KG0sIG51bGwsIFwicGtjczVwcnZcIik7XG4gIH1cbiAgaWYgKGUuaW5kZXhPZihcIi1FTkQgRFNBIFBSSVZBVEUgS0VZLVwiKSAhPSAtMSAmJiBlLmluZGV4T2YoXCI0LEVOQ1JZUFRFRFwiKSA9PSAtMSkge1xuICAgIHZhciBFID0geShlLCBcIkRTQSBQUklWQVRFIEtFWVwiKSwgdyA9IG4oRSwgMCwgWzFdLCBcIjAyXCIpLCB4ID0gbihFLCAwLCBbMl0sIFwiMDJcIiksIEYgPSBuKEUsIDAsIFszXSwgXCIwMlwiKSwgUCA9IG4oRSwgMCwgWzRdLCBcIjAyXCIpLCBUID0gbihFLCAwLCBbNV0sIFwiMDJcIiksIG8gPSBuZXcgcCgpO1xuICAgIHJldHVybiBvLnNldFByaXZhdGUobmV3IFIodywgMTYpLCBuZXcgUih4LCAxNiksIG5ldyBSKEYsIDE2KSwgbmV3IFIoUCwgMTYpLCBuZXcgUihULCAxNikpLCBvO1xuICB9XG4gIGlmIChlLmluZGV4T2YoXCItRU5EIEVDIFBSSVZBVEUgS0VZLVwiKSAhPSAtMSAmJiBlLmluZGV4T2YoXCI0LEVOQ1JZUFRFRFwiKSA9PSAtMSkge1xuICAgIHZhciBtID0geShlLCBcIkVDIFBSSVZBVEUgS0VZXCIpO1xuICAgIHJldHVybiB2LmdldEtleShtLCBudWxsLCBcInBrY3M1cHJ2XCIpO1xuICB9XG4gIGlmIChlLmluZGV4T2YoXCItRU5EIFBSSVZBVEUgS0VZLVwiKSAhPSAtMSlcbiAgICByZXR1cm4gdi5nZXRLZXlGcm9tUGxhaW5Qcml2YXRlUEtDUzhQRU0oZSk7XG4gIGlmIChlLmluZGV4T2YoXCItRU5EIFJTQSBQUklWQVRFIEtFWS1cIikgIT0gLTEgJiYgZS5pbmRleE9mKFwiNCxFTkNSWVBURURcIikgIT0gLTEpIHtcbiAgICB2YXIgSCA9IHYuZ2V0RGVjcnlwdGVkS2V5SGV4KGUsIHQpLCBDID0gbmV3IHEoKTtcbiAgICByZXR1cm4gQy5yZWFkUEtDUzVQcnZLZXlIZXgoSCksIEM7XG4gIH1cbiAgaWYgKGUuaW5kZXhPZihcIi1FTkQgRUMgUFJJVkFURSBLRVktXCIpICE9IC0xICYmIGUuaW5kZXhPZihcIjQsRU5DUllQVEVEXCIpICE9IC0xKSB7XG4gICAgdmFyIEUgPSB2LmdldERlY3J5cHRlZEtleUhleChlLCB0KSwgbyA9IG4oRSwgMCwgWzFdLCBcIjA0XCIpLCBCID0gbihFLCAwLCBbMiwgMF0sIFwiMDZcIiksIE8gPSBuKEUsIDAsIFszLCAwXSwgXCIwM1wiKS5zdWJzdHIoMiksIGogPSBcIlwiO1xuICAgIGlmIChhLmNyeXB0by5PSUQub2lkaGV4Mm5hbWVbQl0gIT09IHZvaWQgMClcbiAgICAgIGogPSBhLmNyeXB0by5PSUQub2lkaGV4Mm5hbWVbQl07XG4gICAgZWxzZVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5kZWZpbmVkIE9JRChoZXgpIGluIEtKVVIuY3J5cHRvLk9JRDogXCIgKyBCKTtcbiAgICB2YXIgbCA9IG5ldyB1KHsgY3VydmU6IGogfSk7XG4gICAgcmV0dXJuIGwuc2V0UHVibGljS2V5SGV4KE8pLCBsLnNldFByaXZhdGVLZXlIZXgobyksIGwuaXNQdWJsaWMgPSAhMSwgbDtcbiAgfVxuICBpZiAoZS5pbmRleE9mKFwiLUVORCBEU0EgUFJJVkFURSBLRVktXCIpICE9IC0xICYmIGUuaW5kZXhPZihcIjQsRU5DUllQVEVEXCIpICE9IC0xKSB7XG4gICAgdmFyIEUgPSB2LmdldERlY3J5cHRlZEtleUhleChlLCB0KSwgdyA9IG4oRSwgMCwgWzFdLCBcIjAyXCIpLCB4ID0gbihFLCAwLCBbMl0sIFwiMDJcIiksIEYgPSBuKEUsIDAsIFszXSwgXCIwMlwiKSwgUCA9IG4oRSwgMCwgWzRdLCBcIjAyXCIpLCBUID0gbihFLCAwLCBbNV0sIFwiMDJcIiksIG8gPSBuZXcgcCgpO1xuICAgIHJldHVybiBvLnNldFByaXZhdGUobmV3IFIodywgMTYpLCBuZXcgUih4LCAxNiksIG5ldyBSKEYsIDE2KSwgbmV3IFIoUCwgMTYpLCBuZXcgUihULCAxNikpLCBvO1xuICB9XG4gIGlmIChlLmluZGV4T2YoXCItRU5EIEVOQ1JZUFRFRCBQUklWQVRFIEtFWS1cIikgIT0gLTEpXG4gICAgcmV0dXJuIHYuZ2V0S2V5RnJvbUVuY3J5cHRlZFBLQ1M4UEVNKGUsIHQpO1xuICB0aHJvdyBuZXcgRXJyb3IoXCJub3Qgc3VwcG9ydGVkIGFyZ3VtZW50XCIpO1xufTtcbmsuZ2VuZXJhdGVLZXlwYWlyID0gZnVuY3Rpb24oZSwgdCkge1xuICBpZiAoZSA9PSBcIlJTQVwiKSB7XG4gICAgdmFyIHIgPSB0LCBpID0gbmV3IHEoKTtcbiAgICBpLmdlbmVyYXRlKHIsIFwiMTAwMDFcIiksIGkuaXNQcml2YXRlID0gITAsIGkuaXNQdWJsaWMgPSAhMDtcbiAgICB2YXIgcyA9IG5ldyBxKCksIG4gPSBpLm4udG9TdHJpbmcoMTYpLCBoID0gaS5lLnRvU3RyaW5nKDE2KTtcbiAgICBzLnNldFB1YmxpYyhuLCBoKSwgcy5pc1ByaXZhdGUgPSAhMSwgcy5pc1B1YmxpYyA9ICEwO1xuICAgIHZhciB1ID0ge307XG4gICAgcmV0dXJuIHUucHJ2S2V5T2JqID0gaSwgdS5wdWJLZXlPYmogPSBzLCB1O1xuICB9IGVsc2UgaWYgKGUgPT0gXCJFQ1wiKSB7XG4gICAgdmFyIHAgPSB0LCBjID0gbmV3IGEuY3J5cHRvLkVDRFNBKHsgY3VydmU6IHAgfSksIHkgPSBjLmdlbmVyYXRlS2V5UGFpckhleCgpLCBpID0gbmV3IGEuY3J5cHRvLkVDRFNBKHsgY3VydmU6IHAgfSk7XG4gICAgaS5zZXRQdWJsaWNLZXlIZXgoeS5lY3B1YmhleCksIGkuc2V0UHJpdmF0ZUtleUhleCh5LmVjcHJ2aGV4KSwgaS5pc1ByaXZhdGUgPSAhMCwgaS5pc1B1YmxpYyA9ICExO1xuICAgIHZhciBzID0gbmV3IGEuY3J5cHRvLkVDRFNBKHsgY3VydmU6IHAgfSk7XG4gICAgcy5zZXRQdWJsaWNLZXlIZXgoeS5lY3B1YmhleCksIHMuaXNQcml2YXRlID0gITEsIHMuaXNQdWJsaWMgPSAhMDtcbiAgICB2YXIgdSA9IHt9O1xuICAgIHJldHVybiB1LnBydktleU9iaiA9IGksIHUucHViS2V5T2JqID0gcywgdTtcbiAgfSBlbHNlXG4gICAgdGhyb3cgbmV3IEVycm9yKFwidW5rbm93biBhbGdvcml0aG06IFwiICsgZSk7XG59O1xuay5nZXRQRU0gPSBmdW5jdGlvbihlLCB0LCByLCBpLCBzLCBuKSB7XG4gIHZhciBoID0gYSwgdSA9IGguYXNuMSwgcCA9IHUuREVST2JqZWN0SWRlbnRpZmllciwgYyA9IHUuREVSSW50ZWdlciwgeSA9IHUuQVNOMVV0aWwubmV3T2JqZWN0LCB2ID0gdS54NTA5LCBvID0gdi5TdWJqZWN0UHVibGljS2V5SW5mbywgbCA9IGguY3J5cHRvLCBmID0gbC5EU0EsIGQgPSBsLkVDRFNBLCBnID0gcTtcbiAgZnVuY3Rpb24gUyhCKSB7XG4gICAgdmFyIE8gPSB5KHsgc2VxOiBbeyBpbnQ6IDAgfSwgeyBpbnQ6IHsgYmlnaW50OiBCLm4gfSB9LCB7IGludDogQi5lIH0sIHsgaW50OiB7IGJpZ2ludDogQi5kIH0gfSwgeyBpbnQ6IHsgYmlnaW50OiBCLnAgfSB9LCB7IGludDogeyBiaWdpbnQ6IEIucSB9IH0sIHsgaW50OiB7IGJpZ2ludDogQi5kbXAxIH0gfSwgeyBpbnQ6IHsgYmlnaW50OiBCLmRtcTEgfSB9LCB7IGludDogeyBiaWdpbnQ6IEIuY29lZmYgfSB9XSB9KTtcbiAgICByZXR1cm4gTztcbiAgfVxuICBmdW5jdGlvbiBiKEIpIHtcbiAgICB2YXIgTyA9IHkoeyBzZXE6IFt7IGludDogMSB9LCB7IG9jdHN0cjogeyBoZXg6IEIucHJ2S2V5SGV4IH0gfSwgeyB0YWc6IFtcImEwXCIsICEwLCB7IG9pZDogeyBuYW1lOiBCLmN1cnZlTmFtZSB9IH1dIH0sIHsgdGFnOiBbXCJhMVwiLCAhMCwgeyBiaXRzdHI6IHsgaGV4OiBcIjAwXCIgKyBCLnB1YktleUhleCB9IH1dIH1dIH0pO1xuICAgIHJldHVybiBPO1xuICB9XG4gIGZ1bmN0aW9uIEQoQikge1xuICAgIHZhciBPID0geSh7IHNlcTogW3sgaW50OiAwIH0sIHsgaW50OiB7IGJpZ2ludDogQi5wIH0gfSwgeyBpbnQ6IHsgYmlnaW50OiBCLnEgfSB9LCB7IGludDogeyBiaWdpbnQ6IEIuZyB9IH0sIHsgaW50OiB7IGJpZ2ludDogQi55IH0gfSwgeyBpbnQ6IHsgYmlnaW50OiBCLnggfSB9XSB9KTtcbiAgICByZXR1cm4gTztcbiAgfVxuICBpZiAoKGcgIT09IHZvaWQgMCAmJiBlIGluc3RhbmNlb2YgZyB8fCBmICE9PSB2b2lkIDAgJiYgZSBpbnN0YW5jZW9mIGYgfHwgZCAhPT0gdm9pZCAwICYmIGUgaW5zdGFuY2VvZiBkKSAmJiBlLmlzUHVibGljID09ICEwICYmICh0ID09PSB2b2lkIDAgfHwgdCA9PSBcIlBLQ1M4UFVCXCIpKSB7XG4gICAgdmFyIEEgPSBuZXcgbyhlKSwgSSA9IEEudG9oZXgoKTtcbiAgICByZXR1cm4gZGUoSSwgXCJQVUJMSUMgS0VZXCIpO1xuICB9XG4gIGlmICh0ID09IFwiUEtDUzFQUlZcIiAmJiBnICE9PSB2b2lkIDAgJiYgZSBpbnN0YW5jZW9mIGcgJiYgKHIgPT09IHZvaWQgMCB8fCByID09IG51bGwpICYmIGUuaXNQcml2YXRlID09ICEwKSB7XG4gICAgdmFyIEEgPSBTKGUpLCBJID0gQS50b2hleCgpO1xuICAgIHJldHVybiBkZShJLCBcIlJTQSBQUklWQVRFIEtFWVwiKTtcbiAgfVxuICBpZiAodCA9PSBcIlBLQ1MxUFJWXCIgJiYgZCAhPT0gdm9pZCAwICYmIGUgaW5zdGFuY2VvZiBkICYmIChyID09PSB2b2lkIDAgfHwgciA9PSBudWxsKSAmJiBlLmlzUHJpdmF0ZSA9PSAhMCkge1xuICAgIHZhciBtID0gbmV3IHAoeyBuYW1lOiBlLmN1cnZlTmFtZSB9KSwgRSA9IG0udG9oZXgoKSwgdyA9IGIoZSksIHggPSB3LnRvaGV4KCksIEYgPSBcIlwiO1xuICAgIHJldHVybiBGICs9IGRlKEUsIFwiRUMgUEFSQU1FVEVSU1wiKSwgRiArPSBkZSh4LCBcIkVDIFBSSVZBVEUgS0VZXCIpLCBGO1xuICB9XG4gIGlmICh0ID09IFwiUEtDUzFQUlZcIiAmJiBmICE9PSB2b2lkIDAgJiYgZSBpbnN0YW5jZW9mIGYgJiYgKHIgPT09IHZvaWQgMCB8fCByID09IG51bGwpICYmIGUuaXNQcml2YXRlID09ICEwKSB7XG4gICAgdmFyIEEgPSBEKGUpLCBJID0gQS50b2hleCgpO1xuICAgIHJldHVybiBkZShJLCBcIkRTQSBQUklWQVRFIEtFWVwiKTtcbiAgfVxuICBpZiAodCA9PSBcIlBLQ1M1UFJWXCIgJiYgZyAhPT0gdm9pZCAwICYmIGUgaW5zdGFuY2VvZiBnICYmIHIgIT09IHZvaWQgMCAmJiByICE9IG51bGwgJiYgZS5pc1ByaXZhdGUgPT0gITApIHtcbiAgICB2YXIgQSA9IFMoZSksIEkgPSBBLnRvaGV4KCk7XG4gICAgcmV0dXJuIGkgPT09IHZvaWQgMCAmJiAoaSA9IFwiREVTLUVERTMtQ0JDXCIpLCB0aGlzLmdldEVuY3J5cHRlZFBLQ1M1UEVNRnJvbVBydktleUhleChcIlJTQVwiLCBJLCByLCBpLCBuKTtcbiAgfVxuICBpZiAodCA9PSBcIlBLQ1M1UFJWXCIgJiYgZCAhPT0gdm9pZCAwICYmIGUgaW5zdGFuY2VvZiBkICYmIHIgIT09IHZvaWQgMCAmJiByICE9IG51bGwgJiYgZS5pc1ByaXZhdGUgPT0gITApIHtcbiAgICB2YXIgQSA9IGIoZSksIEkgPSBBLnRvaGV4KCk7XG4gICAgcmV0dXJuIGkgPT09IHZvaWQgMCAmJiAoaSA9IFwiREVTLUVERTMtQ0JDXCIpLCB0aGlzLmdldEVuY3J5cHRlZFBLQ1M1UEVNRnJvbVBydktleUhleChcIkVDXCIsIEksIHIsIGksIG4pO1xuICB9XG4gIGlmICh0ID09IFwiUEtDUzVQUlZcIiAmJiBmICE9PSB2b2lkIDAgJiYgZSBpbnN0YW5jZW9mIGYgJiYgciAhPT0gdm9pZCAwICYmIHIgIT0gbnVsbCAmJiBlLmlzUHJpdmF0ZSA9PSAhMCkge1xuICAgIHZhciBBID0gRChlKSwgSSA9IEEudG9oZXgoKTtcbiAgICByZXR1cm4gaSA9PT0gdm9pZCAwICYmIChpID0gXCJERVMtRURFMy1DQkNcIiksIHRoaXMuZ2V0RW5jcnlwdGVkUEtDUzVQRU1Gcm9tUHJ2S2V5SGV4KFwiRFNBXCIsIEksIHIsIGksIG4pO1xuICB9XG4gIHZhciBQID0gZnVuY3Rpb24oQiwgTykge1xuICAgIGlmICh0eXBlb2YgTyA9PSBcInN0cmluZ1wiKVxuICAgICAgcmV0dXJuIGsuZ2V0RW5jcnlwdGVkUEtDUzhQRU0oQiwgTyk7XG4gICAgaWYgKHR5cGVvZiBPID09IFwib2JqZWN0XCIgJiYgSihPLCBcInBhc3Njb2RlXCIpICE9IG51bGwpIHtcbiAgICAgIHZhciBqID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShPKSksIGZlID0gai5wYXNzY29kZTtcbiAgICAgIHJldHVybiBkZWxldGUgai5wYXNzY29kZSwgay5nZXRFbmNyeXB0ZWRQS0NTOFBFTShCLCBmZSwgaik7XG4gICAgfVxuICB9O1xuICBpZiAodCA9PSBcIlBLQ1M4UFJWXCIgJiYgZyAhPSBudWxsICYmIGUgaW5zdGFuY2VvZiBnICYmIGUuaXNQcml2YXRlID09ICEwKSB7XG4gICAgdmFyIFQgPSBTKGUpLCBIID0gVC50b2hleCgpLCBBID0geSh7IHNlcTogW3sgaW50OiAwIH0sIHsgc2VxOiBbeyBvaWQ6IHsgbmFtZTogXCJyc2FFbmNyeXB0aW9uXCIgfSB9LCB7IG51bGw6ICEwIH1dIH0sIHsgb2N0c3RyOiB7IGhleDogSCB9IH1dIH0pLCBJID0gQS50b2hleCgpO1xuICAgIHJldHVybiByID09PSB2b2lkIDAgfHwgciA9PSBudWxsID8gZGUoSSwgXCJQUklWQVRFIEtFWVwiKSA6IFAoSSwgcik7XG4gIH1cbiAgaWYgKHQgPT0gXCJQS0NTOFBSVlwiICYmIGQgIT09IHZvaWQgMCAmJiBlIGluc3RhbmNlb2YgZCAmJiBlLmlzUHJpdmF0ZSA9PSAhMCkge1xuICAgIHZhciBDID0geyBzZXE6IFt7IGludDogMSB9LCB7IG9jdHN0cjogeyBoZXg6IGUucHJ2S2V5SGV4IH0gfV0gfTtcbiAgICB0eXBlb2YgZS5wdWJLZXlIZXggPT0gXCJzdHJpbmdcIiAmJiBDLnNlcS5wdXNoKHsgdGFnOiBbXCJhMVwiLCAhMCwgeyBiaXRzdHI6IHsgaGV4OiBcIjAwXCIgKyBlLnB1YktleUhleCB9IH1dIH0pO1xuICAgIHZhciBUID0gbmV3IHkoQyksIEggPSBULnRvaGV4KCksIEEgPSB5KHsgc2VxOiBbeyBpbnQ6IDAgfSwgeyBzZXE6IFt7IG9pZDogeyBuYW1lOiBcImVjUHVibGljS2V5XCIgfSB9LCB7IG9pZDogeyBuYW1lOiBlLmN1cnZlTmFtZSB9IH1dIH0sIHsgb2N0c3RyOiB7IGhleDogSCB9IH1dIH0pLCBJID0gQS50b2hleCgpO1xuICAgIHJldHVybiByID09PSB2b2lkIDAgfHwgciA9PSBudWxsID8gZGUoSSwgXCJQUklWQVRFIEtFWVwiKSA6IFAoSSwgcik7XG4gIH1cbiAgaWYgKHQgPT0gXCJQS0NTOFBSVlwiICYmIGYgIT09IHZvaWQgMCAmJiBlIGluc3RhbmNlb2YgZiAmJiBlLmlzUHJpdmF0ZSA9PSAhMCkge1xuICAgIHZhciBUID0gbmV3IGMoeyBiaWdpbnQ6IGUueCB9KSwgSCA9IFQudG9oZXgoKSwgQSA9IHkoeyBzZXE6IFt7IGludDogMCB9LCB7IHNlcTogW3sgb2lkOiB7IG5hbWU6IFwiZHNhXCIgfSB9LCB7IHNlcTogW3sgaW50OiB7IGJpZ2ludDogZS5wIH0gfSwgeyBpbnQ6IHsgYmlnaW50OiBlLnEgfSB9LCB7IGludDogeyBiaWdpbnQ6IGUuZyB9IH1dIH1dIH0sIHsgb2N0c3RyOiB7IGhleDogSCB9IH1dIH0pLCBJID0gQS50b2hleCgpO1xuICAgIHJldHVybiByID09PSB2b2lkIDAgfHwgciA9PSBudWxsID8gZGUoSSwgXCJQUklWQVRFIEtFWVwiKSA6IFAoSSwgcik7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKFwidW5zdXBwb3J0ZWQgb2JqZWN0IG5vciBmb3JtYXRcIik7XG59O1xuay5nZXRLZXlGcm9tQ1NSUEVNID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IGllKGUsIFwiQ0VSVElGSUNBVEUgUkVRVUVTVFwiKSwgciA9IGsuZ2V0S2V5RnJvbUNTUkhleCh0KTtcbiAgcmV0dXJuIHI7XG59O1xuay5nZXRLZXlGcm9tQ1NSSGV4ID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IGsucGFyc2VDU1JIZXgoZSksIHIgPSBrLmdldEtleSh0LnA4cHVia2V5aGV4LCBudWxsLCBcInBrY3M4cHViXCIpO1xuICByZXR1cm4gcjtcbn07XG5rLnBhcnNlQ1NSSGV4ID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IFYsIHIgPSB0LmdldENoaWxkSWR4LCBpID0gdC5nZXRUTFYsIHMgPSB7fSwgbiA9IGU7XG4gIGlmIChuLnN1YnN0cigwLCAyKSAhPSBcIjMwXCIpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwibWFsZm9ybWVkIENTUihjb2RlOjAwMSlcIik7XG4gIHZhciBoID0gcihuLCAwKTtcbiAgaWYgKGgubGVuZ3RoIDwgMSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJtYWxmb3JtZWQgQ1NSKGNvZGU6MDAyKVwiKTtcbiAgaWYgKG4uc3Vic3RyKGhbMF0sIDIpICE9IFwiMzBcIilcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJtYWxmb3JtZWQgQ1NSKGNvZGU6MDAzKVwiKTtcbiAgdmFyIHUgPSByKG4sIGhbMF0pO1xuICBpZiAodS5sZW5ndGggPCAzKVxuICAgIHRocm93IG5ldyBFcnJvcihcIm1hbGZvcm1lZCBDU1IoY29kZTowMDQpXCIpO1xuICByZXR1cm4gcy5wOHB1YmtleWhleCA9IGkobiwgdVsyXSksIHM7XG59O1xuay5nZXRLZXlJRCA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBrLCByID0gVjtcbiAgdHlwZW9mIGUgPT0gXCJzdHJpbmdcIiAmJiBlLmluZGV4T2YoXCJCRUdJTiBcIikgIT0gLTEgJiYgKGUgPSB0LmdldEtleShlKSk7XG4gIHZhciBpID0gaWUodC5nZXRQRU0oZSkpLCBzID0gci5nZXRJZHhieUxpc3QoaSwgMCwgWzFdKSwgbiA9IHIuZ2V0VihpLCBzKS5zdWJzdHJpbmcoMik7XG4gIHJldHVybiBhLmNyeXB0by5VdGlsLmhhc2hIZXgobiwgXCJzaGExXCIpO1xufTtcbmsuZ2V0SldLID0gZnVuY3Rpb24oZSwgdCwgciwgaSwgcykge1xuICB2YXIgbiwgaCA9IHt9LCB1LCBwID0gYS5jcnlwdG8uVXRpbC5oYXNoSGV4O1xuICBpZiAodHlwZW9mIGUgPT0gXCJzdHJpbmdcIilcbiAgICBuID0gay5nZXRLZXkoZSksIGUuaW5kZXhPZihcIkNFUlRJRklDQVRFXCIpICE9IC0xICYmICh1ID0gaWUoZSkpO1xuICBlbHNlIGlmICh0eXBlb2YgZSA9PSBcIm9iamVjdFwiKVxuICAgIGUgaW5zdGFuY2VvZiBMID8gKG4gPSBlLmdldFB1YmxpY0tleSgpLCB1ID0gZS5oZXgpIDogbiA9IGU7XG4gIGVsc2VcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1bnN1cHBvcnRlZCBrZXlpbmZvIHR5cGVcIik7XG4gIGlmIChuIGluc3RhbmNlb2YgcSAmJiBuLmlzUHJpdmF0ZSlcbiAgICBoLmt0eSA9IFwiUlNBXCIsIGgubiA9IGFlKG4ubi50b1N0cmluZygxNikpLCBoLmUgPSBhZShuLmUudG9TdHJpbmcoMTYpKSwgaC5kID0gYWUobi5kLnRvU3RyaW5nKDE2KSksIGgucCA9IGFlKG4ucC50b1N0cmluZygxNikpLCBoLnEgPSBhZShuLnEudG9TdHJpbmcoMTYpKSwgaC5kcCA9IGFlKG4uZG1wMS50b1N0cmluZygxNikpLCBoLmRxID0gYWUobi5kbXExLnRvU3RyaW5nKDE2KSksIGgucWkgPSBhZShuLmNvZWZmLnRvU3RyaW5nKDE2KSk7XG4gIGVsc2UgaWYgKG4gaW5zdGFuY2VvZiBxICYmIG4uaXNQdWJsaWMpXG4gICAgaC5rdHkgPSBcIlJTQVwiLCBoLm4gPSBhZShuLm4udG9TdHJpbmcoMTYpKSwgaC5lID0gYWUobi5lLnRvU3RyaW5nKDE2KSk7XG4gIGVsc2UgaWYgKG4gaW5zdGFuY2VvZiBhLmNyeXB0by5FQ0RTQSAmJiBuLmlzUHJpdmF0ZSkge1xuICAgIHZhciBjID0gbi5nZXRTaG9ydE5JU1RQQ3VydmVOYW1lKCk7XG4gICAgaWYgKGMgIT09IFwiUC0yNTZcIiAmJiBjICE9PSBcIlAtMzg0XCIgJiYgYyAhPT0gXCJQLTUyMVwiKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5zdXBwb3J0ZWQgY3VydmUgbmFtZSBmb3IgSldUOiBcIiArIGMpO1xuICAgIHZhciB5ID0gbi5nZXRQdWJsaWNLZXlYWUhleCgpO1xuICAgIGgua3R5ID0gXCJFQ1wiLCBoLmNydiA9IGMsIGgueCA9IGFlKHkueCksIGgueSA9IGFlKHkueSksIGguZCA9IGFlKG4ucHJ2S2V5SGV4KTtcbiAgfSBlbHNlIGlmIChuIGluc3RhbmNlb2YgYS5jcnlwdG8uRUNEU0EgJiYgbi5pc1B1YmxpYykge1xuICAgIHZhciBjID0gbi5nZXRTaG9ydE5JU1RQQ3VydmVOYW1lKCk7XG4gICAgaWYgKGMgIT09IFwiUC0yNTZcIiAmJiBjICE9PSBcIlAtMzg0XCIgJiYgYyAhPT0gXCJQLTUyMVwiKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5zdXBwb3J0ZWQgY3VydmUgbmFtZSBmb3IgSldUOiBcIiArIGMpO1xuICAgIHZhciB5ID0gbi5nZXRQdWJsaWNLZXlYWUhleCgpO1xuICAgIGgua3R5ID0gXCJFQ1wiLCBoLmNydiA9IGMsIGgueCA9IGFlKHkueCksIGgueSA9IGFlKHkueSk7XG4gIH1cbiAgaWYgKGgua3R5ID09IG51bGwpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwidW5zdXBwb3J0ZWQga2V5aW5mb1wiKTtcbiAgcmV0dXJuICFuLmlzUHJpdmF0ZSAmJiB0ICE9ICEwICYmIChoLmtpZCA9IGEuandzLkpXUy5nZXRKV0t0aHVtYnByaW50KGgpKSwgdSAhPSBudWxsICYmIHIgIT0gITAgJiYgKGgueDVjID0gW19lKHUpXSksIHUgIT0gbnVsbCAmJiBpICE9ICEwICYmIChoLng1dCA9IFhlKF9lKHAodSwgXCJzaGExXCIpKSkpLCB1ICE9IG51bGwgJiYgcyAhPSAhMCAmJiAoaFtcIng1dCNTMjU2XCJdID0gWGUoX2UocCh1LCBcInNoYTI1NlwiKSkpKSwgaDtcbn07XG5rLmdldEpXS0Zyb21LZXkgPSBmdW5jdGlvbihlKSB7XG4gIHJldHVybiBrLmdldEpXSyhlLCAhMCwgITAsICEwLCAhMCk7XG59O1xucS5nZXRQb3NBcnJheU9mQ2hpbGRyZW5Gcm9tSGV4ID0gZnVuY3Rpb24oZSkge1xuICByZXR1cm4gVi5nZXRDaGlsZElkeChlLCAwKTtcbn07XG5xLmdldEhleFZhbHVlQXJyYXlPZkNoaWxkcmVuRnJvbUhleCA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBWLCByID0gdC5nZXRWLCBvID0gcS5nZXRQb3NBcnJheU9mQ2hpbGRyZW5Gcm9tSGV4KGUpLCBpID0gcihlLCBvWzBdKSwgcyA9IHIoZSwgb1sxXSksIG4gPSByKGUsIG9bMl0pLCBoID0gcihlLCBvWzNdKSwgdSA9IHIoZSwgb1s0XSksIHAgPSByKGUsIG9bNV0pLCBjID0gcihlLCBvWzZdKSwgeSA9IHIoZSwgb1s3XSksIHYgPSByKGUsIG9bOF0pLCBvID0gbmV3IEFycmF5KCk7XG4gIHJldHVybiBvLnB1c2goaSwgcywgbiwgaCwgdSwgcCwgYywgeSwgdiksIG87XG59O1xucS5wcm90b3R5cGUucmVhZFByaXZhdGVLZXlGcm9tUEVNU3RyaW5nID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IGllKGUpLCByID0gcS5nZXRIZXhWYWx1ZUFycmF5T2ZDaGlsZHJlbkZyb21IZXgodCk7XG4gIHRoaXMuc2V0UHJpdmF0ZUV4KHJbMV0sIHJbMl0sIHJbM10sIHJbNF0sIHJbNV0sIHJbNl0sIHJbN10sIHJbOF0pO1xufTtcbnEucHJvdG90eXBlLnJlYWRQS0NTNVBydktleUhleCA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBxLmdldEhleFZhbHVlQXJyYXlPZkNoaWxkcmVuRnJvbUhleChlKTtcbiAgdGhpcy5zZXRQcml2YXRlRXgodFsxXSwgdFsyXSwgdFszXSwgdFs0XSwgdFs1XSwgdFs2XSwgdFs3XSwgdFs4XSk7XG59O1xucS5wcm90b3R5cGUucmVhZFBLQ1M4UHJ2S2V5SGV4ID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCwgciwgaSwgcywgbiwgaCwgdSwgcCwgYyA9IFYsIHkgPSBjLmdldFZieUxpc3RFeDtcbiAgaWYgKGMuaXNBU04xSEVYKGUpID09PSAhMSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJub3QgQVNOLjEgaGV4IHN0cmluZ1wiKTtcbiAgdHJ5IHtcbiAgICB0ID0geShlLCAwLCBbMiwgMCwgMV0sIFwiMDJcIiksIHIgPSB5KGUsIDAsIFsyLCAwLCAyXSwgXCIwMlwiKSwgaSA9IHkoZSwgMCwgWzIsIDAsIDNdLCBcIjAyXCIpLCBzID0geShlLCAwLCBbMiwgMCwgNF0sIFwiMDJcIiksIG4gPSB5KGUsIDAsIFsyLCAwLCA1XSwgXCIwMlwiKSwgaCA9IHkoZSwgMCwgWzIsIDAsIDZdLCBcIjAyXCIpLCB1ID0geShlLCAwLCBbMiwgMCwgN10sIFwiMDJcIiksIHAgPSB5KGUsIDAsIFsyLCAwLCA4XSwgXCIwMlwiKTtcbiAgfSBjYXRjaCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwibWFsZm9ybWVkIFBLQ1MjOCBwbGFpbiBSU0EgcHJpdmF0ZSBrZXlcIik7XG4gIH1cbiAgdGhpcy5zZXRQcml2YXRlRXgodCwgciwgaSwgcywgbiwgaCwgdSwgcCk7XG59O1xucS5wcm90b3R5cGUucmVhZFBLQ1M1UHViS2V5SGV4ID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IFYsIHIgPSB0LmdldFY7XG4gIGlmICh0LmlzQVNOMUhFWChlKSA9PT0gITEpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwia2V5SGV4IGlzIG5vdCBBU04uMSBoZXggc3RyaW5nXCIpO1xuICB2YXIgaSA9IHQuZ2V0Q2hpbGRJZHgoZSwgMCk7XG4gIGlmIChpLmxlbmd0aCAhPT0gMiB8fCBlLnN1YnN0cihpWzBdLCAyKSAhPT0gXCIwMlwiIHx8IGUuc3Vic3RyKGlbMV0sIDIpICE9PSBcIjAyXCIpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwid3JvbmcgaGV4IGZvciBQS0NTIzUgcHVibGljIGtleVwiKTtcbiAgdmFyIHMgPSByKGUsIGlbMF0pLCBuID0gcihlLCBpWzFdKTtcbiAgdGhpcy5zZXRQdWJsaWMocywgbik7XG59O1xucS5wcm90b3R5cGUucmVhZFBLQ1M4UHViS2V5SGV4ID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IFY7XG4gIGlmICh0LmlzQVNOMUhFWChlKSA9PT0gITEpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwibm90IEFTTi4xIGhleCBzdHJpbmdcIik7XG4gIGlmICh0LmdldFRMVmJ5TGlzdEV4KGUsIDAsIFswLCAwXSkgIT09IFwiMDYwOTJhODY0ODg2ZjcwZDAxMDEwMVwiKVxuICAgIHRocm93IG5ldyBFcnJvcihcIm5vdCBQS0NTOCBSU0EgcHVibGljIGtleVwiKTtcbiAgdmFyIHIgPSB0LmdldFRMVmJ5TGlzdEV4KGUsIDAsIFsxLCAwXSk7XG4gIHRoaXMucmVhZFBLQ1M1UHViS2V5SGV4KHIpO1xufTtcbnEucHJvdG90eXBlLnJlYWRDZXJ0UHViS2V5SGV4ID0gZnVuY3Rpb24oZSwgdCkge1xuICB2YXIgciwgaTtcbiAgciA9IG5ldyBMKCksIHIucmVhZENlcnRIZXgoZSksIGkgPSByLmdldFB1YmxpY0tleUhleCgpLCB0aGlzLnJlYWRQS0NTOFB1YktleUhleChpKTtcbn07XG5mdW5jdGlvbiBPdChlLCB0KSB7XG4gIGZvciAodmFyIHIgPSBcIlwiLCBpID0gdCAvIDQgLSBlLmxlbmd0aCwgcyA9IDA7IHMgPCBpOyBzKyspXG4gICAgciA9IHIgKyBcIjBcIjtcbiAgcmV0dXJuIHIgKyBlO1xufVxucS5wcm90b3R5cGUuc2lnbiA9IGZ1bmN0aW9uKGUsIHQpIHtcbiAgdmFyIHIgPSBmdW5jdGlvbihzKSB7XG4gICAgcmV0dXJuIGEuY3J5cHRvLlV0aWwuaGFzaFN0cmluZyhzLCB0KTtcbiAgfSwgaSA9IHIoZSk7XG4gIHJldHVybiB0aGlzLnNpZ25XaXRoTWVzc2FnZUhhc2goaSwgdCk7XG59O1xucS5wcm90b3R5cGUuc2lnbldpdGhNZXNzYWdlSGFzaCA9IGZ1bmN0aW9uKGUsIHQpIHtcbiAgdmFyIHIgPSBhLmNyeXB0by5VdGlsLmdldFBhZGRlZERpZ2VzdEluZm9IZXgoZSwgdCwgdGhpcy5uLmJpdExlbmd0aCgpKSwgaSA9IHZlKHIsIDE2KSwgcyA9IHRoaXMuZG9Qcml2YXRlKGkpLCBuID0gcy50b1N0cmluZygxNik7XG4gIHJldHVybiBPdChuLCB0aGlzLm4uYml0TGVuZ3RoKCkpO1xufTtcbmZ1bmN0aW9uIGp0KGUsIHQsIHIpIHtcbiAgZm9yICh2YXIgaSA9IFwiXCIsIHMgPSAwOyBpLmxlbmd0aCA8IHQ7IClcbiAgICBpICs9IEFlKHIoUGUoZSArIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLCBbKHMgJiA0Mjc4MTkwMDgwKSA+PiAyNCwgKHMgJiAxNjcxMTY4MCkgPj4gMTYsIChzICYgNjUyODApID4+IDgsIHMgJiAyNTVdKSkpKSwgcyArPSAxO1xuICByZXR1cm4gaTtcbn1cbnEucHJvdG90eXBlLnNpZ25QU1MgPSBmdW5jdGlvbihlLCB0LCByKSB7XG4gIHZhciBpID0gZnVuY3Rpb24obikge1xuICAgIHJldHVybiBhLmNyeXB0by5VdGlsLmhhc2hIZXgobiwgdCk7XG4gIH0sIHMgPSBpKFBlKGUpKTtcbiAgcmV0dXJuIHIgPT09IHZvaWQgMCAmJiAociA9IC0xKSwgdGhpcy5zaWduV2l0aE1lc3NhZ2VIYXNoUFNTKHMsIHQsIHIpO1xufTtcbnEucHJvdG90eXBlLnNpZ25XaXRoTWVzc2FnZUhhc2hQU1MgPSBmdW5jdGlvbihlLCB0LCByKSB7XG4gIHZhciBpID0gQWUoZSksIHMgPSBpLmxlbmd0aCwgbiA9IHRoaXMubi5iaXRMZW5ndGgoKSAtIDEsIGggPSBNYXRoLmNlaWwobiAvIDgpLCB1LCBwID0gZnVuY3Rpb24oZykge1xuICAgIHJldHVybiBhLmNyeXB0by5VdGlsLmhhc2hIZXgoZywgdCk7XG4gIH07XG4gIGlmIChyID09PSAtMSB8fCByID09PSB2b2lkIDApXG4gICAgciA9IHM7XG4gIGVsc2UgaWYgKHIgPT09IC0yKVxuICAgIHIgPSBoIC0gcyAtIDI7XG4gIGVsc2UgaWYgKHIgPCAtMilcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHNhbHQgbGVuZ3RoXCIpO1xuICBpZiAoaCA8IHMgKyByICsgMilcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJkYXRhIHRvbyBsb25nXCIpO1xuICB2YXIgYyA9IFwiXCI7XG4gIHIgPiAwICYmIChjID0gbmV3IEFycmF5KHIpLCBuZXcgR2UoKS5uZXh0Qnl0ZXMoYyksIGMgPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZywgYykpO1xuICB2YXIgeSA9IEFlKHAoUGUoXCJcXDBcXDBcXDBcXDBcXDBcXDBcXDBcXDBcIiArIGkgKyBjKSkpLCB2ID0gW107XG4gIGZvciAodSA9IDA7IHUgPCBoIC0gciAtIHMgLSAyOyB1ICs9IDEpXG4gICAgdlt1XSA9IDA7XG4gIHZhciBvID0gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIHYpICsgXCJcdTAwMDFcIiArIGMsIGwgPSBqdCh5LCBvLmxlbmd0aCwgcCksIGYgPSBbXTtcbiAgZm9yICh1ID0gMDsgdSA8IG8ubGVuZ3RoOyB1ICs9IDEpXG4gICAgZlt1XSA9IG8uY2hhckNvZGVBdCh1KSBeIGwuY2hhckNvZGVBdCh1KTtcbiAgdmFyIGQgPSA2NTI4MCA+PiA4ICogaCAtIG4gJiAyNTU7XG4gIGZvciAoZlswXSAmPSB+ZCwgdSA9IDA7IHUgPCBzOyB1KyspXG4gICAgZi5wdXNoKHkuY2hhckNvZGVBdCh1KSk7XG4gIHJldHVybiBmLnB1c2goMTg4KSwgT3QodGhpcy5kb1ByaXZhdGUobmV3IFIoZikpLnRvU3RyaW5nKDE2KSwgdGhpcy5uLmJpdExlbmd0aCgpKTtcbn07XG5mdW5jdGlvbiBWdChlKSB7XG4gIGZvciAodmFyIHQgaW4gYS5jcnlwdG8uVXRpbC5ESUdFU1RJTkZPSEVBRCkge1xuICAgIHZhciByID0gYS5jcnlwdG8uVXRpbC5ESUdFU1RJTkZPSEVBRFt0XSwgaSA9IHIubGVuZ3RoO1xuICAgIGlmIChlLnN1YnN0cmluZygwLCBpKSA9PSByKSB7XG4gICAgICB2YXIgcyA9IFt0LCBlLnN1YnN0cmluZyhpKV07XG4gICAgICByZXR1cm4gcztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIFtdO1xufVxucS5wcm90b3R5cGUudmVyaWZ5ID0gZnVuY3Rpb24oZSwgdCkge1xuICBpZiAodCA9IHQudG9Mb3dlckNhc2UoKSwgdC5tYXRjaCgvXlswLTlhLWZdKyQvKSA9PSBudWxsKVxuICAgIHJldHVybiAhMTtcbiAgdmFyIHIgPSB2ZSh0LCAxNiksIGkgPSB0aGlzLm4uYml0TGVuZ3RoKCk7XG4gIGlmIChyLmJpdExlbmd0aCgpID4gaSlcbiAgICByZXR1cm4gITE7XG4gIHZhciBzID0gdGhpcy5kb1B1YmxpYyhyKSwgbiA9IHMudG9TdHJpbmcoMTYpO1xuICBpZiAobi5sZW5ndGggKyAzICE9IGkgLyA0KVxuICAgIHJldHVybiAhMTtcbiAgdmFyIGggPSBuLnJlcGxhY2UoL14xZiswMC8sIFwiXCIpLCB1ID0gVnQoaCk7XG4gIGlmICh1Lmxlbmd0aCA9PSAwKVxuICAgIHJldHVybiAhMTtcbiAgdmFyIHAgPSB1WzBdLCBjID0gdVsxXSwgeSA9IGZ1bmN0aW9uKG8pIHtcbiAgICByZXR1cm4gYS5jcnlwdG8uVXRpbC5oYXNoU3RyaW5nKG8sIHApO1xuICB9LCB2ID0geShlKTtcbiAgcmV0dXJuIGMgPT0gdjtcbn07XG5xLnByb3RvdHlwZS52ZXJpZnlXaXRoTWVzc2FnZUhhc2ggPSBmdW5jdGlvbihlLCB0KSB7XG4gIGlmICh0Lmxlbmd0aCAhPSBNYXRoLmNlaWwodGhpcy5uLmJpdExlbmd0aCgpIC8gNCkpXG4gICAgcmV0dXJuICExO1xuICB2YXIgciA9IHZlKHQsIDE2KTtcbiAgaWYgKHIuYml0TGVuZ3RoKCkgPiB0aGlzLm4uYml0TGVuZ3RoKCkpXG4gICAgcmV0dXJuIDA7XG4gIHZhciBpID0gdGhpcy5kb1B1YmxpYyhyKSwgcyA9IGkudG9TdHJpbmcoMTYpLnJlcGxhY2UoL14xZiswMC8sIFwiXCIpLCBuID0gVnQocyk7XG4gIGlmIChuLmxlbmd0aCA9PSAwKVxuICAgIHJldHVybiAhMTtcbiAgblswXTtcbiAgdmFyIGggPSBuWzFdO1xuICByZXR1cm4gaCA9PSBlO1xufTtcbnEucHJvdG90eXBlLnZlcmlmeVBTUyA9IGZ1bmN0aW9uKGUsIHQsIHIsIGkpIHtcbiAgdmFyIHMgPSBmdW5jdGlvbihoKSB7XG4gICAgcmV0dXJuIGEuY3J5cHRvLlV0aWwuaGFzaEhleChoLCByKTtcbiAgfSwgbiA9IHMoUGUoZSkpO1xuICByZXR1cm4gaSA9PT0gdm9pZCAwICYmIChpID0gLTEpLCB0aGlzLnZlcmlmeVdpdGhNZXNzYWdlSGFzaFBTUyhuLCB0LCByLCBpKTtcbn07XG5xLnByb3RvdHlwZS52ZXJpZnlXaXRoTWVzc2FnZUhhc2hQU1MgPSBmdW5jdGlvbihlLCB0LCByLCBpKSB7XG4gIGlmICh0Lmxlbmd0aCAhPSBNYXRoLmNlaWwodGhpcy5uLmJpdExlbmd0aCgpIC8gNCkpXG4gICAgcmV0dXJuICExO1xuICB2YXIgcyA9IG5ldyBSKHQsIDE2KSwgbiA9IGZ1bmN0aW9uKGIpIHtcbiAgICByZXR1cm4gYS5jcnlwdG8uVXRpbC5oYXNoSGV4KGIsIHIpO1xuICB9LCBoID0gQWUoZSksIHUgPSBoLmxlbmd0aCwgcCA9IHRoaXMubi5iaXRMZW5ndGgoKSAtIDEsIGMgPSBNYXRoLmNlaWwocCAvIDgpLCB5O1xuICBpZiAoaSA9PT0gLTEgfHwgaSA9PT0gdm9pZCAwKVxuICAgIGkgPSB1O1xuICBlbHNlIGlmIChpID09PSAtMilcbiAgICBpID0gYyAtIHUgLSAyO1xuICBlbHNlIGlmIChpIDwgLTIpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBzYWx0IGxlbmd0aFwiKTtcbiAgaWYgKGMgPCB1ICsgaSArIDIpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiZGF0YSB0b28gbG9uZ1wiKTtcbiAgdmFyIHYgPSB0aGlzLmRvUHVibGljKHMpLnRvQnl0ZUFycmF5KCk7XG4gIGZvciAoeSA9IDA7IHkgPCB2Lmxlbmd0aDsgeSArPSAxKVxuICAgIHZbeV0gJj0gMjU1O1xuICBmb3IgKDsgdi5sZW5ndGggPCBjOyApXG4gICAgdi51bnNoaWZ0KDApO1xuICBpZiAodltjIC0gMV0gIT09IDE4OClcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJlbmNvZGVkIG1lc3NhZ2UgZG9lcyBub3QgZW5kIGluIDB4YmNcIik7XG4gIHYgPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZywgdik7XG4gIHZhciBvID0gdi5zdWJzdHIoMCwgYyAtIHUgLSAxKSwgbCA9IHYuc3Vic3RyKG8ubGVuZ3RoLCB1KSwgZiA9IDY1MjgwID4+IDggKiBjIC0gcCAmIDI1NTtcbiAgaWYgKG8uY2hhckNvZGVBdCgwKSAmIGYpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiYml0cyBiZXlvbmQga2V5c2l6ZSBub3QgemVyb1wiKTtcbiAgdmFyIGQgPSBqdChsLCBvLmxlbmd0aCwgbiksIGcgPSBbXTtcbiAgZm9yICh5ID0gMDsgeSA8IG8ubGVuZ3RoOyB5ICs9IDEpXG4gICAgZ1t5XSA9IG8uY2hhckNvZGVBdCh5KSBeIGQuY2hhckNvZGVBdCh5KTtcbiAgZ1swXSAmPSB+ZjtcbiAgdmFyIFMgPSBjIC0gdSAtIGkgLSAyO1xuICBmb3IgKHkgPSAwOyB5IDwgUzsgeSArPSAxKVxuICAgIGlmIChnW3ldICE9PSAwKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwibGVmdG1vc3Qgb2N0ZXRzIG5vdCB6ZXJvXCIpO1xuICBpZiAoZ1tTXSAhPT0gMSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCIweDAxIG1hcmtlciBub3QgZm91bmRcIik7XG4gIHJldHVybiBsID09PSBBZShuKFBlKFwiXFwwXFwwXFwwXFwwXFwwXFwwXFwwXFwwXCIgKyBoICsgU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIGcuc2xpY2UoLWkpKSkpKTtcbn07XG5xLlNBTFRfTEVOX0hMRU4gPSAtMTtcbnEuU0FMVF9MRU5fTUFYID0gLTI7XG5xLlNBTFRfTEVOX1JFQ09WRVIgPSAtMjtcbmZ1bmN0aW9uIEwoZSkge1xuICB2YXIgdCA9IFYsIHIgPSB0LmdldENoaWxkSWR4LCBpID0gdC5nZXRWO1xuICB0LmR1bXA7XG4gIHZhciBzID0gdC5wYXJzZSwgbiA9IHQuZ2V0VExWLCBoID0gdC5nZXRWYnlMaXN0LCB1ID0gdC5nZXRWYnlMaXN0RXgsIHAgPSB0LmdldFRMVmJ5TGlzdCwgYyA9IHQuZ2V0VExWYnlMaXN0RXgsIHkgPSB0LmdldElkeGJ5TGlzdCwgdiA9IHQuZ2V0SWR4YnlMaXN0RXgsIG8gPSB0LmdldFZpZHgsIGwgPSB0LmdldEludCwgZiA9IHQub2lkbmFtZSwgZCA9IHQuaGV4dG9vaWRzdHIsIGcgPSBpZSwgUywgYiA9IEVycm9yO1xuICB0cnkge1xuICAgIFMgPSBhLmFzbjEueDUwOS5BbGdvcml0aG1JZGVudGlmaWVyLlBTU05BTUUyQVNOMVRMVjtcbiAgfSBjYXRjaCB7XG4gIH1cbiAgdGhpcy5IRVgyU1RBRyA9IHsgXCIwY1wiOiBcInV0ZjhcIiwgMTM6IFwicHJuXCIsIDE2OiBcImlhNVwiLCBcIjFhXCI6IFwidmlzXCIsIFwiMWVcIjogXCJibXBcIiB9LCB0aGlzLmhleCA9IG51bGwsIHRoaXMudmVyc2lvbiA9IDAsIHRoaXMuZm9mZnNldCA9IDAsIHRoaXMuYUV4dEluZm8gPSBudWxsLCB0aGlzLmdldFZlcnNpb24gPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5oZXggPT09IG51bGwgfHwgdGhpcy52ZXJzaW9uICE9PSAwKVxuICAgICAgcmV0dXJuIHRoaXMudmVyc2lvbjtcbiAgICB2YXIgbSA9IHAodGhpcy5oZXgsIDAsIFswLCAwXSk7XG4gICAgaWYgKG0uc3Vic3RyKDAsIDIpID09IFwiYTBcIikge1xuICAgICAgdmFyIEUgPSBwKG0sIDAsIFswXSksIHcgPSBsKEUsIDApO1xuICAgICAgaWYgKHcgPCAwIHx8IDIgPCB3KVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtYWxmb3JtZWQgdmVyc2lvbiBmaWVsZFwiKTtcbiAgICAgIHJldHVybiB0aGlzLnZlcnNpb24gPSB3ICsgMSwgdGhpcy52ZXJzaW9uO1xuICAgIH0gZWxzZVxuICAgICAgcmV0dXJuIHRoaXMudmVyc2lvbiA9IDEsIHRoaXMuZm9mZnNldCA9IC0xLCAxO1xuICB9LCB0aGlzLmdldFNlcmlhbE51bWJlckhleCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB1KHRoaXMuaGV4LCAwLCBbMCwgMF0sIFwiMDJcIik7XG4gIH0sIHRoaXMuZ2V0U2lnbmF0dXJlQWxnb3JpdGhtRmllbGQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbSA9IGModGhpcy5oZXgsIDAsIFswLCAxXSk7XG4gICAgcmV0dXJuIHRoaXMuZ2V0QWxnb3JpdGhtSWRlbnRpZmllck5hbWUobSk7XG4gIH0sIHRoaXMuZ2V0QWxnb3JpdGhtSWRlbnRpZmllck5hbWUgPSBmdW5jdGlvbihtKSB7XG4gICAgZm9yICh2YXIgRSBpbiBTKVxuICAgICAgaWYgKG0gPT09IFNbRV0pXG4gICAgICAgIHJldHVybiBFO1xuICAgIHJldHVybiBmKHUobSwgMCwgWzBdLCBcIjA2XCIpKTtcbiAgfSwgdGhpcy5nZXRJc3N1ZXIgPSBmdW5jdGlvbihtLCBFKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0WDUwME5hbWUodGhpcy5nZXRJc3N1ZXJIZXgoKSwgbSwgRSk7XG4gIH0sIHRoaXMuZ2V0SXNzdWVySGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHAodGhpcy5oZXgsIDAsIFswLCAzICsgdGhpcy5mb2Zmc2V0XSwgXCIzMFwiKTtcbiAgfSwgdGhpcy5nZXRJc3N1ZXJTdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbSA9IHRoaXMuZ2V0SXNzdWVyKCk7XG4gICAgcmV0dXJuIG0uc3RyO1xuICB9LCB0aGlzLmdldFN1YmplY3QgPSBmdW5jdGlvbihtLCBFKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0WDUwME5hbWUodGhpcy5nZXRTdWJqZWN0SGV4KCksIG0sIEUpO1xuICB9LCB0aGlzLmdldFN1YmplY3RIZXggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gcCh0aGlzLmhleCwgMCwgWzAsIDUgKyB0aGlzLmZvZmZzZXRdLCBcIjMwXCIpO1xuICB9LCB0aGlzLmdldFN1YmplY3RTdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbSA9IHRoaXMuZ2V0U3ViamVjdCgpO1xuICAgIHJldHVybiBtLnN0cjtcbiAgfSwgdGhpcy5nZXROb3RCZWZvcmUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbSA9IGgodGhpcy5oZXgsIDAsIFswLCA0ICsgdGhpcy5mb2Zmc2V0LCAwXSk7XG4gICAgcmV0dXJuIG0gPSBtLnJlcGxhY2UoLyguLikvZywgXCIlJDFcIiksIG0gPSBkZWNvZGVVUklDb21wb25lbnQobSksIG07XG4gIH0sIHRoaXMuZ2V0Tm90QWZ0ZXIgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbSA9IGgodGhpcy5oZXgsIDAsIFswLCA0ICsgdGhpcy5mb2Zmc2V0LCAxXSk7XG4gICAgcmV0dXJuIG0gPSBtLnJlcGxhY2UoLyguLikvZywgXCIlJDFcIiksIG0gPSBkZWNvZGVVUklDb21wb25lbnQobSksIG07XG4gIH0sIHRoaXMuZ2V0UHVibGljS2V5SGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0U1BLSSgpO1xuICB9LCB0aGlzLmdldFNQS0kgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gcCh0aGlzLmhleCwgMCwgWzAsIDYgKyB0aGlzLmZvZmZzZXRdLCBcIjMwXCIpO1xuICB9LCB0aGlzLmdldFNQS0lWYWx1ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBtID0gdGhpcy5nZXRTUEtJKCk7XG4gICAgcmV0dXJuIG0gPT0gbnVsbCA/IG51bGwgOiBoKG0sIDAsIFsxXSwgXCIwM1wiLCAhMCk7XG4gIH0sIHRoaXMuZ2V0UHVibGljS2V5SWR4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHkodGhpcy5oZXgsIDAsIFswLCA2ICsgdGhpcy5mb2Zmc2V0XSwgXCIzMFwiKTtcbiAgfSwgdGhpcy5nZXRQdWJsaWNLZXlDb250ZW50SWR4ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG0gPSB0aGlzLmdldFB1YmxpY0tleUlkeCgpO1xuICAgIHJldHVybiB5KHRoaXMuaGV4LCBtLCBbMSwgMF0sIFwiMzBcIik7XG4gIH0sIHRoaXMuZ2V0UHVibGljS2V5ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGsuZ2V0S2V5KHRoaXMuZ2V0UHVibGljS2V5SGV4KCksIG51bGwsIFwicGtjczhwdWJcIik7XG4gIH0sIHRoaXMuZ2V0U2lnbmF0dXJlQWxnb3JpdGhtTmFtZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBtID0gcCh0aGlzLmhleCwgMCwgWzFdLCBcIjMwXCIpO1xuICAgIHJldHVybiB0aGlzLmdldEFsZ29yaXRobUlkZW50aWZpZXJOYW1lKG0pO1xuICB9LCB0aGlzLmdldFNpZ25hdHVyZVZhbHVlSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGgodGhpcy5oZXgsIDAsIFsyXSwgXCIwM1wiLCAhMCk7XG4gIH0sIHRoaXMudmVyaWZ5U2lnbmF0dXJlID0gZnVuY3Rpb24obSkge1xuICAgIHZhciBFID0gdGhpcy5nZXRTaWduYXR1cmVBbGdvcml0aG1GaWVsZCgpLCB3ID0gdGhpcy5nZXRTaWduYXR1cmVWYWx1ZUhleCgpLCB4ID0gcCh0aGlzLmhleCwgMCwgWzBdLCBcIjMwXCIpLCBGID0gbmV3IGEuY3J5cHRvLlNpZ25hdHVyZSh7IGFsZzogRSB9KTtcbiAgICByZXR1cm4gRi5pbml0KG0pLCBGLnVwZGF0ZUhleCh4KSwgRi52ZXJpZnkodyk7XG4gIH0sIHRoaXMucGFyc2VFeHQgPSBmdW5jdGlvbihtKSB7XG4gICAgdmFyIEUsIHcsIHg7XG4gICAgaWYgKG0gPT09IHZvaWQgMCkge1xuICAgICAgaWYgKHggPSB0aGlzLmhleCwgdGhpcy52ZXJzaW9uICE9PSAzKVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgICBFID0geSh4LCAwLCBbMCwgNywgMF0sIFwiMzBcIiksIHcgPSByKHgsIEUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB4ID0gaWUobSk7XG4gICAgICB2YXIgRiA9IHkoeCwgMCwgWzAsIDMsIDAsIDBdLCBcIjA2XCIpO1xuICAgICAgaWYgKGkoeCwgRikgIT0gXCIyYTg2NDg4NmY3MGQwMTA5MGVcIikge1xuICAgICAgICB0aGlzLmFFeHRJbmZvID0gbmV3IEFycmF5KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIEUgPSB5KHgsIDAsIFswLCAzLCAwLCAxLCAwXSwgXCIzMFwiKSwgdyA9IHIoeCwgRSksIHRoaXMuaGV4ID0geDtcbiAgICB9XG4gICAgdGhpcy5hRXh0SW5mbyA9IG5ldyBBcnJheSgpO1xuICAgIGZvciAodmFyIFAgPSAwOyBQIDwgdy5sZW5ndGg7IFArKykge1xuICAgICAgdmFyIFQgPSB7fTtcbiAgICAgIFQuY3JpdGljYWwgPSAhMTtcbiAgICAgIHZhciBIID0gcih4LCB3W1BdKSwgQyA9IDA7XG4gICAgICBILmxlbmd0aCA9PT0gMyAmJiAoVC5jcml0aWNhbCA9ICEwLCBDID0gMSksIFQub2lkID0gdC5oZXh0b29pZHN0cihoKHgsIHdbUF0sIFswXSwgXCIwNlwiKSk7XG4gICAgICB2YXIgQiA9IHkoeCwgd1tQXSwgWzEgKyBDXSk7XG4gICAgICBULnZpZHggPSBvKHgsIEIpLCB0aGlzLmFFeHRJbmZvLnB1c2goVCk7XG4gICAgfVxuICB9LCB0aGlzLmdldEV4dEluZm8gPSBmdW5jdGlvbihtKSB7XG4gICAgdmFyIEUgPSB0aGlzLmFFeHRJbmZvLCB3ID0gbTtcbiAgICBpZiAobS5tYXRjaCgvXlswLTkuXSskLykgfHwgKHcgPSBhLmFzbjEueDUwOS5PSUQubmFtZTJvaWQobSkpLCB3ICE9PSBcIlwiKSB7XG4gICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IEUubGVuZ3RoOyB4KyspXG4gICAgICAgIGlmIChFW3hdLm9pZCA9PT0gdylcbiAgICAgICAgICByZXR1cm4gRVt4XTtcbiAgICB9XG4gIH0sIHRoaXMuZ2V0Q3JpdGljYWxFeHRWID0gZnVuY3Rpb24obSwgRSwgdykge1xuICAgIGlmIChFICE9IG51bGwpXG4gICAgICByZXR1cm4gW0UsIHddO1xuICAgIHZhciB4ID0gdGhpcy5nZXRFeHRJbmZvKG0pO1xuICAgIHJldHVybiB4ID09IG51bGwgPyBbbnVsbCwgbnVsbF0gOiBbbih0aGlzLmhleCwgeC52aWR4KSwgeC5jcml0aWNhbF07XG4gIH0sIHRoaXMuZ2V0RXh0QmFzaWNDb25zdHJhaW50cyA9IGZ1bmN0aW9uKG0sIEUpIHtcbiAgICBpZiAobSA9PT0gdm9pZCAwICYmIEUgPT09IHZvaWQgMCkge1xuICAgICAgdmFyIHcgPSB0aGlzLmdldEV4dEluZm8oXCJiYXNpY0NvbnN0cmFpbnRzXCIpO1xuICAgICAgaWYgKHcgPT09IHZvaWQgMClcbiAgICAgICAgcmV0dXJuO1xuICAgICAgbSA9IG4odGhpcy5oZXgsIHcudmlkeCksIEUgPSB3LmNyaXRpY2FsO1xuICAgIH1cbiAgICB2YXIgeCA9IHsgZXh0bmFtZTogXCJiYXNpY0NvbnN0cmFpbnRzXCIgfTtcbiAgICBpZiAoRSAmJiAoeC5jcml0aWNhbCA9ICEwKSwgbSA9PT0gXCIzMDAwXCIpXG4gICAgICByZXR1cm4geDtcbiAgICBpZiAobSA9PT0gXCIzMDAzMDEwMWZmXCIpXG4gICAgICByZXR1cm4geC5jQSA9ICEwLCB4O1xuICAgIGlmIChtLnN1YnN0cigwLCAxMikgPT09IFwiMzAwNjAxMDFmZjAyXCIpIHtcbiAgICAgIHZhciBGID0gaShtLCAxMCksIFAgPSBwYXJzZUludChGLCAxNik7XG4gICAgICByZXR1cm4geC5jQSA9ICEwLCB4LnBhdGhMZW4gPSBQLCB4O1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJoRXh0ViBwYXJzZSBlcnJvcjogXCIgKyBtKTtcbiAgfSwgdGhpcy5nZXRFeHROYW1lQ29uc3RyYWludHMgPSBmdW5jdGlvbihtLCBFKSB7XG4gICAgdmFyIHcgPSB0aGlzLmdldENyaXRpY2FsRXh0VihcIm5hbWVDb25zdHJhaW50c1wiLCBtLCBFKTtcbiAgICBpZiAobSA9IHdbMF0sIEUgPSB3WzFdLCBtICE9IG51bGwpIHtcbiAgICAgIHZhciB4ID0geyBleHRuYW1lOiBcIm5hbWVDb25zdHJhaW50c1wiIH07XG4gICAgICBFICYmICh4LmNyaXRpY2FsID0gITApO1xuICAgICAgZm9yICh2YXIgRiA9IHIobSwgMCksIFAgPSAwOyBQIDwgRi5sZW5ndGg7IFArKykge1xuICAgICAgICBmb3IgKHZhciBUID0gW10sIEggPSByKG0sIEZbUF0pLCBDID0gMDsgQyA8IEgubGVuZ3RoOyBDKyspIHtcbiAgICAgICAgICB2YXIgQiA9IG4obSwgSFtDXSksIE8gPSB0aGlzLmdldEdlbmVyYWxTdWJ0cmVlKEIpO1xuICAgICAgICAgIFQucHVzaChPKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaiA9IG0uc3Vic3RyKEZbUF0sIDIpO1xuICAgICAgICBqID09IFwiYTBcIiA/IHgucGVybWl0ID0gVCA6IGogPT0gXCJhMVwiICYmICh4LmV4Y2x1ZGUgPSBUKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB4O1xuICAgIH1cbiAgfSwgdGhpcy5nZXRHZW5lcmFsU3VidHJlZSA9IGZ1bmN0aW9uKG0pIHtcbiAgICB2YXIgRSA9IHIobSwgMCksIHcgPSBFLmxlbmd0aDtcbiAgICBpZiAodyA8IDEgfHwgMiA8IHcpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ3cm9uZyBudW0gZWxlbWVudHNcIik7XG4gICAgZm9yICh2YXIgeCA9IHRoaXMuZ2V0R2VuZXJhbE5hbWUobihtLCBFWzBdKSksIEYgPSAxOyBGIDwgdzsgRisrKSB7XG4gICAgICB2YXIgUCA9IG0uc3Vic3RyKEVbRl0sIDIpLCBUID0gaShtLCBFW0ZdKSwgSCA9IHBhcnNlSW50KFQsIDE2KTtcbiAgICAgIFAgPT0gXCI4MFwiICYmICh4Lm1pbiA9IEgpLCBQID09IFwiODFcIiAmJiAoeC5tYXggPSBIKTtcbiAgICB9XG4gICAgcmV0dXJuIHg7XG4gIH0sIHRoaXMuZ2V0RXh0S2V5VXNhZ2UgPSBmdW5jdGlvbihtLCBFKSB7XG4gICAgdmFyIHcgPSB0aGlzLmdldENyaXRpY2FsRXh0VihcImtleVVzYWdlXCIsIG0sIEUpO1xuICAgIGlmIChtID0gd1swXSwgRSA9IHdbMV0sIG0gIT0gbnVsbCkge1xuICAgICAgdmFyIHggPSB7IGV4dG5hbWU6IFwia2V5VXNhZ2VcIiB9O1xuICAgICAgcmV0dXJuIEUgJiYgKHguY3JpdGljYWwgPSAhMCksIHgubmFtZXMgPSB0aGlzLmdldEV4dEtleVVzYWdlU3RyaW5nKG0pLnNwbGl0KFwiLFwiKSwgeDtcbiAgICB9XG4gIH0sIHRoaXMuZ2V0RXh0S2V5VXNhZ2VCaW4gPSBmdW5jdGlvbihtKSB7XG4gICAgaWYgKG0gPT09IHZvaWQgMCkge1xuICAgICAgdmFyIEUgPSB0aGlzLmdldEV4dEluZm8oXCJrZXlVc2FnZVwiKTtcbiAgICAgIGlmIChFID09PSB2b2lkIDApXG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgbSA9IG4odGhpcy5oZXgsIEUudmlkeCk7XG4gICAgfVxuICAgIGlmIChtLmxlbmd0aCAhPSA4ICYmIG0ubGVuZ3RoICE9IDEwKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwibWFsZm9ybWVkIGtleSB1c2FnZSB2YWx1ZTogXCIgKyBtKTtcbiAgICB2YXIgdyA9IFwiMDAwMDAwMDAwMDAwMDAwXCIgKyBwYXJzZUludChtLnN1YnN0cig2KSwgMTYpLnRvU3RyaW5nKDIpO1xuICAgIHJldHVybiBtLmxlbmd0aCA9PSA4ICYmICh3ID0gdy5zbGljZSgtOCkpLCBtLmxlbmd0aCA9PSAxMCAmJiAodyA9IHcuc2xpY2UoLTE2KSksIHcgPSB3LnJlcGxhY2UoLzArJC8sIFwiXCIpLCB3ID09IFwiXCIgJiYgKHcgPSBcIjBcIiksIHc7XG4gIH0sIHRoaXMuZ2V0RXh0S2V5VXNhZ2VTdHJpbmcgPSBmdW5jdGlvbihtKSB7XG4gICAgZm9yICh2YXIgRSA9IHRoaXMuZ2V0RXh0S2V5VXNhZ2VCaW4obSksIHcgPSBuZXcgQXJyYXkoKSwgeCA9IDA7IHggPCBFLmxlbmd0aDsgeCsrKVxuICAgICAgRS5zdWJzdHIoeCwgMSkgPT0gXCIxXCIgJiYgdy5wdXNoKEwuS0VZVVNBR0VfTkFNRVt4XSk7XG4gICAgcmV0dXJuIHcuam9pbihcIixcIik7XG4gIH0sIHRoaXMuZ2V0RXh0U3ViamVjdEtleUlkZW50aWZpZXIgPSBmdW5jdGlvbihtLCBFKSB7XG4gICAgaWYgKG0gPT09IHZvaWQgMCAmJiBFID09PSB2b2lkIDApIHtcbiAgICAgIHZhciB3ID0gdGhpcy5nZXRFeHRJbmZvKFwic3ViamVjdEtleUlkZW50aWZpZXJcIik7XG4gICAgICBpZiAodyA9PT0gdm9pZCAwKVxuICAgICAgICByZXR1cm47XG4gICAgICBtID0gbih0aGlzLmhleCwgdy52aWR4KSwgRSA9IHcuY3JpdGljYWw7XG4gICAgfVxuICAgIHZhciB4ID0geyBleHRuYW1lOiBcInN1YmplY3RLZXlJZGVudGlmaWVyXCIgfTtcbiAgICBFICYmICh4LmNyaXRpY2FsID0gITApO1xuICAgIHZhciBGID0gaShtLCAwKTtcbiAgICByZXR1cm4geC5raWQgPSB7IGhleDogRiB9LCB4O1xuICB9LCB0aGlzLmdldEV4dEF1dGhvcml0eUtleUlkZW50aWZpZXIgPSBmdW5jdGlvbihtLCBFKSB7XG4gICAgaWYgKG0gPT09IHZvaWQgMCAmJiBFID09PSB2b2lkIDApIHtcbiAgICAgIHZhciB3ID0gdGhpcy5nZXRFeHRJbmZvKFwiYXV0aG9yaXR5S2V5SWRlbnRpZmllclwiKTtcbiAgICAgIGlmICh3ID09PSB2b2lkIDApXG4gICAgICAgIHJldHVybjtcbiAgICAgIG0gPSBuKHRoaXMuaGV4LCB3LnZpZHgpLCBFID0gdy5jcml0aWNhbDtcbiAgICB9XG4gICAgdmFyIHggPSB7IGV4dG5hbWU6IFwiYXV0aG9yaXR5S2V5SWRlbnRpZmllclwiIH07XG4gICAgRSAmJiAoeC5jcml0aWNhbCA9ICEwKTtcbiAgICBmb3IgKHZhciBGID0gcihtLCAwKSwgUCA9IDA7IFAgPCBGLmxlbmd0aDsgUCsrKSB7XG4gICAgICB2YXIgVCA9IG0uc3Vic3RyKEZbUF0sIDIpO1xuICAgICAgaWYgKFQgPT09IFwiODBcIiAmJiAoeC5raWQgPSB7IGhleDogaShtLCBGW1BdKSB9KSwgVCA9PT0gXCJhMVwiKSB7XG4gICAgICAgIHZhciBIID0gbihtLCBGW1BdKSwgQyA9IHRoaXMuZ2V0R2VuZXJhbE5hbWVzKEgpO1xuICAgICAgICB4Lmlzc3VlciA9IENbMF0uZG47XG4gICAgICB9XG4gICAgICBUID09PSBcIjgyXCIgJiYgKHguc24gPSB7IGhleDogaShtLCBGW1BdKSB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHg7XG4gIH0sIHRoaXMuZ2V0RXh0RXh0S2V5VXNhZ2UgPSBmdW5jdGlvbihtLCBFKSB7XG4gICAgaWYgKG0gPT09IHZvaWQgMCAmJiBFID09PSB2b2lkIDApIHtcbiAgICAgIHZhciB3ID0gdGhpcy5nZXRFeHRJbmZvKFwiZXh0S2V5VXNhZ2VcIik7XG4gICAgICBpZiAodyA9PT0gdm9pZCAwKVxuICAgICAgICByZXR1cm47XG4gICAgICBtID0gbih0aGlzLmhleCwgdy52aWR4KSwgRSA9IHcuY3JpdGljYWw7XG4gICAgfVxuICAgIHZhciB4ID0geyBleHRuYW1lOiBcImV4dEtleVVzYWdlXCIsIGFycmF5OiBbXSB9O1xuICAgIEUgJiYgKHguY3JpdGljYWwgPSAhMCk7XG4gICAgZm9yICh2YXIgRiA9IHIobSwgMCksIFAgPSAwOyBQIDwgRi5sZW5ndGg7IFArKylcbiAgICAgIHguYXJyYXkucHVzaChmKGkobSwgRltQXSkpKTtcbiAgICByZXR1cm4geDtcbiAgfSwgdGhpcy5nZXRFeHRFeHRLZXlVc2FnZU5hbWUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbSA9IHRoaXMuZ2V0RXh0SW5mbyhcImV4dEtleVVzYWdlXCIpO1xuICAgIGlmIChtID09PSB2b2lkIDApXG4gICAgICByZXR1cm4gbTtcbiAgICB2YXIgRSA9IG5ldyBBcnJheSgpLCB3ID0gbih0aGlzLmhleCwgbS52aWR4KTtcbiAgICBpZiAodyA9PT0gXCJcIilcbiAgICAgIHJldHVybiBFO1xuICAgIGZvciAodmFyIHggPSByKHcsIDApLCBGID0gMDsgRiA8IHgubGVuZ3RoOyBGKyspXG4gICAgICBFLnB1c2goZihpKHcsIHhbRl0pKSk7XG4gICAgcmV0dXJuIEU7XG4gIH0sIHRoaXMuZ2V0RXh0U3ViamVjdEFsdE5hbWUgPSBmdW5jdGlvbihtLCBFKSB7XG4gICAgaWYgKG0gPT09IHZvaWQgMCAmJiBFID09PSB2b2lkIDApIHtcbiAgICAgIHZhciB3ID0gdGhpcy5nZXRFeHRJbmZvKFwic3ViamVjdEFsdE5hbWVcIik7XG4gICAgICBpZiAodyA9PT0gdm9pZCAwKVxuICAgICAgICByZXR1cm47XG4gICAgICBtID0gbih0aGlzLmhleCwgdy52aWR4KSwgRSA9IHcuY3JpdGljYWw7XG4gICAgfVxuICAgIHZhciB4ID0geyBleHRuYW1lOiBcInN1YmplY3RBbHROYW1lXCIsIGFycmF5OiBbXSB9O1xuICAgIHJldHVybiBFICYmICh4LmNyaXRpY2FsID0gITApLCB4LmFycmF5ID0gdGhpcy5nZXRHZW5lcmFsTmFtZXMobSksIHg7XG4gIH0sIHRoaXMuZ2V0RXh0SXNzdWVyQWx0TmFtZSA9IGZ1bmN0aW9uKG0sIEUpIHtcbiAgICBpZiAobSA9PT0gdm9pZCAwICYmIEUgPT09IHZvaWQgMCkge1xuICAgICAgdmFyIHcgPSB0aGlzLmdldEV4dEluZm8oXCJpc3N1ZXJBbHROYW1lXCIpO1xuICAgICAgaWYgKHcgPT09IHZvaWQgMClcbiAgICAgICAgcmV0dXJuO1xuICAgICAgbSA9IG4odGhpcy5oZXgsIHcudmlkeCksIEUgPSB3LmNyaXRpY2FsO1xuICAgIH1cbiAgICB2YXIgeCA9IHsgZXh0bmFtZTogXCJpc3N1ZXJBbHROYW1lXCIsIGFycmF5OiBbXSB9O1xuICAgIHJldHVybiBFICYmICh4LmNyaXRpY2FsID0gITApLCB4LmFycmF5ID0gdGhpcy5nZXRHZW5lcmFsTmFtZXMobSksIHg7XG4gIH0sIHRoaXMuZ2V0R2VuZXJhbE5hbWVzID0gZnVuY3Rpb24obSkge1xuICAgIGZvciAodmFyIEUgPSByKG0sIDApLCB3ID0gW10sIHggPSAwOyB4IDwgRS5sZW5ndGg7IHgrKykge1xuICAgICAgdmFyIEYgPSB0aGlzLmdldEdlbmVyYWxOYW1lKG4obSwgRVt4XSkpO1xuICAgICAgRiAhPT0gdm9pZCAwICYmIHcucHVzaChGKTtcbiAgICB9XG4gICAgcmV0dXJuIHc7XG4gIH0sIHRoaXMuZ2V0R2VuZXJhbE5hbWUgPSBmdW5jdGlvbihtKSB7XG4gICAgdmFyIEUgPSBtLnN1YnN0cigwLCAyKSwgdyA9IGkobSwgMCksIHggPSBBZSh3KTtcbiAgICBpZiAoRSA9PSBcIjgxXCIpXG4gICAgICByZXR1cm4geyByZmM4MjI6IHggfTtcbiAgICBpZiAoRSA9PSBcIjgyXCIpXG4gICAgICByZXR1cm4geyBkbnM6IHggfTtcbiAgICBpZiAoRSA9PSBcIjg2XCIpXG4gICAgICByZXR1cm4geyB1cmk6IHggfTtcbiAgICBpZiAoRSA9PSBcIjg3XCIpXG4gICAgICByZXR1cm4geyBpcDogdHQodykgfTtcbiAgICBpZiAoRSA9PSBcImE0XCIpXG4gICAgICByZXR1cm4geyBkbjogdGhpcy5nZXRYNTAwTmFtZSh3KSB9O1xuICAgIGlmIChFID09IFwiYTBcIilcbiAgICAgIHJldHVybiB7IG90aGVyOiB0aGlzLmdldE90aGVyTmFtZShtKSB9O1xuICB9LCB0aGlzLmdldEV4dFN1YmplY3RBbHROYW1lMiA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBtLCBFLCB3LCB4ID0gdGhpcy5nZXRFeHRJbmZvKFwic3ViamVjdEFsdE5hbWVcIik7XG4gICAgaWYgKHggPT09IHZvaWQgMClcbiAgICAgIHJldHVybiB4O1xuICAgIGZvciAodmFyIEYgPSBuZXcgQXJyYXkoKSwgUCA9IG4odGhpcy5oZXgsIHgudmlkeCksIFQgPSByKFAsIDApLCBIID0gMDsgSCA8IFQubGVuZ3RoOyBIKyspXG4gICAgICB3ID0gUC5zdWJzdHIoVFtIXSwgMiksIG0gPSBpKFAsIFRbSF0pLCB3ID09PSBcIjgxXCIgJiYgKEUgPSBXKG0pLCBGLnB1c2goW1wiTUFJTFwiLCBFXSkpLCB3ID09PSBcIjgyXCIgJiYgKEUgPSBXKG0pLCBGLnB1c2goW1wiRE5TXCIsIEVdKSksIHcgPT09IFwiODRcIiAmJiAoRSA9IEwuaGV4MmRuKG0sIDApLCBGLnB1c2goW1wiRE5cIiwgRV0pKSwgdyA9PT0gXCI4NlwiICYmIChFID0gVyhtKSwgRi5wdXNoKFtcIlVSSVwiLCBFXSkpLCB3ID09PSBcIjg3XCIgJiYgKEUgPSB0dChtKSwgRi5wdXNoKFtcIklQXCIsIEVdKSk7XG4gICAgcmV0dXJuIEY7XG4gIH0sIHRoaXMuZ2V0RXh0Q1JMRGlzdHJpYnV0aW9uUG9pbnRzID0gZnVuY3Rpb24obSwgRSkge1xuICAgIGlmIChtID09PSB2b2lkIDAgJiYgRSA9PT0gdm9pZCAwKSB7XG4gICAgICB2YXIgdyA9IHRoaXMuZ2V0RXh0SW5mbyhcImNSTERpc3RyaWJ1dGlvblBvaW50c1wiKTtcbiAgICAgIGlmICh3ID09PSB2b2lkIDApXG4gICAgICAgIHJldHVybjtcbiAgICAgIG0gPSBuKHRoaXMuaGV4LCB3LnZpZHgpLCBFID0gdy5jcml0aWNhbDtcbiAgICB9XG4gICAgdmFyIHggPSB7IGV4dG5hbWU6IFwiY1JMRGlzdHJpYnV0aW9uUG9pbnRzXCIsIGFycmF5OiBbXSB9O1xuICAgIEUgJiYgKHguY3JpdGljYWwgPSAhMCk7XG4gICAgZm9yICh2YXIgRiA9IHIobSwgMCksIFAgPSAwOyBQIDwgRi5sZW5ndGg7IFArKykge1xuICAgICAgdmFyIFQgPSBuKG0sIEZbUF0pO1xuICAgICAgeC5hcnJheS5wdXNoKHRoaXMuZ2V0RGlzdHJpYnV0aW9uUG9pbnQoVCkpO1xuICAgIH1cbiAgICByZXR1cm4geDtcbiAgfSwgdGhpcy5nZXREaXN0cmlidXRpb25Qb2ludCA9IGZ1bmN0aW9uKG0pIHtcbiAgICBmb3IgKHZhciBFID0ge30sIHcgPSByKG0sIDApLCB4ID0gMDsgeCA8IHcubGVuZ3RoOyB4KyspIHtcbiAgICAgIHZhciBGID0gbS5zdWJzdHIod1t4XSwgMiksIFAgPSBuKG0sIHdbeF0pO1xuICAgICAgRiA9PSBcImEwXCIgJiYgKEUuZHBuYW1lID0gdGhpcy5nZXREaXN0cmlidXRpb25Qb2ludE5hbWUoUCkpO1xuICAgIH1cbiAgICByZXR1cm4gRTtcbiAgfSwgdGhpcy5nZXREaXN0cmlidXRpb25Qb2ludE5hbWUgPSBmdW5jdGlvbihtKSB7XG4gICAgZm9yICh2YXIgRSA9IHt9LCB3ID0gcihtLCAwKSwgeCA9IDA7IHggPCB3Lmxlbmd0aDsgeCsrKSB7XG4gICAgICB2YXIgRiA9IG0uc3Vic3RyKHdbeF0sIDIpLCBQID0gbihtLCB3W3hdKTtcbiAgICAgIEYgPT0gXCJhMFwiICYmIChFLmZ1bGwgPSB0aGlzLmdldEdlbmVyYWxOYW1lcyhQKSk7XG4gICAgfVxuICAgIHJldHVybiBFO1xuICB9LCB0aGlzLmdldEV4dENSTERpc3RyaWJ1dGlvblBvaW50c1VSSSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBtID0gdGhpcy5nZXRFeHRDUkxEaXN0cmlidXRpb25Qb2ludHMoKTtcbiAgICBpZiAobSA9PSBudWxsKVxuICAgICAgcmV0dXJuIG07XG4gICAgZm9yICh2YXIgRSA9IG0uYXJyYXksIHcgPSBbXSwgeCA9IDA7IHggPCBFLmxlbmd0aDsgeCsrKVxuICAgICAgdHJ5IHtcbiAgICAgICAgRVt4XS5kcG5hbWUuZnVsbFswXS51cmkgIT0gbnVsbCAmJiB3LnB1c2goRVt4XS5kcG5hbWUuZnVsbFswXS51cmkpO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICB9XG4gICAgcmV0dXJuIHc7XG4gIH0sIHRoaXMuZ2V0RXh0QUlBSW5mbyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBtID0gdGhpcy5nZXRFeHRJbmZvKFwiYXV0aG9yaXR5SW5mb0FjY2Vzc1wiKTtcbiAgICBpZiAobSA9PT0gdm9pZCAwKVxuICAgICAgcmV0dXJuIG07XG4gICAgZm9yICh2YXIgRSA9IHsgb2NzcDogW10sIGNhaXNzdWVyOiBbXSB9LCB3ID0gcih0aGlzLmhleCwgbS52aWR4KSwgeCA9IDA7IHggPCB3Lmxlbmd0aDsgeCsrKSB7XG4gICAgICB2YXIgRiA9IGgodGhpcy5oZXgsIHdbeF0sIFswXSwgXCIwNlwiKSwgUCA9IGgodGhpcy5oZXgsIHdbeF0sIFsxXSwgXCI4NlwiKTtcbiAgICAgIEYgPT09IFwiMmIwNjAxMDUwNTA3MzAwMVwiICYmIEUub2NzcC5wdXNoKFcoUCkpLCBGID09PSBcIjJiMDYwMTA1MDUwNzMwMDJcIiAmJiBFLmNhaXNzdWVyLnB1c2goVyhQKSk7XG4gICAgfVxuICAgIHJldHVybiBFO1xuICB9LCB0aGlzLmdldEV4dEF1dGhvcml0eUluZm9BY2Nlc3MgPSBmdW5jdGlvbihtLCBFKSB7XG4gICAgaWYgKG0gPT09IHZvaWQgMCAmJiBFID09PSB2b2lkIDApIHtcbiAgICAgIHZhciB3ID0gdGhpcy5nZXRFeHRJbmZvKFwiYXV0aG9yaXR5SW5mb0FjY2Vzc1wiKTtcbiAgICAgIGlmICh3ID09PSB2b2lkIDApXG4gICAgICAgIHJldHVybjtcbiAgICAgIG0gPSBuKHRoaXMuaGV4LCB3LnZpZHgpLCBFID0gdy5jcml0aWNhbDtcbiAgICB9XG4gICAgdmFyIHggPSB7IGV4dG5hbWU6IFwiYXV0aG9yaXR5SW5mb0FjY2Vzc1wiLCBhcnJheTogW10gfTtcbiAgICBFICYmICh4LmNyaXRpY2FsID0gITApO1xuICAgIGZvciAodmFyIEYgPSByKG0sIDApLCBQID0gMDsgUCA8IEYubGVuZ3RoOyBQKyspIHtcbiAgICAgIHZhciBUID0gdShtLCBGW1BdLCBbMF0sIFwiMDZcIiksIEggPSBoKG0sIEZbUF0sIFsxXSwgXCI4NlwiKSwgQyA9IFcoSCk7XG4gICAgICBpZiAoVCA9PSBcIjJiMDYwMTA1MDUwNzMwMDFcIilcbiAgICAgICAgeC5hcnJheS5wdXNoKHsgb2NzcDogQyB9KTtcbiAgICAgIGVsc2UgaWYgKFQgPT0gXCIyYjA2MDEwNTA1MDczMDAyXCIpXG4gICAgICAgIHguYXJyYXkucHVzaCh7IGNhaXNzdWVyOiBDIH0pO1xuICAgICAgZWxzZVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1bmtub3duIG1ldGhvZDogXCIgKyBUKTtcbiAgICB9XG4gICAgcmV0dXJuIHg7XG4gIH0sIHRoaXMuZ2V0RXh0Q2VydGlmaWNhdGVQb2xpY2llcyA9IGZ1bmN0aW9uKG0sIEUpIHtcbiAgICBpZiAobSA9PT0gdm9pZCAwICYmIEUgPT09IHZvaWQgMCkge1xuICAgICAgdmFyIHcgPSB0aGlzLmdldEV4dEluZm8oXCJjZXJ0aWZpY2F0ZVBvbGljaWVzXCIpO1xuICAgICAgaWYgKHcgPT09IHZvaWQgMClcbiAgICAgICAgcmV0dXJuO1xuICAgICAgbSA9IG4odGhpcy5oZXgsIHcudmlkeCksIEUgPSB3LmNyaXRpY2FsO1xuICAgIH1cbiAgICB2YXIgeCA9IHsgZXh0bmFtZTogXCJjZXJ0aWZpY2F0ZVBvbGljaWVzXCIsIGFycmF5OiBbXSB9O1xuICAgIEUgJiYgKHguY3JpdGljYWwgPSAhMCk7XG4gICAgZm9yICh2YXIgRiA9IHIobSwgMCksIFAgPSAwOyBQIDwgRi5sZW5ndGg7IFArKykge1xuICAgICAgdmFyIFQgPSBuKG0sIEZbUF0pLCBIID0gdGhpcy5nZXRQb2xpY3lJbmZvcm1hdGlvbihUKTtcbiAgICAgIHguYXJyYXkucHVzaChIKTtcbiAgICB9XG4gICAgcmV0dXJuIHg7XG4gIH0sIHRoaXMuZ2V0UG9saWN5SW5mb3JtYXRpb24gPSBmdW5jdGlvbihtKSB7XG4gICAgdmFyIEUgPSB7fSwgdyA9IGgobSwgMCwgWzBdLCBcIjA2XCIpO1xuICAgIEUucG9saWN5b2lkID0gZih3KTtcbiAgICB2YXIgeCA9IHYobSwgMCwgWzFdLCBcIjMwXCIpO1xuICAgIGlmICh4ICE9IC0xKSB7XG4gICAgICBFLmFycmF5ID0gW107XG4gICAgICBmb3IgKHZhciBGID0gcihtLCB4KSwgUCA9IDA7IFAgPCBGLmxlbmd0aDsgUCsrKSB7XG4gICAgICAgIHZhciBUID0gbihtLCBGW1BdKSwgSCA9IHRoaXMuZ2V0UG9saWN5UXVhbGlmaWVySW5mbyhUKTtcbiAgICAgICAgRS5hcnJheS5wdXNoKEgpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gRTtcbiAgfSwgdGhpcy5nZXRPdGhlck5hbWUgPSBmdW5jdGlvbihtKSB7XG4gICAgdmFyIEUgPSB7fSwgdyA9IHIobSwgMCksIHggPSBoKG0sIHdbMF0sIFtdLCBcIjA2XCIpLCBGID0gaChtLCB3WzFdLCBbXSk7XG4gICAgcmV0dXJuIEUub2lkID0gZih4KSwgRS52YWx1ZSA9IHMoRiksIEU7XG4gIH0sIHRoaXMuZ2V0UG9saWN5UXVhbGlmaWVySW5mbyA9IGZ1bmN0aW9uKG0pIHtcbiAgICB2YXIgRSA9IHt9LCB3ID0gaChtLCAwLCBbMF0sIFwiMDZcIik7XG4gICAgaWYgKHcgPT09IFwiMmIwNjAxMDUwNTA3MDIwMVwiKSB7XG4gICAgICB2YXIgeCA9IHUobSwgMCwgWzFdLCBcIjE2XCIpO1xuICAgICAgRS5jcHMgPSBBZSh4KTtcbiAgICB9IGVsc2UgaWYgKHcgPT09IFwiMmIwNjAxMDUwNTA3MDIwMlwiKSB7XG4gICAgICB2YXIgRiA9IHAobSwgMCwgWzFdLCBcIjMwXCIpO1xuICAgICAgRS51bm90aWNlID0gdGhpcy5nZXRVc2VyTm90aWNlKEYpO1xuICAgIH1cbiAgICByZXR1cm4gRTtcbiAgfSwgdGhpcy5nZXRVc2VyTm90aWNlID0gZnVuY3Rpb24obSkge1xuICAgIHZhciBFID0gbnVsbDtcbiAgICB0cnkge1xuICAgICAgRSA9IHQucGFyc2UobSk7XG4gICAgICB2YXIgdyA9IHRoaXMuX2FzbjFUb1Vub3RpY2UoRSk7XG4gICAgICByZXR1cm4gdztcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH0sIHRoaXMuX2FzbjFUb1Vub3RpY2UgPSBmdW5jdGlvbihtKSB7XG4gICAgdHJ5IHtcbiAgICAgIGZvciAodmFyIEUgPSB7fSwgdyA9IEoobSwgXCJzZXFcIiksIHggPSAwOyB4IDwgdy5sZW5ndGg7IHgrKykge1xuICAgICAgICB2YXIgRiA9IHRoaXMuX2FzbjFUb05vdGljZVJlZih3W3hdKTtcbiAgICAgICAgRiAhPSBudWxsICYmIChFLm5vdGljZXJlZiA9IEYpO1xuICAgICAgICB2YXIgUCA9IHRoaXMuYXNuMVRvRGlzcGxheVRleHQod1t4XSk7XG4gICAgICAgIFAgIT0gbnVsbCAmJiAoRS5leHB0ZXh0ID0gUCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gT2JqZWN0LmtleXMoRSkubGVuZ3RoID4gMCA/IEUgOiB2b2lkIDA7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9LCB0aGlzLl9hc24xVG9Ob3RpY2VSZWYgPSBmdW5jdGlvbihtKSB7XG4gICAgdHJ5IHtcbiAgICAgIGZvciAodmFyIEUgPSB7fSwgdyA9IEoobSwgXCJzZXFcIiksIHggPSAwOyB4IDwgdy5sZW5ndGg7IHgrKykge1xuICAgICAgICB2YXIgRiA9IHRoaXMuX2FzbjFUb05vdGljZU51bSh3W3hdKTtcbiAgICAgICAgRiAhPSBudWxsICYmIChFLm5vdGljZW51bSA9IEYpO1xuICAgICAgICB2YXIgUCA9IHRoaXMuYXNuMVRvRGlzcGxheVRleHQod1t4XSk7XG4gICAgICAgIFAgIT0gbnVsbCAmJiAoRS5vcmcgPSBQKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBPYmplY3Qua2V5cyhFKS5sZW5ndGggPiAwID8gRSA6IHZvaWQgMDtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH0sIHRoaXMuX2FzbjFUb05vdGljZU51bSA9IGZ1bmN0aW9uKG0pIHtcbiAgICB0cnkge1xuICAgICAgZm9yICh2YXIgRSA9IEoobSwgXCJzZXFcIiksIHcgPSBbXSwgeCA9IDA7IHggPCBFLmxlbmd0aDsgeCsrKSB7XG4gICAgICAgIHZhciBGID0gRVt4XTtcbiAgICAgICAgdy5wdXNoKHBhcnNlSW50KEooRiwgXCJpbnQuaGV4XCIpLCAxNikpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHc7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9LCB0aGlzLmdldERpc3BsYXlUZXh0ID0gZnVuY3Rpb24obSkge1xuICAgIHZhciBFID0geyBcIjBjXCI6IFwidXRmOFwiLCAxNjogXCJpYTVcIiwgXCIxYVwiOiBcInZpc1wiLCBcIjFlXCI6IFwiYm1wXCIgfSwgdyA9IHt9O1xuICAgIHJldHVybiB3LnR5cGUgPSBFW20uc3Vic3RyKDAsIDIpXSwgdy5zdHIgPSBBZShpKG0sIDApKSwgdztcbiAgfSwgdGhpcy5hc24xVG9EaXNwbGF5VGV4dCA9IGZ1bmN0aW9uKG0pIHtcbiAgICBpZiAobS51dGY4c3RyICE9IG51bGwpXG4gICAgICByZXR1cm4geyB0eXBlOiBcInV0ZjhcIiwgc3RyOiBtLnV0ZjhzdHIuc3RyIH07XG4gICAgaWYgKG0uaWE1c3RyICE9IG51bGwpXG4gICAgICByZXR1cm4geyB0eXBlOiBcImlhNVwiLCBzdHI6IG0uaWE1c3RyLnN0ciB9O1xuICAgIGlmIChtLnZpc3N0ciAhPSBudWxsKVxuICAgICAgcmV0dXJuIHsgdHlwZTogXCJ2aXNcIiwgc3RyOiBtLnZpc3N0ci5zdHIgfTtcbiAgICBpZiAobS5ibXBzdHIgIT0gbnVsbClcbiAgICAgIHJldHVybiB7IHR5cGU6IFwiYm1wXCIsIHN0cjogbS5ibXBzdHIuc3RyIH07XG4gICAgaWYgKG0ucHJuc3RyICE9IG51bGwpXG4gICAgICByZXR1cm4geyB0eXBlOiBcInByblwiLCBzdHI6IG0ucHJuc3RyLnN0ciB9O1xuICB9LCB0aGlzLmdldEV4dFBvbGljeU1hcHBpbmdzID0gZnVuY3Rpb24obSwgRSkge1xuICAgIHZhciB3ID0gdGhpcy5nZXRDcml0aWNhbEV4dFYoXCJwb2xpY3lNYXBwaW5nc1wiLCBtLCBFKTtcbiAgICBpZiAobSA9IHdbMF0sIEUgPSB3WzFdLCBtICE9IG51bGwpIHtcbiAgICAgIHZhciB4ID0geyBleHRuYW1lOiBcInBvbGljeU1hcHBpbmdzXCIgfTtcbiAgICAgIEUgJiYgKHguY3JpdGljYWwgPSAhMCk7XG4gICAgICB0cnkge1xuICAgICAgICBmb3IgKHZhciBGID0gcyhtKSwgUCA9IEYuc2VxLCBUID0gW10sIEggPSAwOyBIIDwgUC5sZW5ndGg7IEgrKykge1xuICAgICAgICAgIHZhciBDID0gUFtIXS5zZXE7XG4gICAgICAgICAgVC5wdXNoKFtDWzBdLm9pZCwgQ1sxXS5vaWRdKTtcbiAgICAgICAgfVxuICAgICAgICB4LmFycmF5ID0gVDtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICB0aHJvdyBuZXcgYihcIm1hbGZvcm1lZCBwb2xpY3lNYXBwaW5nc1wiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB4O1xuICAgIH1cbiAgfSwgdGhpcy5nZXRFeHRQb2xpY3lDb25zdHJhaW50cyA9IGZ1bmN0aW9uKG0sIEUpIHtcbiAgICB2YXIgdyA9IHRoaXMuZ2V0Q3JpdGljYWxFeHRWKFwicG9saWN5Q29uc3RyYWludHNcIiwgbSwgRSk7XG4gICAgaWYgKG0gPSB3WzBdLCBFID0gd1sxXSwgbSAhPSBudWxsKSB7XG4gICAgICB2YXIgeCA9IHsgZXh0bmFtZTogXCJwb2xpY3lDb25zdHJhaW50c1wiIH07XG4gICAgICBFICYmICh4LmNyaXRpY2FsID0gITApO1xuICAgICAgdmFyIEYgPSBzKG0pO1xuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yICh2YXIgUCA9IEYuc2VxLCBUID0gMDsgVCA8IFAubGVuZ3RoOyBUKyspIHtcbiAgICAgICAgICB2YXIgSCA9IFBbVF0udGFnO1xuICAgICAgICAgIEguZXhwbGljaXQgPT0gITEgJiYgKEgudGFnID09IFwiODBcIiAmJiAoeC5yZXFleHAgPSBwYXJzZUludChILmhleCwgMTYpKSwgSC50YWcgPT0gXCI4MVwiICYmICh4LmluaGliaXQgPSBwYXJzZUludChILmhleCwgMTYpKSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICByZXR1cm4gbmV3IGIoXCJtYWxmb3JtZWQgcG9saWN5Q29uc3RyYWludHMgdmFsdWVcIik7XG4gICAgICB9XG4gICAgICByZXR1cm4geDtcbiAgICB9XG4gIH0sIHRoaXMuZ2V0RXh0SW5oaWJpdEFueVBvbGljeSA9IGZ1bmN0aW9uKG0sIEUpIHtcbiAgICB2YXIgdyA9IHRoaXMuZ2V0Q3JpdGljYWxFeHRWKFwiaW5oaWJpdEFueVBvbGljeVwiLCBtLCBFKTtcbiAgICBpZiAobSA9IHdbMF0sIEUgPSB3WzFdLCBtICE9IG51bGwpIHtcbiAgICAgIHZhciB4ID0geyBleHRuYW1lOiBcImluaGliaXRBbnlQb2xpY3lcIiB9O1xuICAgICAgRSAmJiAoeC5jcml0aWNhbCA9ICEwKTtcbiAgICAgIHZhciBGID0gbChtLCAwKTtcbiAgICAgIHJldHVybiBGID09IC0xID8gbmV3IGIoXCJ3cm9uZyB2YWx1ZVwiKSA6ICh4LnNraXAgPSBGLCB4KTtcbiAgICB9XG4gIH0sIHRoaXMuZ2V0RXh0Q1JMTnVtYmVyID0gZnVuY3Rpb24obSwgRSkge1xuICAgIHZhciB3ID0geyBleHRuYW1lOiBcImNSTE51bWJlclwiIH07XG4gICAgaWYgKEUgJiYgKHcuY3JpdGljYWwgPSAhMCksIG0uc3Vic3RyKDAsIDIpID09IFwiMDJcIilcbiAgICAgIHJldHVybiB3Lm51bSA9IHsgaGV4OiBpKG0sIDApIH0sIHc7XG4gICAgdGhyb3cgbmV3IGIoXCJoRXh0ViBwYXJzZSBlcnJvcjogXCIgKyBtKTtcbiAgfSwgdGhpcy5nZXRFeHRDUkxSZWFzb24gPSBmdW5jdGlvbihtLCBFKSB7XG4gICAgdmFyIHcgPSB7IGV4dG5hbWU6IFwiY1JMUmVhc29uXCIgfTtcbiAgICBpZiAoRSAmJiAody5jcml0aWNhbCA9ICEwKSwgbS5zdWJzdHIoMCwgMikgPT0gXCIwYVwiKVxuICAgICAgcmV0dXJuIHcuY29kZSA9IHBhcnNlSW50KGkobSwgMCksIDE2KSwgdztcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJoRXh0ViBwYXJzZSBlcnJvcjogXCIgKyBtKTtcbiAgfSwgdGhpcy5nZXRFeHRPY3NwTm9uY2UgPSBmdW5jdGlvbihtLCBFKSB7XG4gICAgdmFyIHcgPSB7IGV4dG5hbWU6IFwib2NzcE5vbmNlXCIgfTtcbiAgICBFICYmICh3LmNyaXRpY2FsID0gITApO1xuICAgIHZhciB4ID0gaShtLCAwKTtcbiAgICByZXR1cm4gdy5oZXggPSB4LCB3O1xuICB9LCB0aGlzLmdldEV4dE9jc3BOb0NoZWNrID0gZnVuY3Rpb24obSwgRSkge1xuICAgIHZhciB3ID0geyBleHRuYW1lOiBcIm9jc3BOb0NoZWNrXCIgfTtcbiAgICByZXR1cm4gRSAmJiAody5jcml0aWNhbCA9ICEwKSwgdztcbiAgfSwgdGhpcy5nZXRFeHRBZG9iZVRpbWVTdGFtcCA9IGZ1bmN0aW9uKG0sIEUpIHtcbiAgICBpZiAobSA9PT0gdm9pZCAwICYmIEUgPT09IHZvaWQgMCkge1xuICAgICAgdmFyIHcgPSB0aGlzLmdldEV4dEluZm8oXCJhZG9iZVRpbWVTdGFtcFwiKTtcbiAgICAgIGlmICh3ID09PSB2b2lkIDApXG4gICAgICAgIHJldHVybjtcbiAgICAgIG0gPSBuKHRoaXMuaGV4LCB3LnZpZHgpLCBFID0gdy5jcml0aWNhbDtcbiAgICB9XG4gICAgdmFyIHggPSB7IGV4dG5hbWU6IFwiYWRvYmVUaW1lU3RhbXBcIiB9O1xuICAgIEUgJiYgKHguY3JpdGljYWwgPSAhMCk7XG4gICAgdmFyIEYgPSByKG0sIDApO1xuICAgIGlmIChGLmxlbmd0aCA+IDEpIHtcbiAgICAgIHZhciBQID0gbihtLCBGWzFdKSwgVCA9IHRoaXMuZ2V0R2VuZXJhbE5hbWUoUCk7XG4gICAgICBULnVyaSAhPSBudWxsICYmICh4LnVyaSA9IFQudXJpKTtcbiAgICB9XG4gICAgaWYgKEYubGVuZ3RoID4gMikge1xuICAgICAgdmFyIEggPSBuKG0sIEZbMl0pO1xuICAgICAgSCA9PSBcIjAxMDFmZlwiICYmICh4LnJlcWF1dGggPSAhMCksIEggPT0gXCIwMTAxMDBcIiAmJiAoeC5yZXFhdXRoID0gITEpO1xuICAgIH1cbiAgICByZXR1cm4geDtcbiAgfSwgdGhpcy5nZXRFeHRTdWJqZWN0RGlyZWN0b3J5QXR0cmlidXRlcyA9IGZ1bmN0aW9uKG0sIEUpIHtcbiAgICBpZiAobSA9PT0gdm9pZCAwICYmIEUgPT09IHZvaWQgMCkge1xuICAgICAgdmFyIHcgPSB0aGlzLmdldEV4dEluZm8oXCJzdWJqZWN0RGlyZWN0b3J5QXR0cmlidXRlc1wiKTtcbiAgICAgIGlmICh3ID09PSB2b2lkIDApXG4gICAgICAgIHJldHVybjtcbiAgICAgIG0gPSBuKHRoaXMuaGV4LCB3LnZpZHgpLCBFID0gdy5jcml0aWNhbDtcbiAgICB9XG4gICAgdmFyIHggPSB7IGV4dG5hbWU6IFwic3ViamVjdERpcmVjdG9yeUF0dHJpYnV0ZXNcIiB9O1xuICAgIEUgJiYgKHguY3JpdGljYWwgPSAhMCk7XG4gICAgdHJ5IHtcbiAgICAgIGZvciAodmFyIEYgPSBzKG0pLCBQID0gW10sIFQgPSAwOyBUIDwgRi5zZXEubGVuZ3RoOyBUKyspIHtcbiAgICAgICAgdmFyIEggPSBGLnNlcVtUXSwgQyA9IEooSCwgXCJzZXEuMC5vaWRcIiksIEIgPSBKKEgsIFwic2VxLjEuc2V0XCIpO1xuICAgICAgICBpZiAoQyA9PSBudWxsIHx8IEIgPT0gbnVsbClcbiAgICAgICAgICB0aHJvdyBcImVycm9yXCI7XG4gICAgICAgIFAucHVzaCh7IGF0dHI6IEMsIGFycmF5OiBCIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHguYXJyYXkgPSBQLCB4O1xuICAgIH0gY2F0Y2gge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwibWFsZm9ybWVkIHN1YmplY3REaXJlY3RvcnlBdHRyaWJ1dGVzIGV4dGVuc2lvbiB2YWx1ZVwiKTtcbiAgICB9XG4gIH07XG4gIHZhciBEID0gZnVuY3Rpb24obSkge1xuICAgIHZhciBFID0ge307XG4gICAgdHJ5IHtcbiAgICAgIHZhciB3ID0gbS5zZXFbMF0ub2lkLCB4ID0gYS5hc24xLng1MDkuT0lELm5hbWUyb2lkKHcpO1xuICAgICAgRS50eXBlID0gYS5hc24xLng1MDkuT0lELm9pZDJhdHlwZSh4KTtcbiAgICAgIHZhciBGID0gbS5zZXFbMV07XG4gICAgICBpZiAoRi51dGY4c3RyICE9IG51bGwpXG4gICAgICAgIEUuZHMgPSBcInV0ZjhcIiwgRS52YWx1ZSA9IEYudXRmOHN0ci5zdHI7XG4gICAgICBlbHNlIGlmIChGLm51bXN0ciAhPSBudWxsKVxuICAgICAgICBFLmRzID0gXCJudW1cIiwgRS52YWx1ZSA9IEYubnVtc3RyLnN0cjtcbiAgICAgIGVsc2UgaWYgKEYudGVsc3RyICE9IG51bGwpXG4gICAgICAgIEUuZHMgPSBcInRlbFwiLCBFLnZhbHVlID0gRi50ZWxzdHIuc3RyO1xuICAgICAgZWxzZSBpZiAoRi5wcm5zdHIgIT0gbnVsbClcbiAgICAgICAgRS5kcyA9IFwicHJuXCIsIEUudmFsdWUgPSBGLnBybnN0ci5zdHI7XG4gICAgICBlbHNlIGlmIChGLmlhNXN0ciAhPSBudWxsKVxuICAgICAgICBFLmRzID0gXCJpYTVcIiwgRS52YWx1ZSA9IEYuaWE1c3RyLnN0cjtcbiAgICAgIGVsc2UgaWYgKEYudmlzc3RyICE9IG51bGwpXG4gICAgICAgIEUuZHMgPSBcInZpc1wiLCBFLnZhbHVlID0gRi52aXNzdHIuc3RyO1xuICAgICAgZWxzZSBpZiAoRi5ibXBzdHIgIT0gbnVsbClcbiAgICAgICAgRS5kcyA9IFwiYm1wXCIsIEUudmFsdWUgPSBGLmJtcHN0ci5zdHI7XG4gICAgICBlbHNlXG4gICAgICAgIHRocm93IFwiZXJyb3JcIjtcbiAgICAgIHJldHVybiBFO1xuICAgIH0gY2F0Y2gge1xuICAgICAgdGhyb3cgbmV3IEVyb3JyKFwiaW1wcm9wZXIgQVNOLjEgcGFyc2VkIEF0dHJUeXBlQW5kVmFsdWVcIik7XG4gICAgfVxuICB9LCBBID0gZnVuY3Rpb24obSkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gbS5zZXQubWFwKGZ1bmN0aW9uKEUpIHtcbiAgICAgICAgcmV0dXJuIEQoRSk7XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChFKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbXByb3BlciBBU04uMSBwYXJzZWQgUkROOiBcIiArIEUpO1xuICAgIH1cbiAgfSwgSSA9IGZ1bmN0aW9uKG0pIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIG0uc2VxLm1hcChmdW5jdGlvbihFKSB7XG4gICAgICAgIHJldHVybiBBKEUpO1xuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoRSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW1wcm9wZXIgQVNOLjEgcGFyc2VkIFg1MDBOYW1lOiBcIiArIEUpO1xuICAgIH1cbiAgfTtcbiAgdGhpcy5nZXRYNTAwTmFtZVJ1bGUgPSBmdW5jdGlvbihtKSB7XG4gICAgZm9yICh2YXIgRSA9IG51bGwsIHcgPSBbXSwgeCA9IDA7IHggPCBtLmxlbmd0aDsgeCsrKVxuICAgICAgZm9yICh2YXIgRiA9IG1beF0sIFAgPSAwOyBQIDwgRi5sZW5ndGg7IFArKylcbiAgICAgICAgdy5wdXNoKEZbUF0pO1xuICAgIGZvciAodmFyIHggPSAwOyB4IDwgdy5sZW5ndGg7IHgrKykge1xuICAgICAgdmFyIFQgPSB3W3hdLCBIID0gVC5kcywgQyA9IFQudmFsdWUsIEIgPSBULnR5cGU7XG4gICAgICBpZiAoSCAhPSBcInByblwiICYmIEggIT0gXCJ1dGY4XCIgJiYgSCAhPSBcImlhNVwiKVxuICAgICAgICByZXR1cm4gXCJtaXhlZFwiO1xuICAgICAgaWYgKEggPT0gXCJpYTVcIikge1xuICAgICAgICBpZiAoQiAhPSBcIkNOXCIpXG4gICAgICAgICAgcmV0dXJuIFwibWl4ZWRcIjtcbiAgICAgICAgaWYgKGEubGFuZy5TdHJpbmcuaXNNYWlsKEMpKVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICByZXR1cm4gXCJtaXhlZFwiO1xuICAgICAgfVxuICAgICAgaWYgKEIgPT0gXCJDXCIpIHtcbiAgICAgICAgaWYgKEggPT0gXCJwcm5cIilcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgcmV0dXJuIFwibWl4ZWRcIjtcbiAgICAgIH1cbiAgICAgIGlmIChFID09IG51bGwpXG4gICAgICAgIEUgPSBIO1xuICAgICAgZWxzZSBpZiAoRSAhPT0gSClcbiAgICAgICAgcmV0dXJuIFwibWl4ZWRcIjtcbiAgICB9XG4gICAgcmV0dXJuIEUgPz8gXCJwcm5cIjtcbiAgfSwgdGhpcy5nZXRBdHRyVHlwZUFuZFZhbHVlID0gZnVuY3Rpb24obSkge1xuICAgIHZhciBFID0gcyhtKTtcbiAgICByZXR1cm4gRChFKTtcbiAgfSwgdGhpcy5nZXRSRE4gPSBmdW5jdGlvbihtKSB7XG4gICAgdmFyIEUgPSBzKG0pO1xuICAgIHJldHVybiBBKEUpO1xuICB9LCB0aGlzLmdldFg1MDBOYW1lQXJyYXkgPSBmdW5jdGlvbihtKSB7XG4gICAgdmFyIEUgPSBzKG0pO1xuICAgIHJldHVybiBJKEUpO1xuICB9LCB0aGlzLmdldFg1MDBOYW1lID0gZnVuY3Rpb24obSwgRSwgdykge1xuICAgIHZhciB4ID0gdGhpcy5nZXRYNTAwTmFtZUFycmF5KG0pLCBGID0gdGhpcy5kbmFycmF5dG9zdHIoeCksIFAgPSB7IHN0cjogRiB9O1xuICAgIHJldHVybiBQLmFycmF5ID0geCwgdyA9PSAhMCAmJiAoUC5oZXggPSBtKSwgRSA9PSAhMCAmJiAoUC5jYW5vbiA9IHRoaXMuYzE0blJETkFycmF5KHgpKSwgUDtcbiAgfSwgdGhpcy5yZWFkQ2VydFBFTSA9IGZ1bmN0aW9uKG0pIHtcbiAgICB0aGlzLnJlYWRDZXJ0SGV4KGcobSkpO1xuICB9LCB0aGlzLnJlYWRDZXJ0SGV4ID0gZnVuY3Rpb24obSkge1xuICAgIHRoaXMuaGV4ID0gbSwgdGhpcy5nZXRWZXJzaW9uKCk7XG4gICAgdHJ5IHtcbiAgICAgIHkodGhpcy5oZXgsIDAsIFswLCA3XSwgXCJhM1wiKSwgdGhpcy5wYXJzZUV4dCgpO1xuICAgIH0gY2F0Y2gge1xuICAgIH1cbiAgfSwgdGhpcy5nZXRQYXJhbSA9IGZ1bmN0aW9uKG0pIHtcbiAgICB2YXIgRSA9IHt9O1xuICAgIHJldHVybiBtID09IG51bGwgJiYgKG0gPSB7fSksIEUudmVyc2lvbiA9IHRoaXMuZ2V0VmVyc2lvbigpLCBFLnNlcmlhbCA9IHsgaGV4OiB0aGlzLmdldFNlcmlhbE51bWJlckhleCgpIH0sIEUuc2lnYWxnID0gdGhpcy5nZXRTaWduYXR1cmVBbGdvcml0aG1GaWVsZCgpLCBFLmlzc3VlciA9IHRoaXMuZ2V0SXNzdWVyKG0uZG5jYW5vbiwgbS5kbmhleCksIEUubm90YmVmb3JlID0gdGhpcy5nZXROb3RCZWZvcmUoKSwgRS5ub3RhZnRlciA9IHRoaXMuZ2V0Tm90QWZ0ZXIoKSwgRS5zdWJqZWN0ID0gdGhpcy5nZXRTdWJqZWN0KG0uZG5jYW5vbiwgbS5kbmhleCksIEUuc2JqcHVia2V5ID0gZGUodGhpcy5nZXRQdWJsaWNLZXlIZXgoKSwgXCJQVUJMSUMgS0VZXCIpLCB0aGlzLmFFeHRJbmZvICE9IG51bGwgJiYgdGhpcy5hRXh0SW5mby5sZW5ndGggPiAwICYmIChFLmV4dCA9IHRoaXMuZ2V0RXh0UGFyYW1BcnJheSgpKSwgRS5zaWdoZXggPSB0aGlzLmdldFNpZ25hdHVyZVZhbHVlSGV4KCksIG0udGJzaGV4ID09ICEwICYmIChFLnRic2hleCA9IHAodGhpcy5oZXgsIDAsIFswXSkpLCBtLm5vZG5hcnJheSA9PSAhMCAmJiAoZGVsZXRlIEUuaXNzdWVyLmFycmF5LCBkZWxldGUgRS5zdWJqZWN0LmFycmF5KSwgRTtcbiAgfSwgdGhpcy5nZXRFeHRQYXJhbUFycmF5ID0gZnVuY3Rpb24obSkge1xuICAgIGlmIChtID09IG51bGwpIHtcbiAgICAgIHZhciBFID0gdih0aGlzLmhleCwgMCwgWzAsIFwiWzNdXCJdKTtcbiAgICAgIEUgIT0gLTEgJiYgKG0gPSBjKHRoaXMuaGV4LCAwLCBbMCwgXCJbM11cIiwgMF0sIFwiMzBcIikpO1xuICAgIH1cbiAgICBmb3IgKHZhciB3ID0gW10sIHggPSByKG0sIDApLCBGID0gMDsgRiA8IHgubGVuZ3RoOyBGKyspIHtcbiAgICAgIHZhciBQID0gbihtLCB4W0ZdKSwgVCA9IHRoaXMuZ2V0RXh0UGFyYW0oUCk7XG4gICAgICBUICE9IG51bGwgJiYgdy5wdXNoKFQpO1xuICAgIH1cbiAgICByZXR1cm4gdztcbiAgfSwgdGhpcy5nZXRFeHRQYXJhbSA9IGZ1bmN0aW9uKG0pIHtcbiAgICB2YXIgRSA9IHIobSwgMCksIHcgPSBFLmxlbmd0aDtcbiAgICBpZiAodyAhPSAyICYmIHcgIT0gMylcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIndyb25nIG51bWJlciBlbGVtZW50cyBpbiBFeHRlbnNpb246IFwiICsgdyArIFwiIFwiICsgbSk7XG4gICAgdmFyIHggPSBkKGgobSwgMCwgWzBdLCBcIjA2XCIpKSwgRiA9ICExO1xuICAgIHcgPT0gMyAmJiBwKG0sIDAsIFsxXSkgPT0gXCIwMTAxZmZcIiAmJiAoRiA9ICEwKTtcbiAgICB2YXIgUCA9IHAobSwgMCwgW3cgLSAxLCAwXSksIFQgPSB2b2lkIDA7XG4gICAgaWYgKHggPT0gXCIyLjUuMjkuMTRcIiA/IFQgPSB0aGlzLmdldEV4dFN1YmplY3RLZXlJZGVudGlmaWVyKFAsIEYpIDogeCA9PSBcIjIuNS4yOS4xNVwiID8gVCA9IHRoaXMuZ2V0RXh0S2V5VXNhZ2UoUCwgRikgOiB4ID09IFwiMi41LjI5LjE3XCIgPyBUID0gdGhpcy5nZXRFeHRTdWJqZWN0QWx0TmFtZShQLCBGKSA6IHggPT0gXCIyLjUuMjkuMThcIiA/IFQgPSB0aGlzLmdldEV4dElzc3VlckFsdE5hbWUoUCwgRikgOiB4ID09IFwiMi41LjI5LjE5XCIgPyBUID0gdGhpcy5nZXRFeHRCYXNpY0NvbnN0cmFpbnRzKFAsIEYpIDogeCA9PSBcIjIuNS4yOS4zMFwiID8gVCA9IHRoaXMuZ2V0RXh0TmFtZUNvbnN0cmFpbnRzKFAsIEYpIDogeCA9PSBcIjIuNS4yOS4zMVwiID8gVCA9IHRoaXMuZ2V0RXh0Q1JMRGlzdHJpYnV0aW9uUG9pbnRzKFAsIEYpIDogeCA9PSBcIjIuNS4yOS4zMlwiID8gVCA9IHRoaXMuZ2V0RXh0Q2VydGlmaWNhdGVQb2xpY2llcyhQLCBGKSA6IHggPT0gXCIyLjUuMjkuMzNcIiA/IFQgPSB0aGlzLmdldEV4dFBvbGljeU1hcHBpbmdzKFAsIEYpIDogeCA9PSBcIjIuNS4yOS4zNVwiID8gVCA9IHRoaXMuZ2V0RXh0QXV0aG9yaXR5S2V5SWRlbnRpZmllcihQLCBGKSA6IHggPT0gXCIyLjUuMjkuMzZcIiA/IFQgPSB0aGlzLmdldEV4dFBvbGljeUNvbnN0cmFpbnRzKFAsIEYpIDogeCA9PSBcIjIuNS4yOS4zN1wiID8gVCA9IHRoaXMuZ2V0RXh0RXh0S2V5VXNhZ2UoUCwgRikgOiB4ID09IFwiMi41LjI5LjU0XCIgPyBUID0gdGhpcy5nZXRFeHRJbmhpYml0QW55UG9saWN5KFAsIEYpIDogeCA9PSBcIjEuMy42LjEuNS41LjcuMS4xXCIgPyBUID0gdGhpcy5nZXRFeHRBdXRob3JpdHlJbmZvQWNjZXNzKFAsIEYpIDogeCA9PSBcIjIuNS4yOS4yMFwiID8gVCA9IHRoaXMuZ2V0RXh0Q1JMTnVtYmVyKFAsIEYpIDogeCA9PSBcIjIuNS4yOS4yMVwiID8gVCA9IHRoaXMuZ2V0RXh0Q1JMUmVhc29uKFAsIEYpIDogeCA9PSBcIjIuNS4yOS45XCIgPyBUID0gdGhpcy5nZXRFeHRTdWJqZWN0RGlyZWN0b3J5QXR0cmlidXRlcyhQLCBGKSA6IHggPT0gXCIxLjMuNi4xLjUuNS43LjQ4LjEuMlwiID8gVCA9IHRoaXMuZ2V0RXh0T2NzcE5vbmNlKFAsIEYpIDogeCA9PSBcIjEuMy42LjEuNS41LjcuNDguMS41XCIgPyBUID0gdGhpcy5nZXRFeHRPY3NwTm9DaGVjayhQLCBGKSA6IHggPT0gXCIxLjIuODQwLjExMzU4My4xLjEuOS4xXCIgPyBUID0gdGhpcy5nZXRFeHRBZG9iZVRpbWVTdGFtcChQLCBGKSA6IEwuRVhUX1BBUlNFUlt4XSAhPSBudWxsICYmIChUID0gTC5FWFRfUEFSU0VSW3hdKHgsIEYsIFApKSwgVCAhPSBudWxsKVxuICAgICAgcmV0dXJuIFQ7XG4gICAgdmFyIEggPSB7IGV4dG5hbWU6IHgsIGV4dG46IFAgfTtcbiAgICB0cnkge1xuICAgICAgSC5leHRuID0gcyhQKTtcbiAgICB9IGNhdGNoIHtcbiAgICB9XG4gICAgcmV0dXJuIEYgJiYgKEguY3JpdGljYWwgPSAhMCksIEg7XG4gIH0sIHRoaXMuZmluZEV4dCA9IGZ1bmN0aW9uKG0sIEUpIHtcbiAgICBmb3IgKHZhciB3ID0gMDsgdyA8IG0ubGVuZ3RoOyB3KyspXG4gICAgICBpZiAobVt3XS5leHRuYW1lID09IEUpXG4gICAgICAgIHJldHVybiBtW3ddO1xuICAgIHJldHVybiBudWxsO1xuICB9LCB0aGlzLnVwZGF0ZUV4dENEUEZ1bGxVUkkgPSBmdW5jdGlvbihtLCBFKSB7XG4gICAgdmFyIHcgPSB0aGlzLmZpbmRFeHQobSwgXCJjUkxEaXN0cmlidXRpb25Qb2ludHNcIik7XG4gICAgaWYgKHcgIT0gbnVsbCAmJiB3LmFycmF5ICE9IG51bGwpIHtcbiAgICAgIGZvciAodmFyIHggPSB3LmFycmF5LCBGID0gMDsgRiA8IHgubGVuZ3RoOyBGKyspXG4gICAgICAgIGlmICh4W0ZdLmRwbmFtZSAhPSBudWxsICYmIHhbRl0uZHBuYW1lLmZ1bGwgIT0gbnVsbClcbiAgICAgICAgICBmb3IgKHZhciBQID0geFtGXS5kcG5hbWUuZnVsbCwgVCA9IDA7IFQgPCBQLmxlbmd0aDsgVCsrKSB7XG4gICAgICAgICAgICB2YXIgSCA9IFBbRl07XG4gICAgICAgICAgICBILnVyaSAhPSBudWxsICYmIChILnVyaSA9IEUpO1xuICAgICAgICAgIH1cbiAgICB9XG4gIH0sIHRoaXMudXBkYXRlRXh0QUlBT0NTUCA9IGZ1bmN0aW9uKG0sIEUpIHtcbiAgICB2YXIgdyA9IHRoaXMuZmluZEV4dChtLCBcImF1dGhvcml0eUluZm9BY2Nlc3NcIik7XG4gICAgaWYgKHcgIT0gbnVsbCAmJiB3LmFycmF5ICE9IG51bGwpXG4gICAgICBmb3IgKHZhciB4ID0gdy5hcnJheSwgRiA9IDA7IEYgPCB4Lmxlbmd0aDsgRisrKVxuICAgICAgICB4W0ZdLm9jc3AgIT0gbnVsbCAmJiAoeFtGXS5vY3NwID0gRSk7XG4gIH0sIHRoaXMudXBkYXRlRXh0QUlBQ0FJc3N1ZXIgPSBmdW5jdGlvbihtLCBFKSB7XG4gICAgdmFyIHcgPSB0aGlzLmZpbmRFeHQobSwgXCJhdXRob3JpdHlJbmZvQWNjZXNzXCIpO1xuICAgIGlmICh3ICE9IG51bGwgJiYgdy5hcnJheSAhPSBudWxsKVxuICAgICAgZm9yICh2YXIgeCA9IHcuYXJyYXksIEYgPSAwOyBGIDwgeC5sZW5ndGg7IEYrKylcbiAgICAgICAgeFtGXS5jYWlzc3VlciAhPSBudWxsICYmICh4W0ZdLmNhaXNzdWVyID0gRSk7XG4gIH0sIHRoaXMuZG5hcnJheXRvc3RyID0gZnVuY3Rpb24obSkge1xuICAgIGZ1bmN0aW9uIEUoeCkge1xuICAgICAgcmV0dXJuIHgubWFwKGZ1bmN0aW9uKEYpIHtcbiAgICAgICAgcmV0dXJuIHcoRikucmVwbGFjZSgvXFwrLywgXCJcXFxcK1wiKTtcbiAgICAgIH0pLmpvaW4oXCIrXCIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB3KHgpIHtcbiAgICAgIHJldHVybiB4LnR5cGUgKyBcIj1cIiArIHgudmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBcIi9cIiArIG0ubWFwKGZ1bmN0aW9uKHgpIHtcbiAgICAgIHJldHVybiBFKHgpLnJlcGxhY2UoL1xcLy8sIFwiXFxcXC9cIik7XG4gICAgfSkuam9pbihcIi9cIik7XG4gIH0sIHRoaXMuc2V0Q2Fub25pY2FsaXplZEROID0gZnVuY3Rpb24obSkge1xuICAgIHZhciBFO1xuICAgIGlmIChtLnN0ciAhPSBudWxsICYmIG0uYXJyYXkgPT0gbnVsbCkge1xuICAgICAgdmFyIHcgPSBuZXcgYS5hc24xLng1MDkuWDUwME5hbWUoeyBzdHI6IG0uc3RyIH0pLCB4ID0gdy50b2hleCgpO1xuICAgICAgRSA9IHRoaXMuZ2V0WDUwME5hbWVBcnJheSh4KTtcbiAgICB9IGVsc2VcbiAgICAgIEUgPSBtLmFycmF5O1xuICAgIG0uY2Fub24gPT0gbnVsbCAmJiAobS5jYW5vbiA9IHRoaXMuYzE0blJETkFycmF5KEUpKTtcbiAgfSwgdGhpcy5jMTRuUkROQXJyYXkgPSBmdW5jdGlvbihtKSB7XG4gICAgZm9yICh2YXIgRSA9IFtdLCB3ID0gMDsgdyA8IG0ubGVuZ3RoOyB3KyspIHtcbiAgICAgIGZvciAodmFyIHggPSBtW3ddLCBGID0gW10sIFAgPSAwOyBQIDwgeC5sZW5ndGg7IFArKykge1xuICAgICAgICB2YXIgVCA9IHhbUF0sIEggPSBULnZhbHVlO1xuICAgICAgICBIID0gSC5yZXBsYWNlKC9eXFxzKi8sIFwiXCIpLCBIID0gSC5yZXBsYWNlKC9cXHMqJC8sIFwiXCIpLCBIID0gSC5yZXBsYWNlKC9cXHMrL2csIFwiIFwiKSwgSCA9IEgudG9Mb3dlckNhc2UoKSwgRi5wdXNoKFQudHlwZS50b0xvd2VyQ2FzZSgpICsgXCI9XCIgKyBIKTtcbiAgICAgIH1cbiAgICAgIEUucHVzaChGLmpvaW4oXCIrXCIpKTtcbiAgICB9XG4gICAgcmV0dXJuIFwiL1wiICsgRS5qb2luKFwiL1wiKTtcbiAgfSwgdGhpcy5nZXRJbmZvID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG0gPSBmdW5jdGlvbihjZSkge1xuICAgICAgZm9yICh2YXIgTSA9IFwiXCIsIEcgPSBcIiAgICBcIiwgUSA9IGBcbmAsIGVlID0gY2UuYXJyYXksIHBlID0gMDsgcGUgPCBlZS5sZW5ndGg7IHBlKyspIHtcbiAgICAgICAgdmFyIHRlID0gZWVbcGVdO1xuICAgICAgICBpZiAodGUuZG4gIT0gbnVsbCAmJiAoTSArPSBHICsgXCJkbjogXCIgKyB0ZS5kbi5zdHIgKyBRKSwgdGUuaXAgIT0gbnVsbCAmJiAoTSArPSBHICsgXCJpcDogXCIgKyB0ZS5pcCArIFEpLCB0ZS5yZmM4MjIgIT0gbnVsbCAmJiAoTSArPSBHICsgXCJyZmM4MjI6IFwiICsgdGUucmZjODIyICsgUSksIHRlLmRucyAhPSBudWxsICYmIChNICs9IEcgKyBcImRuczogXCIgKyB0ZS5kbnMgKyBRKSwgdGUudXJpICE9IG51bGwgJiYgKE0gKz0gRyArIFwidXJpOiBcIiArIHRlLnVyaSArIFEpLCB0ZS5vdGhlciAhPSBudWxsKSB7XG4gICAgICAgICAgdmFyIE1lID0gdGUub3RoZXIub2lkLCBOZSA9IEpTT04uc3RyaW5naWZ5KHRlLm90aGVyLnZhbHVlKS5yZXBsYWNlKC9cXFwiL2csIFwiXCIpO1xuICAgICAgICAgIE0gKz0gRyArIFwib3RoZXI6IFwiICsgTWUgKyBcIj1cIiArIE5lICsgUTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIE0gPSBNLnJlcGxhY2UoL1xcbiQvLCBcIlwiKSwgTTtcbiAgICB9LCBFID0gZnVuY3Rpb24oY2UpIHtcbiAgICAgIGZvciAodmFyIE0gPSBcIlwiLCBHID0gY2UuYXJyYXksIFEgPSAwOyBRIDwgRy5sZW5ndGg7IFErKykge1xuICAgICAgICB2YXIgZWUgPSBHW1FdO1xuICAgICAgICBpZiAoTSArPSBcIiAgICBwb2xpY3kgb2lkOiBcIiArIGVlLnBvbGljeW9pZCArIGBcbmAsIGVlLmFycmF5ICE9PSB2b2lkIDApXG4gICAgICAgICAgZm9yICh2YXIgcGUgPSAwOyBwZSA8IGVlLmFycmF5Lmxlbmd0aDsgcGUrKykge1xuICAgICAgICAgICAgdmFyIHRlID0gZWUuYXJyYXlbcGVdO1xuICAgICAgICAgICAgdGUuY3BzICE9PSB2b2lkIDAgJiYgKE0gKz0gXCIgICAgY3BzOiBcIiArIHRlLmNwcyArIGBcbmApO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBNO1xuICAgIH0sIHcgPSBmdW5jdGlvbihjZSkge1xuICAgICAgZm9yICh2YXIgTSA9IFwiXCIsIEcgPSBjZS5hcnJheSwgUSA9IDA7IFEgPCBHLmxlbmd0aDsgUSsrKSB7XG4gICAgICAgIHZhciBlZSA9IEdbUV07XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZWUuZHBuYW1lLmZ1bGxbMF0udXJpICE9PSB2b2lkIDAgJiYgKE0gKz0gXCIgICAgXCIgKyBlZS5kcG5hbWUuZnVsbFswXS51cmkgKyBgXG5gKTtcbiAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBlZS5kbmFtZS5mdWxsWzBdLmRuLmhleCAhPT0gdm9pZCAwICYmIChNICs9IFwiICAgIFwiICsgTC5oZXgyZG4oZWUuZHBuYW1lLmZ1bGxbMF0uZG4uaGV4KSArIGBcbmApO1xuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIE07XG4gICAgfSwgeCA9IGZ1bmN0aW9uKGNlKSB7XG4gICAgICBmb3IgKHZhciBNID0gXCJcIiwgRyA9IGNlLmFycmF5LCBRID0gMDsgUSA8IEcubGVuZ3RoOyBRKyspIHtcbiAgICAgICAgdmFyIGVlID0gR1tRXTtcbiAgICAgICAgZWUuY2Fpc3N1ZXIgIT09IHZvaWQgMCAmJiAoTSArPSBcIiAgICBjYWlzc3VlcjogXCIgKyBlZS5jYWlzc3VlciArIGBcbmApLCBlZS5vY3NwICE9PSB2b2lkIDAgJiYgKE0gKz0gXCIgICAgb2NzcDogXCIgKyBlZS5vY3NwICsgYFxuYCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gTTtcbiAgICB9LCBGLCBQLCBUO1xuICAgIGlmIChGID0gYEJhc2ljIEZpZWxkc1xuYCwgRiArPSBcIiAgc2VyaWFsIG51bWJlcjogXCIgKyB0aGlzLmdldFNlcmlhbE51bWJlckhleCgpICsgYFxuYCwgRiArPSBcIiAgc2lnbmF0dXJlIGFsZ29yaXRobTogXCIgKyB0aGlzLmdldFNpZ25hdHVyZUFsZ29yaXRobUZpZWxkKCkgKyBgXG5gLCBGICs9IFwiICBpc3N1ZXI6IFwiICsgdGhpcy5nZXRJc3N1ZXJTdHJpbmcoKSArIGBcbmAsIEYgKz0gXCIgIG5vdEJlZm9yZTogXCIgKyB0aGlzLmdldE5vdEJlZm9yZSgpICsgYFxuYCwgRiArPSBcIiAgbm90QWZ0ZXI6IFwiICsgdGhpcy5nZXROb3RBZnRlcigpICsgYFxuYCwgRiArPSBcIiAgc3ViamVjdDogXCIgKyB0aGlzLmdldFN1YmplY3RTdHJpbmcoKSArIGBcbmAsIEYgKz0gYCAgc3ViamVjdCBwdWJsaWMga2V5IGluZm86IFxuYCwgUCA9IHRoaXMuZ2V0UHVibGljS2V5KCksIEYgKz0gXCIgICAga2V5IGFsZ29yaXRobTogXCIgKyBQLnR5cGUgKyBgXG5gLCBQLnR5cGUgPT09IFwiUlNBXCIgJiYgKEYgKz0gXCIgICAgbj1cIiArIHh0KFAubi50b1N0cmluZygxNikpLnN1YnN0cigwLCAxNikgKyBgLi4uXG5gLCBGICs9IFwiICAgIGU9XCIgKyB4dChQLmUudG9TdHJpbmcoMTYpKSArIGBcbmApLCBUID0gdGhpcy5hRXh0SW5mbywgVCAhPSBudWxsKSB7XG4gICAgICBGICs9IGBYNTA5djMgRXh0ZW5zaW9uczpcbmA7XG4gICAgICBmb3IgKHZhciBIID0gMDsgSCA8IFQubGVuZ3RoOyBIKyspIHtcbiAgICAgICAgdmFyIEMgPSBUW0hdLCBCID0gYS5hc24xLng1MDkuT0lELm9pZDJuYW1lKEMub2lkKTtcbiAgICAgICAgQiA9PT0gXCJcIiAmJiAoQiA9IEMub2lkKTtcbiAgICAgICAgdmFyIE8gPSBcIlwiO1xuICAgICAgICBpZiAoQy5jcml0aWNhbCA9PT0gITAgJiYgKE8gPSBcIkNSSVRJQ0FMXCIpLCBGICs9IFwiICBcIiArIEIgKyBcIiBcIiArIE8gKyBgOlxuYCwgQiA9PT0gXCJiYXNpY0NvbnN0cmFpbnRzXCIpIHtcbiAgICAgICAgICB2YXIgaiA9IHRoaXMuZ2V0RXh0QmFzaWNDb25zdHJhaW50cygpO1xuICAgICAgICAgIGouY0EgPT09IHZvaWQgMCA/IEYgKz0gYCAgICB7fVxuYCA6IChGICs9IFwiICAgIGNBPXRydWVcIiwgai5wYXRoTGVuICE9PSB2b2lkIDAgJiYgKEYgKz0gXCIsIHBhdGhMZW49XCIgKyBqLnBhdGhMZW4pLCBGICs9IGBcbmApO1xuICAgICAgICB9IGVsc2UgaWYgKEIgPT0gXCJwb2xpY3lNYXBwaW5nc1wiKSB7XG4gICAgICAgICAgdmFyIGZlID0gdGhpcy5nZXRFeHRQb2xpY3lNYXBwaW5ncygpLmFycmF5LCBaID0gZmUubWFwKGZ1bmN0aW9uKGNlKSB7XG4gICAgICAgICAgICB2YXIgTSA9IGNlO1xuICAgICAgICAgICAgcmV0dXJuIE1bMF0gKyBcIjpcIiArIE1bMV07XG4gICAgICAgICAgfSkuam9pbihcIiwgXCIpO1xuICAgICAgICAgIEYgKz0gXCIgICAgXCIgKyBaICsgYFxuYDtcbiAgICAgICAgfSBlbHNlIGlmIChCID09IFwicG9saWN5Q29uc3RyYWludHNcIikge1xuICAgICAgICAgIHZhciBYID0gdGhpcy5nZXRFeHRQb2xpY3lDb25zdHJhaW50cygpO1xuICAgICAgICAgIEYgKz0gXCIgICAgXCIsIFgucmVxZXhwICE9IG51bGwgJiYgKEYgKz0gXCIgcmVxZXhwPVwiICsgWC5yZXFleHApLCBYLmluaGliaXQgIT0gbnVsbCAmJiAoRiArPSBcIiBpbmhpYml0PVwiICsgWC5pbmhpYml0KSwgRiArPSBgXG5gO1xuICAgICAgICB9IGVsc2UgaWYgKEIgPT0gXCJpbmhpYml0QW55UG9saWN5XCIpIHtcbiAgICAgICAgICB2YXIgWCA9IHRoaXMuZ2V0RXh0SW5oaWJpdEFueVBvbGljeSgpO1xuICAgICAgICAgIEYgKz0gXCIgICAgc2tpcD1cIiArIFguc2tpcCArIGBcbmA7XG4gICAgICAgIH0gZWxzZSBpZiAoQiA9PSBcImtleVVzYWdlXCIpXG4gICAgICAgICAgRiArPSBcIiAgICBcIiArIHRoaXMuZ2V0RXh0S2V5VXNhZ2VTdHJpbmcoKSArIGBcbmA7XG4gICAgICAgIGVsc2UgaWYgKEIgPT0gXCJzdWJqZWN0S2V5SWRlbnRpZmllclwiKVxuICAgICAgICAgIEYgKz0gXCIgICAgXCIgKyB0aGlzLmdldEV4dFN1YmplY3RLZXlJZGVudGlmaWVyKCkua2lkLmhleCArIGBcbmA7XG4gICAgICAgIGVsc2UgaWYgKEIgPT0gXCJhdXRob3JpdHlLZXlJZGVudGlmaWVyXCIpIHtcbiAgICAgICAgICB2YXIgcmUgPSB0aGlzLmdldEV4dEF1dGhvcml0eUtleUlkZW50aWZpZXIoKTtcbiAgICAgICAgICByZS5raWQgIT09IHZvaWQgMCAmJiAoRiArPSBcIiAgICBraWQ9XCIgKyByZS5raWQuaGV4ICsgYFxuYCk7XG4gICAgICAgIH0gZWxzZSBpZiAoQiA9PSBcImV4dEtleVVzYWdlXCIpIHtcbiAgICAgICAgICB2YXIgbmUgPSB0aGlzLmdldEV4dEV4dEtleVVzYWdlKCkuYXJyYXk7XG4gICAgICAgICAgRiArPSBcIiAgICBcIiArIG5lLmpvaW4oXCIsIFwiKSArIGBcbmA7XG4gICAgICAgIH0gZWxzZSBpZiAoQiA9PSBcInN1YmplY3RBbHROYW1lXCIpIHtcbiAgICAgICAgICB2YXIgaGUgPSBtKHRoaXMuZ2V0RXh0U3ViamVjdEFsdE5hbWUoKSk7XG4gICAgICAgICAgRiArPSBoZSArIGBcbmA7XG4gICAgICAgIH0gZWxzZSBpZiAoQiA9PSBcImNSTERpc3RyaWJ1dGlvblBvaW50c1wiKSB7XG4gICAgICAgICAgdmFyIHNlID0gdGhpcy5nZXRFeHRDUkxEaXN0cmlidXRpb25Qb2ludHMoKTtcbiAgICAgICAgICBGICs9IHcoc2UpO1xuICAgICAgICB9IGVsc2UgaWYgKEIgPT0gXCJhdXRob3JpdHlJbmZvQWNjZXNzXCIpIHtcbiAgICAgICAgICB2YXIga2UgPSB0aGlzLmdldEV4dEF1dGhvcml0eUluZm9BY2Nlc3MoKTtcbiAgICAgICAgICBGICs9IHgoa2UpO1xuICAgICAgICB9IGVsc2VcbiAgICAgICAgICBCID09IFwiY2VydGlmaWNhdGVQb2xpY2llc1wiICYmIChGICs9IEUodGhpcy5nZXRFeHRDZXJ0aWZpY2F0ZVBvbGljaWVzKCkpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIEYgKz0gXCJzaWduYXR1cmUgYWxnb3JpdGhtOiBcIiArIHRoaXMuZ2V0U2lnbmF0dXJlQWxnb3JpdGhtTmFtZSgpICsgYFxuYCwgRiArPSBcInNpZ25hdHVyZTogXCIgKyB0aGlzLmdldFNpZ25hdHVyZVZhbHVlSGV4KCkuc3Vic3RyKDAsIDE2KSArIGAuLi5cbmAsIEY7XG4gIH0sIHR5cGVvZiBlID09IFwic3RyaW5nXCIgJiYgKGUuaW5kZXhPZihcIi0tLS0tQkVHSU5cIikgIT0gLTEgPyB0aGlzLnJlYWRDZXJ0UEVNKGUpIDogYS5sYW5nLlN0cmluZy5pc0hleChlKSAmJiB0aGlzLnJlYWRDZXJ0SGV4KGUpKTtcbn1cbkwuRVhUX1BBUlNFUiA9IHt9O1xuTC5yZWdpc3RFeHRQYXJzZXIgPSBmdW5jdGlvbihlLCB0KSB7XG4gIEwuRVhUX1BBUlNFUltlXSA9IHQ7XG59O1xuTC5oZXgyZG4gPSBmdW5jdGlvbihlLCB0KSB7XG4gIHQgPT09IHZvaWQgMCAmJiAodCA9IDApO1xuICB2YXIgciA9IG5ldyBMKCk7XG4gIFYuZ2V0VExWKGUsIHQpO1xuICB2YXIgaSA9IHIuZ2V0WDUwME5hbWUoZSk7XG4gIHJldHVybiBpLnN0cjtcbn07XG5MLmhleDJyZG4gPSBmdW5jdGlvbihlLCB0KSB7XG4gIGlmICh0ID09PSB2b2lkIDAgJiYgKHQgPSAwKSwgZS5zdWJzdHIodCwgMikgIT09IFwiMzFcIilcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJtYWxmb3JtZWQgUkROXCIpO1xuICBmb3IgKHZhciByID0gbmV3IEFycmF5KCksIGkgPSBWLmdldENoaWxkSWR4KGUsIHQpLCBzID0gMDsgcyA8IGkubGVuZ3RoOyBzKyspXG4gICAgci5wdXNoKEwuaGV4MmF0dHJUeXBlVmFsdWUoZSwgaVtzXSkpO1xuICByZXR1cm4gciA9IHIubWFwKGZ1bmN0aW9uKG4pIHtcbiAgICByZXR1cm4gbi5yZXBsYWNlKFwiK1wiLCBcIlxcXFwrXCIpO1xuICB9KSwgci5qb2luKFwiK1wiKTtcbn07XG5MLmhleDJhdHRyVHlwZVZhbHVlID0gZnVuY3Rpb24oZSwgdCkge1xuICB2YXIgciA9IFYsIGkgPSByLmdldFY7XG4gIGlmICh0ID09PSB2b2lkIDAgJiYgKHQgPSAwKSwgZS5zdWJzdHIodCwgMikgIT09IFwiMzBcIilcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJtYWxmb3JtZWQgYXR0cmlidXRlIHR5cGUgYW5kIHZhbHVlXCIpO1xuICB2YXIgcyA9IHIuZ2V0Q2hpbGRJZHgoZSwgdCk7XG4gIHMubGVuZ3RoICE9PSAyIHx8IGUuc3Vic3RyKHNbMF0sIDIpO1xuICB2YXIgbiA9IGkoZSwgc1swXSksIGggPSBhLmFzbjEuQVNOMVV0aWwub2lkSGV4VG9JbnQobiksIHUgPSBhLmFzbjEueDUwOS5PSUQub2lkMmF0eXBlKGgpLCBwID0gaShlLCBzWzFdKSwgYyA9IEFlKHApO1xuICByZXR1cm4gdSArIFwiPVwiICsgYztcbn07XG5MLmdldFB1YmxpY0tleUZyb21DZXJ0SGV4ID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IG5ldyBMKCk7XG4gIHJldHVybiB0LnJlYWRDZXJ0SGV4KGUpLCB0LmdldFB1YmxpY0tleSgpO1xufTtcbkwuZ2V0UHVibGljS2V5RnJvbUNlcnRQRU0gPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gbmV3IEwoKTtcbiAgcmV0dXJuIHQucmVhZENlcnRQRU0oZSksIHQuZ2V0UHVibGljS2V5KCk7XG59O1xuTC5nZXRQdWJsaWNLZXlJbmZvUHJvcE9mQ2VydFBFTSA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBWLCByID0gdC5nZXRWYnlMaXN0LCBpID0ge30sIHMsIG47XG4gIHJldHVybiBpLmFsZ3BhcmFtID0gbnVsbCwgcyA9IG5ldyBMKCksIHMucmVhZENlcnRQRU0oZSksIG4gPSBzLmdldFB1YmxpY0tleUhleCgpLCBpLmtleWhleCA9IHIobiwgMCwgWzFdLCBcIjAzXCIpLnN1YnN0cigyKSwgaS5hbGdvaWQgPSByKG4sIDAsIFswLCAwXSwgXCIwNlwiKSwgaS5hbGdvaWQgPT09IFwiMmE4NjQ4Y2UzZDAyMDFcIiAmJiAoaS5hbGdwYXJhbSA9IHIobiwgMCwgWzAsIDFdLCBcIjA2XCIpKSwgaTtcbn07XG5MLktFWVVTQUdFX05BTUUgPSBbXCJkaWdpdGFsU2lnbmF0dXJlXCIsIFwibm9uUmVwdWRpYXRpb25cIiwgXCJrZXlFbmNpcGhlcm1lbnRcIiwgXCJkYXRhRW5jaXBoZXJtZW50XCIsIFwia2V5QWdyZWVtZW50XCIsIFwia2V5Q2VydFNpZ25cIiwgXCJjUkxTaWduXCIsIFwiZW5jaXBoZXJPbmx5XCIsIFwiZGVjaXBoZXJPbmx5XCJdO1xuKHR5cGVvZiBhID4gXCJ1XCIgfHwgIWEpICYmIChhID0ge30pO1xuKHR5cGVvZiBhLmp3cyA+IFwidVwiIHx8ICFhLmp3cykgJiYgKGEuandzID0ge30pO1xuYS5qd3MuSldTID0gZnVuY3Rpb24oKSB7XG4gIHZhciBlID0gYSwgdCA9IGUuandzLkpXUywgciA9IHQuaXNTYWZlSlNPTlN0cmluZztcbiAgdGhpcy5wYXJzZUpXUyA9IGZ1bmN0aW9uKGksIHMpIHtcbiAgICBpZiAoISh0aGlzLnBhcnNlZEpXUyAhPT0gdm9pZCAwICYmIChzIHx8IHRoaXMucGFyc2VkSldTLnNpZ3ZhbEggIT09IHZvaWQgMCkpKSB7XG4gICAgICB2YXIgbiA9IGkubWF0Y2goL14oW14uXSspXFwuKFteLl0rKVxcLihbXi5dKykkLyk7XG4gICAgICBpZiAobiA9PSBudWxsKVxuICAgICAgICB0aHJvdyBcIkpXUyBzaWduYXR1cmUgaXMgbm90IGEgZm9ybSBvZiAnSGVhZC5QYXlsb2FkLlNpZ1ZhbHVlJy5cIjtcbiAgICAgIHZhciBoID0gblsxXSwgdSA9IG5bMl0sIHAgPSBuWzNdLCBjID0gaCArIFwiLlwiICsgdTtcbiAgICAgIGlmICh0aGlzLnBhcnNlZEpXUyA9IHt9LCB0aGlzLnBhcnNlZEpXUy5oZWFkQjY0VSA9IGgsIHRoaXMucGFyc2VkSldTLnBheWxvYWRCNjRVID0gdSwgdGhpcy5wYXJzZWRKV1Muc2lndmFsQjY0VSA9IHAsIHRoaXMucGFyc2VkSldTLnNpID0gYywgIXMpIHtcbiAgICAgICAgdmFyIHkgPSBZKHApLCB2ID0gdmUoeSwgMTYpO1xuICAgICAgICB0aGlzLnBhcnNlZEpXUy5zaWd2YWxIID0geSwgdGhpcy5wYXJzZWRKV1Muc2lndmFsQkkgPSB2O1xuICAgICAgfVxuICAgICAgdmFyIG8gPSB3ZShoKSwgbCA9IHdlKHUpO1xuICAgICAgaWYgKHRoaXMucGFyc2VkSldTLmhlYWRTID0gbywgdGhpcy5wYXJzZWRKV1MucGF5bG9hZFMgPSBsLCAhcihvLCB0aGlzLnBhcnNlZEpXUywgXCJoZWFkUFwiKSlcbiAgICAgICAgdGhyb3cgXCJtYWxmb3JtZWQgSlNPTiBzdHJpbmcgZm9yIEpXUyBIZWFkOiBcIiArIG87XG4gICAgfVxuICB9O1xufTtcbmEuandzLkpXUy5zaWduID0gZnVuY3Rpb24oZSwgdCwgciwgaSwgcykge1xuICB2YXIgbiA9IGEsIGggPSBuLmp3cywgdSA9IGguSldTLCBwID0gdS5yZWFkU2FmZUpTT05TdHJpbmcsIGMgPSB1LmlzU2FmZUpTT05TdHJpbmcsIHkgPSBuLmNyeXB0bztcbiAgeS5FQ0RTQTtcbiAgdmFyIHYgPSB5Lk1hYywgbyA9IHkuU2lnbmF0dXJlLCBsID0gSlNPTiwgZiwgZCwgZztcbiAgaWYgKHR5cGVvZiB0ICE9IFwic3RyaW5nXCIgJiYgdHlwZW9mIHQgIT0gXCJvYmplY3RcIilcbiAgICB0aHJvdyBcInNwSGVhZGVyIG11c3QgYmUgSlNPTiBzdHJpbmcgb3Igb2JqZWN0OiBcIiArIHQ7XG4gIGlmICh0eXBlb2YgdCA9PSBcIm9iamVjdFwiICYmIChkID0gdCwgZiA9IGwuc3RyaW5naWZ5KGQpKSwgdHlwZW9mIHQgPT0gXCJzdHJpbmdcIikge1xuICAgIGlmIChmID0gdCwgIWMoZikpXG4gICAgICB0aHJvdyBcIkpXUyBIZWFkIGlzIG5vdCBzYWZlIEpTT04gc3RyaW5nOiBcIiArIGY7XG4gICAgZCA9IHAoZik7XG4gIH1cbiAgaWYgKGcgPSByLCB0eXBlb2YgciA9PSBcIm9iamVjdFwiICYmIChnID0gbC5zdHJpbmdpZnkocikpLCAoZSA9PSBcIlwiIHx8IGUgPT0gbnVsbCkgJiYgZC5hbGcgIT09IHZvaWQgMCAmJiAoZSA9IGQuYWxnKSwgZSAhPSBcIlwiICYmIGUgIT0gbnVsbCAmJiBkLmFsZyA9PT0gdm9pZCAwICYmIChkLmFsZyA9IGUsIGYgPSBsLnN0cmluZ2lmeShkKSksIGUgIT09IGQuYWxnKVxuICAgIHRocm93IFwiYWxnIGFuZCBzSGVhZGVyLmFsZyBkb2Vzbid0IG1hdGNoOiBcIiArIGUgKyBcIiE9XCIgKyBkLmFsZztcbiAgdmFyIFMgPSBudWxsO1xuICBpZiAodS5qd3NhbGcyc2lnYWxnW2VdID09PSB2b2lkIDApXG4gICAgdGhyb3cgXCJ1bnN1cHBvcnRlZCBhbGcgbmFtZTogXCIgKyBlO1xuICBTID0gdS5qd3NhbGcyc2lnYWxnW2VdO1xuICB2YXIgYiA9IEplKGYpLCBEID0gSmUoZyksIEEgPSBiICsgXCIuXCIgKyBELCBJID0gXCJcIjtcbiAgaWYgKFMuc3Vic3RyKDAsIDQpID09IFwiSG1hY1wiKSB7XG4gICAgaWYgKGkgPT09IHZvaWQgMClcbiAgICAgIHRocm93IFwibWFjIGtleSBzaGFsbCBiZSBzcGVjaWZpZWQgZm9yIEhTKiBhbGdcIjtcbiAgICB2YXIgbSA9IG5ldyB2KHsgYWxnOiBTLCBwcm92OiBcImNyeXB0b2pzXCIsIHBhc3M6IGkgfSk7XG4gICAgbS51cGRhdGVTdHJpbmcoQSksIEkgPSBtLmRvRmluYWwoKTtcbiAgfSBlbHNlIGlmIChTLmluZGV4T2YoXCJ3aXRoRUNEU0FcIikgIT0gLTEpIHtcbiAgICB2YXIgRSA9IG5ldyBvKHsgYWxnOiBTIH0pO1xuICAgIEUuaW5pdChpLCBzKSwgRS51cGRhdGVTdHJpbmcoQSk7XG4gICAgdmFyIHcgPSBFLnNpZ24oKTtcbiAgICBJID0gYS5jcnlwdG8uRUNEU0EuYXNuMVNpZ1RvQ29uY2F0U2lnKHcpO1xuICB9IGVsc2UgaWYgKFMgIT0gXCJub25lXCIpIHtcbiAgICB2YXIgRSA9IG5ldyBvKHsgYWxnOiBTIH0pO1xuICAgIEUuaW5pdChpLCBzKSwgRS51cGRhdGVTdHJpbmcoQSksIEkgPSBFLnNpZ24oKTtcbiAgfVxuICB2YXIgeCA9IGFlKEkpO1xuICByZXR1cm4gQSArIFwiLlwiICsgeDtcbn07XG5hLmp3cy5KV1MudmVyaWZ5ID0gZnVuY3Rpb24oZSwgdCwgcikge1xuICB2YXIgaSA9IGEsIHMgPSBpLmp3cywgbiA9IHMuSldTLCBoID0gbi5yZWFkU2FmZUpTT05TdHJpbmcsIHUgPSBpLmNyeXB0bywgcCA9IHUuRUNEU0EsIGMgPSB1Lk1hYywgeSA9IHUuU2lnbmF0dXJlLCB2O1xuICBpZiAodHlwZW9mIHEgIT09IHZvaWQgMCAmJiAodiA9IHEpLCAhSHQoZSkpXG4gICAgcmV0dXJuICExO1xuICB2YXIgbyA9IGUuc3BsaXQoXCIuXCIpO1xuICBpZiAoby5sZW5ndGggIT09IDMpXG4gICAgcmV0dXJuICExO1xuICB2YXIgbCA9IG9bMF0sIGYgPSBvWzFdLCBkID0gbCArIFwiLlwiICsgZiwgZyA9IFkob1syXSksIFMgPSBoKHdlKG9bMF0pKSwgYiA9IG51bGwsIEQgPSBudWxsO1xuICBpZiAoUy5hbGcgPT09IHZvaWQgMClcbiAgICB0aHJvdyBcImFsZ29yaXRobSBub3Qgc3BlY2lmaWVkIGluIGhlYWRlclwiO1xuICBpZiAoYiA9IFMuYWxnLCBEID0gYi5zdWJzdHIoMCwgMiksIHIgIT0gbnVsbCAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocikgPT09IFwiW29iamVjdCBBcnJheV1cIiAmJiByLmxlbmd0aCA+IDApIHtcbiAgICB2YXIgQSA9IFwiOlwiICsgci5qb2luKFwiOlwiKSArIFwiOlwiO1xuICAgIGlmIChBLmluZGV4T2YoXCI6XCIgKyBiICsgXCI6XCIpID09IC0xKVxuICAgICAgdGhyb3cgXCJhbGdvcml0aG0gJ1wiICsgYiArIFwiJyBub3QgYWNjZXB0ZWQgaW4gdGhlIGxpc3RcIjtcbiAgfVxuICBpZiAoYiAhPSBcIm5vbmVcIiAmJiB0ID09PSBudWxsKVxuICAgIHRocm93IFwia2V5IHNoYWxsIGJlIHNwZWNpZmllZCB0byB2ZXJpZnkuXCI7XG4gIGlmICh0eXBlb2YgdCA9PSBcInN0cmluZ1wiICYmIHQuaW5kZXhPZihcIi0tLS0tQkVHSU4gXCIpICE9IC0xICYmICh0ID0gay5nZXRLZXkodCkpLCAoRCA9PSBcIlJTXCIgfHwgRCA9PSBcIlBTXCIpICYmICEodCBpbnN0YW5jZW9mIHYpKVxuICAgIHRocm93IFwia2V5IHNoYWxsIGJlIGEgUlNBS2V5IG9iaiBmb3IgUlMqIGFuZCBQUyogYWxnc1wiO1xuICBpZiAoRCA9PSBcIkVTXCIgJiYgISh0IGluc3RhbmNlb2YgcCkpXG4gICAgdGhyb3cgXCJrZXkgc2hhbGwgYmUgYSBFQ0RTQSBvYmogZm9yIEVTKiBhbGdzXCI7XG4gIHZhciBJID0gbnVsbDtcbiAgaWYgKG4uandzYWxnMnNpZ2FsZ1tTLmFsZ10gPT09IHZvaWQgMClcbiAgICB0aHJvdyBcInVuc3VwcG9ydGVkIGFsZyBuYW1lOiBcIiArIGI7XG4gIGlmIChJID0gbi5qd3NhbGcyc2lnYWxnW2JdLCBJID09IFwibm9uZVwiKVxuICAgIHRocm93IFwibm90IHN1cHBvcnRlZFwiO1xuICBpZiAoSS5zdWJzdHIoMCwgNCkgPT0gXCJIbWFjXCIpIHtcbiAgICB2YXIgbSA9IG51bGw7XG4gICAgaWYgKHQgPT09IHZvaWQgMClcbiAgICAgIHRocm93IFwiaGV4YWRlY2ltYWwga2V5IHNoYWxsIGJlIHNwZWNpZmllZCBmb3IgSE1BQ1wiO1xuICAgIHZhciBFID0gbmV3IGMoeyBhbGc6IEksIHBhc3M6IHQgfSk7XG4gICAgcmV0dXJuIEUudXBkYXRlU3RyaW5nKGQpLCBtID0gRS5kb0ZpbmFsKCksIGcgPT0gbTtcbiAgfSBlbHNlIGlmIChJLmluZGV4T2YoXCJ3aXRoRUNEU0FcIikgIT0gLTEpIHtcbiAgICB2YXIgdyA9IG51bGw7XG4gICAgdHJ5IHtcbiAgICAgIHcgPSBwLmNvbmNhdFNpZ1RvQVNOMVNpZyhnKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gICAgdmFyIHggPSBuZXcgeSh7IGFsZzogSSB9KTtcbiAgICByZXR1cm4geC5pbml0KHQpLCB4LnVwZGF0ZVN0cmluZyhkKSwgeC52ZXJpZnkodyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHggPSBuZXcgeSh7IGFsZzogSSB9KTtcbiAgICByZXR1cm4geC5pbml0KHQpLCB4LnVwZGF0ZVN0cmluZyhkKSwgeC52ZXJpZnkoZyk7XG4gIH1cbn07XG5hLmp3cy5KV1MucGFyc2UgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gZS5zcGxpdChcIi5cIiksIHIgPSB7fSwgaSwgcywgbjtcbiAgaWYgKHQubGVuZ3RoICE9IDIgJiYgdC5sZW5ndGggIT0gMylcbiAgICB0aHJvdyBcIm1hbGZvcm1lZCBzSldTOiB3cm9uZyBudW1iZXIgb2YgJy4nIHNwbGl0dGVkIGVsZW1lbnRzXCI7XG4gIHJldHVybiBpID0gdFswXSwgcyA9IHRbMV0sIHQubGVuZ3RoID09IDMgJiYgKG4gPSB0WzJdKSwgci5oZWFkZXJPYmogPSBhLmp3cy5KV1MucmVhZFNhZmVKU09OU3RyaW5nKHdlKGkpKSwgci5wYXlsb2FkT2JqID0gYS5qd3MuSldTLnJlYWRTYWZlSlNPTlN0cmluZyh3ZShzKSksIHIuaGVhZGVyUFAgPSBKU09OLnN0cmluZ2lmeShyLmhlYWRlck9iaiwgbnVsbCwgXCIgIFwiKSwgci5wYXlsb2FkT2JqID09IG51bGwgPyByLnBheWxvYWRQUCA9IHdlKHMpIDogci5wYXlsb2FkUFAgPSBKU09OLnN0cmluZ2lmeShyLnBheWxvYWRPYmosIG51bGwsIFwiICBcIiksIG4gIT09IHZvaWQgMCAmJiAoci5zaWdIZXggPSBZKG4pKSwgcjtcbn07XG5hLmp3cy5KV1MudmVyaWZ5SldUID0gZnVuY3Rpb24oZSwgdCwgcikge1xuICB2YXIgaSA9IGEsIHMgPSBpLmp3cywgbiA9IHMuSldTLCBoID0gbi5yZWFkU2FmZUpTT05TdHJpbmcsIHUgPSBuLmluQXJyYXksIHAgPSBuLmluY2x1ZGVkQXJyYXk7XG4gIGlmICghSHQoZSkpXG4gICAgcmV0dXJuICExO1xuICB2YXIgYyA9IGUuc3BsaXQoXCIuXCIpO1xuICBpZiAoYy5sZW5ndGggIT0gMylcbiAgICByZXR1cm4gITE7XG4gIHZhciB5ID0gY1swXSwgdiA9IGNbMV07XG4gIFkoY1syXSk7XG4gIHZhciBvID0gaCh3ZSh5KSksIGwgPSBoKHdlKHYpKTtcbiAgaWYgKG8uYWxnID09PSB2b2lkIDApXG4gICAgcmV0dXJuICExO1xuICBpZiAoci5hbGcgPT09IHZvaWQgMClcbiAgICB0aHJvdyBcImFjY2VwdEZpZWxkLmFsZyBzaGFsbCBiZSBzcGVjaWZpZWRcIjtcbiAgaWYgKCF1KG8uYWxnLCByLmFsZykgfHwgbC5pc3MgIT09IHZvaWQgMCAmJiB0eXBlb2Ygci5pc3MgPT0gXCJvYmplY3RcIiAmJiAhdShsLmlzcywgci5pc3MpIHx8IGwuc3ViICE9PSB2b2lkIDAgJiYgdHlwZW9mIHIuc3ViID09IFwib2JqZWN0XCIgJiYgIXUobC5zdWIsIHIuc3ViKSlcbiAgICByZXR1cm4gITE7XG4gIGlmIChsLmF1ZCAhPT0gdm9pZCAwICYmIHR5cGVvZiByLmF1ZCA9PSBcIm9iamVjdFwiKSB7XG4gICAgaWYgKHR5cGVvZiBsLmF1ZCA9PSBcInN0cmluZ1wiKSB7XG4gICAgICBpZiAoIXUobC5hdWQsIHIuYXVkKSlcbiAgICAgICAgcmV0dXJuICExO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGwuYXVkID09IFwib2JqZWN0XCIgJiYgIXAobC5hdWQsIHIuYXVkKSlcbiAgICAgIHJldHVybiAhMTtcbiAgfVxuICB2YXIgZiA9IHMuSW50RGF0ZS5nZXROb3coKTtcbiAgcmV0dXJuIHIudmVyaWZ5QXQgIT09IHZvaWQgMCAmJiB0eXBlb2Ygci52ZXJpZnlBdCA9PSBcIm51bWJlclwiICYmIChmID0gci52ZXJpZnlBdCksIChyLmdyYWNlUGVyaW9kID09PSB2b2lkIDAgfHwgdHlwZW9mIHIuZ3JhY2VQZXJpb2QgIT0gXCJudW1iZXJcIikgJiYgKHIuZ3JhY2VQZXJpb2QgPSAwKSwgIShsLmV4cCAhPT0gdm9pZCAwICYmIHR5cGVvZiBsLmV4cCA9PSBcIm51bWJlclwiICYmIGwuZXhwICsgci5ncmFjZVBlcmlvZCA8IGYgfHwgbC5uYmYgIT09IHZvaWQgMCAmJiB0eXBlb2YgbC5uYmYgPT0gXCJudW1iZXJcIiAmJiBmIDwgbC5uYmYgLSByLmdyYWNlUGVyaW9kIHx8IGwuaWF0ICE9PSB2b2lkIDAgJiYgdHlwZW9mIGwuaWF0ID09IFwibnVtYmVyXCIgJiYgZiA8IGwuaWF0IC0gci5ncmFjZVBlcmlvZCB8fCBsLmp0aSAhPT0gdm9pZCAwICYmIHIuanRpICE9PSB2b2lkIDAgJiYgbC5qdGkgIT09IHIuanRpIHx8ICFuLnZlcmlmeShlLCB0LCByLmFsZykpO1xufTtcbmEuandzLkpXUy5pbmNsdWRlZEFycmF5ID0gZnVuY3Rpb24oZSwgdCkge1xuICB2YXIgciA9IGEuandzLkpXUy5pbkFycmF5O1xuICBpZiAoZSA9PT0gbnVsbCB8fCB0eXBlb2YgZSAhPSBcIm9iamVjdFwiIHx8IHR5cGVvZiBlLmxlbmd0aCAhPSBcIm51bWJlclwiKVxuICAgIHJldHVybiAhMTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBlLmxlbmd0aDsgaSsrKVxuICAgIGlmICghcihlW2ldLCB0KSlcbiAgICAgIHJldHVybiAhMTtcbiAgcmV0dXJuICEwO1xufTtcbmEuandzLkpXUy5pbkFycmF5ID0gZnVuY3Rpb24oZSwgdCkge1xuICBpZiAodCA9PT0gbnVsbCB8fCB0eXBlb2YgdCAhPSBcIm9iamVjdFwiIHx8IHR5cGVvZiB0Lmxlbmd0aCAhPSBcIm51bWJlclwiKVxuICAgIHJldHVybiAhMTtcbiAgZm9yICh2YXIgciA9IDA7IHIgPCB0Lmxlbmd0aDsgcisrKVxuICAgIGlmICh0W3JdID09IGUpXG4gICAgICByZXR1cm4gITA7XG4gIHJldHVybiAhMTtcbn07XG5hLmp3cy5KV1MuandzYWxnMnNpZ2FsZyA9IHsgSFMyNTY6IFwiSG1hY1NIQTI1NlwiLCBIUzM4NDogXCJIbWFjU0hBMzg0XCIsIEhTNTEyOiBcIkhtYWNTSEE1MTJcIiwgUlMyNTY6IFwiU0hBMjU2d2l0aFJTQVwiLCBSUzM4NDogXCJTSEEzODR3aXRoUlNBXCIsIFJTNTEyOiBcIlNIQTUxMndpdGhSU0FcIiwgRVMyNTY6IFwiU0hBMjU2d2l0aEVDRFNBXCIsIEVTMzg0OiBcIlNIQTM4NHdpdGhFQ0RTQVwiLCBFUzUxMjogXCJTSEE1MTJ3aXRoRUNEU0FcIiwgUFMyNTY6IFwiU0hBMjU2d2l0aFJTQWFuZE1HRjFcIiwgUFMzODQ6IFwiU0hBMzg0d2l0aFJTQWFuZE1HRjFcIiwgUFM1MTI6IFwiU0hBNTEyd2l0aFJTQWFuZE1HRjFcIiwgbm9uZTogXCJub25lXCIgfTtcbmEuandzLkpXUy5pc1NhZmVKU09OU3RyaW5nID0gZnVuY3Rpb24oZSwgdCwgcikge1xuICB2YXIgaSA9IG51bGw7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGkgPSBQdChlKSwgdHlwZW9mIGkgIT0gXCJvYmplY3RcIiB8fCBpLmNvbnN0cnVjdG9yID09PSBBcnJheSA/IDAgOiAodCAmJiAodFtyXSA9IGkpLCAxKTtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbn07XG5hLmp3cy5KV1MucmVhZFNhZmVKU09OU3RyaW5nID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IG51bGw7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHQgPSBQdChlKSwgdHlwZW9mIHQgIT0gXCJvYmplY3RcIiB8fCB0LmNvbnN0cnVjdG9yID09PSBBcnJheSA/IG51bGwgOiB0O1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcbmEuandzLkpXUy5nZXRFbmNvZGVkU2lnbmF0dXJlVmFsdWVGcm9tSldTID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IGUubWF0Y2goL15bXi5dK1xcLlteLl0rXFwuKFteLl0rKSQvKTtcbiAgaWYgKHQgPT0gbnVsbClcbiAgICB0aHJvdyBcIkpXUyBzaWduYXR1cmUgaXMgbm90IGEgZm9ybSBvZiAnSGVhZC5QYXlsb2FkLlNpZ1ZhbHVlJy5cIjtcbiAgcmV0dXJuIHRbMV07XG59O1xuYS5qd3MuSldTLmdldEpXS3RodW1icHJpbnQgPSBmdW5jdGlvbihlKSB7XG4gIGlmIChlLmt0eSAhPT0gXCJSU0FcIiAmJiBlLmt0eSAhPT0gXCJFQ1wiICYmIGUua3R5ICE9PSBcIm9jdFwiKVxuICAgIHRocm93IFwidW5zdXBwb3J0ZWQgYWxnb3JpdGhtIGZvciBKV0sgVGh1bXByaW50XCI7XG4gIHZhciB0ID0gXCJ7XCI7XG4gIGlmIChlLmt0eSA9PT0gXCJSU0FcIikge1xuICAgIGlmICh0eXBlb2YgZS5uICE9IFwic3RyaW5nXCIgfHwgdHlwZW9mIGUuZSAhPSBcInN0cmluZ1wiKVxuICAgICAgdGhyb3cgXCJ3cm9uZyBuIGFuZCBlIHZhbHVlIGZvciBSU0Ega2V5XCI7XG4gICAgdCArPSAnXCJlXCI6XCInICsgZS5lICsgJ1wiLCcsIHQgKz0gJ1wia3R5XCI6XCInICsgZS5rdHkgKyAnXCIsJywgdCArPSAnXCJuXCI6XCInICsgZS5uICsgJ1wifSc7XG4gIH0gZWxzZSBpZiAoZS5rdHkgPT09IFwiRUNcIikge1xuICAgIGlmICh0eXBlb2YgZS5jcnYgIT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgZS54ICE9IFwic3RyaW5nXCIgfHwgdHlwZW9mIGUueSAhPSBcInN0cmluZ1wiKVxuICAgICAgdGhyb3cgXCJ3cm9uZyBjcnYsIHggYW5kIHkgdmFsdWUgZm9yIEVDIGtleVwiO1xuICAgIHQgKz0gJ1wiY3J2XCI6XCInICsgZS5jcnYgKyAnXCIsJywgdCArPSAnXCJrdHlcIjpcIicgKyBlLmt0eSArICdcIiwnLCB0ICs9ICdcInhcIjpcIicgKyBlLnggKyAnXCIsJywgdCArPSAnXCJ5XCI6XCInICsgZS55ICsgJ1wifSc7XG4gIH0gZWxzZSBpZiAoZS5rdHkgPT09IFwib2N0XCIpIHtcbiAgICBpZiAodHlwZW9mIGUuayAhPSBcInN0cmluZ1wiKVxuICAgICAgdGhyb3cgXCJ3cm9uZyBrIHZhbHVlIGZvciBvY3Qoc3ltbWV0cmljKSBrZXlcIjtcbiAgICB0ICs9ICdcImt0eVwiOlwiJyArIGUua3R5ICsgJ1wiLCcsIHQgKz0gJ1wia1wiOlwiJyArIGUuayArICdcIn0nO1xuICB9XG4gIHZhciByID0gUGUodCksIGkgPSBhLmNyeXB0by5VdGlsLmhhc2hIZXgociwgXCJzaGEyNTZcIiksIHMgPSBhZShpKTtcbiAgcmV0dXJuIHM7XG59O1xuYS5qd3MuSW50RGF0ZSA9IHt9O1xuYS5qd3MuSW50RGF0ZS5nZXQgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gYS5qd3MuSW50RGF0ZSwgciA9IHQuZ2V0Tm93LCBpID0gdC5nZXRadWx1O1xuICBpZiAoZSA9PSBcIm5vd1wiKVxuICAgIHJldHVybiByKCk7XG4gIGlmIChlID09IFwibm93ICsgMWhvdXJcIilcbiAgICByZXR1cm4gcigpICsgNjAgKiA2MDtcbiAgaWYgKGUgPT0gXCJub3cgKyAxZGF5XCIpXG4gICAgcmV0dXJuIHIoKSArIDYwICogNjAgKiAyNDtcbiAgaWYgKGUgPT0gXCJub3cgKyAxbW9udGhcIilcbiAgICByZXR1cm4gcigpICsgNjAgKiA2MCAqIDI0ICogMzA7XG4gIGlmIChlID09IFwibm93ICsgMXllYXJcIilcbiAgICByZXR1cm4gcigpICsgNjAgKiA2MCAqIDI0ICogMzY1O1xuICBpZiAoZS5tYXRjaCgvWiQvKSlcbiAgICByZXR1cm4gaShlKTtcbiAgaWYgKGUubWF0Y2goL15bMC05XSskLykpXG4gICAgcmV0dXJuIHBhcnNlSW50KGUpO1xuICB0aHJvdyBcInVuc3VwcG9ydGVkIGZvcm1hdDogXCIgKyBlO1xufTtcbmEuandzLkludERhdGUuZ2V0WnVsdSA9IGZ1bmN0aW9uKGUpIHtcbiAgcmV0dXJuIGduKGUpO1xufTtcbmEuandzLkludERhdGUuZ2V0Tm93ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBlID0gfn4oLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCkgLyAxZTMpO1xuICByZXR1cm4gZTtcbn07XG5hLmp3cy5JbnREYXRlLmludERhdGUyVVRDU3RyaW5nID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IG5ldyBEYXRlKGUgKiAxZTMpO1xuICByZXR1cm4gdC50b1VUQ1N0cmluZygpO1xufTtcbmEuandzLkludERhdGUuaW50RGF0ZTJadWx1ID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IG5ldyBEYXRlKGUgKiAxZTMpLCByID0gKFwiMDAwMFwiICsgdC5nZXRVVENGdWxsWWVhcigpKS5zbGljZSgtNCksIGkgPSAoXCIwMFwiICsgKHQuZ2V0VVRDTW9udGgoKSArIDEpKS5zbGljZSgtMiksIHMgPSAoXCIwMFwiICsgdC5nZXRVVENEYXRlKCkpLnNsaWNlKC0yKSwgbiA9IChcIjAwXCIgKyB0LmdldFVUQ0hvdXJzKCkpLnNsaWNlKC0yKSwgaCA9IChcIjAwXCIgKyB0LmdldFVUQ01pbnV0ZXMoKSkuc2xpY2UoLTIpLCB1ID0gKFwiMDBcIiArIHQuZ2V0VVRDU2Vjb25kcygpKS5zbGljZSgtMik7XG4gIHJldHVybiByICsgaSArIHMgKyBuICsgaCArIHUgKyBcIlpcIjtcbn07XG4odHlwZW9mIGEgPiBcInVcIiB8fCAhYSkgJiYgKGEgPSB7fSk7XG4odHlwZW9mIGEuandzID4gXCJ1XCIgfHwgIWEuandzKSAmJiAoYS5qd3MgPSB7fSk7XG5hLmp3cy5KV1NKUyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgZSA9IGEsIHQgPSBlLmp3cywgciA9IHQuSldTLCBpID0gci5yZWFkU2FmZUpTT05TdHJpbmc7XG4gIHRoaXMuYUhlYWRlciA9IFtdLCB0aGlzLnNQYXlsb2FkID0gXCJcIiwgdGhpcy5hU2lnbmF0dXJlID0gW10sIHRoaXMuaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuYUhlYWRlciA9IFtdLCB0aGlzLnNQYXlsb2FkID0gdm9pZCAwLCB0aGlzLmFTaWduYXR1cmUgPSBbXTtcbiAgfSwgdGhpcy5pbml0V2l0aEpXUyA9IGZ1bmN0aW9uKHMpIHtcbiAgICB0aGlzLmluaXQoKTtcbiAgICB2YXIgbiA9IHMuc3BsaXQoXCIuXCIpO1xuICAgIGlmIChuLmxlbmd0aCAhPSAzKVxuICAgICAgdGhyb3cgXCJtYWxmb3JtZWQgaW5wdXQgSldTXCI7XG4gICAgdGhpcy5hSGVhZGVyLnB1c2goblswXSksIHRoaXMuc1BheWxvYWQgPSBuWzFdLCB0aGlzLmFTaWduYXR1cmUucHVzaChuWzJdKTtcbiAgfSwgdGhpcy5hZGRTaWduYXR1cmUgPSBmdW5jdGlvbihzLCBuLCBoLCB1KSB7XG4gICAgaWYgKHRoaXMuc1BheWxvYWQgPT09IHZvaWQgMCB8fCB0aGlzLnNQYXlsb2FkID09PSBudWxsKVxuICAgICAgdGhyb3cgXCJ0aGVyZSdzIG5vIEpTT04tSlMgc2lnbmF0dXJlIHRvIGFkZC5cIjtcbiAgICB2YXIgcCA9IHRoaXMuYUhlYWRlci5sZW5ndGg7XG4gICAgaWYgKHRoaXMuYUhlYWRlci5sZW5ndGggIT0gdGhpcy5hU2lnbmF0dXJlLmxlbmd0aClcbiAgICAgIHRocm93IFwiYUhlYWRlci5sZW5ndGggIT0gYVNpZ25hdHVyZS5sZW5ndGhcIjtcbiAgICB0cnkge1xuICAgICAgdmFyIGMgPSBhLmp3cy5KV1Muc2lnbihzLCBuLCB0aGlzLnNQYXlsb2FkLCBoLCB1KSwgeSA9IGMuc3BsaXQoXCIuXCIpLCB2ID0geVswXSwgbyA9IHlbMl07XG4gICAgICB0aGlzLmFIZWFkZXIucHVzaCh5WzBdKSwgdGhpcy5hU2lnbmF0dXJlLnB1c2goeVsyXSk7XG4gICAgfSBjYXRjaCAobCkge1xuICAgICAgdGhyb3cgdGhpcy5hSGVhZGVyLmxlbmd0aCA+IHAgJiYgdGhpcy5hSGVhZGVyLnBvcCgpLCB0aGlzLmFTaWduYXR1cmUubGVuZ3RoID4gcCAmJiB0aGlzLmFTaWduYXR1cmUucG9wKCksIFwiYWRkU2lnbmF0dXJlIGZhaWxlZDogXCIgKyBsO1xuICAgIH1cbiAgfSwgdGhpcy52ZXJpZnlBbGwgPSBmdW5jdGlvbihzKSB7XG4gICAgaWYgKHRoaXMuYUhlYWRlci5sZW5ndGggIT09IHMubGVuZ3RoIHx8IHRoaXMuYVNpZ25hdHVyZS5sZW5ndGggIT09IHMubGVuZ3RoKVxuICAgICAgcmV0dXJuICExO1xuICAgIGZvciAodmFyIG4gPSAwOyBuIDwgcy5sZW5ndGg7IG4rKykge1xuICAgICAgdmFyIGggPSBzW25dO1xuICAgICAgaWYgKGgubGVuZ3RoICE9PSAyKVxuICAgICAgICByZXR1cm4gITE7XG4gICAgICB2YXIgdSA9IHRoaXMudmVyaWZ5TnRoKG4sIGhbMF0sIGhbMV0pO1xuICAgICAgaWYgKHUgPT09ICExKVxuICAgICAgICByZXR1cm4gITE7XG4gICAgfVxuICAgIHJldHVybiAhMDtcbiAgfSwgdGhpcy52ZXJpZnlOdGggPSBmdW5jdGlvbihzLCBuLCBoKSB7XG4gICAgaWYgKHRoaXMuYUhlYWRlci5sZW5ndGggPD0gcyB8fCB0aGlzLmFTaWduYXR1cmUubGVuZ3RoIDw9IHMpXG4gICAgICByZXR1cm4gITE7XG4gICAgdmFyIHUgPSB0aGlzLmFIZWFkZXJbc10sIHAgPSB0aGlzLmFTaWduYXR1cmVbc10sIGMgPSB1ICsgXCIuXCIgKyB0aGlzLnNQYXlsb2FkICsgXCIuXCIgKyBwLCB5ID0gITE7XG4gICAgdHJ5IHtcbiAgICAgIHkgPSByLnZlcmlmeShjLCBuLCBoKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gICAgcmV0dXJuIHk7XG4gIH0sIHRoaXMucmVhZEpXU0pTID0gZnVuY3Rpb24ocykge1xuICAgIGlmICh0eXBlb2YgcyA9PSBcInN0cmluZ1wiKSB7XG4gICAgICB2YXIgbiA9IGkocyk7XG4gICAgICBpZiAobiA9PSBudWxsKVxuICAgICAgICB0aHJvdyBcImFyZ3VtZW50IGlzIG5vdCBzYWZlIEpTT04gb2JqZWN0IHN0cmluZ1wiO1xuICAgICAgdGhpcy5hSGVhZGVyID0gbi5oZWFkZXJzLCB0aGlzLnNQYXlsb2FkID0gbi5wYXlsb2FkLCB0aGlzLmFTaWduYXR1cmUgPSBuLnNpZ25hdHVyZXM7XG4gICAgfSBlbHNlXG4gICAgICB0cnkge1xuICAgICAgICBpZiAocy5oZWFkZXJzLmxlbmd0aCA+IDApXG4gICAgICAgICAgdGhpcy5hSGVhZGVyID0gcy5oZWFkZXJzO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgdGhyb3cgXCJtYWxmb3JtZWQgaGVhZGVyXCI7XG4gICAgICAgIGlmICh0eXBlb2Ygcy5wYXlsb2FkID09IFwic3RyaW5nXCIpXG4gICAgICAgICAgdGhpcy5zUGF5bG9hZCA9IHMucGF5bG9hZDtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIHRocm93IFwibWFsZm9ybWVkIHNpZ25hdHVyZXNcIjtcbiAgICAgICAgaWYgKHMuc2lnbmF0dXJlcy5sZW5ndGggPiAwKVxuICAgICAgICAgIHRoaXMuYVNpZ25hdHVyZSA9IHMuc2lnbmF0dXJlcztcbiAgICAgICAgZWxzZVxuICAgICAgICAgIHRocm93IFwibWFsZm9ybWVkIHNpZ25hdHVyZXNcIjtcbiAgICAgIH0gY2F0Y2ggKGgpIHtcbiAgICAgICAgdGhyb3cgXCJtYWxmb3JtZWQgSldTLUpTIEpTT04gb2JqZWN0OiBcIiArIGg7XG4gICAgICB9XG4gIH0sIHRoaXMuZ2V0SlNPTiA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7IGhlYWRlcnM6IHRoaXMuYUhlYWRlciwgcGF5bG9hZDogdGhpcy5zUGF5bG9hZCwgc2lnbmF0dXJlczogdGhpcy5hU2lnbmF0dXJlIH07XG4gIH0sIHRoaXMuaXNFbXB0eSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmFIZWFkZXIubGVuZ3RoID09IDAgPyAxIDogMDtcbiAgfTtcbn07XG5hLmNyeXB0by5FQ0RTQTtcbmEuY3J5cHRvLkRTQTtcbmEuY3J5cHRvLlNpZ25hdHVyZTtcbmEuY3J5cHRvLk1lc3NhZ2VEaWdlc3Q7XG5hLmNyeXB0by5NYWM7XG52YXIgd24gPSBrLCBGbiA9IHdlLCBibiA9IGE7XG5hLmNyeXB0bztcbmEuYXNuMTtcbmEuandzO1xuYS5sYW5nO1xuY29uc3QgQW4gPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmZyZWV6ZSgvKiBAX19QVVJFX18gKi8gT2JqZWN0LmRlZmluZVByb3BlcnR5KHtcbiAgX19wcm90b19fOiBudWxsLFxuICBLRVlVVElMOiB3bixcbiAgS0pVUjogYm4sXG4gIGI2NHV0b3V0Zjg6IEZuXG59LCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6IFwiTW9kdWxlXCIgfSkpO1xuZXhwb3J0IHtcbiAgQW4gYXMgalxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@kinde/jwt-validator/dist/jsrsasign-B2gZIJhY.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@kinde/jwt-validator/dist/jwt-validator.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@kinde/jwt-validator/dist/jwt-validator.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   validateToken: () => (/* binding */ v)\n/* harmony export */ });\nconst d = /* @__PURE__ */ new Map();\nfunction b() {\n  return typeof window < \"u\" ? window.crypto : globalThis.crypto;\n}\nasync function A(e) {\n  let t = 0;\n  for (; t < 3; ) {\n    const n = new AbortController(), a = setTimeout(() => n.abort(), 5e3);\n    try {\n      const o = await fetch(`${e}/.well-known/jwks.json`, {\n        signal: n.signal\n      });\n      if (clearTimeout(a), !o.ok)\n        throw new Error(\n          `Failed to fetch JWKS: ${o.status} ${o.statusText}`\n        );\n      return await o.json();\n    } catch (o) {\n      t++, console.error(`Attempt ${t} - Error fetching JWKS:`, o);\n    }\n  }\n  throw new Error(\"Failed to fetch JWKS after multiple retries\");\n}\nasync function S(e, r, t) {\n  t && d.delete(r);\n  let n = d.get(r);\n  n || (n = await A(r), d.set(r, n));\n  try {\n    return await E(e, JSON.stringify(n)), { valid: !0, message: \"Token is valid\" };\n  } catch (a) {\n    return t ? {\n      valid: !1,\n      message: a instanceof Error ? a.message : \"Unknown Error\"\n    } : S(e, r, !0);\n  }\n}\nasync function E(e, r) {\n  const [t, n, a] = e.split(\".\"), k = JSON.parse(atob(t)).kid, i = J(r, k);\n  if (!i || i.kty !== \"RSA\" || !i.n || !i.e || i.use !== \"sig\")\n    throw new Error(\"Invalid JWK RSA key\");\n  const c = b();\n  if (c != null && c.subtle) {\n    const l = m(i.n), u = m(i.e), f = {\n      name: \"RSASSA-PKCS1-v1_5\",\n      hash: { name: \"SHA-256\" }\n    };\n    try {\n      const s = {\n        kty: \"RSA\",\n        n: p(l),\n        e: p(u),\n        alg: \"RS256\"\n      }, w = await c.subtle.importKey(\n        \"jwk\",\n        s,\n        f,\n        !0,\n        [\"verify\"]\n      ), h = t + \".\" + n, g = j(a), y = await c.subtle.verify(\n        f,\n        w,\n        g,\n        new TextEncoder().encode(h)\n      );\n      if (!y)\n        throw new Error(\"Signature verification failed\");\n      return y;\n    } catch (s) {\n      throw s;\n    }\n  } else {\n    const { KJUR: l, KEYUTIL: u, b64utoutf8: f } = await __webpack_require__.e(/*! import() */ \"vendor-chunks/@kinde\").then(__webpack_require__.bind(__webpack_require__, /*! ./jsrsasign-B2gZIJhY.js */ \"(rsc)/./node_modules/@kinde/jwt-validator/dist/jsrsasign-B2gZIJhY.js\")).then((g) => g.j), s = JSON.parse(f(t));\n    if (s.alg !== \"RS256\")\n      throw new Error(\"Unsupported signature algorithm: \" + s);\n    const w = u.getKey(i);\n    if (!l.jws.JWS.verifyJWT(\n      e,\n      w,\n      { alg: [\"RS256\"] }\n      // Adjust if using a different algorithm\n    ))\n      throw new Error(\"Signature verification failed\");\n    return !0;\n  }\n}\nfunction p(e) {\n  let r = e.toString(16);\n  r.length % 2 !== 0 && (r = \"0\" + r);\n  const t = new Uint8Array(\n    r.match(/.{1,2}/g).map((a) => parseInt(a, 16))\n  );\n  return btoa(String.fromCharCode.apply(null, Array.from(t))).replace(/\\+/g, \"-\").replace(/\\//g, \"_\").replace(/=+$/, \"\");\n}\nfunction J(e, r) {\n  const t = JSON.parse(e);\n  for (const n of t.keys)\n    if (n.kid === r)\n      return n;\n  throw new Error(`JWK not found${r ? ` for kid ${r}` : \"\"}`);\n}\nfunction m(e) {\n  e = e.replace(/[^A-Za-z0-9\\-_]/g, \"\"), e += Array.from(\n    { length: (4 - e.length % 4) % 4 },\n    () => \"=\"\n  ).join(\"\");\n  const r = e.replace(/-/g, \"+\").replace(/_/g, \"/\");\n  let t;\n  try {\n    t = atob(r);\n  } catch (o) {\n    throw new Error(\"Invalid Base64 string: \" + o.message);\n  }\n  const n = Array.from(\n    t,\n    (o) => o.charCodeAt(0).toString(16).padStart(2, \"0\")\n  ).join(\"\");\n  if (n.toLowerCase() === \"ffffffffffffffff\" || n.toLowerCase() === \"7ff0000000000000\")\n    throw new Error(\"Decoded value represents NaN or Infinity\");\n  const a = n.replace(/^0+/, \"\");\n  return BigInt(\"0x\" + a || 0);\n}\nfunction j(e) {\n  return Uint8Array.from(\n    atob(e.replace(/-/g, \"+\").replace(/_/g, \"/\")),\n    (r) => r.charCodeAt(0)\n  );\n}\nconst v = async (e) => e.token ? e.domain ? e.token.split(\".\").length !== 3 ? { valid: !1, message: \"Invalid JWT format\" } : await S(e.token, e.domain) : { valid: !1, message: \"Domain is required\" } : { valid: !1, message: \"Token is required\" };\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGtpbmRlL2p3dC12YWxpZGF0b3IvZGlzdC9qd3QtdmFsaWRhdG9yLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLE9BQU87QUFDaEI7QUFDQTtBQUNBLCtCQUErQixFQUFFO0FBQ2pDO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxtQ0FBbUMsVUFBVSxFQUFFLGFBQWE7QUFDNUQ7QUFDQTtBQUNBLE1BQU07QUFDTixvQ0FBb0MsR0FBRztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEM7QUFDNUMsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxJQUFJO0FBQ0osWUFBWSxxQ0FBcUMsUUFBUSx3TkFBaUM7QUFDMUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxJQUFJO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsZ0JBQWdCLEVBQUUsT0FBTztBQUMzRDtBQUNBO0FBQ0E7QUFDQSxNQUFNLGdDQUFnQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLENBQUc7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRkFBZ0YsMkNBQTJDLGlDQUFpQywyQ0FBMkMsSUFBSTtBQUd6TSIsInNvdXJjZXMiOlsid2VicGFjazovL3Jlc3VtZS1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL0BraW5kZS9qd3QtdmFsaWRhdG9yL2Rpc3Qvand0LXZhbGlkYXRvci5qcz8yOTIxIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGQgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuZnVuY3Rpb24gYigpIHtcbiAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgPCBcInVcIiA/IHdpbmRvdy5jcnlwdG8gOiBnbG9iYWxUaGlzLmNyeXB0bztcbn1cbmFzeW5jIGZ1bmN0aW9uIEEoZSkge1xuICBsZXQgdCA9IDA7XG4gIGZvciAoOyB0IDwgMzsgKSB7XG4gICAgY29uc3QgbiA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKSwgYSA9IHNldFRpbWVvdXQoKCkgPT4gbi5hYm9ydCgpLCA1ZTMpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBvID0gYXdhaXQgZmV0Y2goYCR7ZX0vLndlbGwta25vd24vandrcy5qc29uYCwge1xuICAgICAgICBzaWduYWw6IG4uc2lnbmFsXG4gICAgICB9KTtcbiAgICAgIGlmIChjbGVhclRpbWVvdXQoYSksICFvLm9rKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYEZhaWxlZCB0byBmZXRjaCBKV0tTOiAke28uc3RhdHVzfSAke28uc3RhdHVzVGV4dH1gXG4gICAgICAgICk7XG4gICAgICByZXR1cm4gYXdhaXQgby5qc29uKCk7XG4gICAgfSBjYXRjaCAobykge1xuICAgICAgdCsrLCBjb25zb2xlLmVycm9yKGBBdHRlbXB0ICR7dH0gLSBFcnJvciBmZXRjaGluZyBKV0tTOmAsIG8pO1xuICAgIH1cbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2ggSldLUyBhZnRlciBtdWx0aXBsZSByZXRyaWVzXCIpO1xufVxuYXN5bmMgZnVuY3Rpb24gUyhlLCByLCB0KSB7XG4gIHQgJiYgZC5kZWxldGUocik7XG4gIGxldCBuID0gZC5nZXQocik7XG4gIG4gfHwgKG4gPSBhd2FpdCBBKHIpLCBkLnNldChyLCBuKSk7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGF3YWl0IEUoZSwgSlNPTi5zdHJpbmdpZnkobikpLCB7IHZhbGlkOiAhMCwgbWVzc2FnZTogXCJUb2tlbiBpcyB2YWxpZFwiIH07XG4gIH0gY2F0Y2ggKGEpIHtcbiAgICByZXR1cm4gdCA/IHtcbiAgICAgIHZhbGlkOiAhMSxcbiAgICAgIG1lc3NhZ2U6IGEgaW5zdGFuY2VvZiBFcnJvciA/IGEubWVzc2FnZSA6IFwiVW5rbm93biBFcnJvclwiXG4gICAgfSA6IFMoZSwgciwgITApO1xuICB9XG59XG5hc3luYyBmdW5jdGlvbiBFKGUsIHIpIHtcbiAgY29uc3QgW3QsIG4sIGFdID0gZS5zcGxpdChcIi5cIiksIGsgPSBKU09OLnBhcnNlKGF0b2IodCkpLmtpZCwgaSA9IEoociwgayk7XG4gIGlmICghaSB8fCBpLmt0eSAhPT0gXCJSU0FcIiB8fCAhaS5uIHx8ICFpLmUgfHwgaS51c2UgIT09IFwic2lnXCIpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBKV0sgUlNBIGtleVwiKTtcbiAgY29uc3QgYyA9IGIoKTtcbiAgaWYgKGMgIT0gbnVsbCAmJiBjLnN1YnRsZSkge1xuICAgIGNvbnN0IGwgPSBtKGkubiksIHUgPSBtKGkuZSksIGYgPSB7XG4gICAgICBuYW1lOiBcIlJTQVNTQS1QS0NTMS12MV81XCIsXG4gICAgICBoYXNoOiB7IG5hbWU6IFwiU0hBLTI1NlwiIH1cbiAgICB9O1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBzID0ge1xuICAgICAgICBrdHk6IFwiUlNBXCIsXG4gICAgICAgIG46IHAobCksXG4gICAgICAgIGU6IHAodSksXG4gICAgICAgIGFsZzogXCJSUzI1NlwiXG4gICAgICB9LCB3ID0gYXdhaXQgYy5zdWJ0bGUuaW1wb3J0S2V5KFxuICAgICAgICBcImp3a1wiLFxuICAgICAgICBzLFxuICAgICAgICBmLFxuICAgICAgICAhMCxcbiAgICAgICAgW1widmVyaWZ5XCJdXG4gICAgICApLCBoID0gdCArIFwiLlwiICsgbiwgZyA9IGooYSksIHkgPSBhd2FpdCBjLnN1YnRsZS52ZXJpZnkoXG4gICAgICAgIGYsXG4gICAgICAgIHcsXG4gICAgICAgIGcsXG4gICAgICAgIG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShoKVxuICAgICAgKTtcbiAgICAgIGlmICgheSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU2lnbmF0dXJlIHZlcmlmaWNhdGlvbiBmYWlsZWRcIik7XG4gICAgICByZXR1cm4geTtcbiAgICB9IGNhdGNoIChzKSB7XG4gICAgICB0aHJvdyBzO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjb25zdCB7IEtKVVI6IGwsIEtFWVVUSUw6IHUsIGI2NHV0b3V0Zjg6IGYgfSA9IGF3YWl0IGltcG9ydChcIi4vanNyc2FzaWduLUIyZ1pJSmhZLmpzXCIpLnRoZW4oKGcpID0+IGcuaiksIHMgPSBKU09OLnBhcnNlKGYodCkpO1xuICAgIGlmIChzLmFsZyAhPT0gXCJSUzI1NlwiKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgc2lnbmF0dXJlIGFsZ29yaXRobTogXCIgKyBzKTtcbiAgICBjb25zdCB3ID0gdS5nZXRLZXkoaSk7XG4gICAgaWYgKCFsLmp3cy5KV1MudmVyaWZ5SldUKFxuICAgICAgZSxcbiAgICAgIHcsXG4gICAgICB7IGFsZzogW1wiUlMyNTZcIl0gfVxuICAgICAgLy8gQWRqdXN0IGlmIHVzaW5nIGEgZGlmZmVyZW50IGFsZ29yaXRobVxuICAgICkpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTaWduYXR1cmUgdmVyaWZpY2F0aW9uIGZhaWxlZFwiKTtcbiAgICByZXR1cm4gITA7XG4gIH1cbn1cbmZ1bmN0aW9uIHAoZSkge1xuICBsZXQgciA9IGUudG9TdHJpbmcoMTYpO1xuICByLmxlbmd0aCAlIDIgIT09IDAgJiYgKHIgPSBcIjBcIiArIHIpO1xuICBjb25zdCB0ID0gbmV3IFVpbnQ4QXJyYXkoXG4gICAgci5tYXRjaCgvLnsxLDJ9L2cpLm1hcCgoYSkgPT4gcGFyc2VJbnQoYSwgMTYpKVxuICApO1xuICByZXR1cm4gYnRvYShTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIEFycmF5LmZyb20odCkpKS5yZXBsYWNlKC9cXCsvZywgXCItXCIpLnJlcGxhY2UoL1xcLy9nLCBcIl9cIikucmVwbGFjZSgvPSskLywgXCJcIik7XG59XG5mdW5jdGlvbiBKKGUsIHIpIHtcbiAgY29uc3QgdCA9IEpTT04ucGFyc2UoZSk7XG4gIGZvciAoY29uc3QgbiBvZiB0LmtleXMpXG4gICAgaWYgKG4ua2lkID09PSByKVxuICAgICAgcmV0dXJuIG47XG4gIHRocm93IG5ldyBFcnJvcihgSldLIG5vdCBmb3VuZCR7ciA/IGAgZm9yIGtpZCAke3J9YCA6IFwiXCJ9YCk7XG59XG5mdW5jdGlvbiBtKGUpIHtcbiAgZSA9IGUucmVwbGFjZSgvW15BLVphLXowLTlcXC1fXS9nLCBcIlwiKSwgZSArPSBBcnJheS5mcm9tKFxuICAgIHsgbGVuZ3RoOiAoNCAtIGUubGVuZ3RoICUgNCkgJSA0IH0sXG4gICAgKCkgPT4gXCI9XCJcbiAgKS5qb2luKFwiXCIpO1xuICBjb25zdCByID0gZS5yZXBsYWNlKC8tL2csIFwiK1wiKS5yZXBsYWNlKC9fL2csIFwiL1wiKTtcbiAgbGV0IHQ7XG4gIHRyeSB7XG4gICAgdCA9IGF0b2Iocik7XG4gIH0gY2F0Y2ggKG8pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIEJhc2U2NCBzdHJpbmc6IFwiICsgby5tZXNzYWdlKTtcbiAgfVxuICBjb25zdCBuID0gQXJyYXkuZnJvbShcbiAgICB0LFxuICAgIChvKSA9PiBvLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsIFwiMFwiKVxuICApLmpvaW4oXCJcIik7XG4gIGlmIChuLnRvTG93ZXJDYXNlKCkgPT09IFwiZmZmZmZmZmZmZmZmZmZmZlwiIHx8IG4udG9Mb3dlckNhc2UoKSA9PT0gXCI3ZmYwMDAwMDAwMDAwMDAwXCIpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRGVjb2RlZCB2YWx1ZSByZXByZXNlbnRzIE5hTiBvciBJbmZpbml0eVwiKTtcbiAgY29uc3QgYSA9IG4ucmVwbGFjZSgvXjArLywgXCJcIik7XG4gIHJldHVybiBCaWdJbnQoXCIweFwiICsgYSB8fCBcIjBcIik7XG59XG5mdW5jdGlvbiBqKGUpIHtcbiAgcmV0dXJuIFVpbnQ4QXJyYXkuZnJvbShcbiAgICBhdG9iKGUucmVwbGFjZSgvLS9nLCBcIitcIikucmVwbGFjZSgvXy9nLCBcIi9cIikpLFxuICAgIChyKSA9PiByLmNoYXJDb2RlQXQoMClcbiAgKTtcbn1cbmNvbnN0IHYgPSBhc3luYyAoZSkgPT4gZS50b2tlbiA/IGUuZG9tYWluID8gZS50b2tlbi5zcGxpdChcIi5cIikubGVuZ3RoICE9PSAzID8geyB2YWxpZDogITEsIG1lc3NhZ2U6IFwiSW52YWxpZCBKV1QgZm9ybWF0XCIgfSA6IGF3YWl0IFMoZS50b2tlbiwgZS5kb21haW4pIDogeyB2YWxpZDogITEsIG1lc3NhZ2U6IFwiRG9tYWluIGlzIHJlcXVpcmVkXCIgfSA6IHsgdmFsaWQ6ICExLCBtZXNzYWdlOiBcIlRva2VuIGlzIHJlcXVpcmVkXCIgfTtcbmV4cG9ydCB7XG4gIHYgYXMgdmFsaWRhdGVUb2tlblxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@kinde/jwt-validator/dist/jwt-validator.js\n");

/***/ })

};
;